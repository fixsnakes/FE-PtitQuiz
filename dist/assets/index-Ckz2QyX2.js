(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Cx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var lu={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function T1(){if(Jp)return il;Jp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:r,type:a,key:c,ref:i!==void 0?i:null,props:o}}return il.Fragment=e,il.jsx=t,il.jsxs=t,il}var e0;function _1(){return e0||(e0=1,lu.exports=T1()),lu.exports}var s=_1(),ou={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function E1(){if(t0)return Re;t0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function C(O,U,ne){this.props=O,this.context=U,this.refs=k,this.updater=ne||y}C.prototype.isReactComponent={},C.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function S(){}S.prototype=C.prototype;function A(O,U,ne){this.props=O,this.context=U,this.refs=k,this.updater=ne||y}var T=A.prototype=new S;T.constructor=A,w(T,C.prototype),T.isPureReactComponent=!0;var L=Array.isArray;function M(){}var _={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function H(O,U,ne){var K=ne.ref;return{$$typeof:r,type:O,key:U,ref:K!==void 0?K:null,props:ne}}function z(O,U){return H(O.type,U,O.props)}function B(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return U[ne]})}var W=/\/+/g;function V(O,U){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):U.toString(36)}function Q(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(M,M):(O.status="pending",O.then(function(U){O.status==="pending"&&(O.status="fulfilled",O.value=U)},function(U){O.status==="pending"&&(O.status="rejected",O.reason=U)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,U,ne,K,ue){var ie=typeof O;(ie==="undefined"||ie==="boolean")&&(O=null);var te=!1;if(O===null)te=!0;else switch(ie){case"bigint":case"string":case"number":te=!0;break;case"object":switch(O.$$typeof){case r:case e:te=!0;break;case f:return te=O._init,F(te(O._payload),U,ne,K,ue)}}if(te)return ue=ue(O),te=K===""?"."+V(O,0):K,L(ue)?(ne="",te!=null&&(ne=te.replace(W,"$&/")+"/"),F(ue,U,ne,"",function(je){return je})):ue!=null&&(B(ue)&&(ue=z(ue,ne+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+te)),U.push(ue)),1;te=0;var ve=K===""?".":K+":";if(L(O))for(var ae=0;ae<O.length;ae++)K=O[ae],ie=ve+V(K,ae),te+=F(K,U,ne,ie,ue);else if(ae=b(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(K=O.next()).done;)K=K.value,ie=ve+V(K,ae++),te+=F(K,U,ne,ie,ue);else if(ie==="object"){if(typeof O.then=="function")return F(Q(O),U,ne,K,ue);throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return te}function q(O,U,ne){if(O==null)return O;var K=[],ue=0;return F(O,K,"","",function(ie){return U.call(ne,ie,ue++)}),K}function I(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var G=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Y={map:q,forEach:function(O,U,ne){q(O,function(){U.apply(this,arguments)},ne)},count:function(O){var U=0;return q(O,function(){U++}),U},toArray:function(O){return q(O,function(U){return U})||[]},only:function(O){if(!B(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=m,Re.Children=Y,Re.Component=C,Re.Fragment=t,Re.Profiler=i,Re.PureComponent=A,Re.StrictMode=a,Re.Suspense=u,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return _.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,U,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var K=w({},O.props),ue=O.key;if(U!=null)for(ie in U.key!==void 0&&(ue=""+U.key),U)!D.call(U,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&U.ref===void 0||(K[ie]=U[ie]);var ie=arguments.length-2;if(ie===1)K.children=ne;else if(1<ie){for(var te=Array(ie),ve=0;ve<ie;ve++)te[ve]=arguments[ve+2];K.children=te}return H(O.type,ue,K)},Re.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Re.createElement=function(O,U,ne){var K,ue={},ie=null;if(U!=null)for(K in U.key!==void 0&&(ie=""+U.key),U)D.call(U,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=U[K]);var te=arguments.length-2;if(te===1)ue.children=ne;else if(1<te){for(var ve=Array(te),ae=0;ae<te;ae++)ve[ae]=arguments[ae+2];ue.children=ve}if(O&&O.defaultProps)for(K in te=O.defaultProps,te)ue[K]===void 0&&(ue[K]=te[K]);return H(O,ie,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:h,render:O}},Re.isValidElement=B,Re.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:I}},Re.memo=function(O,U){return{$$typeof:x,type:O,compare:U===void 0?null:U}},Re.startTransition=function(O){var U=_.T,ne={};_.T=ne;try{var K=O(),ue=_.S;ue!==null&&ue(ne,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(M,G)}catch(ie){G(ie)}finally{U!==null&&ne.types!==null&&(U.types=ne.types),_.T=U}},Re.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Re.use=function(O){return _.H.use(O)},Re.useActionState=function(O,U,ne){return _.H.useActionState(O,U,ne)},Re.useCallback=function(O,U){return _.H.useCallback(O,U)},Re.useContext=function(O){return _.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,U){return _.H.useDeferredValue(O,U)},Re.useEffect=function(O,U){return _.H.useEffect(O,U)},Re.useEffectEvent=function(O){return _.H.useEffectEvent(O)},Re.useId=function(){return _.H.useId()},Re.useImperativeHandle=function(O,U,ne){return _.H.useImperativeHandle(O,U,ne)},Re.useInsertionEffect=function(O,U){return _.H.useInsertionEffect(O,U)},Re.useLayoutEffect=function(O,U){return _.H.useLayoutEffect(O,U)},Re.useMemo=function(O,U){return _.H.useMemo(O,U)},Re.useOptimistic=function(O,U){return _.H.useOptimistic(O,U)},Re.useReducer=function(O,U,ne){return _.H.useReducer(O,U,ne)},Re.useRef=function(O){return _.H.useRef(O)},Re.useState=function(O){return _.H.useState(O)},Re.useSyncExternalStore=function(O,U,ne){return _.H.useSyncExternalStore(O,U,ne)},Re.useTransition=function(){return _.H.useTransition()},Re.version="19.2.0",Re}var s0;function Ax(){return s0||(s0=1,ou.exports=E1()),ou.exports}var E=Ax();const Ue=Cx(E);var cu={exports:{}},nl={},du={exports:{}},hu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function M1(){return a0||(a0=1,(function(r){function e(F,q){var I=F.length;F.push(q);e:for(;0<I;){var G=I-1>>>1,Y=F[G];if(0<i(Y,q))F[G]=q,F[I]=Y,I=G;else break e}}function t(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var q=F[0],I=F.pop();if(I!==q){F[0]=I;e:for(var G=0,Y=F.length,O=Y>>>1;G<O;){var U=2*(G+1)-1,ne=F[U],K=U+1,ue=F[K];if(0>i(ne,I))K<Y&&0>i(ue,ne)?(F[G]=ue,F[K]=I,G=K):(F[G]=ne,F[U]=I,G=U);else if(K<Y&&0>i(ue,I))F[G]=ue,F[K]=I,G=K;else break e}}return q}function i(F,q){var I=F.sortIndex-q.sortIndex;return I!==0?I:F.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var u=[],x=[],f=1,m=null,p=3,b=!1,y=!1,w=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(F){for(var q=t(x);q!==null;){if(q.callback===null)a(x);else if(q.startTime<=F)a(x),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(x)}}function L(F){if(w=!1,T(F),!y)if(t(u)!==null)y=!0,M||(M=!0,P());else{var q=t(x);q!==null&&Q(L,q.startTime-F)}}var M=!1,_=-1,D=5,H=-1;function z(){return k?!0:!(r.unstable_now()-H<D)}function B(){if(k=!1,M){var F=r.unstable_now();H=F;var q=!0;try{e:{y=!1,w&&(w=!1,S(_),_=-1),b=!0;var I=p;try{t:{for(T(F),m=t(u);m!==null&&!(m.expirationTime>F&&z());){var G=m.callback;if(typeof G=="function"){m.callback=null,p=m.priorityLevel;var Y=G(m.expirationTime<=F);if(F=r.unstable_now(),typeof Y=="function"){m.callback=Y,T(F),q=!0;break t}m===t(u)&&a(u),T(F)}else a(u);m=t(u)}if(m!==null)q=!0;else{var O=t(x);O!==null&&Q(L,O.startTime-F),q=!1}}break e}finally{m=null,p=I,b=!1}q=void 0}}finally{q?P():M=!1}}}var P;if(typeof A=="function")P=function(){A(B)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,V=W.port2;W.port1.onmessage=B,P=function(){V.postMessage(null)}}else P=function(){C(B,0)};function Q(F,q){_=C(function(){F(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(F){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var I=p;p=q;try{return F()}finally{p=I}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(F,q){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var I=p;p=F;try{return q()}finally{p=I}},r.unstable_scheduleCallback=function(F,q,I){var G=r.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?G+I:G):I=G,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=I+Y,F={id:f++,callback:q,priorityLevel:F,startTime:I,expirationTime:Y,sortIndex:-1},I>G?(F.sortIndex=I,e(x,F),t(u)===null&&F===t(x)&&(w?(S(_),_=-1):w=!0,Q(L,I-G))):(F.sortIndex=Y,e(u,F),y||b||(y=!0,M||(M=!0,P()))),F},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(F){var q=p;return function(){var I=p;p=q;try{return F.apply(this,arguments)}finally{p=I}}}})(hu)),hu}var i0;function L1(){return i0||(i0=1,du.exports=M1()),du.exports}var uu={exports:{}},es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function z1(){if(n0)return es;n0=1;var r=Ax();function e(u){var x="https://react.dev/errors/"+u;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)x+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,x,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:x,implementation:f}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,x){if(u==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,es.createPortal=function(u,x){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return o(u,x,null,f)},es.flushSync=function(u){var x=c.T,f=a.p;try{if(c.T=null,a.p=2,u)return u()}finally{c.T=x,a.p=f,a.d.f()}},es.preconnect=function(u,x){typeof u=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,a.d.C(u,x))},es.prefetchDNS=function(u){typeof u=="string"&&a.d.D(u)},es.preinit=function(u,x){if(typeof u=="string"&&x&&typeof x.as=="string"){var f=x.as,m=h(f,x.crossOrigin),p=typeof x.integrity=="string"?x.integrity:void 0,b=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;f==="style"?a.d.S(u,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:b}):f==="script"&&a.d.X(u,{crossOrigin:m,integrity:p,fetchPriority:b,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},es.preinitModule=function(u,x){if(typeof u=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var f=h(x.as,x.crossOrigin);a.d.M(u,{crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&a.d.M(u)},es.preload=function(u,x){if(typeof u=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var f=x.as,m=h(f,x.crossOrigin);a.d.L(u,f,{crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},es.preloadModule=function(u,x){if(typeof u=="string")if(x){var f=h(x.as,x.crossOrigin);a.d.m(u,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:f,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else a.d.m(u)},es.requestFormReset=function(u){a.d.r(u)},es.unstable_batchedUpdates=function(u,x){return u(x)},es.useFormState=function(u,x,f){return c.H.useFormState(u,x,f)},es.useFormStatus=function(){return c.H.useHostTransitionStatus()},es.version="19.2.0",es}var r0;function D1(){if(r0)return uu.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),uu.exports=z1(),uu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function R1(){if(l0)return nl;l0=1;var r=L1(),e=Ax(),t=D1();function a(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var l=n,d=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,(l.flags&4098)!==0&&(d=l.return),n=l.return;while(n)}return l.tag===3?d:null}function c(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function h(n){if(n.tag===31){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function u(n){if(o(n)!==n)throw Error(a(188))}function x(n){var l=n.alternate;if(!l){if(l=o(n),l===null)throw Error(a(188));return l!==n?null:n}for(var d=n,g=l;;){var v=d.return;if(v===null)break;var N=v.alternate;if(N===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===d)return u(v),n;if(N===g)return u(v),l;N=N.sibling}throw Error(a(188))}if(d.return!==g.return)d=v,g=N;else{for(var R=!1,X=v.child;X;){if(X===d){R=!0,d=v,g=N;break}if(X===g){R=!0,g=v,d=N;break}X=X.sibling}if(!R){for(X=N.child;X;){if(X===d){R=!0,d=N,g=v;break}if(X===g){R=!0,g=N,d=v;break}X=X.sibling}if(!R)throw Error(a(189))}}if(d.alternate!==g)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?n:l}function f(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=f(n),l!==null)return l;n=n.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var W=Symbol.for("react.client.reference");function V(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===W?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case L:return"Suspense";case M:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case y:return"Portal";case A:return n.displayName||"Context";case S:return(n._context.displayName||"Context")+".Consumer";case T:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return l=n.displayName||null,l!==null?l:V(n.type)||"Memo";case D:l=n._payload,n=n._init;try{return V(n(l))}catch{}}return null}var Q=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},G=[],Y=-1;function O(n){return{current:n}}function U(n){0>Y||(n.current=G[Y],G[Y]=null,Y--)}function ne(n,l){Y++,G[Y]=n.current,n.current=l}var K=O(null),ue=O(null),ie=O(null),te=O(null);function ve(n,l){switch(ne(ie,l),ne(ue,n),ne(K,null),l.nodeType){case 9:case 11:n=(n=l.documentElement)&&(n=n.namespaceURI)?jp(n):0;break;default:if(n=l.tagName,l=l.namespaceURI)l=jp(l),n=Np(l,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}U(K),ne(K,n)}function ae(){U(K),U(ue),U(ie)}function je(n){n.memoizedState!==null&&ne(te,n);var l=K.current,d=Np(l,n.type);l!==d&&(ne(ue,n),ne(K,d))}function Le(n){ue.current===n&&(U(K),U(ue)),te.current===n&&(U(te),el._currentValue=I)}var Ae,bt;function We(n){if(Ae===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Ae=l&&l[1]||"",bt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+n+bt}var _s=!1;function Es(n,l){if(!n||_s)return"";_s=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(de){var oe=de}Reflect.construct(n,[],fe)}else{try{fe.call()}catch(de){oe=de}n.call(fe.prototype)}}else{try{throw Error()}catch(de){oe=de}(fe=n())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(de){if(de&&oe&&typeof de.stack=="string")return[de.stack,oe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=g.DetermineComponentFrameRoot(),R=N[0],X=N[1];if(R&&X){var Z=R.split(`
`),le=X.split(`
`);for(v=g=0;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;for(;v<le.length&&!le[v].includes("DetermineComponentFrameRoot");)v++;if(g===Z.length||v===le.length)for(g=Z.length-1,v=le.length-1;1<=g&&0<=v&&Z[g]!==le[v];)v--;for(;1<=g&&0<=v;g--,v--)if(Z[g]!==le[v]){if(g!==1||v!==1)do if(g--,v--,0>v||Z[g]!==le[v]){var xe=`
`+Z[g].replace(" at new "," at ");return n.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",n.displayName)),xe}while(1<=g&&0<=v);break}}}finally{_s=!1,Error.prepareStackTrace=d}return(d=n?n.displayName||n.name:"")?We(d):""}function Ot(n,l){switch(n.tag){case 26:case 27:case 5:return We(n.type);case 16:return We("Lazy");case 13:return n.child!==l&&l!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return Es(n.type,!1);case 11:return Es(n.type.render,!1);case 1:return Es(n.type,!0);case 31:return We("Activity");default:return""}}function ga(n){try{var l="",d=null;do l+=Ot(n,d),d=n,n=n.return;while(n);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var he=Object.prototype.hasOwnProperty,ze=r.unstable_scheduleCallback,Ut=r.unstable_cancelCallback,ki=r.unstable_shouldYield,Hl=r.unstable_requestPaint,Wt=r.unstable_now,Uc=r.unstable_getCurrentPriorityLevel,Pl=r.unstable_ImmediatePriority,Bl=r.unstable_UserBlockingPriority,ln=r.unstable_NormalPriority,Wc=r.unstable_LowPriority,Xl=r.unstable_IdlePriority,on=r.log,Vc=r.unstable_setDisableYieldValue,Ci=null,ts=null;function na(n){if(typeof on=="function"&&Vc(n),ts&&typeof ts.setStrictMode=="function")try{ts.setStrictMode(Ci,n)}catch{}}var ss=Math.clz32?Math.clz32:$c,qc=Math.log,Gc=Math.LN2;function $c(n){return n>>>=0,n===0?32:31-(qc(n)/Gc|0)|0}var cn=256,Ai=262144,dn=4194304;function fa(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hn(n,l,d){var g=n.pendingLanes;if(g===0)return 0;var v=0,N=n.suspendedLanes,R=n.pingedLanes;n=n.warmLanes;var X=g&134217727;return X!==0?(g=X&~N,g!==0?v=fa(g):(R&=X,R!==0?v=fa(R):d||(d=X&~n,d!==0&&(v=fa(d))))):(X=g&~N,X!==0?v=fa(X):R!==0?v=fa(R):d||(d=g&~n,d!==0&&(v=fa(d)))),v===0?0:l!==0&&l!==v&&(l&N)===0&&(N=v&-v,d=l&-l,N>=d||N===32&&(d&4194048)!==0)?l:v}function ce(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function Ne(n,l){switch(n){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var n=dn;return dn<<=1,(dn&62914560)===0&&(dn=4194304),n}function Ht(n){for(var l=[],d=0;31>d;d++)l.push(n);return l}function as(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Yl(n,l,d,g,v,N){var R=n.pendingLanes;n.pendingLanes=d,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=d,n.entangledLanes&=d,n.errorRecoveryDisabledLanes&=d,n.shellSuspendCounter=0;var X=n.entanglements,Z=n.expirationTimes,le=n.hiddenUpdates;for(d=R&~d;0<d;){var xe=31-ss(d),fe=1<<xe;X[xe]=0,Z[xe]=-1;var oe=le[xe];if(oe!==null)for(le[xe]=null,xe=0;xe<oe.length;xe++){var de=oe[xe];de!==null&&(de.lane&=-536870913)}d&=~fe}g!==0&&gr(n,g,0),N!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=N&~(R&~l))}function gr(n,l,d){n.pendingLanes|=l,n.suspendedLanes&=~l;var g=31-ss(l);n.entangledLanes|=l,n.entanglements[g]=n.entanglements[g]|1073741824|d&261930}function Ti(n,l){var d=n.entangledLanes|=l;for(n=n.entanglements;d;){var g=31-ss(d),v=1<<g;v&l|n[g]&l&&(n[g]|=l),d&=~v}}function Ya(n,l){var d=l&-l;return d=(d&42)!==0?1:Kc(d),(d&(n.suspendedLanes|l))!==0?0:d}function Kc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Zc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function rg(){var n=q.p;return n!==0?n:(n=window.event,n===void 0?32:Vp(n.type))}function lg(n,l){var d=q.p;try{return q.p=n,l()}finally{q.p=d}}var Fa=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Fa,hs="__reactProps$"+Fa,un="__reactContainer$"+Fa,Qc="__reactEvents$"+Fa,py="__reactListeners$"+Fa,by="__reactHandles$"+Fa,og="__reactResources$"+Fa,fr="__reactMarker$"+Fa;function Jc(n){delete n[Vt],delete n[hs],delete n[Qc],delete n[py],delete n[by]}function xn(n){var l=n[Vt];if(l)return l;for(var d=n.parentNode;d;){if(l=d[un]||d[Vt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(n=Ep(n);n!==null;){if(d=n[Vt])return d;n=Ep(n)}return l}n=d,d=n.parentNode}return null}function gn(n){if(n=n[Vt]||n[un]){var l=n.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return n}return null}function mr(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(a(33))}function fn(n){var l=n[og];return l||(l=n[og]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Yt(n){n[fr]=!0}var cg=new Set,dg={};function _i(n,l){mn(n,l),mn(n+"Capture",l)}function mn(n,l){for(dg[n]=l,n=0;n<l.length;n++)cg.add(l[n])}var vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hg={},ug={};function yy(n){return he.call(ug,n)?!0:he.call(hg,n)?!1:vy.test(n)?ug[n]=!0:(hg[n]=!0,!1)}function Fl(n,l,d){if(yy(l))if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+d)}}function Il(n,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+d)}}function ma(n,l,d,g){if(g===null)n.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(d);return}n.setAttributeNS(l,d,""+g)}}function Ms(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function xg(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function wy(n,l,d){var g=Object.getOwnPropertyDescriptor(n.constructor.prototype,l);if(!n.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,N=g.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return v.call(this)},set:function(R){d=""+R,N.call(this,R)}}),Object.defineProperty(n,l,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function ed(n){if(!n._valueTracker){var l=xg(n)?"checked":"value";n._valueTracker=wy(n,l,""+n[l])}}function gg(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return n&&(g=xg(n)?n.checked?"true":"false":n.value),n=g,n!==d?(l.setValue(n),!0):!1}function Ul(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var jy=/[\n"\\]/g;function Ls(n){return n.replace(jy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function td(n,l,d,g,v,N,R,X){n.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.type=R:n.removeAttribute("type"),l!=null?R==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+Ms(l)):n.value!==""+Ms(l)&&(n.value=""+Ms(l)):R!=="submit"&&R!=="reset"||n.removeAttribute("value"),l!=null?sd(n,R,Ms(l)):d!=null?sd(n,R,Ms(d)):g!=null&&n.removeAttribute("value"),v==null&&N!=null&&(n.defaultChecked=!!N),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?n.name=""+Ms(X):n.removeAttribute("name")}function fg(n,l,d,g,v,N,R,X){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.type=N),l!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){ed(n);return}d=d!=null?""+Ms(d):"",l=l!=null?""+Ms(l):d,X||l===n.value||(n.value=l),n.defaultValue=l}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,n.checked=X?n.checked:!!g,n.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(n.name=R),ed(n)}function sd(n,l,d){l==="number"&&Ul(n.ownerDocument)===n||n.defaultValue===""+d||(n.defaultValue=""+d)}function pn(n,l,d,g){if(n=n.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<n.length;d++)v=l.hasOwnProperty("$"+n[d].value),n[d].selected!==v&&(n[d].selected=v),v&&g&&(n[d].defaultSelected=!0)}else{for(d=""+Ms(d),l=null,v=0;v<n.length;v++){if(n[v].value===d){n[v].selected=!0,g&&(n[v].defaultSelected=!0);return}l!==null||n[v].disabled||(l=n[v])}l!==null&&(l.selected=!0)}}function mg(n,l,d){if(l!=null&&(l=""+Ms(l),l!==n.value&&(n.value=l),d==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=d!=null?""+Ms(d):""}function pg(n,l,d,g){if(l==null){if(g!=null){if(d!=null)throw Error(a(92));if(Q(g)){if(1<g.length)throw Error(a(93));g=g[0]}d=g}d==null&&(d=""),l=d}d=Ms(l),n.defaultValue=d,g=n.textContent,g===d&&g!==""&&g!==null&&(n.value=g),ed(n)}function bn(n,l){if(l){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=l;return}}n.textContent=l}var Ny=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bg(n,l,d){var g=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":g?n.setProperty(l,d):typeof d!="number"||d===0||Ny.has(l)?l==="float"?n.cssFloat=d:n[l]=(""+d).trim():n[l]=d+"px"}function vg(n,l,d){if(l!=null&&typeof l!="object")throw Error(a(62));if(n=n.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?n.setProperty(g,""):g==="float"?n.cssFloat="":n[g]="");for(var v in l)g=l[v],l.hasOwnProperty(v)&&d[v]!==g&&bg(n,v,g)}else for(var N in l)l.hasOwnProperty(N)&&bg(n,N,l[N])}function ad(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ky=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wl(n){return ky.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pa(){}var id=null;function nd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vn=null,yn=null;function yg(n){var l=gn(n);if(l&&(n=l.stateNode)){var d=n[hs]||null;e:switch(n=l.stateNode,l.type){case"input":if(td(n,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ls(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==n&&g.form===n.form){var v=g[hs]||null;if(!v)throw Error(a(90));td(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<d.length;l++)g=d[l],g.form===n.form&&gg(g)}break e;case"textarea":mg(n,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&pn(n,!!d.multiple,l,!1)}}}var rd=!1;function wg(n,l,d){if(rd)return n(l,d);rd=!0;try{var g=n(l);return g}finally{if(rd=!1,(vn!==null||yn!==null)&&(zo(),vn&&(l=vn,n=yn,yn=vn=null,yg(l),n)))for(l=0;l<n.length;l++)yg(n[l])}}function pr(n,l){var d=n.stateNode;if(d===null)return null;var g=d[hs]||null;if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(n=n.type,g=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!g;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(a(231,l,typeof d));return d}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=!1;if(ba)try{var br={};Object.defineProperty(br,"passive",{get:function(){ld=!0}}),window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{ld=!1}var Ia=null,od=null,Vl=null;function jg(){if(Vl)return Vl;var n,l=od,d=l.length,g,v="value"in Ia?Ia.value:Ia.textContent,N=v.length;for(n=0;n<d&&l[n]===v[n];n++);var R=d-n;for(g=1;g<=R&&l[d-g]===v[N-g];g++);return Vl=v.slice(n,1<g?1-g:void 0)}function ql(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function Gl(){return!0}function Ng(){return!1}function us(n){function l(d,g,v,N,R){this._reactName=d,this._targetInst=v,this.type=g,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var X in n)n.hasOwnProperty(X)&&(d=n[X],this[X]=d?d(N):N[X]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Gl:Ng,this.isPropagationStopped=Ng,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),l}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=us(Ei),vr=m({},Ei,{view:0,detail:0}),Cy=us(vr),cd,dd,yr,Kl=m({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yr&&(yr&&n.type==="mousemove"?(cd=n.screenX-yr.screenX,dd=n.screenY-yr.screenY):dd=cd=0,yr=n),cd)},movementY:function(n){return"movementY"in n?n.movementY:dd}}),Sg=us(Kl),Ay=m({},Kl,{dataTransfer:0}),Ty=us(Ay),_y=m({},vr,{relatedTarget:0}),hd=us(_y),Ey=m({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),My=us(Ey),Ly=m({},Ei,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zy=us(Ly),Dy=m({},Ei,{data:0}),kg=us(Dy),Ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=Hy[n])?!!l[n]:!1}function ud(){return Py}var By=m({},vr,{key:function(n){if(n.key){var l=Ry[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=ql(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Oy[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(n){return n.type==="keypress"?ql(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ql(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xy=us(By),Yy=m({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cg=us(Yy),Fy=m({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),Iy=us(Fy),Uy=m({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wy=us(Uy),Vy=m({},Kl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qy=us(Vy),Gy=m({},Ei,{newState:0,oldState:0}),$y=us(Gy),Ky=[9,13,27,32],xd=ba&&"CompositionEvent"in window,wr=null;ba&&"documentMode"in document&&(wr=document.documentMode);var Zy=ba&&"TextEvent"in window&&!wr,Ag=ba&&(!xd||wr&&8<wr&&11>=wr),Tg=" ",_g=!1;function Eg(n,l){switch(n){case"keyup":return Ky.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wn=!1;function Qy(n,l){switch(n){case"compositionend":return Mg(l);case"keypress":return l.which!==32?null:(_g=!0,Tg);case"textInput":return n=l.data,n===Tg&&_g?null:n;default:return null}}function Jy(n,l){if(wn)return n==="compositionend"||!xd&&Eg(n,l)?(n=jg(),Vl=od=Ia=null,wn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ag&&l.locale!=="ko"?null:l.data;default:return null}}var ew={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lg(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!ew[n.type]:l==="textarea"}function zg(n,l,d,g){vn?yn?yn.push(g):yn=[g]:vn=g,l=Xo(l,"onChange"),0<l.length&&(d=new $l("onChange","change",null,d,g),n.push({event:d,listeners:l}))}var jr=null,Nr=null;function tw(n){mp(n,0)}function Zl(n){var l=mr(n);if(gg(l))return n}function Dg(n,l){if(n==="change")return l}var Rg=!1;if(ba){var gd;if(ba){var fd="oninput"in document;if(!fd){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),fd=typeof Og.oninput=="function"}gd=fd}else gd=!1;Rg=gd&&(!document.documentMode||9<document.documentMode)}function Hg(){jr&&(jr.detachEvent("onpropertychange",Pg),Nr=jr=null)}function Pg(n){if(n.propertyName==="value"&&Zl(Nr)){var l=[];zg(l,Nr,n,nd(n)),wg(tw,l)}}function sw(n,l,d){n==="focusin"?(Hg(),jr=l,Nr=d,jr.attachEvent("onpropertychange",Pg)):n==="focusout"&&Hg()}function aw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zl(Nr)}function iw(n,l){if(n==="click")return Zl(l)}function nw(n,l){if(n==="input"||n==="change")return Zl(l)}function rw(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var vs=typeof Object.is=="function"?Object.is:rw;function Sr(n,l){if(vs(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var d=Object.keys(n),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!he.call(l,v)||!vs(n[v],l[v]))return!1}return!0}function Bg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Xg(n,l){var d=Bg(n);n=0;for(var g;d;){if(d.nodeType===3){if(g=n+d.textContent.length,n<=l&&g>=l)return{node:d,offset:l-n};n=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Bg(d)}}function Yg(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?Yg(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function Fg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=Ul(n.document);l instanceof n.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)n=l.contentWindow;else break;l=Ul(n.document)}return l}function md(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}var lw=ba&&"documentMode"in document&&11>=document.documentMode,jn=null,pd=null,kr=null,bd=!1;function Ig(n,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;bd||jn==null||jn!==Ul(g)||(g=jn,"selectionStart"in g&&md(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),kr&&Sr(kr,g)||(kr=g,g=Xo(pd,"onSelect"),0<g.length&&(l=new $l("onSelect","select",null,l,d),n.push({event:l,listeners:g}),l.target=jn)))}function Mi(n,l){var d={};return d[n.toLowerCase()]=l.toLowerCase(),d["Webkit"+n]="webkit"+l,d["Moz"+n]="moz"+l,d}var Nn={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionrun:Mi("Transition","TransitionRun"),transitionstart:Mi("Transition","TransitionStart"),transitioncancel:Mi("Transition","TransitionCancel"),transitionend:Mi("Transition","TransitionEnd")},vd={},Ug={};ba&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function Li(n){if(vd[n])return vd[n];if(!Nn[n])return n;var l=Nn[n],d;for(d in l)if(l.hasOwnProperty(d)&&d in Ug)return vd[n]=l[d];return n}var Wg=Li("animationend"),Vg=Li("animationiteration"),qg=Li("animationstart"),ow=Li("transitionrun"),cw=Li("transitionstart"),dw=Li("transitioncancel"),Gg=Li("transitionend"),$g=new Map,yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yd.push("scrollEnd");function qs(n,l){$g.set(n,l),_i(l,[n])}var Ql=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},zs=[],Sn=0,wd=0;function Jl(){for(var n=Sn,l=wd=Sn=0;l<n;){var d=zs[l];zs[l++]=null;var g=zs[l];zs[l++]=null;var v=zs[l];zs[l++]=null;var N=zs[l];if(zs[l++]=null,g!==null&&v!==null){var R=g.pending;R===null?v.next=v:(v.next=R.next,R.next=v),g.pending=v}N!==0&&Kg(d,v,N)}}function eo(n,l,d,g){zs[Sn++]=n,zs[Sn++]=l,zs[Sn++]=d,zs[Sn++]=g,wd|=g,n.lanes|=g,n=n.alternate,n!==null&&(n.lanes|=g)}function jd(n,l,d,g){return eo(n,l,d,g),to(n)}function zi(n,l){return eo(n,null,null,l),to(n)}function Kg(n,l,d){n.lanes|=d;var g=n.alternate;g!==null&&(g.lanes|=d);for(var v=!1,N=n.return;N!==null;)N.childLanes|=d,g=N.alternate,g!==null&&(g.childLanes|=d),N.tag===22&&(n=N.stateNode,n===null||n._visibility&1||(v=!0)),n=N,N=N.return;return n.tag===3?(N=n.stateNode,v&&l!==null&&(v=31-ss(d),n=N.hiddenUpdates,g=n[v],g===null?n[v]=[l]:g.push(l),l.lane=d|536870912),N):null}function to(n){if(50<qr)throw qr=0,Mh=null,Error(a(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var kn={};function hw(n,l,d,g){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(n,l,d,g){return new hw(n,l,d,g)}function Nd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function va(n,l){var d=n.alternate;return d===null?(d=ys(n.tag,l,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=l,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&65011712,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,l=n.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d.refCleanup=n.refCleanup,d}function Zg(n,l){n.flags&=65011714;var d=n.alternate;return d===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=d.childLanes,n.lanes=d.lanes,n.child=d.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=d.memoizedProps,n.memoizedState=d.memoizedState,n.updateQueue=d.updateQueue,n.type=d.type,l=d.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function so(n,l,d,g,v,N){var R=0;if(g=n,typeof n=="function")Nd(n)&&(R=1);else if(typeof n=="string")R=m1(n,d,K.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=ys(31,d,l,v),n.elementType=H,n.lanes=N,n;case w:return Di(d.children,v,N,l);case k:R=8,v|=24;break;case C:return n=ys(12,d,l,v|2),n.elementType=C,n.lanes=N,n;case L:return n=ys(13,d,l,v),n.elementType=L,n.lanes=N,n;case M:return n=ys(19,d,l,v),n.elementType=M,n.lanes=N,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:R=10;break e;case S:R=9;break e;case T:R=11;break e;case _:R=14;break e;case D:R=16,g=null;break e}R=29,d=Error(a(130,n===null?"null":typeof n,"")),g=null}return l=ys(R,d,l,v),l.elementType=n,l.type=g,l.lanes=N,l}function Di(n,l,d,g){return n=ys(7,n,g,l),n.lanes=d,n}function Sd(n,l,d){return n=ys(6,n,null,l),n.lanes=d,n}function Qg(n){var l=ys(18,null,null,0);return l.stateNode=n,l}function kd(n,l,d){return l=ys(4,n.children!==null?n.children:[],n.key,l),l.lanes=d,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}var Jg=new WeakMap;function Ds(n,l){if(typeof n=="object"&&n!==null){var d=Jg.get(n);return d!==void 0?d:(l={value:n,source:l,stack:ga(l)},Jg.set(n,l),l)}return{value:n,source:l,stack:ga(l)}}var Cn=[],An=0,ao=null,Cr=0,Rs=[],Os=0,Ua=null,ra=1,la="";function ya(n,l){Cn[An++]=Cr,Cn[An++]=ao,ao=n,Cr=l}function ef(n,l,d){Rs[Os++]=ra,Rs[Os++]=la,Rs[Os++]=Ua,Ua=n;var g=ra;n=la;var v=32-ss(g)-1;g&=~(1<<v),d+=1;var N=32-ss(l)+v;if(30<N){var R=v-v%5;N=(g&(1<<R)-1).toString(32),g>>=R,v-=R,ra=1<<32-ss(l)+v|d<<v|g,la=N+n}else ra=1<<N|d<<v|g,la=n}function Cd(n){n.return!==null&&(ya(n,1),ef(n,1,0))}function Ad(n){for(;n===ao;)ao=Cn[--An],Cn[An]=null,Cr=Cn[--An],Cn[An]=null;for(;n===Ua;)Ua=Rs[--Os],Rs[Os]=null,la=Rs[--Os],Rs[Os]=null,ra=Rs[--Os],Rs[Os]=null}function tf(n,l){Rs[Os++]=ra,Rs[Os++]=la,Rs[Os++]=Ua,ra=l.id,la=l.overflow,Ua=n}var qt=null,wt=null,$e=!1,Wa=null,Hs=!1,Td=Error(a(519));function Va(n){var l=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ar(Ds(l,n)),Td}function sf(n){var l=n.stateNode,d=n.type,g=n.memoizedProps;switch(l[Vt]=n,l[hs]=g,d){case"dialog":Ie("cancel",l),Ie("close",l);break;case"iframe":case"object":case"embed":Ie("load",l);break;case"video":case"audio":for(d=0;d<$r.length;d++)Ie($r[d],l);break;case"source":Ie("error",l);break;case"img":case"image":case"link":Ie("error",l),Ie("load",l);break;case"details":Ie("toggle",l);break;case"input":Ie("invalid",l),fg(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ie("invalid",l);break;case"textarea":Ie("invalid",l),pg(l,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||g.suppressHydrationWarning===!0||yp(l.textContent,d)?(g.popover!=null&&(Ie("beforetoggle",l),Ie("toggle",l)),g.onScroll!=null&&Ie("scroll",l),g.onScrollEnd!=null&&Ie("scrollend",l),g.onClick!=null&&(l.onclick=pa),l=!0):l=!1,l||Va(n,!0)}function af(n){for(qt=n.return;qt;)switch(qt.tag){case 5:case 31:case 13:Hs=!1;return;case 27:case 3:Hs=!0;return;default:qt=qt.return}}function Tn(n){if(n!==qt)return!1;if(!$e)return af(n),$e=!0,!1;var l=n.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=n.type,d=!(d!=="form"&&d!=="button")||Vh(n.type,n.memoizedProps)),d=!d),d&&wt&&Va(n),af(n),l===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));wt=_p(n)}else if(l===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));wt=_p(n)}else l===27?(l=wt,ri(n.type)?(n=Zh,Zh=null,wt=n):wt=l):wt=qt?Bs(n.stateNode.nextSibling):null;return!0}function Ri(){wt=qt=null,$e=!1}function _d(){var n=Wa;return n!==null&&(ms===null?ms=n:ms.push.apply(ms,n),Wa=null),n}function Ar(n){Wa===null?Wa=[n]:Wa.push(n)}var Ed=O(null),Oi=null,wa=null;function qa(n,l,d){ne(Ed,l._currentValue),l._currentValue=d}function ja(n){n._currentValue=Ed.current,U(Ed)}function Md(n,l,d){for(;n!==null;){var g=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),n===d)break;n=n.return}}function Ld(n,l,d,g){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var N=v.dependencies;if(N!==null){var R=v.child;N=N.firstContext;e:for(;N!==null;){var X=N;N=v;for(var Z=0;Z<l.length;Z++)if(X.context===l[Z]){N.lanes|=d,X=N.alternate,X!==null&&(X.lanes|=d),Md(N.return,d,n),g||(R=null);break e}N=X.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(a(341));R.lanes|=d,N=R.alternate,N!==null&&(N.lanes|=d),Md(R,d,n),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===n){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function _n(n,l,d,g){n=null;for(var v=l,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(a(387));if(R=R.memoizedProps,R!==null){var X=v.type;vs(v.pendingProps.value,R.value)||(n!==null?n.push(X):n=[X])}}else if(v===te.current){if(R=v.alternate,R===null)throw Error(a(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(el):n=[el])}v=v.return}n!==null&&Ld(l,n,d,g),l.flags|=262144}function io(n){for(n=n.firstContext;n!==null;){if(!vs(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Hi(n){Oi=n,wa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Gt(n){return nf(Oi,n)}function no(n,l){return Oi===null&&Hi(n),nf(n,l)}function nf(n,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},wa===null){if(n===null)throw Error(a(308));wa=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else wa=wa.next=l;return d}var uw=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(d,g){n.push(g)}};this.abort=function(){l.aborted=!0,n.forEach(function(d){return d()})}},xw=r.unstable_scheduleCallback,gw=r.unstable_NormalPriority,Lt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zd(){return{controller:new uw,data:new Map,refCount:0}}function Tr(n){n.refCount--,n.refCount===0&&xw(gw,function(){n.controller.abort()})}var _r=null,Dd=0,En=0,Mn=null;function fw(n,l){if(_r===null){var d=_r=[];Dd=0,En=Hh(),Mn={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Dd++,l.then(rf,rf),l}function rf(){if(--Dd===0&&_r!==null){Mn!==null&&(Mn.status="fulfilled");var n=_r;_r=null,En=0,Mn=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function mw(n,l){var d=[],g={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return n.then(function(){g.status="fulfilled",g.value=l;for(var v=0;v<d.length;v++)(0,d[v])(l)},function(v){for(g.status="rejected",g.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),g}var lf=F.S;F.S=function(n,l){Um=Wt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&fw(n,l),lf!==null&&lf(n,l)};var Pi=O(null);function Rd(){var n=Pi.current;return n!==null?n:pt.pooledCache}function ro(n,l){l===null?ne(Pi,Pi.current):ne(Pi,l.pool)}function of(){var n=Rd();return n===null?null:{parent:Lt._currentValue,pool:n}}var Ln=Error(a(460)),Od=Error(a(474)),lo=Error(a(542)),oo={then:function(){}};function cf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function df(n,l,d){switch(d=n[d],d===void 0?n.push(l):d!==l&&(l.then(pa,pa),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,uf(n),n;default:if(typeof l.status=="string")l.then(pa,pa);else{if(n=pt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=l,n.status="pending",n.then(function(g){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=g}},function(g){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,uf(n),n}throw Xi=l,Ln}}function Bi(n){try{var l=n._init;return l(n._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Xi=d,Ln):d}}var Xi=null;function hf(){if(Xi===null)throw Error(a(459));var n=Xi;return Xi=null,n}function uf(n){if(n===Ln||n===lo)throw Error(a(483))}var zn=null,Er=0;function co(n){var l=Er;return Er+=1,zn===null&&(zn=[]),df(zn,n,l)}function Mr(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function ho(n,l){throw l.$$typeof===p?Error(a(525)):(n=Object.prototype.toString.call(l),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function xf(n){function l(se,ee){if(n){var re=se.deletions;re===null?(se.deletions=[ee],se.flags|=16):re.push(ee)}}function d(se,ee){if(!n)return null;for(;ee!==null;)l(se,ee),ee=ee.sibling;return null}function g(se){for(var ee=new Map;se!==null;)se.key!==null?ee.set(se.key,se):ee.set(se.index,se),se=se.sibling;return ee}function v(se,ee){return se=va(se,ee),se.index=0,se.sibling=null,se}function N(se,ee,re){return se.index=re,n?(re=se.alternate,re!==null?(re=re.index,re<ee?(se.flags|=67108866,ee):re):(se.flags|=67108866,ee)):(se.flags|=1048576,ee)}function R(se){return n&&se.alternate===null&&(se.flags|=67108866),se}function X(se,ee,re,ge){return ee===null||ee.tag!==6?(ee=Sd(re,se.mode,ge),ee.return=se,ee):(ee=v(ee,re),ee.return=se,ee)}function Z(se,ee,re,ge){var _e=re.type;return _e===w?xe(se,ee,re.props.children,ge,re.key):ee!==null&&(ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Bi(_e)===ee.type)?(ee=v(ee,re.props),Mr(ee,re),ee.return=se,ee):(ee=so(re.type,re.key,re.props,null,se.mode,ge),Mr(ee,re),ee.return=se,ee)}function le(se,ee,re,ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==re.containerInfo||ee.stateNode.implementation!==re.implementation?(ee=kd(re,se.mode,ge),ee.return=se,ee):(ee=v(ee,re.children||[]),ee.return=se,ee)}function xe(se,ee,re,ge,_e){return ee===null||ee.tag!==7?(ee=Di(re,se.mode,ge,_e),ee.return=se,ee):(ee=v(ee,re),ee.return=se,ee)}function fe(se,ee,re){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Sd(""+ee,se.mode,re),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return re=so(ee.type,ee.key,ee.props,null,se.mode,re),Mr(re,ee),re.return=se,re;case y:return ee=kd(ee,se.mode,re),ee.return=se,ee;case D:return ee=Bi(ee),fe(se,ee,re)}if(Q(ee)||P(ee))return ee=Di(ee,se.mode,re,null),ee.return=se,ee;if(typeof ee.then=="function")return fe(se,co(ee),re);if(ee.$$typeof===A)return fe(se,no(se,ee),re);ho(se,ee)}return null}function oe(se,ee,re,ge){var _e=ee!==null?ee.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return _e!==null?null:X(se,ee,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return re.key===_e?Z(se,ee,re,ge):null;case y:return re.key===_e?le(se,ee,re,ge):null;case D:return re=Bi(re),oe(se,ee,re,ge)}if(Q(re)||P(re))return _e!==null?null:xe(se,ee,re,ge,null);if(typeof re.then=="function")return oe(se,ee,co(re),ge);if(re.$$typeof===A)return oe(se,ee,no(se,re),ge);ho(se,re)}return null}function de(se,ee,re,ge,_e){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return se=se.get(re)||null,X(ee,se,""+ge,_e);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case b:return se=se.get(ge.key===null?re:ge.key)||null,Z(ee,se,ge,_e);case y:return se=se.get(ge.key===null?re:ge.key)||null,le(ee,se,ge,_e);case D:return ge=Bi(ge),de(se,ee,re,ge,_e)}if(Q(ge)||P(ge))return se=se.get(re)||null,xe(ee,se,ge,_e,null);if(typeof ge.then=="function")return de(se,ee,re,co(ge),_e);if(ge.$$typeof===A)return de(se,ee,re,no(ee,ge),_e);ho(ee,ge)}return null}function Se(se,ee,re,ge){for(var _e=null,Je=null,ke=ee,Be=ee=0,qe=null;ke!==null&&Be<re.length;Be++){ke.index>Be?(qe=ke,ke=null):qe=ke.sibling;var et=oe(se,ke,re[Be],ge);if(et===null){ke===null&&(ke=qe);break}n&&ke&&et.alternate===null&&l(se,ke),ee=N(et,ee,Be),Je===null?_e=et:Je.sibling=et,Je=et,ke=qe}if(Be===re.length)return d(se,ke),$e&&ya(se,Be),_e;if(ke===null){for(;Be<re.length;Be++)ke=fe(se,re[Be],ge),ke!==null&&(ee=N(ke,ee,Be),Je===null?_e=ke:Je.sibling=ke,Je=ke);return $e&&ya(se,Be),_e}for(ke=g(ke);Be<re.length;Be++)qe=de(ke,se,Be,re[Be],ge),qe!==null&&(n&&qe.alternate!==null&&ke.delete(qe.key===null?Be:qe.key),ee=N(qe,ee,Be),Je===null?_e=qe:Je.sibling=qe,Je=qe);return n&&ke.forEach(function(hi){return l(se,hi)}),$e&&ya(se,Be),_e}function Me(se,ee,re,ge){if(re==null)throw Error(a(151));for(var _e=null,Je=null,ke=ee,Be=ee=0,qe=null,et=re.next();ke!==null&&!et.done;Be++,et=re.next()){ke.index>Be?(qe=ke,ke=null):qe=ke.sibling;var hi=oe(se,ke,et.value,ge);if(hi===null){ke===null&&(ke=qe);break}n&&ke&&hi.alternate===null&&l(se,ke),ee=N(hi,ee,Be),Je===null?_e=hi:Je.sibling=hi,Je=hi,ke=qe}if(et.done)return d(se,ke),$e&&ya(se,Be),_e;if(ke===null){for(;!et.done;Be++,et=re.next())et=fe(se,et.value,ge),et!==null&&(ee=N(et,ee,Be),Je===null?_e=et:Je.sibling=et,Je=et);return $e&&ya(se,Be),_e}for(ke=g(ke);!et.done;Be++,et=re.next())et=de(ke,se,Be,et.value,ge),et!==null&&(n&&et.alternate!==null&&ke.delete(et.key===null?Be:et.key),ee=N(et,ee,Be),Je===null?_e=et:Je.sibling=et,Je=et);return n&&ke.forEach(function(A1){return l(se,A1)}),$e&&ya(se,Be),_e}function xt(se,ee,re,ge){if(typeof re=="object"&&re!==null&&re.type===w&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case b:e:{for(var _e=re.key;ee!==null;){if(ee.key===_e){if(_e=re.type,_e===w){if(ee.tag===7){d(se,ee.sibling),ge=v(ee,re.props.children),ge.return=se,se=ge;break e}}else if(ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Bi(_e)===ee.type){d(se,ee.sibling),ge=v(ee,re.props),Mr(ge,re),ge.return=se,se=ge;break e}d(se,ee);break}else l(se,ee);ee=ee.sibling}re.type===w?(ge=Di(re.props.children,se.mode,ge,re.key),ge.return=se,se=ge):(ge=so(re.type,re.key,re.props,null,se.mode,ge),Mr(ge,re),ge.return=se,se=ge)}return R(se);case y:e:{for(_e=re.key;ee!==null;){if(ee.key===_e)if(ee.tag===4&&ee.stateNode.containerInfo===re.containerInfo&&ee.stateNode.implementation===re.implementation){d(se,ee.sibling),ge=v(ee,re.children||[]),ge.return=se,se=ge;break e}else{d(se,ee);break}else l(se,ee);ee=ee.sibling}ge=kd(re,se.mode,ge),ge.return=se,se=ge}return R(se);case D:return re=Bi(re),xt(se,ee,re,ge)}if(Q(re))return Se(se,ee,re,ge);if(P(re)){if(_e=P(re),typeof _e!="function")throw Error(a(150));return re=_e.call(re),Me(se,ee,re,ge)}if(typeof re.then=="function")return xt(se,ee,co(re),ge);if(re.$$typeof===A)return xt(se,ee,no(se,re),ge);ho(se,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,ee!==null&&ee.tag===6?(d(se,ee.sibling),ge=v(ee,re),ge.return=se,se=ge):(d(se,ee),ge=Sd(re,se.mode,ge),ge.return=se,se=ge),R(se)):d(se,ee)}return function(se,ee,re,ge){try{Er=0;var _e=xt(se,ee,re,ge);return zn=null,_e}catch(ke){if(ke===Ln||ke===lo)throw ke;var Je=ys(29,ke,null,se.mode);return Je.lanes=ge,Je.return=se,Je}finally{}}}var Yi=xf(!0),gf=xf(!1),Ga=!1;function Hd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $a(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ka(n,l,d){var g=n.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,l=to(n),Kg(n,null,d),l}return eo(n,g,l,d),to(n)}function Lr(n,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var g=l.lanes;g&=n.pendingLanes,d|=g,l.lanes=d,Ti(n,d)}}function Bd(n,l){var d=n.updateQueue,g=n.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?v=N=R:N=N.next=R,d=d.next}while(d!==null);N===null?v=N=l:N=N.next=l}else v=N=l;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:g.shared,callbacks:g.callbacks},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=l:n.next=l,d.lastBaseUpdate=l}var Xd=!1;function zr(){if(Xd){var n=Mn;if(n!==null)throw n}}function Dr(n,l,d,g){Xd=!1;var v=n.updateQueue;Ga=!1;var N=v.firstBaseUpdate,R=v.lastBaseUpdate,X=v.shared.pending;if(X!==null){v.shared.pending=null;var Z=X,le=Z.next;Z.next=null,R===null?N=le:R.next=le,R=Z;var xe=n.alternate;xe!==null&&(xe=xe.updateQueue,X=xe.lastBaseUpdate,X!==R&&(X===null?xe.firstBaseUpdate=le:X.next=le,xe.lastBaseUpdate=Z))}if(N!==null){var fe=v.baseState;R=0,xe=le=Z=null,X=N;do{var oe=X.lane&-536870913,de=oe!==X.lane;if(de?(Ve&oe)===oe:(g&oe)===oe){oe!==0&&oe===En&&(Xd=!0),xe!==null&&(xe=xe.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Se=n,Me=X;oe=l;var xt=d;switch(Me.tag){case 1:if(Se=Me.payload,typeof Se=="function"){fe=Se.call(xt,fe,oe);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Me.payload,oe=typeof Se=="function"?Se.call(xt,fe,oe):Se,oe==null)break e;fe=m({},fe,oe);break e;case 2:Ga=!0}}oe=X.callback,oe!==null&&(n.flags|=64,de&&(n.flags|=8192),de=v.callbacks,de===null?v.callbacks=[oe]:de.push(oe))}else de={lane:oe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},xe===null?(le=xe=de,Z=fe):xe=xe.next=de,R|=oe;if(X=X.next,X===null){if(X=v.shared.pending,X===null)break;de=X,X=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);xe===null&&(Z=fe),v.baseState=Z,v.firstBaseUpdate=le,v.lastBaseUpdate=xe,N===null&&(v.shared.lanes=0),ti|=R,n.lanes=R,n.memoizedState=fe}}function ff(n,l){if(typeof n!="function")throw Error(a(191,n));n.call(l)}function mf(n,l){var d=n.callbacks;if(d!==null)for(n.callbacks=null,n=0;n<d.length;n++)ff(d[n],l)}var Dn=O(null),uo=O(0);function pf(n,l){n=Ma,ne(uo,n),ne(Dn,l),Ma=n|l.baseLanes}function Yd(){ne(uo,Ma),ne(Dn,Dn.current)}function Fd(){Ma=uo.current,U(Dn),U(uo)}var ws=O(null),Ps=null;function Za(n){var l=n.alternate;ne(Et,Et.current&1),ne(ws,n),Ps===null&&(l===null||Dn.current!==null||l.memoizedState!==null)&&(Ps=n)}function Id(n){ne(Et,Et.current),ne(ws,n),Ps===null&&(Ps=n)}function bf(n){n.tag===22?(ne(Et,Et.current),ne(ws,n),Ps===null&&(Ps=n)):Qa()}function Qa(){ne(Et,Et.current),ne(ws,ws.current)}function js(n){U(ws),Ps===n&&(Ps=null),U(Et)}var Et=O(0);function xo(n){for(var l=n;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||$h(d)||Kh(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Na=0,Pe=null,ht=null,zt=null,go=!1,Rn=!1,Fi=!1,fo=0,Rr=0,On=null,pw=0;function kt(){throw Error(a(321))}function Ud(n,l){if(l===null)return!1;for(var d=0;d<l.length&&d<n.length;d++)if(!vs(n[d],l[d]))return!1;return!0}function Wd(n,l,d,g,v,N){return Na=N,Pe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,F.H=n===null||n.memoizedState===null?tm:rh,Fi=!1,N=d(g,v),Fi=!1,Rn&&(N=yf(l,d,g,v)),vf(n),N}function vf(n){F.H=Pr;var l=ht!==null&&ht.next!==null;if(Na=0,zt=ht=Pe=null,go=!1,Rr=0,On=null,l)throw Error(a(300));n===null||Dt||(n=n.dependencies,n!==null&&io(n)&&(Dt=!0))}function yf(n,l,d,g){Pe=n;var v=0;do{if(Rn&&(On=null),Rr=0,Rn=!1,25<=v)throw Error(a(301));if(v+=1,zt=ht=null,n.updateQueue!=null){var N=n.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}F.H=sm,N=l(d,g)}while(Rn);return N}function bw(){var n=F.H,l=n.useState()[0];return l=typeof l.then=="function"?Or(l):l,n=n.useState()[0],(ht!==null?ht.memoizedState:null)!==n&&(Pe.flags|=1024),l}function Vd(){var n=fo!==0;return fo=0,n}function qd(n,l,d){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~d}function Gd(n){if(go){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}go=!1}Na=0,zt=ht=Pe=null,Rn=!1,Rr=fo=0,On=null}function is(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Pe.memoizedState=zt=n:zt=zt.next=n,zt}function Mt(){if(ht===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=ht.next;var l=zt===null?Pe.memoizedState:zt.next;if(l!==null)zt=l,ht=n;else{if(n===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));ht=n,n={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},zt===null?Pe.memoizedState=zt=n:zt=zt.next=n}return zt}function mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Or(n){var l=Rr;return Rr+=1,On===null&&(On=[]),n=df(On,n,l),l=Pe,(zt===null?l.memoizedState:zt.next)===null&&(l=l.alternate,F.H=l===null||l.memoizedState===null?tm:rh),n}function po(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Or(n);if(n.$$typeof===A)return Gt(n)}throw Error(a(438,String(n)))}function $d(n){var l=null,d=Pe.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var g=Pe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=mo(),Pe.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(n),g=0;g<n;g++)d[g]=z;return l.index++,d}function Sa(n,l){return typeof l=="function"?l(n):l}function bo(n){var l=Mt();return Kd(l,ht,n)}function Kd(n,l,d){var g=n.queue;if(g===null)throw Error(a(311));g.lastRenderedReducer=d;var v=n.baseQueue,N=g.pending;if(N!==null){if(v!==null){var R=v.next;v.next=N.next,N.next=R}l.baseQueue=v=N,g.pending=null}if(N=n.baseState,v===null)n.memoizedState=N;else{l=v.next;var X=R=null,Z=null,le=l,xe=!1;do{var fe=le.lane&-536870913;if(fe!==le.lane?(Ve&fe)===fe:(Na&fe)===fe){var oe=le.revertLane;if(oe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),fe===En&&(xe=!0);else if((Na&oe)===oe){le=le.next,oe===En&&(xe=!0);continue}else fe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Z===null?(X=Z=fe,R=N):Z=Z.next=fe,Pe.lanes|=oe,ti|=oe;fe=le.action,Fi&&d(N,fe),N=le.hasEagerState?le.eagerState:d(N,fe)}else oe={lane:fe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Z===null?(X=Z=oe,R=N):Z=Z.next=oe,Pe.lanes|=fe,ti|=fe;le=le.next}while(le!==null&&le!==l);if(Z===null?R=N:Z.next=X,!vs(N,n.memoizedState)&&(Dt=!0,xe&&(d=Mn,d!==null)))throw d;n.memoizedState=N,n.baseState=R,n.baseQueue=Z,g.lastRenderedState=N}return v===null&&(g.lanes=0),[n.memoizedState,g.dispatch]}function Zd(n){var l=Mt(),d=l.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=n;var g=d.dispatch,v=d.pending,N=l.memoizedState;if(v!==null){d.pending=null;var R=v=v.next;do N=n(N,R.action),R=R.next;while(R!==v);vs(N,l.memoizedState)||(Dt=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),d.lastRenderedState=N}return[N,g]}function wf(n,l,d){var g=Pe,v=Mt(),N=$e;if(N){if(d===void 0)throw Error(a(407));d=d()}else d=l();var R=!vs((ht||v).memoizedState,d);if(R&&(v.memoizedState=d,Dt=!0),v=v.queue,eh(Sf.bind(null,g,v,n),[n]),v.getSnapshot!==l||R||zt!==null&&zt.memoizedState.tag&1){if(g.flags|=2048,Hn(9,{destroy:void 0},Nf.bind(null,g,v,d,l),null),pt===null)throw Error(a(349));N||(Na&127)!==0||jf(g,l,d)}return d}function jf(n,l,d){n.flags|=16384,n={getSnapshot:l,value:d},l=Pe.updateQueue,l===null?(l=mo(),Pe.updateQueue=l,l.stores=[n]):(d=l.stores,d===null?l.stores=[n]:d.push(n))}function Nf(n,l,d,g){l.value=d,l.getSnapshot=g,kf(l)&&Cf(n)}function Sf(n,l,d){return d(function(){kf(l)&&Cf(n)})}function kf(n){var l=n.getSnapshot;n=n.value;try{var d=l();return!vs(n,d)}catch{return!0}}function Cf(n){var l=zi(n,2);l!==null&&ps(l,n,2)}function Qd(n){var l=is();if(typeof n=="function"){var d=n;if(n=d(),Fi){na(!0);try{d()}finally{na(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:n},l}function Af(n,l,d,g){return n.baseState=d,Kd(n,ht,typeof g=="function"?g:Sa)}function vw(n,l,d,g,v){if(wo(n))throw Error(a(485));if(n=l.action,n!==null){var N={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){N.listeners.push(R)}};F.T!==null?d(!0):N.isTransition=!1,g(N),d=l.pending,d===null?(N.next=l.pending=N,Tf(l,N)):(N.next=d.next,l.pending=d.next=N)}}function Tf(n,l){var d=l.action,g=l.payload,v=n.state;if(l.isTransition){var N=F.T,R={};F.T=R;try{var X=d(v,g),Z=F.S;Z!==null&&Z(R,X),_f(n,l,X)}catch(le){Jd(n,l,le)}finally{N!==null&&R.types!==null&&(N.types=R.types),F.T=N}}else try{N=d(v,g),_f(n,l,N)}catch(le){Jd(n,l,le)}}function _f(n,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){Ef(n,l,g)},function(g){return Jd(n,l,g)}):Ef(n,l,d)}function Ef(n,l,d){l.status="fulfilled",l.value=d,Mf(l),n.state=d,l=n.pending,l!==null&&(d=l.next,d===l?n.pending=null:(d=d.next,l.next=d,Tf(n,d)))}function Jd(n,l,d){var g=n.pending;if(n.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=d,Mf(l),l=l.next;while(l!==g)}n.action=null}function Mf(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function Lf(n,l){return l}function zf(n,l){if($e){var d=pt.formState;if(d!==null){e:{var g=Pe;if($e){if(wt){t:{for(var v=wt,N=Hs;v.nodeType!==8;){if(!N){v=null;break t}if(v=Bs(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){wt=Bs(v.nextSibling),g=v.data==="F!";break e}}Va(g)}g=!1}g&&(l=d[0])}}return d=is(),d.memoizedState=d.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:l},d.queue=g,d=Qf.bind(null,Pe,g),g.dispatch=d,g=Qd(!1),N=nh.bind(null,Pe,!1,g.queue),g=is(),v={state:l,dispatch:null,action:n,pending:null},g.queue=v,d=vw.bind(null,Pe,v,N,d),v.dispatch=d,g.memoizedState=n,[l,d,!1]}function Df(n){var l=Mt();return Rf(l,ht,n)}function Rf(n,l,d){if(l=Kd(n,l,Lf)[0],n=bo(Sa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Or(l)}catch(R){throw R===Ln?lo:R}else g=l;l=Mt();var v=l.queue,N=v.dispatch;return d!==l.memoizedState&&(Pe.flags|=2048,Hn(9,{destroy:void 0},yw.bind(null,v,d),null)),[g,N,n]}function yw(n,l){n.action=l}function Of(n){var l=Mt(),d=ht;if(d!==null)return Rf(l,d,n);Mt(),l=l.memoizedState,d=Mt();var g=d.queue.dispatch;return d.memoizedState=n,[l,g,!1]}function Hn(n,l,d,g){return n={tag:n,create:d,deps:g,inst:l,next:null},l=Pe.updateQueue,l===null&&(l=mo(),Pe.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=n.next=n:(g=d.next,d.next=n,n.next=g,l.lastEffect=n),n}function Hf(){return Mt().memoizedState}function vo(n,l,d,g){var v=is();Pe.flags|=n,v.memoizedState=Hn(1|l,{destroy:void 0},d,g===void 0?null:g)}function yo(n,l,d,g){var v=Mt();g=g===void 0?null:g;var N=v.memoizedState.inst;ht!==null&&g!==null&&Ud(g,ht.memoizedState.deps)?v.memoizedState=Hn(l,N,d,g):(Pe.flags|=n,v.memoizedState=Hn(1|l,N,d,g))}function Pf(n,l){vo(8390656,8,n,l)}function eh(n,l){yo(2048,8,n,l)}function ww(n){Pe.flags|=4;var l=Pe.updateQueue;if(l===null)l=mo(),Pe.updateQueue=l,l.events=[n];else{var d=l.events;d===null?l.events=[n]:d.push(n)}}function Bf(n){var l=Mt().memoizedState;return ww({ref:l,nextImpl:n}),function(){if((at&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}function Xf(n,l){return yo(4,2,n,l)}function Yf(n,l){return yo(4,4,n,l)}function Ff(n,l){if(typeof l=="function"){n=n();var d=l(n);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function If(n,l,d){d=d!=null?d.concat([n]):null,yo(4,4,Ff.bind(null,l,n),d)}function th(){}function Uf(n,l){var d=Mt();l=l===void 0?null:l;var g=d.memoizedState;return l!==null&&Ud(l,g[1])?g[0]:(d.memoizedState=[n,l],n)}function Wf(n,l){var d=Mt();l=l===void 0?null:l;var g=d.memoizedState;if(l!==null&&Ud(l,g[1]))return g[0];if(g=n(),Fi){na(!0);try{n()}finally{na(!1)}}return d.memoizedState=[g,l],g}function sh(n,l,d){return d===void 0||(Na&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=l:(n.memoizedState=d,n=Vm(),Pe.lanes|=n,ti|=n,d)}function Vf(n,l,d,g){return vs(d,l)?d:Dn.current!==null?(n=sh(n,d,g),vs(n,l)||(Dt=!0),n):(Na&42)===0||(Na&1073741824)!==0&&(Ve&261930)===0?(Dt=!0,n.memoizedState=d):(n=Vm(),Pe.lanes|=n,ti|=n,l)}function qf(n,l,d,g,v){var N=q.p;q.p=N!==0&&8>N?N:8;var R=F.T,X={};F.T=X,nh(n,!1,l,d);try{var Z=v(),le=F.S;if(le!==null&&le(X,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var xe=mw(Z,g);Hr(n,l,xe,ks(n))}else Hr(n,l,g,ks(n))}catch(fe){Hr(n,l,{then:function(){},status:"rejected",reason:fe},ks())}finally{q.p=N,R!==null&&X.types!==null&&(R.types=X.types),F.T=R}}function jw(){}function ah(n,l,d,g){if(n.tag!==5)throw Error(a(476));var v=Gf(n).queue;qf(n,v,l,I,d===null?jw:function(){return $f(n),d(g)})}function Gf(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:I},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:d},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function $f(n){var l=Gf(n);l.next===null&&(l=n.alternate.memoizedState),Hr(n,l.next.queue,{},ks())}function ih(){return Gt(el)}function Kf(){return Mt().memoizedState}function Zf(){return Mt().memoizedState}function Nw(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var d=ks();n=$a(d);var g=Ka(l,n,d);g!==null&&(ps(g,l,d),Lr(g,l,d)),l={cache:zd()},n.payload=l;return}l=l.return}}function Sw(n,l,d){var g=ks();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},wo(n)?Jf(l,d):(d=jd(n,l,d,g),d!==null&&(ps(d,n,g),em(d,l,g)))}function Qf(n,l,d){var g=ks();Hr(n,l,d,g)}function Hr(n,l,d,g){var v={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(wo(n))Jf(l,v);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var R=l.lastRenderedState,X=N(R,d);if(v.hasEagerState=!0,v.eagerState=X,vs(X,R))return eo(n,l,v,0),pt===null&&Jl(),!1}catch{}finally{}if(d=jd(n,l,v,g),d!==null)return ps(d,n,g),em(d,l,g),!0}return!1}function nh(n,l,d,g){if(g={lane:2,revertLane:Hh(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},wo(n)){if(l)throw Error(a(479))}else l=jd(n,d,g,2),l!==null&&ps(l,n,2)}function wo(n){var l=n.alternate;return n===Pe||l!==null&&l===Pe}function Jf(n,l){Rn=go=!0;var d=n.pending;d===null?l.next=l:(l.next=d.next,d.next=l),n.pending=l}function em(n,l,d){if((d&4194048)!==0){var g=l.lanes;g&=n.pendingLanes,d|=g,l.lanes=d,Ti(n,d)}}var Pr={readContext:Gt,use:po,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Pr.useEffectEvent=kt;var tm={readContext:Gt,use:po,useCallback:function(n,l){return is().memoizedState=[n,l===void 0?null:l],n},useContext:Gt,useEffect:Pf,useImperativeHandle:function(n,l,d){d=d!=null?d.concat([n]):null,vo(4194308,4,Ff.bind(null,l,n),d)},useLayoutEffect:function(n,l){return vo(4194308,4,n,l)},useInsertionEffect:function(n,l){vo(4,2,n,l)},useMemo:function(n,l){var d=is();l=l===void 0?null:l;var g=n();if(Fi){na(!0);try{n()}finally{na(!1)}}return d.memoizedState=[g,l],g},useReducer:function(n,l,d){var g=is();if(d!==void 0){var v=d(l);if(Fi){na(!0);try{d(l)}finally{na(!1)}}}else v=l;return g.memoizedState=g.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},g.queue=n,n=n.dispatch=Sw.bind(null,Pe,n),[g.memoizedState,n]},useRef:function(n){var l=is();return n={current:n},l.memoizedState=n},useState:function(n){n=Qd(n);var l=n.queue,d=Qf.bind(null,Pe,l);return l.dispatch=d,[n.memoizedState,d]},useDebugValue:th,useDeferredValue:function(n,l){var d=is();return sh(d,n,l)},useTransition:function(){var n=Qd(!1);return n=qf.bind(null,Pe,n.queue,!0,!1),is().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,d){var g=Pe,v=is();if($e){if(d===void 0)throw Error(a(407));d=d()}else{if(d=l(),pt===null)throw Error(a(349));(Ve&127)!==0||jf(g,l,d)}v.memoizedState=d;var N={value:d,getSnapshot:l};return v.queue=N,Pf(Sf.bind(null,g,N,n),[n]),g.flags|=2048,Hn(9,{destroy:void 0},Nf.bind(null,g,N,d,l),null),d},useId:function(){var n=is(),l=pt.identifierPrefix;if($e){var d=la,g=ra;d=(g&~(1<<32-ss(g)-1)).toString(32)+d,l="_"+l+"R_"+d,d=fo++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=pw++,l="_"+l+"r_"+d.toString(32)+"_";return n.memoizedState=l},useHostTransitionStatus:ih,useFormState:zf,useActionState:zf,useOptimistic:function(n){var l=is();l.memoizedState=l.baseState=n;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=nh.bind(null,Pe,!0,d),d.dispatch=l,[n,l]},useMemoCache:$d,useCacheRefresh:function(){return is().memoizedState=Nw.bind(null,Pe)},useEffectEvent:function(n){var l=is(),d={impl:n};return l.memoizedState=d,function(){if((at&2)!==0)throw Error(a(440));return d.impl.apply(void 0,arguments)}}},rh={readContext:Gt,use:po,useCallback:Uf,useContext:Gt,useEffect:eh,useImperativeHandle:If,useInsertionEffect:Xf,useLayoutEffect:Yf,useMemo:Wf,useReducer:bo,useRef:Hf,useState:function(){return bo(Sa)},useDebugValue:th,useDeferredValue:function(n,l){var d=Mt();return Vf(d,ht.memoizedState,n,l)},useTransition:function(){var n=bo(Sa)[0],l=Mt().memoizedState;return[typeof n=="boolean"?n:Or(n),l]},useSyncExternalStore:wf,useId:Kf,useHostTransitionStatus:ih,useFormState:Df,useActionState:Df,useOptimistic:function(n,l){var d=Mt();return Af(d,ht,n,l)},useMemoCache:$d,useCacheRefresh:Zf};rh.useEffectEvent=Bf;var sm={readContext:Gt,use:po,useCallback:Uf,useContext:Gt,useEffect:eh,useImperativeHandle:If,useInsertionEffect:Xf,useLayoutEffect:Yf,useMemo:Wf,useReducer:Zd,useRef:Hf,useState:function(){return Zd(Sa)},useDebugValue:th,useDeferredValue:function(n,l){var d=Mt();return ht===null?sh(d,n,l):Vf(d,ht.memoizedState,n,l)},useTransition:function(){var n=Zd(Sa)[0],l=Mt().memoizedState;return[typeof n=="boolean"?n:Or(n),l]},useSyncExternalStore:wf,useId:Kf,useHostTransitionStatus:ih,useFormState:Of,useActionState:Of,useOptimistic:function(n,l){var d=Mt();return ht!==null?Af(d,ht,n,l):(d.baseState=n,[n,d.queue.dispatch])},useMemoCache:$d,useCacheRefresh:Zf};sm.useEffectEvent=Bf;function lh(n,l,d,g){l=n.memoizedState,d=d(g,l),d=d==null?l:m({},l,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var oh={enqueueSetState:function(n,l,d){n=n._reactInternals;var g=ks(),v=$a(g);v.payload=l,d!=null&&(v.callback=d),l=Ka(n,v,g),l!==null&&(ps(l,n,g),Lr(l,n,g))},enqueueReplaceState:function(n,l,d){n=n._reactInternals;var g=ks(),v=$a(g);v.tag=1,v.payload=l,d!=null&&(v.callback=d),l=Ka(n,v,g),l!==null&&(ps(l,n,g),Lr(l,n,g))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var d=ks(),g=$a(d);g.tag=2,l!=null&&(g.callback=l),l=Ka(n,g,d),l!==null&&(ps(l,n,d),Lr(l,n,d))}};function am(n,l,d,g,v,N,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(g,N,R):l.prototype&&l.prototype.isPureReactComponent?!Sr(d,g)||!Sr(v,N):!0}function im(n,l,d,g){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==n&&oh.enqueueReplaceState(l,l.state,null)}function Ii(n,l){var d=l;if("ref"in l){d={};for(var g in l)g!=="ref"&&(d[g]=l[g])}if(n=n.defaultProps){d===l&&(d=m({},d));for(var v in n)d[v]===void 0&&(d[v]=n[v])}return d}function nm(n){Ql(n)}function rm(n){console.error(n)}function lm(n){Ql(n)}function jo(n,l){try{var d=n.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function om(n,l,d){try{var g=n.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ch(n,l,d){return d=$a(d),d.tag=3,d.payload={element:null},d.callback=function(){jo(n,l)},d}function cm(n){return n=$a(n),n.tag=3,n}function dm(n,l,d,g){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var N=g.value;n.payload=function(){return v(N)},n.callback=function(){om(l,d,g)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){om(l,d,g),typeof v!="function"&&(si===null?si=new Set([this]):si.add(this));var X=g.stack;this.componentDidCatch(g.value,{componentStack:X!==null?X:""})})}function kw(n,l,d,g,v){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=d.alternate,l!==null&&_n(l,d,v,!0),d=ws.current,d!==null){switch(d.tag){case 31:case 13:return Ps===null?Do():d.alternate===null&&Ct===0&&(Ct=3),d.flags&=-257,d.flags|=65536,d.lanes=v,g===oo?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([g]):l.add(g),Dh(n,g,v)),!1;case 22:return d.flags|=65536,g===oo?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([g]):d.add(g)),Dh(n,g,v)),!1}throw Error(a(435,d.tag))}return Dh(n,g,v),Do(),!1}if($e)return l=ws.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,g!==Td&&(n=Error(a(422),{cause:g}),Ar(Ds(n,d)))):(g!==Td&&(l=Error(a(423),{cause:g}),Ar(Ds(l,d))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,g=Ds(g,d),v=ch(n.stateNode,g,v),Bd(n,v),Ct!==4&&(Ct=2)),!1;var N=Error(a(520),{cause:g});if(N=Ds(N,d),Vr===null?Vr=[N]:Vr.push(N),Ct!==4&&(Ct=2),l===null)return!0;g=Ds(g,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,n=v&-v,d.lanes|=n,n=ch(d.stateNode,g,n),Bd(d,n),!1;case 1:if(l=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(si===null||!si.has(N))))return d.flags|=65536,v&=-v,d.lanes|=v,v=cm(v),dm(v,n,d,g),Bd(d,v),!1}d=d.return}while(d!==null);return!1}var dh=Error(a(461)),Dt=!1;function $t(n,l,d,g){l.child=n===null?gf(l,null,d,g):Yi(l,n.child,d,g)}function hm(n,l,d,g,v){d=d.render;var N=l.ref;if("ref"in g){var R={};for(var X in g)X!=="ref"&&(R[X]=g[X])}else R=g;return Hi(l),g=Wd(n,l,d,R,N,v),X=Vd(),n!==null&&!Dt?(qd(n,l,v),ka(n,l,v)):($e&&X&&Cd(l),l.flags|=1,$t(n,l,g,v),l.child)}function um(n,l,d,g,v){if(n===null){var N=d.type;return typeof N=="function"&&!Nd(N)&&N.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=N,xm(n,l,N,g,v)):(n=so(d.type,null,g,l,l.mode,v),n.ref=l.ref,n.return=l,l.child=n)}if(N=n.child,!bh(n,v)){var R=N.memoizedProps;if(d=d.compare,d=d!==null?d:Sr,d(R,g)&&n.ref===l.ref)return ka(n,l,v)}return l.flags|=1,n=va(N,g),n.ref=l.ref,n.return=l,l.child=n}function xm(n,l,d,g,v){if(n!==null){var N=n.memoizedProps;if(Sr(N,g)&&n.ref===l.ref)if(Dt=!1,l.pendingProps=g=N,bh(n,v))(n.flags&131072)!==0&&(Dt=!0);else return l.lanes=n.lanes,ka(n,l,v)}return hh(n,l,d,g,v)}function gm(n,l,d,g){var v=g.children,N=n!==null?n.memoizedState:null;if(n===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,n!==null){for(g=l.child=n.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~N}else g=0,l.child=null;return fm(n,l,N,d,g)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&ro(l,N!==null?N.cachePool:null),N!==null?pf(l,N):Yd(),bf(l);else return g=l.lanes=536870912,fm(n,l,N!==null?N.baseLanes|d:d,d,g)}else N!==null?(ro(l,N.cachePool),pf(l,N),Qa(),l.memoizedState=null):(n!==null&&ro(l,null),Yd(),Qa());return $t(n,l,v,d),l.child}function Br(n,l){return n!==null&&n.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function fm(n,l,d,g,v){var N=Rd();return N=N===null?null:{parent:Lt._currentValue,pool:N},l.memoizedState={baseLanes:d,cachePool:N},n!==null&&ro(l,null),Yd(),bf(l),n!==null&&_n(n,l,g,!0),l.childLanes=v,null}function No(n,l){return l=ko({mode:l.mode,children:l.children},n.mode),l.ref=n.ref,n.child=l,l.return=n,l}function mm(n,l,d){return Yi(l,n.child,null,d),n=No(l,l.pendingProps),n.flags|=2,js(l),l.memoizedState=null,n}function Cw(n,l,d){var g=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,n===null){if($e){if(g.mode==="hidden")return n=No(l,g),l.lanes=536870912,Br(null,n);if(Id(l),(n=wt)?(n=Tp(n,Hs),n=n!==null&&n.data==="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Ua!==null?{id:ra,overflow:la}:null,retryLane:536870912,hydrationErrors:null},d=Qg(n),d.return=l,l.child=d,qt=l,wt=null)):n=null,n===null)throw Va(l);return l.lanes=536870912,null}return No(l,g)}var N=n.memoizedState;if(N!==null){var R=N.dehydrated;if(Id(l),v)if(l.flags&256)l.flags&=-257,l=mm(n,l,d);else if(l.memoizedState!==null)l.child=n.child,l.flags|=128,l=null;else throw Error(a(558));else if(Dt||_n(n,l,d,!1),v=(d&n.childLanes)!==0,Dt||v){if(g=pt,g!==null&&(R=Ya(g,d),R!==0&&R!==N.retryLane))throw N.retryLane=R,zi(n,R),ps(g,n,R),dh;Do(),l=mm(n,l,d)}else n=N.treeContext,wt=Bs(R.nextSibling),qt=l,$e=!0,Wa=null,Hs=!1,n!==null&&tf(l,n),l=No(l,g),l.flags|=4096;return l}return n=va(n.child,{mode:g.mode,children:g.children}),n.ref=l.ref,l.child=n,n.return=l,n}function So(n,l){var d=l.ref;if(d===null)n!==null&&n.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(n===null||n.ref!==d)&&(l.flags|=4194816)}}function hh(n,l,d,g,v){return Hi(l),d=Wd(n,l,d,g,void 0,v),g=Vd(),n!==null&&!Dt?(qd(n,l,v),ka(n,l,v)):($e&&g&&Cd(l),l.flags|=1,$t(n,l,d,v),l.child)}function pm(n,l,d,g,v,N){return Hi(l),l.updateQueue=null,d=yf(l,g,d,v),vf(n),g=Vd(),n!==null&&!Dt?(qd(n,l,N),ka(n,l,N)):($e&&g&&Cd(l),l.flags|=1,$t(n,l,d,N),l.child)}function bm(n,l,d,g,v){if(Hi(l),l.stateNode===null){var N=kn,R=d.contextType;typeof R=="object"&&R!==null&&(N=Gt(R)),N=new d(g,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=oh,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=g,N.state=l.memoizedState,N.refs={},Hd(l),R=d.contextType,N.context=typeof R=="object"&&R!==null?Gt(R):kn,N.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(lh(l,d,R,g),N.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(R=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),R!==N.state&&oh.enqueueReplaceState(N,N.state,null),Dr(l,g,N,v),zr(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(n===null){N=l.stateNode;var X=l.memoizedProps,Z=Ii(d,X);N.props=Z;var le=N.context,xe=d.contextType;R=kn,typeof xe=="object"&&xe!==null&&(R=Gt(xe));var fe=d.getDerivedStateFromProps;xe=typeof fe=="function"||typeof N.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,xe||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X||le!==R)&&im(l,N,g,R),Ga=!1;var oe=l.memoizedState;N.state=oe,Dr(l,g,N,v),zr(),le=l.memoizedState,X||oe!==le||Ga?(typeof fe=="function"&&(lh(l,d,fe,g),le=l.memoizedState),(Z=Ga||am(l,d,Z,g,oe,le,R))?(xe||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=le),N.props=g,N.state=le,N.context=R,g=Z):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{N=l.stateNode,Pd(n,l),R=l.memoizedProps,xe=Ii(d,R),N.props=xe,fe=l.pendingProps,oe=N.context,le=d.contextType,Z=kn,typeof le=="object"&&le!==null&&(Z=Gt(le)),X=d.getDerivedStateFromProps,(le=typeof X=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==fe||oe!==Z)&&im(l,N,g,Z),Ga=!1,oe=l.memoizedState,N.state=oe,Dr(l,g,N,v),zr();var de=l.memoizedState;R!==fe||oe!==de||Ga||n!==null&&n.dependencies!==null&&io(n.dependencies)?(typeof X=="function"&&(lh(l,d,X,g),de=l.memoizedState),(xe=Ga||am(l,d,xe,g,oe,de,Z)||n!==null&&n.dependencies!==null&&io(n.dependencies))?(le||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,de,Z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,de,Z)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=de),N.props=g,N.state=de,N.context=Z,g=xe):(typeof N.componentDidUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=1024),g=!1)}return N=g,So(n,l),g=(l.flags&128)!==0,N||g?(N=l.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,n!==null&&g?(l.child=Yi(l,n.child,null,v),l.child=Yi(l,null,d,v)):$t(n,l,d,v),l.memoizedState=N.state,n=l.child):n=ka(n,l,v),n}function vm(n,l,d,g){return Ri(),l.flags|=256,$t(n,l,d,g),l.child}var uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(n){return{baseLanes:n,cachePool:of()}}function gh(n,l,d){return n=n!==null?n.childLanes&~d:0,l&&(n|=Ss),n}function ym(n,l,d){var g=l.pendingProps,v=!1,N=(l.flags&128)!==0,R;if((R=N)||(R=n!==null&&n.memoizedState===null?!1:(Et.current&2)!==0),R&&(v=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,n===null){if($e){if(v?Za(l):Qa(),(n=wt)?(n=Tp(n,Hs),n=n!==null&&n.data!=="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Ua!==null?{id:ra,overflow:la}:null,retryLane:536870912,hydrationErrors:null},d=Qg(n),d.return=l,l.child=d,qt=l,wt=null)):n=null,n===null)throw Va(l);return Kh(n)?l.lanes=32:l.lanes=536870912,null}var X=g.children;return g=g.fallback,v?(Qa(),v=l.mode,X=ko({mode:"hidden",children:X},v),g=Di(g,v,d,null),X.return=l,g.return=l,X.sibling=g,l.child=X,g=l.child,g.memoizedState=xh(d),g.childLanes=gh(n,R,d),l.memoizedState=uh,Br(null,g)):(Za(l),fh(l,X))}var Z=n.memoizedState;if(Z!==null&&(X=Z.dehydrated,X!==null)){if(N)l.flags&256?(Za(l),l.flags&=-257,l=mh(n,l,d)):l.memoizedState!==null?(Qa(),l.child=n.child,l.flags|=128,l=null):(Qa(),X=g.fallback,v=l.mode,g=ko({mode:"visible",children:g.children},v),X=Di(X,v,d,null),X.flags|=2,g.return=l,X.return=l,g.sibling=X,l.child=g,Yi(l,n.child,null,d),g=l.child,g.memoizedState=xh(d),g.childLanes=gh(n,R,d),l.memoizedState=uh,l=Br(null,g));else if(Za(l),Kh(X)){if(R=X.nextSibling&&X.nextSibling.dataset,R)var le=R.dgst;R=le,g=Error(a(419)),g.stack="",g.digest=R,Ar({value:g,source:null,stack:null}),l=mh(n,l,d)}else if(Dt||_n(n,l,d,!1),R=(d&n.childLanes)!==0,Dt||R){if(R=pt,R!==null&&(g=Ya(R,d),g!==0&&g!==Z.retryLane))throw Z.retryLane=g,zi(n,g),ps(R,n,g),dh;$h(X)||Do(),l=mh(n,l,d)}else $h(X)?(l.flags|=192,l.child=n.child,l=null):(n=Z.treeContext,wt=Bs(X.nextSibling),qt=l,$e=!0,Wa=null,Hs=!1,n!==null&&tf(l,n),l=fh(l,g.children),l.flags|=4096);return l}return v?(Qa(),X=g.fallback,v=l.mode,Z=n.child,le=Z.sibling,g=va(Z,{mode:"hidden",children:g.children}),g.subtreeFlags=Z.subtreeFlags&65011712,le!==null?X=va(le,X):(X=Di(X,v,d,null),X.flags|=2),X.return=l,g.return=l,g.sibling=X,l.child=g,Br(null,g),g=l.child,X=n.child.memoizedState,X===null?X=xh(d):(v=X.cachePool,v!==null?(Z=Lt._currentValue,v=v.parent!==Z?{parent:Z,pool:Z}:v):v=of(),X={baseLanes:X.baseLanes|d,cachePool:v}),g.memoizedState=X,g.childLanes=gh(n,R,d),l.memoizedState=uh,Br(n.child,g)):(Za(l),d=n.child,n=d.sibling,d=va(d,{mode:"visible",children:g.children}),d.return=l,d.sibling=null,n!==null&&(R=l.deletions,R===null?(l.deletions=[n],l.flags|=16):R.push(n)),l.child=d,l.memoizedState=null,d)}function fh(n,l){return l=ko({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function ko(n,l){return n=ys(22,n,null,l),n.lanes=0,n}function mh(n,l,d){return Yi(l,n.child,null,d),n=fh(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function wm(n,l,d){n.lanes|=l;var g=n.alternate;g!==null&&(g.lanes|=l),Md(n.return,l,d)}function ph(n,l,d,g,v,N){var R=n.memoizedState;R===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v,treeForkCount:N}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=d,R.tailMode=v,R.treeForkCount=N)}function jm(n,l,d){var g=l.pendingProps,v=g.revealOrder,N=g.tail;g=g.children;var R=Et.current,X=(R&2)!==0;if(X?(R=R&1|2,l.flags|=128):R&=1,ne(Et,R),$t(n,l,g,d),g=$e?Cr:0,!X&&n!==null&&(n.flags&128)!==0)e:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wm(n,d,l);else if(n.tag===19)wm(n,d,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break e;for(;n.sibling===null;){if(n.return===null||n.return===l)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(v){case"forwards":for(d=l.child,v=null;d!==null;)n=d.alternate,n!==null&&xo(n)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),ph(l,!1,v,d,N,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(n=v.alternate,n!==null&&xo(n)===null){l.child=v;break}n=v.sibling,v.sibling=d,d=v,v=n}ph(l,!0,d,null,N,g);break;case"together":ph(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function ka(n,l,d){if(n!==null&&(l.dependencies=n.dependencies),ti|=l.lanes,(d&l.childLanes)===0)if(n!==null){if(_n(n,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(a(153));if(l.child!==null){for(n=l.child,d=va(n,n.pendingProps),l.child=d,d.return=l;n.sibling!==null;)n=n.sibling,d=d.sibling=va(n,n.pendingProps),d.return=l;d.sibling=null}return l.child}function bh(n,l){return(n.lanes&l)!==0?!0:(n=n.dependencies,!!(n!==null&&io(n)))}function Aw(n,l,d){switch(l.tag){case 3:ve(l,l.stateNode.containerInfo),qa(l,Lt,n.memoizedState.cache),Ri();break;case 27:case 5:je(l);break;case 4:ve(l,l.stateNode.containerInfo);break;case 10:qa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Id(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(Za(l),l.flags|=128,null):(d&l.child.childLanes)!==0?ym(n,l,d):(Za(l),n=ka(n,l,d),n!==null?n.sibling:null);Za(l);break;case 19:var v=(n.flags&128)!==0;if(g=(d&l.childLanes)!==0,g||(_n(n,l,d,!1),g=(d&l.childLanes)!==0),v){if(g)return jm(n,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ne(Et,Et.current),g)break;return null;case 22:return l.lanes=0,gm(n,l,d,l.pendingProps);case 24:qa(l,Lt,n.memoizedState.cache)}return ka(n,l,d)}function Nm(n,l,d){if(n!==null)if(n.memoizedProps!==l.pendingProps)Dt=!0;else{if(!bh(n,d)&&(l.flags&128)===0)return Dt=!1,Aw(n,l,d);Dt=(n.flags&131072)!==0}else Dt=!1,$e&&(l.flags&1048576)!==0&&ef(l,Cr,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(n=Bi(l.elementType),l.type=n,typeof n=="function")Nd(n)?(g=Ii(n,g),l.tag=1,l=bm(null,l,n,g,d)):(l.tag=0,l=hh(null,l,n,g,d));else{if(n!=null){var v=n.$$typeof;if(v===T){l.tag=11,l=hm(null,l,n,g,d);break e}else if(v===_){l.tag=14,l=um(null,l,n,g,d);break e}}throw l=V(n)||n,Error(a(306,l,""))}}return l;case 0:return hh(n,l,l.type,l.pendingProps,d);case 1:return g=l.type,v=Ii(g,l.pendingProps),bm(n,l,g,v,d);case 3:e:{if(ve(l,l.stateNode.containerInfo),n===null)throw Error(a(387));g=l.pendingProps;var N=l.memoizedState;v=N.element,Pd(n,l),Dr(l,g,null,d);var R=l.memoizedState;if(g=R.cache,qa(l,Lt,g),g!==N.cache&&Ld(l,[Lt],d,!0),zr(),g=R.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=vm(n,l,g,d);break e}else if(g!==v){v=Ds(Error(a(424)),l),Ar(v),l=vm(n,l,g,d);break e}else{switch(n=l.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(wt=Bs(n.firstChild),qt=l,$e=!0,Wa=null,Hs=!0,d=gf(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ri(),g===v){l=ka(n,l,d);break e}$t(n,l,g,d)}l=l.child}return l;case 26:return So(n,l),n===null?(d=Dp(l.type,null,l.pendingProps,null))?l.memoizedState=d:$e||(d=l.type,n=l.pendingProps,g=Yo(ie.current).createElement(d),g[Vt]=l,g[hs]=n,Kt(g,d,n),Yt(g),l.stateNode=g):l.memoizedState=Dp(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return je(l),n===null&&$e&&(g=l.stateNode=Mp(l.type,l.pendingProps,ie.current),qt=l,Hs=!0,v=wt,ri(l.type)?(Zh=v,wt=Bs(g.firstChild)):wt=v),$t(n,l,l.pendingProps.children,d),So(n,l),n===null&&(l.flags|=4194304),l.child;case 5:return n===null&&$e&&((v=g=wt)&&(g=a1(g,l.type,l.pendingProps,Hs),g!==null?(l.stateNode=g,qt=l,wt=Bs(g.firstChild),Hs=!1,v=!0):v=!1),v||Va(l)),je(l),v=l.type,N=l.pendingProps,R=n!==null?n.memoizedProps:null,g=N.children,Vh(v,N)?g=null:R!==null&&Vh(v,R)&&(l.flags|=32),l.memoizedState!==null&&(v=Wd(n,l,bw,null,null,d),el._currentValue=v),So(n,l),$t(n,l,g,d),l.child;case 6:return n===null&&$e&&((n=d=wt)&&(d=i1(d,l.pendingProps,Hs),d!==null?(l.stateNode=d,qt=l,wt=null,n=!0):n=!1),n||Va(l)),null;case 13:return ym(n,l,d);case 4:return ve(l,l.stateNode.containerInfo),g=l.pendingProps,n===null?l.child=Yi(l,null,g,d):$t(n,l,g,d),l.child;case 11:return hm(n,l,l.type,l.pendingProps,d);case 7:return $t(n,l,l.pendingProps,d),l.child;case 8:return $t(n,l,l.pendingProps.children,d),l.child;case 12:return $t(n,l,l.pendingProps.children,d),l.child;case 10:return g=l.pendingProps,qa(l,l.type,g.value),$t(n,l,g.children,d),l.child;case 9:return v=l.type._context,g=l.pendingProps.children,Hi(l),v=Gt(v),g=g(v),l.flags|=1,$t(n,l,g,d),l.child;case 14:return um(n,l,l.type,l.pendingProps,d);case 15:return xm(n,l,l.type,l.pendingProps,d);case 19:return jm(n,l,d);case 31:return Cw(n,l,d);case 22:return gm(n,l,d,l.pendingProps);case 24:return Hi(l),g=Gt(Lt),n===null?(v=Rd(),v===null&&(v=pt,N=zd(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=d),v=N),l.memoizedState={parent:g,cache:v},Hd(l),qa(l,Lt,v)):((n.lanes&d)!==0&&(Pd(n,l),Dr(l,null,null,d),zr()),v=n.memoizedState,N=l.memoizedState,v.parent!==g?(v={parent:g,cache:g},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),qa(l,Lt,g)):(g=N.cache,qa(l,Lt,g),g!==v.cache&&Ld(l,[Lt],d,!0))),$t(n,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function Ca(n){n.flags|=4}function vh(n,l,d,g,v){if((l=(n.mode&32)!==0)&&(l=!1),l){if(n.flags|=16777216,(v&335544128)===v)if(n.stateNode.complete)n.flags|=8192;else if(Km())n.flags|=8192;else throw Xi=oo,Od}else n.flags&=-16777217}function Sm(n,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Bp(l))if(Km())n.flags|=8192;else throw Xi=oo,Od}function Co(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?st():536870912,n.lanes|=l,Yn|=l)}function Xr(n,l){if(!$e)switch(n.tailMode){case"hidden":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:g.sibling=null}}function jt(n){var l=n.alternate!==null&&n.alternate.child===n.child,d=0,g=0;if(l)for(var v=n.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=g,n.childLanes=d,l}function Tw(n,l,d){var g=l.pendingProps;switch(Ad(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(l),null;case 1:return jt(l),null;case 3:return d=l.stateNode,g=null,n!==null&&(g=n.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),ja(Lt),ae(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Tn(l)?Ca(l):n===null||n.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,_d())),jt(l),null;case 26:var v=l.type,N=l.memoizedState;return n===null?(Ca(l),N!==null?(jt(l),Sm(l,N)):(jt(l),vh(l,v,null,g,d))):N?N!==n.memoizedState?(Ca(l),jt(l),Sm(l,N)):(jt(l),l.flags&=-16777217):(n=n.memoizedProps,n!==g&&Ca(l),jt(l),vh(l,v,n,g,d)),null;case 27:if(Le(l),d=ie.current,v=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==g&&Ca(l);else{if(!g){if(l.stateNode===null)throw Error(a(166));return jt(l),null}n=K.current,Tn(l)?sf(l):(n=Mp(v,g,d),l.stateNode=n,Ca(l))}return jt(l),null;case 5:if(Le(l),v=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==g&&Ca(l);else{if(!g){if(l.stateNode===null)throw Error(a(166));return jt(l),null}if(N=K.current,Tn(l))sf(l);else{var R=Yo(ie.current);switch(N){case 1:N=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:N=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":N=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":N=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":N=R.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?N.multiple=!0:g.size&&(N.size=g.size);break;default:N=typeof g.is=="string"?R.createElement(v,{is:g.is}):R.createElement(v)}}N[Vt]=l,N[hs]=g;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)N.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=N;e:switch(Kt(N,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Ca(l)}}return jt(l),vh(l,l.type,n===null?null:n.memoizedProps,l.pendingProps,d),null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==g&&Ca(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(a(166));if(n=ie.current,Tn(l)){if(n=l.stateNode,d=l.memoizedProps,g=null,v=qt,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}n[Vt]=l,n=!!(n.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||yp(n.nodeValue,d)),n||Va(l,!0)}else n=Yo(n).createTextNode(g),n[Vt]=l,l.stateNode=n}return jt(l),null;case 31:if(d=l.memoizedState,n===null||n.memoizedState!==null){if(g=Tn(l),d!==null){if(n===null){if(!g)throw Error(a(318));if(n=l.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Vt]=l}else Ri(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jt(l),n=!1}else d=_d(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),n=!0;if(!n)return l.flags&256?(js(l),l):(js(l),null);if((l.flags&128)!==0)throw Error(a(558))}return jt(l),null;case 13:if(g=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=Tn(l),g!==null&&g.dehydrated!==null){if(n===null){if(!v)throw Error(a(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(a(317));v[Vt]=l}else Ri(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jt(l),v=!1}else v=_d(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(js(l),l):(js(l),null)}return js(l),(l.flags&128)!==0?(l.lanes=d,l):(d=g!==null,n=n!==null&&n.memoizedState!==null,d&&(g=l.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),N=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(N=g.memoizedState.cachePool.pool),N!==v&&(g.flags|=2048)),d!==n&&d&&(l.child.flags|=8192),Co(l,l.updateQueue),jt(l),null);case 4:return ae(),n===null&&Yh(l.stateNode.containerInfo),jt(l),null;case 10:return ja(l.type),jt(l),null;case 19:if(U(Et),g=l.memoizedState,g===null)return jt(l),null;if(v=(l.flags&128)!==0,N=g.rendering,N===null)if(v)Xr(g,!1);else{if(Ct!==0||n!==null&&(n.flags&128)!==0)for(n=l.child;n!==null;){if(N=xo(n),N!==null){for(l.flags|=128,Xr(g,!1),n=N.updateQueue,l.updateQueue=n,Co(l,n),l.subtreeFlags=0,n=d,d=l.child;d!==null;)Zg(d,n),d=d.sibling;return ne(Et,Et.current&1|2),$e&&ya(l,g.treeForkCount),l.child}n=n.sibling}g.tail!==null&&Wt()>Mo&&(l.flags|=128,v=!0,Xr(g,!1),l.lanes=4194304)}else{if(!v)if(n=xo(N),n!==null){if(l.flags|=128,v=!0,n=n.updateQueue,l.updateQueue=n,Co(l,n),Xr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!N.alternate&&!$e)return jt(l),null}else 2*Wt()-g.renderingStartTime>Mo&&d!==536870912&&(l.flags|=128,v=!0,Xr(g,!1),l.lanes=4194304);g.isBackwards?(N.sibling=l.child,l.child=N):(n=g.last,n!==null?n.sibling=N:l.child=N,g.last=N)}return g.tail!==null?(n=g.tail,g.rendering=n,g.tail=n.sibling,g.renderingStartTime=Wt(),n.sibling=null,d=Et.current,ne(Et,v?d&1|2:d&1),$e&&ya(l,g.treeForkCount),n):(jt(l),null);case 22:case 23:return js(l),Fd(),g=l.memoizedState!==null,n!==null?n.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(d&536870912)!==0&&(l.flags&128)===0&&(jt(l),l.subtreeFlags&6&&(l.flags|=8192)):jt(l),d=l.updateQueue,d!==null&&Co(l,d.retryQueue),d=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==d&&(l.flags|=2048),n!==null&&U(Pi),null;case 24:return d=null,n!==null&&(d=n.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ja(Lt),jt(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function _w(n,l){switch(Ad(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return ja(Lt),ae(),n=l.flags,(n&65536)!==0&&(n&128)===0?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return Le(l),null;case 31:if(l.memoizedState!==null){if(js(l),l.alternate===null)throw Error(a(340));Ri()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 13:if(js(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(a(340));Ri()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return U(Et),null;case 4:return ae(),null;case 10:return ja(l.type),null;case 22:case 23:return js(l),Fd(),n!==null&&U(Pi),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return ja(Lt),null;case 25:return null;default:return null}}function km(n,l){switch(Ad(l),l.tag){case 3:ja(Lt),ae();break;case 26:case 27:case 5:Le(l);break;case 4:ae();break;case 31:l.memoizedState!==null&&js(l);break;case 13:js(l);break;case 19:U(Et);break;case 10:ja(l.type);break;case 22:case 23:js(l),Fd(),n!==null&&U(Pi);break;case 24:ja(Lt)}}function Yr(n,l){try{var d=l.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&n)===n){g=void 0;var N=d.create,R=d.inst;g=N(),R.destroy=g}d=d.next}while(d!==v)}}catch(X){ct(l,l.return,X)}}function Ja(n,l,d){try{var g=l.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var N=v.next;g=N;do{if((g.tag&n)===n){var R=g.inst,X=R.destroy;if(X!==void 0){R.destroy=void 0,v=l;var Z=d,le=X;try{le()}catch(xe){ct(v,Z,xe)}}}g=g.next}while(g!==N)}}catch(xe){ct(l,l.return,xe)}}function Cm(n){var l=n.updateQueue;if(l!==null){var d=n.stateNode;try{mf(l,d)}catch(g){ct(n,n.return,g)}}}function Am(n,l,d){d.props=Ii(n.type,n.memoizedProps),d.state=n.memoizedState;try{d.componentWillUnmount()}catch(g){ct(n,l,g)}}function Fr(n,l){try{var d=n.ref;if(d!==null){switch(n.tag){case 26:case 27:case 5:var g=n.stateNode;break;case 30:g=n.stateNode;break;default:g=n.stateNode}typeof d=="function"?n.refCleanup=d(g):d.current=g}}catch(v){ct(n,l,v)}}function oa(n,l){var d=n.ref,g=n.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(v){ct(n,l,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){ct(n,l,v)}else d.current=null}function Tm(n){var l=n.type,d=n.memoizedProps,g=n.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(v){ct(n,n.return,v)}}function yh(n,l,d){try{var g=n.stateNode;Zw(g,n.type,d,l),g[hs]=l}catch(v){ct(n,n.return,v)}}function _m(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ri(n.type)||n.tag===4}function wh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_m(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ri(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function jh(n,l,d){var g=n.tag;if(g===5||g===6)n=n.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(n,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(n),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=pa));else if(g!==4&&(g===27&&ri(n.type)&&(d=n.stateNode,l=null),n=n.child,n!==null))for(jh(n,l,d),n=n.sibling;n!==null;)jh(n,l,d),n=n.sibling}function Ao(n,l,d){var g=n.tag;if(g===5||g===6)n=n.stateNode,l?d.insertBefore(n,l):d.appendChild(n);else if(g!==4&&(g===27&&ri(n.type)&&(d=n.stateNode),n=n.child,n!==null))for(Ao(n,l,d),n=n.sibling;n!==null;)Ao(n,l,d),n=n.sibling}function Em(n){var l=n.stateNode,d=n.memoizedProps;try{for(var g=n.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);Kt(l,g,d),l[Vt]=n,l[hs]=d}catch(N){ct(n,n.return,N)}}var Aa=!1,Rt=!1,Nh=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Ew(n,l){if(n=n.containerInfo,Uh=Go,n=Fg(n),md(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var v=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var R=0,X=-1,Z=-1,le=0,xe=0,fe=n,oe=null;t:for(;;){for(var de;fe!==d||v!==0&&fe.nodeType!==3||(X=R+v),fe!==N||g!==0&&fe.nodeType!==3||(Z=R+g),fe.nodeType===3&&(R+=fe.nodeValue.length),(de=fe.firstChild)!==null;)oe=fe,fe=de;for(;;){if(fe===n)break t;if(oe===d&&++le===v&&(X=R),oe===N&&++xe===g&&(Z=R),(de=fe.nextSibling)!==null)break;fe=oe,oe=fe.parentNode}fe=de}d=X===-1||Z===-1?null:{start:X,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Wh={focusedElem:n,selectionRange:d},Go=!1,Ft=l;Ft!==null;)if(l=Ft,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,Ft=n;else for(;Ft!==null;){switch(l=Ft,N=l.alternate,n=l.flags,l.tag){case 0:if((n&4)!==0&&(n=l.updateQueue,n=n!==null?n.events:null,n!==null))for(d=0;d<n.length;d++)v=n[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&N!==null){n=void 0,d=l,v=N.memoizedProps,N=N.memoizedState,g=d.stateNode;try{var Se=Ii(d.type,v);n=g.getSnapshotBeforeUpdate(Se,N),g.__reactInternalSnapshotBeforeUpdate=n}catch(Me){ct(d,d.return,Me)}}break;case 3:if((n&1024)!==0){if(n=l.stateNode.containerInfo,d=n.nodeType,d===9)Gh(n);else if(d===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=l.sibling,n!==null){n.return=l.return,Ft=n;break}Ft=l.return}}function Lm(n,l,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:_a(n,d),g&4&&Yr(5,d);break;case 1:if(_a(n,d),g&4)if(n=d.stateNode,l===null)try{n.componentDidMount()}catch(R){ct(d,d.return,R)}else{var v=Ii(d.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(v,l,n.__reactInternalSnapshotBeforeUpdate)}catch(R){ct(d,d.return,R)}}g&64&&Cm(d),g&512&&Fr(d,d.return);break;case 3:if(_a(n,d),g&64&&(n=d.updateQueue,n!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{mf(n,l)}catch(R){ct(d,d.return,R)}}break;case 27:l===null&&g&4&&Em(d);case 26:case 5:_a(n,d),l===null&&g&4&&Tm(d),g&512&&Fr(d,d.return);break;case 12:_a(n,d);break;case 31:_a(n,d),g&4&&Rm(n,d);break;case 13:_a(n,d),g&4&&Om(n,d),g&64&&(n=d.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(d=Bw.bind(null,d),n1(n,d))));break;case 22:if(g=d.memoizedState!==null||Aa,!g){l=l!==null&&l.memoizedState!==null||Rt,v=Aa;var N=Rt;Aa=g,(Rt=l)&&!N?Ea(n,d,(d.subtreeFlags&8772)!==0):_a(n,d),Aa=v,Rt=N}break;case 30:break;default:_a(n,d)}}function zm(n){var l=n.alternate;l!==null&&(n.alternate=null,zm(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&Jc(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,xs=!1;function Ta(n,l,d){for(d=d.child;d!==null;)Dm(n,l,d),d=d.sibling}function Dm(n,l,d){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(Ci,d)}catch{}switch(d.tag){case 26:Rt||oa(d,l),Ta(n,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Rt||oa(d,l);var g=Nt,v=xs;ri(d.type)&&(Nt=d.stateNode,xs=!1),Ta(n,l,d),Zr(d.stateNode),Nt=g,xs=v;break;case 5:Rt||oa(d,l);case 6:if(g=Nt,v=xs,Nt=null,Ta(n,l,d),Nt=g,xs=v,Nt!==null)if(xs)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(d.stateNode)}catch(N){ct(d,l,N)}else try{Nt.removeChild(d.stateNode)}catch(N){ct(d,l,N)}break;case 18:Nt!==null&&(xs?(n=Nt,Cp(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,d.stateNode),$n(n)):Cp(Nt,d.stateNode));break;case 4:g=Nt,v=xs,Nt=d.stateNode.containerInfo,xs=!0,Ta(n,l,d),Nt=g,xs=v;break;case 0:case 11:case 14:case 15:Ja(2,d,l),Rt||Ja(4,d,l),Ta(n,l,d);break;case 1:Rt||(oa(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"&&Am(d,l,g)),Ta(n,l,d);break;case 21:Ta(n,l,d);break;case 22:Rt=(g=Rt)||d.memoizedState!==null,Ta(n,l,d),Rt=g;break;default:Ta(n,l,d)}}function Rm(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{$n(n)}catch(d){ct(l,l.return,d)}}}function Om(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$n(n)}catch(d){ct(l,l.return,d)}}function Mw(n){switch(n.tag){case 31:case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new Mm),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new Mm),l;default:throw Error(a(435,n.tag))}}function To(n,l){var d=Mw(n);l.forEach(function(g){if(!d.has(g)){d.add(g);var v=Xw.bind(null,n,g);g.then(v,v)}})}function gs(n,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g],N=n,R=l,X=R;e:for(;X!==null;){switch(X.tag){case 27:if(ri(X.type)){Nt=X.stateNode,xs=!1;break e}break;case 5:Nt=X.stateNode,xs=!1;break e;case 3:case 4:Nt=X.stateNode.containerInfo,xs=!0;break e}X=X.return}if(Nt===null)throw Error(a(160));Dm(N,R,v),Nt=null,xs=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Hm(l,n),l=l.sibling}var Gs=null;function Hm(n,l){var d=n.alternate,g=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:gs(l,n),fs(n),g&4&&(Ja(3,n,n.return),Yr(3,n),Ja(5,n,n.return));break;case 1:gs(l,n),fs(n),g&512&&(Rt||d===null||oa(d,d.return)),g&64&&Aa&&(n=n.updateQueue,n!==null&&(g=n.callbacks,g!==null&&(d=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var v=Gs;if(gs(l,n),fs(n),g&512&&(Rt||d===null||oa(d,d.return)),g&4){var N=d!==null?d.memoizedState:null;if(g=n.memoizedState,d===null)if(g===null)if(n.stateNode===null){e:{g=n.type,d=n.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":N=v.getElementsByTagName("title")[0],(!N||N[fr]||N[Vt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(g),v.head.insertBefore(N,v.querySelector("head > title"))),Kt(N,g,d),N[Vt]=n,Yt(N),g=N;break e;case"link":var R=Hp("link","href",v).get(g+(d.href||""));if(R){for(var X=0;X<R.length;X++)if(N=R[X],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(X,1);break t}}N=v.createElement(g),Kt(N,g,d),v.head.appendChild(N);break;case"meta":if(R=Hp("meta","content",v).get(g+(d.content||""))){for(X=0;X<R.length;X++)if(N=R[X],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(X,1);break t}}N=v.createElement(g),Kt(N,g,d),v.head.appendChild(N);break;default:throw Error(a(468,g))}N[Vt]=n,Yt(N),g=N}n.stateNode=g}else Pp(v,n.type,n.stateNode);else n.stateNode=Op(v,g,n.memoizedProps);else N!==g?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,g===null?Pp(v,n.type,n.stateNode):Op(v,g,n.memoizedProps)):g===null&&n.stateNode!==null&&yh(n,n.memoizedProps,d.memoizedProps)}break;case 27:gs(l,n),fs(n),g&512&&(Rt||d===null||oa(d,d.return)),d!==null&&g&4&&yh(n,n.memoizedProps,d.memoizedProps);break;case 5:if(gs(l,n),fs(n),g&512&&(Rt||d===null||oa(d,d.return)),n.flags&32){v=n.stateNode;try{bn(v,"")}catch(Se){ct(n,n.return,Se)}}g&4&&n.stateNode!=null&&(v=n.memoizedProps,yh(n,v,d!==null?d.memoizedProps:v)),g&1024&&(Nh=!0);break;case 6:if(gs(l,n),fs(n),g&4){if(n.stateNode===null)throw Error(a(162));g=n.memoizedProps,d=n.stateNode;try{d.nodeValue=g}catch(Se){ct(n,n.return,Se)}}break;case 3:if(Uo=null,v=Gs,Gs=Fo(l.containerInfo),gs(l,n),Gs=v,fs(n),g&4&&d!==null&&d.memoizedState.isDehydrated)try{$n(l.containerInfo)}catch(Se){ct(n,n.return,Se)}Nh&&(Nh=!1,Pm(n));break;case 4:g=Gs,Gs=Fo(n.stateNode.containerInfo),gs(l,n),fs(n),Gs=g;break;case 12:gs(l,n),fs(n);break;case 31:gs(l,n),fs(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,To(n,g)));break;case 13:gs(l,n),fs(n),n.child.flags&8192&&n.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Eo=Wt()),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,To(n,g)));break;case 22:v=n.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,le=Aa,xe=Rt;if(Aa=le||v,Rt=xe||Z,gs(l,n),Rt=xe,Aa=le,fs(n),g&8192)e:for(l=n.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(d===null||Z||Aa||Rt||Ui(n)),d=null,l=n;;){if(l.tag===5||l.tag===26){if(d===null){Z=d=l;try{if(N=Z.stateNode,v)R=N.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{X=Z.stateNode;var fe=Z.memoizedProps.style,oe=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;X.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Se){ct(Z,Z.return,Se)}}}else if(l.tag===6){if(d===null){Z=l;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(Se){ct(Z,Z.return,Se)}}}else if(l.tag===18){if(d===null){Z=l;try{var de=Z.stateNode;v?Ap(de,!0):Ap(Z.stateNode,!1)}catch(Se){ct(Z,Z.return,Se)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=n.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,To(n,d))));break;case 19:gs(l,n),fs(n),g&4&&(g=n.updateQueue,g!==null&&(n.updateQueue=null,To(n,g)));break;case 30:break;case 21:break;default:gs(l,n),fs(n)}}function fs(n){var l=n.flags;if(l&2){try{for(var d,g=n.return;g!==null;){if(_m(g)){d=g;break}g=g.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var v=d.stateNode,N=wh(n);Ao(n,N,v);break;case 5:var R=d.stateNode;d.flags&32&&(bn(R,""),d.flags&=-33);var X=wh(n);Ao(n,X,R);break;case 3:case 4:var Z=d.stateNode.containerInfo,le=wh(n);jh(n,le,Z);break;default:throw Error(a(161))}}catch(xe){ct(n,n.return,xe)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function Pm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;Pm(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function _a(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Lm(n,l.alternate,l),l=l.sibling}function Ui(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:Ja(4,l,l.return),Ui(l);break;case 1:oa(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Am(l,l.return,d),Ui(l);break;case 27:Zr(l.stateNode);case 26:case 5:oa(l,l.return),Ui(l);break;case 22:l.memoizedState===null&&Ui(l);break;case 30:Ui(l);break;default:Ui(l)}n=n.sibling}}function Ea(n,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,v=n,N=l,R=N.flags;switch(N.tag){case 0:case 11:case 15:Ea(v,N,d),Yr(4,N);break;case 1:if(Ea(v,N,d),g=N,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(le){ct(g,g.return,le)}if(g=N,v=g.updateQueue,v!==null){var X=g.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)ff(Z[v],X)}catch(le){ct(g,g.return,le)}}d&&R&64&&Cm(N),Fr(N,N.return);break;case 27:Em(N);case 26:case 5:Ea(v,N,d),d&&g===null&&R&4&&Tm(N),Fr(N,N.return);break;case 12:Ea(v,N,d);break;case 31:Ea(v,N,d),d&&R&4&&Rm(v,N);break;case 13:Ea(v,N,d),d&&R&4&&Om(v,N);break;case 22:N.memoizedState===null&&Ea(v,N,d),Fr(N,N.return);break;case 30:break;default:Ea(v,N,d)}l=l.sibling}}function Sh(n,l){var d=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==d&&(n!=null&&n.refCount++,d!=null&&Tr(d))}function kh(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Tr(n))}function $s(n,l,d,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Bm(n,l,d,g),l=l.sibling}function Bm(n,l,d,g){var v=l.flags;switch(l.tag){case 0:case 11:case 15:$s(n,l,d,g),v&2048&&Yr(9,l);break;case 1:$s(n,l,d,g);break;case 3:$s(n,l,d,g),v&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Tr(n)));break;case 12:if(v&2048){$s(n,l,d,g),n=l.stateNode;try{var N=l.memoizedProps,R=N.id,X=N.onPostCommit;typeof X=="function"&&X(R,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Z){ct(l,l.return,Z)}}else $s(n,l,d,g);break;case 31:$s(n,l,d,g);break;case 13:$s(n,l,d,g);break;case 23:break;case 22:N=l.stateNode,R=l.alternate,l.memoizedState!==null?N._visibility&2?$s(n,l,d,g):Ir(n,l):N._visibility&2?$s(n,l,d,g):(N._visibility|=2,Pn(n,l,d,g,(l.subtreeFlags&10256)!==0||!1)),v&2048&&Sh(R,l);break;case 24:$s(n,l,d,g),v&2048&&kh(l.alternate,l);break;default:$s(n,l,d,g)}}function Pn(n,l,d,g,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=n,R=l,X=d,Z=g,le=R.flags;switch(R.tag){case 0:case 11:case 15:Pn(N,R,X,Z,v),Yr(8,R);break;case 23:break;case 22:var xe=R.stateNode;R.memoizedState!==null?xe._visibility&2?Pn(N,R,X,Z,v):Ir(N,R):(xe._visibility|=2,Pn(N,R,X,Z,v)),v&&le&2048&&Sh(R.alternate,R);break;case 24:Pn(N,R,X,Z,v),v&&le&2048&&kh(R.alternate,R);break;default:Pn(N,R,X,Z,v)}l=l.sibling}}function Ir(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=n,g=l,v=g.flags;switch(g.tag){case 22:Ir(d,g),v&2048&&Sh(g.alternate,g);break;case 24:Ir(d,g),v&2048&&kh(g.alternate,g);break;default:Ir(d,g)}l=l.sibling}}var Ur=8192;function Bn(n,l,d){if(n.subtreeFlags&Ur)for(n=n.child;n!==null;)Xm(n,l,d),n=n.sibling}function Xm(n,l,d){switch(n.tag){case 26:Bn(n,l,d),n.flags&Ur&&n.memoizedState!==null&&p1(d,Gs,n.memoizedState,n.memoizedProps);break;case 5:Bn(n,l,d);break;case 3:case 4:var g=Gs;Gs=Fo(n.stateNode.containerInfo),Bn(n,l,d),Gs=g;break;case 22:n.memoizedState===null&&(g=n.alternate,g!==null&&g.memoizedState!==null?(g=Ur,Ur=16777216,Bn(n,l,d),Ur=g):Bn(n,l,d));break;default:Bn(n,l,d)}}function Ym(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function Wr(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Ft=g,Im(g,n)}Ym(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fm(n),n=n.sibling}function Fm(n){switch(n.tag){case 0:case 11:case 15:Wr(n),n.flags&2048&&Ja(9,n,n.return);break;case 3:Wr(n);break;case 12:Wr(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&2&&(n.return===null||n.return.tag!==13)?(l._visibility&=-3,_o(n)):Wr(n);break;default:Wr(n)}}function _o(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];Ft=g,Im(g,n)}Ym(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:Ja(8,l,l.return),_o(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,_o(l));break;default:_o(l)}n=n.sibling}}function Im(n,l){for(;Ft!==null;){var d=Ft;switch(d.tag){case 0:case 11:case 15:Ja(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Tr(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Ft=g;else e:for(d=n;Ft!==null;){g=Ft;var v=g.sibling,N=g.return;if(zm(g),g===d){Ft=null;break e}if(v!==null){v.return=N,Ft=v;break e}Ft=N}}}var Lw={getCacheForType:function(n){var l=Gt(Lt),d=l.data.get(n);return d===void 0&&(d=n(),l.data.set(n,d)),d},cacheSignal:function(){return Gt(Lt).controller.signal}},zw=typeof WeakMap=="function"?WeakMap:Map,at=0,pt=null,Fe=null,Ve=0,ot=0,Ns=null,ei=!1,Xn=!1,Ch=!1,Ma=0,Ct=0,ti=0,Wi=0,Ah=0,Ss=0,Yn=0,Vr=null,ms=null,Th=!1,Eo=0,Um=0,Mo=1/0,Lo=null,si=null,Pt=0,ai=null,Fn=null,La=0,_h=0,Eh=null,Wm=null,qr=0,Mh=null;function ks(){return(at&2)!==0&&Ve!==0?Ve&-Ve:F.T!==null?Hh():rg()}function Vm(){if(Ss===0)if((Ve&536870912)===0||$e){var n=Ai;Ai<<=1,(Ai&3932160)===0&&(Ai=262144),Ss=n}else Ss=536870912;return n=ws.current,n!==null&&(n.flags|=32),Ss}function ps(n,l,d){(n===pt&&(ot===2||ot===9)||n.cancelPendingCommit!==null)&&(In(n,0),ii(n,Ve,Ss,!1)),as(n,d),((at&2)===0||n!==pt)&&(n===pt&&((at&2)===0&&(Wi|=d),Ct===4&&ii(n,Ve,Ss,!1)),ca(n))}function qm(n,l,d){if((at&6)!==0)throw Error(a(327));var g=!d&&(l&127)===0&&(l&n.expiredLanes)===0||ce(n,l),v=g?Ow(n,l):zh(n,l,!0),N=g;do{if(v===0){Xn&&!g&&ii(n,l,0,!1);break}else{if(d=n.current.alternate,N&&!Dw(d)){v=zh(n,l,!1),N=!1;continue}if(v===2){if(N=l,n.errorRecoveryDisabledLanes&N)var R=0;else R=n.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var X=n;v=Vr;var Z=X.current.memoizedState.isDehydrated;if(Z&&(In(X,R).flags|=256),R=zh(X,R,!1),R!==2){if(Ch&&!Z){X.errorRecoveryDisabledLanes|=N,Wi|=N,v=4;break e}N=ms,ms=v,N!==null&&(ms===null?ms=N:ms.push.apply(ms,N))}v=R}if(N=!1,v!==2)continue}}if(v===1){In(n,0),ii(n,l,0,!0);break}e:{switch(g=n,N=v,N){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:ii(g,l,Ss,!ei);break e;case 2:ms=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(v=Eo+300-Wt(),10<v)){if(ii(g,l,Ss,!ei),hn(g,0,!0)!==0)break e;La=l,g.timeoutHandle=Sp(Gm.bind(null,g,d,ms,Lo,Th,l,Ss,Wi,Yn,ei,N,"Throttled",-0,0),v);break e}Gm(g,d,ms,Lo,Th,l,Ss,Wi,Yn,ei,N,null,-0,0)}}break}while(!0);ca(n)}function Gm(n,l,d,g,v,N,R,X,Z,le,xe,fe,oe,de){if(n.timeoutHandle=-1,fe=l.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},Xm(l,N,fe);var Se=(N&62914560)===N?Eo-Wt():(N&4194048)===N?Um-Wt():0;if(Se=b1(fe,Se),Se!==null){La=N,n.cancelPendingCommit=Se(sp.bind(null,n,l,N,d,g,v,R,X,Z,xe,fe,null,oe,de)),ii(n,N,R,!le);return}}sp(n,l,N,d,g,v,R,X,Z)}function Dw(n){for(var l=n;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var v=d[g],N=v.getSnapshot;v=v.value;try{if(!vs(N(),v))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ii(n,l,d,g){l&=~Ah,l&=~Wi,n.suspendedLanes|=l,n.pingedLanes&=~l,g&&(n.warmLanes|=l),g=n.expirationTimes;for(var v=l;0<v;){var N=31-ss(v),R=1<<N;g[N]=-1,v&=~R}d!==0&&gr(n,d,l)}function zo(){return(at&6)===0?(Gr(0),!1):!0}function Lh(){if(Fe!==null){if(ot===0)var n=Fe.return;else n=Fe,wa=Oi=null,Gd(n),zn=null,Er=0,n=Fe;for(;n!==null;)km(n.alternate,n),n=n.return;Fe=null}}function In(n,l){var d=n.timeoutHandle;d!==-1&&(n.timeoutHandle=-1,e1(d)),d=n.cancelPendingCommit,d!==null&&(n.cancelPendingCommit=null,d()),La=0,Lh(),pt=n,Fe=d=va(n.current,null),Ve=l,ot=0,Ns=null,ei=!1,Xn=ce(n,l),Ch=!1,Yn=Ss=Ah=Wi=ti=Ct=0,ms=Vr=null,Th=!1,(l&8)!==0&&(l|=l&32);var g=n.entangledLanes;if(g!==0)for(n=n.entanglements,g&=l;0<g;){var v=31-ss(g),N=1<<v;l|=n[v],g&=~N}return Ma=l,Jl(),d}function $m(n,l){Pe=null,F.H=Pr,l===Ln||l===lo?(l=hf(),ot=3):l===Od?(l=hf(),ot=4):ot=l===dh?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ns=l,Fe===null&&(Ct=1,jo(n,Ds(l,n.current)))}function Km(){var n=ws.current;return n===null?!0:(Ve&4194048)===Ve?Ps===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===Ps:!1}function Zm(){var n=F.H;return F.H=Pr,n===null?Pr:n}function Qm(){var n=F.A;return F.A=Lw,n}function Do(){Ct=4,ei||(Ve&4194048)!==Ve&&ws.current!==null||(Xn=!0),(ti&134217727)===0&&(Wi&134217727)===0||pt===null||ii(pt,Ve,Ss,!1)}function zh(n,l,d){var g=at;at|=2;var v=Zm(),N=Qm();(pt!==n||Ve!==l)&&(Lo=null,In(n,l)),l=!1;var R=Ct;e:do try{if(ot!==0&&Fe!==null){var X=Fe,Z=Ns;switch(ot){case 8:Lh(),R=6;break e;case 3:case 2:case 9:case 6:ws.current===null&&(l=!0);var le=ot;if(ot=0,Ns=null,Un(n,X,Z,le),d&&Xn){R=0;break e}break;default:le=ot,ot=0,Ns=null,Un(n,X,Z,le)}}Rw(),R=Ct;break}catch(xe){$m(n,xe)}while(!0);return l&&n.shellSuspendCounter++,wa=Oi=null,at=g,F.H=v,F.A=N,Fe===null&&(pt=null,Ve=0,Jl()),R}function Rw(){for(;Fe!==null;)Jm(Fe)}function Ow(n,l){var d=at;at|=2;var g=Zm(),v=Qm();pt!==n||Ve!==l?(Lo=null,Mo=Wt()+500,In(n,l)):Xn=ce(n,l);e:do try{if(ot!==0&&Fe!==null){l=Fe;var N=Ns;t:switch(ot){case 1:ot=0,Ns=null,Un(n,l,N,1);break;case 2:case 9:if(cf(N)){ot=0,Ns=null,ep(l);break}l=function(){ot!==2&&ot!==9||pt!==n||(ot=7),ca(n)},N.then(l,l);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:cf(N)?(ot=0,Ns=null,ep(l)):(ot=0,Ns=null,Un(n,l,N,7));break;case 5:var R=null;switch(Fe.tag){case 26:R=Fe.memoizedState;case 5:case 27:var X=Fe;if(R?Bp(R):X.stateNode.complete){ot=0,Ns=null;var Z=X.sibling;if(Z!==null)Fe=Z;else{var le=X.return;le!==null?(Fe=le,Ro(le)):Fe=null}break t}}ot=0,Ns=null,Un(n,l,N,5);break;case 6:ot=0,Ns=null,Un(n,l,N,6);break;case 8:Lh(),Ct=6;break e;default:throw Error(a(462))}}Hw();break}catch(xe){$m(n,xe)}while(!0);return wa=Oi=null,F.H=g,F.A=v,at=d,Fe!==null?0:(pt=null,Ve=0,Jl(),Ct)}function Hw(){for(;Fe!==null&&!ki();)Jm(Fe)}function Jm(n){var l=Nm(n.alternate,n,Ma);n.memoizedProps=n.pendingProps,l===null?Ro(n):Fe=l}function ep(n){var l=n,d=l.alternate;switch(l.tag){case 15:case 0:l=pm(d,l,l.pendingProps,l.type,void 0,Ve);break;case 11:l=pm(d,l,l.pendingProps,l.type.render,l.ref,Ve);break;case 5:Gd(l);default:km(d,l),l=Fe=Zg(l,Ma),l=Nm(d,l,Ma)}n.memoizedProps=n.pendingProps,l===null?Ro(n):Fe=l}function Un(n,l,d,g){wa=Oi=null,Gd(l),zn=null,Er=0;var v=l.return;try{if(kw(n,v,l,d,Ve)){Ct=1,jo(n,Ds(d,n.current)),Fe=null;return}}catch(N){if(v!==null)throw Fe=v,N;Ct=1,jo(n,Ds(d,n.current)),Fe=null;return}l.flags&32768?($e||g===1?n=!0:Xn||(Ve&536870912)!==0?n=!1:(ei=n=!0,(g===2||g===9||g===3||g===6)&&(g=ws.current,g!==null&&g.tag===13&&(g.flags|=16384))),tp(l,n)):Ro(l)}function Ro(n){var l=n;do{if((l.flags&32768)!==0){tp(l,ei);return}n=l.return;var d=Tw(l.alternate,l,Ma);if(d!==null){Fe=d;return}if(l=l.sibling,l!==null){Fe=l;return}Fe=l=n}while(l!==null);Ct===0&&(Ct=5)}function tp(n,l){do{var d=_w(n.alternate,n);if(d!==null){d.flags&=32767,Fe=d;return}if(d=n.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(n=n.sibling,n!==null)){Fe=n;return}Fe=n=d}while(n!==null);Ct=6,Fe=null}function sp(n,l,d,g,v,N,R,X,Z){n.cancelPendingCommit=null;do Oo();while(Pt!==0);if((at&6)!==0)throw Error(a(327));if(l!==null){if(l===n.current)throw Error(a(177));if(N=l.lanes|l.childLanes,N|=wd,Yl(n,d,N,R,X,Z),n===pt&&(Fe=pt=null,Ve=0),Fn=l,ai=n,La=d,_h=N,Eh=v,Wm=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Yw(ln,function(){return lp(),null})):(n.callbackNode=null,n.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,v=q.p,q.p=2,R=at,at|=4;try{Ew(n,l,d)}finally{at=R,q.p=v,F.T=g}}Pt=1,ap(),ip(),np()}}function ap(){if(Pt===1){Pt=0;var n=ai,l=Fn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=F.T,F.T=null;var g=q.p;q.p=2;var v=at;at|=4;try{Hm(l,n);var N=Wh,R=Fg(n.containerInfo),X=N.focusedElem,Z=N.selectionRange;if(R!==X&&X&&X.ownerDocument&&Yg(X.ownerDocument.documentElement,X)){if(Z!==null&&md(X)){var le=Z.start,xe=Z.end;if(xe===void 0&&(xe=le),"selectionStart"in X)X.selectionStart=le,X.selectionEnd=Math.min(xe,X.value.length);else{var fe=X.ownerDocument||document,oe=fe&&fe.defaultView||window;if(oe.getSelection){var de=oe.getSelection(),Se=X.textContent.length,Me=Math.min(Z.start,Se),xt=Z.end===void 0?Me:Math.min(Z.end,Se);!de.extend&&Me>xt&&(R=xt,xt=Me,Me=R);var se=Xg(X,Me),ee=Xg(X,xt);if(se&&ee&&(de.rangeCount!==1||de.anchorNode!==se.node||de.anchorOffset!==se.offset||de.focusNode!==ee.node||de.focusOffset!==ee.offset)){var re=fe.createRange();re.setStart(se.node,se.offset),de.removeAllRanges(),Me>xt?(de.addRange(re),de.extend(ee.node,ee.offset)):(re.setEnd(ee.node,ee.offset),de.addRange(re))}}}}for(fe=[],de=X;de=de.parentNode;)de.nodeType===1&&fe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<fe.length;X++){var ge=fe[X];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Go=!!Uh,Wh=Uh=null}finally{at=v,q.p=g,F.T=d}}n.current=l,Pt=2}}function ip(){if(Pt===2){Pt=0;var n=ai,l=Fn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=F.T,F.T=null;var g=q.p;q.p=2;var v=at;at|=4;try{Lm(n,l.alternate,l)}finally{at=v,q.p=g,F.T=d}}Pt=3}}function np(){if(Pt===4||Pt===3){Pt=0,Hl();var n=ai,l=Fn,d=La,g=Wm;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pt=5:(Pt=0,Fn=ai=null,rp(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(si=null),Zc(d),l=l.stateNode,ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(Ci,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=F.T,v=q.p,q.p=2,F.T=null;try{for(var N=n.onRecoverableError,R=0;R<g.length;R++){var X=g[R];N(X.value,{componentStack:X.stack})}}finally{F.T=l,q.p=v}}(La&3)!==0&&Oo(),ca(n),v=n.pendingLanes,(d&261930)!==0&&(v&42)!==0?n===Mh?qr++:(qr=0,Mh=n):qr=0,Gr(0)}}function rp(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,Tr(l)))}function Oo(){return ap(),ip(),np(),lp()}function lp(){if(Pt!==5)return!1;var n=ai,l=_h;_h=0;var d=Zc(La),g=F.T,v=q.p;try{q.p=32>d?32:d,F.T=null,d=Eh,Eh=null;var N=ai,R=La;if(Pt=0,Fn=ai=null,La=0,(at&6)!==0)throw Error(a(331));var X=at;if(at|=4,Fm(N.current),Bm(N,N.current,R,d),at=X,Gr(0,!1),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(Ci,N)}catch{}return!0}finally{q.p=v,F.T=g,rp(n,l)}}function op(n,l,d){l=Ds(d,l),l=ch(n.stateNode,l,2),n=Ka(n,l,2),n!==null&&(as(n,2),ca(n))}function ct(n,l,d){if(n.tag===3)op(n,n,d);else for(;l!==null;){if(l.tag===3){op(l,n,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(si===null||!si.has(g))){n=Ds(d,n),d=cm(2),g=Ka(l,d,2),g!==null&&(dm(d,g,l,n),as(g,2),ca(g));break}}l=l.return}}function Dh(n,l,d){var g=n.pingCache;if(g===null){g=n.pingCache=new zw;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(d)||(Ch=!0,v.add(d),n=Pw.bind(null,n,l,d),l.then(n,n))}function Pw(n,l,d){var g=n.pingCache;g!==null&&g.delete(l),n.pingedLanes|=n.suspendedLanes&d,n.warmLanes&=~d,pt===n&&(Ve&d)===d&&(Ct===4||Ct===3&&(Ve&62914560)===Ve&&300>Wt()-Eo?(at&2)===0&&In(n,0):Ah|=d,Yn===Ve&&(Yn=0)),ca(n)}function cp(n,l){l===0&&(l=st()),n=zi(n,l),n!==null&&(as(n,l),ca(n))}function Bw(n){var l=n.memoizedState,d=0;l!==null&&(d=l.retryLane),cp(n,d)}function Xw(n,l){var d=0;switch(n.tag){case 31:case 13:var g=n.stateNode,v=n.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=n.stateNode;break;case 22:g=n.stateNode._retryCache;break;default:throw Error(a(314))}g!==null&&g.delete(l),cp(n,d)}function Yw(n,l){return ze(n,l)}var Ho=null,Wn=null,Rh=!1,Po=!1,Oh=!1,ni=0;function ca(n){n!==Wn&&n.next===null&&(Wn===null?Ho=Wn=n:Wn=Wn.next=n),Po=!0,Rh||(Rh=!0,Iw())}function Gr(n,l){if(!Oh&&Po){Oh=!0;do for(var d=!1,g=Ho;g!==null;){if(n!==0){var v=g.pendingLanes;if(v===0)var N=0;else{var R=g.suspendedLanes,X=g.pingedLanes;N=(1<<31-ss(42|n)+1)-1,N&=v&~(R&~X),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,xp(g,N))}else N=Ve,N=hn(g,g===pt?N:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(N&3)===0||ce(g,N)||(d=!0,xp(g,N));g=g.next}while(d);Oh=!1}}function Fw(){dp()}function dp(){Po=Rh=!1;var n=0;ni!==0&&Jw()&&(n=ni);for(var l=Wt(),d=null,g=Ho;g!==null;){var v=g.next,N=hp(g,l);N===0?(g.next=null,d===null?Ho=v:d.next=v,v===null&&(Wn=d)):(d=g,(n!==0||(N&3)!==0)&&(Po=!0)),g=v}Pt!==0&&Pt!==5||Gr(n),ni!==0&&(ni=0)}function hp(n,l){for(var d=n.suspendedLanes,g=n.pingedLanes,v=n.expirationTimes,N=n.pendingLanes&-62914561;0<N;){var R=31-ss(N),X=1<<R,Z=v[R];Z===-1?((X&d)===0||(X&g)!==0)&&(v[R]=Ne(X,l)):Z<=l&&(n.expiredLanes|=X),N&=~X}if(l=pt,d=Ve,d=hn(n,n===l?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g=n.callbackNode,d===0||n===l&&(ot===2||ot===9)||n.cancelPendingCommit!==null)return g!==null&&g!==null&&Ut(g),n.callbackNode=null,n.callbackPriority=0;if((d&3)===0||ce(n,d)){if(l=d&-d,l===n.callbackPriority)return l;switch(g!==null&&Ut(g),Zc(d)){case 2:case 8:d=Bl;break;case 32:d=ln;break;case 268435456:d=Xl;break;default:d=ln}return g=up.bind(null,n),d=ze(d,g),n.callbackPriority=l,n.callbackNode=d,l}return g!==null&&g!==null&&Ut(g),n.callbackPriority=2,n.callbackNode=null,2}function up(n,l){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var d=n.callbackNode;if(Oo()&&n.callbackNode!==d)return null;var g=Ve;return g=hn(n,n===pt?g:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),g===0?null:(qm(n,g,l),hp(n,Wt()),n.callbackNode!=null&&n.callbackNode===d?up.bind(null,n):null)}function xp(n,l){if(Oo())return null;qm(n,l,!0)}function Iw(){t1(function(){(at&6)!==0?ze(Pl,Fw):dp()})}function Hh(){if(ni===0){var n=En;n===0&&(n=cn,cn<<=1,(cn&261888)===0&&(cn=256)),ni=n}return ni}function gp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Wl(""+n)}function fp(n,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,n.id&&d.setAttribute("form",n.id),l.parentNode.insertBefore(d,l),n=new FormData(n),d.parentNode.removeChild(d),n}function Uw(n,l,d,g,v){if(l==="submit"&&d&&d.stateNode===v){var N=gp((v[hs]||null).action),R=g.submitter;R&&(l=(l=R[hs]||null)?gp(l.formAction):R.getAttribute("formAction"),l!==null&&(N=l,R=null));var X=new $l("action","action",null,g,v);n.push({event:X,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ni!==0){var Z=R?fp(v,R):new FormData(v);ah(d,{pending:!0,data:Z,method:v.method,action:N},null,Z)}}else typeof N=="function"&&(X.preventDefault(),Z=R?fp(v,R):new FormData(v),ah(d,{pending:!0,data:Z,method:v.method,action:N},N,Z))},currentTarget:v}]})}}for(var Ph=0;Ph<yd.length;Ph++){var Bh=yd[Ph],Ww=Bh.toLowerCase(),Vw=Bh[0].toUpperCase()+Bh.slice(1);qs(Ww,"on"+Vw)}qs(Wg,"onAnimationEnd"),qs(Vg,"onAnimationIteration"),qs(qg,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(ow,"onTransitionRun"),qs(cw,"onTransitionStart"),qs(dw,"onTransitionCancel"),qs(Gg,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($r));function mp(n,l){l=(l&4)!==0;for(var d=0;d<n.length;d++){var g=n[d],v=g.event;g=g.listeners;e:{var N=void 0;if(l)for(var R=g.length-1;0<=R;R--){var X=g[R],Z=X.instance,le=X.currentTarget;if(X=X.listener,Z!==N&&v.isPropagationStopped())break e;N=X,v.currentTarget=le;try{N(v)}catch(xe){Ql(xe)}v.currentTarget=null,N=Z}else for(R=0;R<g.length;R++){if(X=g[R],Z=X.instance,le=X.currentTarget,X=X.listener,Z!==N&&v.isPropagationStopped())break e;N=X,v.currentTarget=le;try{N(v)}catch(xe){Ql(xe)}v.currentTarget=null,N=Z}}}}function Ie(n,l){var d=l[Qc];d===void 0&&(d=l[Qc]=new Set);var g=n+"__bubble";d.has(g)||(pp(l,n,2,!1),d.add(g))}function Xh(n,l,d){var g=0;l&&(g|=4),pp(d,n,g,l)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Yh(n){if(!n[Bo]){n[Bo]=!0,cg.forEach(function(d){d!=="selectionchange"&&(qw.has(d)||Xh(d,!1,n),Xh(d,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[Bo]||(l[Bo]=!0,Xh("selectionchange",!1,l))}}function pp(n,l,d,g){switch(Vp(l)){case 2:var v=w1;break;case 8:v=j1;break;default:v=su}d=v.bind(null,l,d,n),v=void 0,!ld||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?n.addEventListener(l,d,{capture:!0,passive:v}):n.addEventListener(l,d,!0):v!==void 0?n.addEventListener(l,d,{passive:v}):n.addEventListener(l,d,!1)}function Fh(n,l,d,g,v){var N=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var X=g.stateNode.containerInfo;if(X===v)break;if(R===4)for(R=g.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;X!==null;){if(R=xn(X),R===null)return;if(Z=R.tag,Z===5||Z===6||Z===26||Z===27){g=N=R;continue e}X=X.parentNode}}g=g.return}wg(function(){var le=N,xe=nd(d),fe=[];e:{var oe=$g.get(n);if(oe!==void 0){var de=$l,Se=n;switch(n){case"keypress":if(ql(d)===0)break e;case"keydown":case"keyup":de=Xy;break;case"focusin":Se="focus",de=hd;break;case"focusout":Se="blur",de=hd;break;case"beforeblur":case"afterblur":de=hd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Iy;break;case Wg:case Vg:case qg:de=My;break;case Gg:de=Wy;break;case"scroll":case"scrollend":de=Cy;break;case"wheel":de=qy;break;case"copy":case"cut":case"paste":de=zy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Cg;break;case"toggle":case"beforetoggle":de=$y}var Me=(l&4)!==0,xt=!Me&&(n==="scroll"||n==="scrollend"),se=Me?oe!==null?oe+"Capture":null:oe;Me=[];for(var ee=le,re;ee!==null;){var ge=ee;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||se===null||(ge=pr(ee,se),ge!=null&&Me.push(Kr(ee,ge,re))),xt)break;ee=ee.return}0<Me.length&&(oe=new de(oe,Se,null,d,xe),fe.push({event:oe,listeners:Me}))}}if((l&7)===0){e:{if(oe=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",oe&&d!==id&&(Se=d.relatedTarget||d.fromElement)&&(xn(Se)||Se[un]))break e;if((de||oe)&&(oe=xe.window===xe?xe:(oe=xe.ownerDocument)?oe.defaultView||oe.parentWindow:window,de?(Se=d.relatedTarget||d.toElement,de=le,Se=Se?xn(Se):null,Se!==null&&(xt=o(Se),Me=Se.tag,Se!==xt||Me!==5&&Me!==27&&Me!==6)&&(Se=null)):(de=null,Se=le),de!==Se)){if(Me=Sg,ge="onMouseLeave",se="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(Me=Cg,ge="onPointerLeave",se="onPointerEnter",ee="pointer"),xt=de==null?oe:mr(de),re=Se==null?oe:mr(Se),oe=new Me(ge,ee+"leave",de,d,xe),oe.target=xt,oe.relatedTarget=re,ge=null,xn(xe)===le&&(Me=new Me(se,ee+"enter",Se,d,xe),Me.target=re,Me.relatedTarget=xt,ge=Me),xt=ge,de&&Se)t:{for(Me=Gw,se=de,ee=Se,re=0,ge=se;ge;ge=Me(ge))re++;ge=0;for(var _e=ee;_e;_e=Me(_e))ge++;for(;0<re-ge;)se=Me(se),re--;for(;0<ge-re;)ee=Me(ee),ge--;for(;re--;){if(se===ee||ee!==null&&se===ee.alternate){Me=se;break t}se=Me(se),ee=Me(ee)}Me=null}else Me=null;de!==null&&bp(fe,oe,de,Me,!1),Se!==null&&xt!==null&&bp(fe,xt,Se,Me,!0)}}e:{if(oe=le?mr(le):window,de=oe.nodeName&&oe.nodeName.toLowerCase(),de==="select"||de==="input"&&oe.type==="file")var Je=Dg;else if(Lg(oe))if(Rg)Je=nw;else{Je=aw;var ke=sw}else de=oe.nodeName,!de||de.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?le&&ad(le.elementType)&&(Je=Dg):Je=iw;if(Je&&(Je=Je(n,le))){zg(fe,Je,d,xe);break e}ke&&ke(n,oe,le),n==="focusout"&&le&&oe.type==="number"&&le.memoizedProps.value!=null&&sd(oe,"number",oe.value)}switch(ke=le?mr(le):window,n){case"focusin":(Lg(ke)||ke.contentEditable==="true")&&(jn=ke,pd=le,kr=null);break;case"focusout":kr=pd=jn=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Ig(fe,d,xe);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":Ig(fe,d,xe)}var Be;if(xd)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else wn?Eg(n,d)&&(qe="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(qe="onCompositionStart");qe&&(Ag&&d.locale!=="ko"&&(wn||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&wn&&(Be=jg()):(Ia=xe,od="value"in Ia?Ia.value:Ia.textContent,wn=!0)),ke=Xo(le,qe),0<ke.length&&(qe=new kg(qe,n,null,d,xe),fe.push({event:qe,listeners:ke}),Be?qe.data=Be:(Be=Mg(d),Be!==null&&(qe.data=Be)))),(Be=Zy?Qy(n,d):Jy(n,d))&&(qe=Xo(le,"onBeforeInput"),0<qe.length&&(ke=new kg("onBeforeInput","beforeinput",null,d,xe),fe.push({event:ke,listeners:qe}),ke.data=Be)),Uw(fe,n,le,d,xe)}mp(fe,l)})}function Kr(n,l,d){return{instance:n,listener:l,currentTarget:d}}function Xo(n,l){for(var d=l+"Capture",g=[];n!==null;){var v=n,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=pr(n,d),v!=null&&g.unshift(Kr(n,v,N)),v=pr(n,l),v!=null&&g.push(Kr(n,v,N))),n.tag===3)return g;n=n.return}return[]}function Gw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function bp(n,l,d,g,v){for(var N=l._reactName,R=[];d!==null&&d!==g;){var X=d,Z=X.alternate,le=X.stateNode;if(X=X.tag,Z!==null&&Z===g)break;X!==5&&X!==26&&X!==27||le===null||(Z=le,v?(le=pr(d,N),le!=null&&R.unshift(Kr(d,le,Z))):v||(le=pr(d,N),le!=null&&R.push(Kr(d,le,Z)))),d=d.return}R.length!==0&&n.push({event:l,listeners:R})}var $w=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function vp(n){return(typeof n=="string"?n:""+n).replace($w,`
`).replace(Kw,"")}function yp(n,l){return l=vp(l),vp(n)===l}function ut(n,l,d,g,v,N){switch(d){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||bn(n,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&bn(n,""+g);break;case"className":Il(n,"class",g);break;case"tabIndex":Il(n,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(n,d,g);break;case"style":vg(n,g,N);break;case"data":if(l!=="object"){Il(n,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||d!=="href")){n.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(d);break}g=Wl(""+g),n.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){n.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(l!=="input"&&ut(n,l,"name",v.name,v,null),ut(n,l,"formEncType",v.formEncType,v,null),ut(n,l,"formMethod",v.formMethod,v,null),ut(n,l,"formTarget",v.formTarget,v,null)):(ut(n,l,"encType",v.encType,v,null),ut(n,l,"method",v.method,v,null),ut(n,l,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){n.removeAttribute(d);break}g=Wl(""+g),n.setAttribute(d,g);break;case"onClick":g!=null&&(n.onclick=pa);break;case"onScroll":g!=null&&Ie("scroll",n);break;case"onScrollEnd":g!=null&&Ie("scrollend",n);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(a(60));n.innerHTML=d}}break;case"multiple":n.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":n.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){n.removeAttribute("xlink:href");break}d=Wl(""+g),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(d,""+g):n.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(d,""):n.removeAttribute(d);break;case"capture":case"download":g===!0?n.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?n.setAttribute(d,g):n.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?n.setAttribute(d,g):n.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?n.removeAttribute(d):n.setAttribute(d,g);break;case"popover":Ie("beforetoggle",n),Ie("toggle",n),Fl(n,"popover",g);break;case"xlinkActuate":ma(n,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ma(n,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ma(n,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ma(n,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ma(n,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ma(n,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ma(n,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ma(n,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ma(n,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Fl(n,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Sy.get(d)||d,Fl(n,d,g))}}function Ih(n,l,d,g,v,N){switch(d){case"style":vg(n,g,N);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(a(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(a(60));n.innerHTML=d}}break;case"children":typeof g=="string"?bn(n,g):(typeof g=="number"||typeof g=="bigint")&&bn(n,""+g);break;case"onScroll":g!=null&&Ie("scroll",n);break;case"onScrollEnd":g!=null&&Ie("scrollend",n);break;case"onClick":g!=null&&(n.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dg.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),l=d.slice(2,v?d.length-7:void 0),N=n[hs]||null,N=N!=null?N[d]:null,typeof N=="function"&&n.removeEventListener(l,N,v),typeof g=="function")){typeof N!="function"&&N!==null&&(d in n?n[d]=null:n.hasAttribute(d)&&n.removeAttribute(d)),n.addEventListener(l,g,v);break e}d in n?n[d]=g:g===!0?n.setAttribute(d,""):Fl(n,d,g)}}}function Kt(n,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",n),Ie("load",n);var g=!1,v=!1,N;for(N in d)if(d.hasOwnProperty(N)){var R=d[N];if(R!=null)switch(N){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ut(n,l,N,R,d,null)}}v&&ut(n,l,"srcSet",d.srcSet,d,null),g&&ut(n,l,"src",d.src,d,null);return;case"input":Ie("invalid",n);var X=N=R=v=null,Z=null,le=null;for(g in d)if(d.hasOwnProperty(g)){var xe=d[g];if(xe!=null)switch(g){case"name":v=xe;break;case"type":R=xe;break;case"checked":Z=xe;break;case"defaultChecked":le=xe;break;case"value":N=xe;break;case"defaultValue":X=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(a(137,l));break;default:ut(n,l,g,xe,d,null)}}fg(n,N,X,Z,le,R,v,!1);return;case"select":Ie("invalid",n),g=R=N=null;for(v in d)if(d.hasOwnProperty(v)&&(X=d[v],X!=null))switch(v){case"value":N=X;break;case"defaultValue":R=X;break;case"multiple":g=X;default:ut(n,l,v,X,d,null)}l=N,d=R,n.multiple=!!g,l!=null?pn(n,!!g,l,!1):d!=null&&pn(n,!!g,d,!0);return;case"textarea":Ie("invalid",n),N=v=g=null;for(R in d)if(d.hasOwnProperty(R)&&(X=d[R],X!=null))switch(R){case"value":g=X;break;case"defaultValue":v=X;break;case"children":N=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(91));break;default:ut(n,l,R,X,d,null)}pg(n,g,v,N);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(g=d[Z],g!=null))switch(Z){case"selected":n.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ut(n,l,Z,g,d,null)}return;case"dialog":Ie("beforetoggle",n),Ie("toggle",n),Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":Ie("load",n);break;case"video":case"audio":for(g=0;g<$r.length;g++)Ie($r[g],n);break;case"image":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"embed":case"source":case"link":Ie("error",n),Ie("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in d)if(d.hasOwnProperty(le)&&(g=d[le],g!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:ut(n,l,le,g,d,null)}return;default:if(ad(l)){for(xe in d)d.hasOwnProperty(xe)&&(g=d[xe],g!==void 0&&Ih(n,l,xe,g,d,void 0));return}}for(X in d)d.hasOwnProperty(X)&&(g=d[X],g!=null&&ut(n,l,X,g,d,null))}function Zw(n,l,d,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,R=null,X=null,Z=null,le=null,xe=null;for(de in d){var fe=d[de];if(d.hasOwnProperty(de)&&fe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Z=fe;default:g.hasOwnProperty(de)||ut(n,l,de,null,g,fe)}}for(var oe in g){var de=g[oe];if(fe=d[oe],g.hasOwnProperty(oe)&&(de!=null||fe!=null))switch(oe){case"type":N=de;break;case"name":v=de;break;case"checked":le=de;break;case"defaultChecked":xe=de;break;case"value":R=de;break;case"defaultValue":X=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(a(137,l));break;default:de!==fe&&ut(n,l,oe,de,g,fe)}}td(n,R,X,Z,le,xe,N,v);return;case"select":de=R=X=oe=null;for(N in d)if(Z=d[N],d.hasOwnProperty(N)&&Z!=null)switch(N){case"value":break;case"multiple":de=Z;default:g.hasOwnProperty(N)||ut(n,l,N,null,g,Z)}for(v in g)if(N=g[v],Z=d[v],g.hasOwnProperty(v)&&(N!=null||Z!=null))switch(v){case"value":oe=N;break;case"defaultValue":X=N;break;case"multiple":R=N;default:N!==Z&&ut(n,l,v,N,g,Z)}l=X,d=R,g=de,oe!=null?pn(n,!!d,oe,!1):!!g!=!!d&&(l!=null?pn(n,!!d,l,!0):pn(n,!!d,d?[]:"",!1));return;case"textarea":de=oe=null;for(X in d)if(v=d[X],d.hasOwnProperty(X)&&v!=null&&!g.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:ut(n,l,X,null,g,v)}for(R in g)if(v=g[R],N=d[R],g.hasOwnProperty(R)&&(v!=null||N!=null))switch(R){case"value":oe=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:v!==N&&ut(n,l,R,v,g,N)}mg(n,oe,de);return;case"option":for(var Se in d)if(oe=d[Se],d.hasOwnProperty(Se)&&oe!=null&&!g.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:ut(n,l,Se,null,g,oe)}for(Z in g)if(oe=g[Z],de=d[Z],g.hasOwnProperty(Z)&&oe!==de&&(oe!=null||de!=null))switch(Z){case"selected":n.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:ut(n,l,Z,oe,g,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in d)oe=d[Me],d.hasOwnProperty(Me)&&oe!=null&&!g.hasOwnProperty(Me)&&ut(n,l,Me,null,g,oe);for(le in g)if(oe=g[le],de=d[le],g.hasOwnProperty(le)&&oe!==de&&(oe!=null||de!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,l));break;default:ut(n,l,le,oe,g,de)}return;default:if(ad(l)){for(var xt in d)oe=d[xt],d.hasOwnProperty(xt)&&oe!==void 0&&!g.hasOwnProperty(xt)&&Ih(n,l,xt,void 0,g,oe);for(xe in g)oe=g[xe],de=d[xe],!g.hasOwnProperty(xe)||oe===de||oe===void 0&&de===void 0||Ih(n,l,xe,oe,g,de);return}}for(var se in d)oe=d[se],d.hasOwnProperty(se)&&oe!=null&&!g.hasOwnProperty(se)&&ut(n,l,se,null,g,oe);for(fe in g)oe=g[fe],de=d[fe],!g.hasOwnProperty(fe)||oe===de||oe==null&&de==null||ut(n,l,fe,oe,g,de)}function wp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,l=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var v=d[g],N=v.transferSize,R=v.initiatorType,X=v.duration;if(N&&X&&wp(R)){for(R=0,X=v.responseEnd,g+=1;g<d.length;g++){var Z=d[g],le=Z.startTime;if(le>X)break;var xe=Z.transferSize,fe=Z.initiatorType;xe&&wp(fe)&&(Z=Z.responseEnd,R+=xe*(Z<X?1:(X-le)/(Z-le)))}if(--g,l+=8*(N+R)/(v.duration/1e3),n++,10<n)break}}if(0<n)return l/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Uh=null,Wh=null;function Yo(n){return n.nodeType===9?n:n.ownerDocument}function jp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function Vh(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var qh=null;function Jw(){var n=window.event;return n&&n.type==="popstate"?n===qh?!1:(qh=n,!0):(qh=null,!1)}var Sp=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(n){return kp.resolve(null).then(n).catch(s1)}:Sp;function s1(n){setTimeout(function(){throw n})}function ri(n){return n==="head"}function Cp(n,l){var d=l,g=0;do{var v=d.nextSibling;if(n.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(g===0){n.removeChild(v),$n(l);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Zr(n.ownerDocument.documentElement);else if(d==="head"){d=n.ownerDocument.head,Zr(d);for(var N=d.firstChild;N;){var R=N.nextSibling,X=N.nodeName;N[fr]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=R}}else d==="body"&&Zr(n.ownerDocument.body);d=v}while(d);$n(l)}function Ap(n,l){var d=n;n=0;do{var g=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(n===0)break;n--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||n++;d=g}while(d)}function Gh(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Gh(d),Jc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}n.removeChild(d)}}function a1(n,l,d,g){for(;n.nodeType===1;){var v=d;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(g){if(!n[fr])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(N=n.getAttribute("rel"),N==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(N!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(N=n.getAttribute("src"),(N!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===N)return n}else return n;if(n=Bs(n.nextSibling),n===null)break}return null}function i1(n,l,d){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!d||(n=Bs(n.nextSibling),n===null))return null;return n}function Tp(n,l){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Bs(n.nextSibling),n===null))return null;return n}function $h(n){return n.data==="$?"||n.data==="$~"}function Kh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function n1(n,l){var d=n.ownerDocument;if(n.data==="$~")n._reactRetry=l;else if(n.data!=="$?"||d.readyState!=="loading")l();else{var g=function(){l(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),n._reactRetry=g}}function Bs(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return n}var Zh=null;function _p(n){n=n.nextSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"||d==="/&"){if(l===0)return Bs(n.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}n=n.nextSibling}return null}function Ep(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return n;l--}else d!=="/$"&&d!=="/&"||l++}n=n.previousSibling}return null}function Mp(n,l,d){switch(l=Yo(d),n){case"html":if(n=l.documentElement,!n)throw Error(a(452));return n;case"head":if(n=l.head,!n)throw Error(a(453));return n;case"body":if(n=l.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Zr(n){for(var l=n.attributes;l.length;)n.removeAttributeNode(l[0]);Jc(n)}var Xs=new Map,Lp=new Set;function Fo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var za=q.d;q.d={f:r1,r:l1,D:o1,C:c1,L:d1,m:h1,X:x1,S:u1,M:g1};function r1(){var n=za.f(),l=zo();return n||l}function l1(n){var l=gn(n);l!==null&&l.tag===5&&l.type==="form"?$f(l):za.r(n)}var Vn=typeof document>"u"?null:document;function zp(n,l,d){var g=Vn;if(g&&typeof l=="string"&&l){var v=Ls(l);v='link[rel="'+n+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),Lp.has(v)||(Lp.add(v),n={rel:n,crossOrigin:d,href:l},g.querySelector(v)===null&&(l=g.createElement("link"),Kt(l,"link",n),Yt(l),g.head.appendChild(l)))}}function o1(n){za.D(n),zp("dns-prefetch",n,null)}function c1(n,l){za.C(n,l),zp("preconnect",n,l)}function d1(n,l,d){za.L(n,l,d);var g=Vn;if(g&&n&&l){var v='link[rel="preload"][as="'+Ls(l)+'"]';l==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+Ls(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+Ls(d.imageSizes)+'"]')):v+='[href="'+Ls(n)+'"]';var N=v;switch(l){case"style":N=qn(n);break;case"script":N=Gn(n)}Xs.has(N)||(n=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:n,as:l},d),Xs.set(N,n),g.querySelector(v)!==null||l==="style"&&g.querySelector(Qr(N))||l==="script"&&g.querySelector(Jr(N))||(l=g.createElement("link"),Kt(l,"link",n),Yt(l),g.head.appendChild(l)))}}function h1(n,l){za.m(n,l);var d=Vn;if(d&&n){var g=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Ls(g)+'"][href="'+Ls(n)+'"]',N=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Gn(n)}if(!Xs.has(N)&&(n=m({rel:"modulepreload",href:n},l),Xs.set(N,n),d.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Jr(N)))return}g=d.createElement("link"),Kt(g,"link",n),Yt(g),d.head.appendChild(g)}}}function u1(n,l,d){za.S(n,l,d);var g=Vn;if(g&&n){var v=fn(g).hoistableStyles,N=qn(n);l=l||"default";var R=v.get(N);if(!R){var X={loading:0,preload:null};if(R=g.querySelector(Qr(N)))X.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":l},d),(d=Xs.get(N))&&Qh(n,d);var Z=R=g.createElement("link");Yt(Z),Kt(Z,"link",n),Z._p=new Promise(function(le,xe){Z.onload=le,Z.onerror=xe}),Z.addEventListener("load",function(){X.loading|=1}),Z.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Io(R,l,g)}R={type:"stylesheet",instance:R,count:1,state:X},v.set(N,R)}}}function x1(n,l){za.X(n,l);var d=Vn;if(d&&n){var g=fn(d).hoistableScripts,v=Gn(n),N=g.get(v);N||(N=d.querySelector(Jr(v)),N||(n=m({src:n,async:!0},l),(l=Xs.get(v))&&Jh(n,l),N=d.createElement("script"),Yt(N),Kt(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(v,N))}}function g1(n,l){za.M(n,l);var d=Vn;if(d&&n){var g=fn(d).hoistableScripts,v=Gn(n),N=g.get(v);N||(N=d.querySelector(Jr(v)),N||(n=m({src:n,async:!0,type:"module"},l),(l=Xs.get(v))&&Jh(n,l),N=d.createElement("script"),Yt(N),Kt(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},g.set(v,N))}}function Dp(n,l,d,g){var v=(v=ie.current)?Fo(v):null;if(!v)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=qn(d.href),d=fn(v).hoistableStyles,g=d.get(l),g||(g={type:"style",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){n=qn(d.href);var N=fn(v).hoistableStyles,R=N.get(n);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(n,R),(N=v.querySelector(Qr(n)))&&!N._p&&(R.instance=N,R.state.loading=5),Xs.has(n)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Xs.set(n,d),N||f1(v,n,d,R.state))),l&&g===null)throw Error(a(528,""));return R}if(l&&g!==null)throw Error(a(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Gn(d),d=fn(v).hoistableScripts,g=d.get(l),g||(g={type:"script",instance:null,count:0,state:null},d.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function qn(n){return'href="'+Ls(n)+'"'}function Qr(n){return'link[rel="stylesheet"]['+n+"]"}function Rp(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function f1(n,l,d,g){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=n.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Kt(l,"link",d),Yt(l),n.head.appendChild(l))}function Gn(n){return'[src="'+Ls(n)+'"]'}function Jr(n){return"script[async]"+n}function Op(n,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var g=n.querySelector('style[data-href~="'+Ls(d.href)+'"]');if(g)return l.instance=g,Yt(g),g;var v=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(n.ownerDocument||n).createElement("style"),Yt(g),Kt(g,"style",v),Io(g,d.precedence,n),l.instance=g;case"stylesheet":v=qn(d.href);var N=n.querySelector(Qr(v));if(N)return l.state.loading|=4,l.instance=N,Yt(N),N;g=Rp(d),(v=Xs.get(v))&&Qh(g,v),N=(n.ownerDocument||n).createElement("link"),Yt(N);var R=N;return R._p=new Promise(function(X,Z){R.onload=X,R.onerror=Z}),Kt(N,"link",g),l.state.loading|=4,Io(N,d.precedence,n),l.instance=N;case"script":return N=Gn(d.src),(v=n.querySelector(Jr(N)))?(l.instance=v,Yt(v),v):(g=d,(v=Xs.get(N))&&(g=m({},d),Jh(g,v)),n=n.ownerDocument||n,v=n.createElement("script"),Yt(v),Kt(v,"link",g),n.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Io(g,d.precedence,n));return l.instance}function Io(n,l,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,N=v,R=0;R<g.length;R++){var X=g[R];if(X.dataset.precedence===l)N=X;else if(N!==v)break}N?N.parentNode.insertBefore(n,N.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(n,l.firstChild))}function Qh(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function Jh(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var Uo=null;function Hp(n,l,d){if(Uo===null){var g=new Map,v=Uo=new Map;v.set(d,g)}else v=Uo,g=v.get(d),g||(g=new Map,v.set(d,g));if(g.has(n))return g;for(g.set(n,null),d=d.getElementsByTagName(n),v=0;v<d.length;v++){var N=d[v];if(!(N[fr]||N[Vt]||n==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var R=N.getAttribute(l)||"";R=n+R;var X=g.get(R);X?X.push(N):g.set(R,[N])}}return g}function Pp(n,l,d){n=n.ownerDocument||n,n.head.insertBefore(d,l==="title"?n.querySelector("head > title"):null)}function m1(n,l,d){if(d===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return n=l.disabled,typeof l.precedence=="string"&&n==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Bp(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function p1(n,l,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=qn(g.href),N=l.querySelector(Qr(v));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(n.count++,n=Wo.bind(n),l.then(n,n)),d.state.loading|=4,d.instance=N,Yt(N);return}N=l.ownerDocument||l,g=Rp(g),(v=Xs.get(v))&&Qh(g,v),N=N.createElement("link"),Yt(N);var R=N;R._p=new Promise(function(X,Z){R.onload=X,R.onerror=Z}),Kt(N,"link",g),d.instance=N}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(n.count++,d=Wo.bind(n),l.addEventListener("load",d),l.addEventListener("error",d))}}var eu=0;function b1(n,l){return n.stylesheets&&n.count===0&&qo(n,n.stylesheets),0<n.count||0<n.imgCount?function(d){var g=setTimeout(function(){if(n.stylesheets&&qo(n,n.stylesheets),n.unsuspend){var N=n.unsuspend;n.unsuspend=null,N()}},6e4+l);0<n.imgBytes&&eu===0&&(eu=62500*Qw());var v=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&qo(n,n.stylesheets),n.unsuspend)){var N=n.unsuspend;n.unsuspend=null,N()}},(n.imgBytes>eu?50:800)+l);return n.unsuspend=d,function(){n.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function Wo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qo(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vo=null;function qo(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vo=new Map,l.forEach(v1,n),Vo=null,Wo.call(n))}function v1(n,l){if(!(l.state.loading&4)){var d=Vo.get(n);if(d)var g=d.get(null);else{d=new Map,Vo.set(n,d);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var R=v[N];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),g=R)}g&&d.set(null,g)}v=l.instance,R=v.getAttribute("data-precedence"),N=d.get(R)||g,N===g&&d.set(null,v),d.set(R,v),this.count++,g=Wo.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),N?N.parentNode.insertBefore(v,N.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),l.state.loading|=4}}var el={$$typeof:A,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function y1(n,l,d,g,v,N,R,X,Z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.hiddenUpdates=Ht(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Xp(n,l,d,g,v,N,R,X,Z,le,xe,fe){return n=new y1(n,l,d,R,Z,le,xe,fe,X),l=1,N===!0&&(l|=24),N=ys(3,null,null,l),n.current=N,N.stateNode=n,l=zd(),l.refCount++,n.pooledCache=l,l.refCount++,N.memoizedState={element:g,isDehydrated:d,cache:l},Hd(N),n}function Yp(n){return n?(n=kn,n):kn}function Fp(n,l,d,g,v,N){v=Yp(v),g.context===null?g.context=v:g.pendingContext=v,g=$a(l),g.payload={element:d},N=N===void 0?null:N,N!==null&&(g.callback=N),d=Ka(n,g,l),d!==null&&(ps(d,n,l),Lr(d,n,l))}function Ip(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<l?d:l}}function tu(n,l){Ip(n,l),(n=n.alternate)&&Ip(n,l)}function Up(n){if(n.tag===13||n.tag===31){var l=zi(n,67108864);l!==null&&ps(l,n,67108864),tu(n,67108864)}}function Wp(n){if(n.tag===13||n.tag===31){var l=ks();l=Kc(l);var d=zi(n,l);d!==null&&ps(d,n,l),tu(n,l)}}var Go=!0;function w1(n,l,d,g){var v=F.T;F.T=null;var N=q.p;try{q.p=2,su(n,l,d,g)}finally{q.p=N,F.T=v}}function j1(n,l,d,g){var v=F.T;F.T=null;var N=q.p;try{q.p=8,su(n,l,d,g)}finally{q.p=N,F.T=v}}function su(n,l,d,g){if(Go){var v=au(g);if(v===null)Fh(n,l,g,$o,d),qp(n,g);else if(S1(v,n,l,d,g))g.stopPropagation();else if(qp(n,g),l&4&&-1<N1.indexOf(n)){for(;v!==null;){var N=gn(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var R=fa(N.pendingLanes);if(R!==0){var X=N;for(X.pendingLanes|=2,X.entangledLanes|=2;R;){var Z=1<<31-ss(R);X.entanglements[1]|=Z,R&=~Z}ca(N),(at&6)===0&&(Mo=Wt()+500,Gr(0))}}break;case 31:case 13:X=zi(N,2),X!==null&&ps(X,N,2),zo(),tu(N,2)}if(N=au(g),N===null&&Fh(n,l,g,$o,d),N===v)break;v=N}v!==null&&g.stopPropagation()}else Fh(n,l,g,null,d)}}function au(n){return n=nd(n),iu(n)}var $o=null;function iu(n){if($o=null,n=xn(n),n!==null){var l=o(n);if(l===null)n=null;else{var d=l.tag;if(d===13){if(n=c(l),n!==null)return n;n=null}else if(d===31){if(n=h(l),n!==null)return n;n=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return $o=n,null}function Vp(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uc()){case Pl:return 2;case Bl:return 8;case ln:case Wc:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var nu=!1,li=null,oi=null,ci=null,tl=new Map,sl=new Map,di=[],N1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(n,l){switch(n){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":tl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(l.pointerId)}}function al(n,l,d,g,v,N){return n===null||n.nativeEvent!==N?(n={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:N,targetContainers:[v]},l!==null&&(l=gn(l),l!==null&&Up(l)),n):(n.eventSystemFlags|=g,l=n.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),n)}function S1(n,l,d,g,v){switch(l){case"focusin":return li=al(li,n,l,d,g,v),!0;case"dragenter":return oi=al(oi,n,l,d,g,v),!0;case"mouseover":return ci=al(ci,n,l,d,g,v),!0;case"pointerover":var N=v.pointerId;return tl.set(N,al(tl.get(N)||null,n,l,d,g,v)),!0;case"gotpointercapture":return N=v.pointerId,sl.set(N,al(sl.get(N)||null,n,l,d,g,v)),!0}return!1}function Gp(n){var l=xn(n.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){n.blockedOn=l,lg(n.priority,function(){Wp(d)});return}}else if(l===31){if(l=h(d),l!==null){n.blockedOn=l,lg(n.priority,function(){Wp(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ko(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var d=au(n.nativeEvent);if(d===null){d=n.nativeEvent;var g=new d.constructor(d.type,d);id=g,d.target.dispatchEvent(g),id=null}else return l=gn(d),l!==null&&Up(l),n.blockedOn=d,!1;l.shift()}return!0}function $p(n,l,d){Ko(n)&&d.delete(l)}function k1(){nu=!1,li!==null&&Ko(li)&&(li=null),oi!==null&&Ko(oi)&&(oi=null),ci!==null&&Ko(ci)&&(ci=null),tl.forEach($p),sl.forEach($p)}function Zo(n,l){n.blockedOn===l&&(n.blockedOn=null,nu||(nu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,k1)))}var Qo=null;function Kp(n){Qo!==n&&(Qo=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qo===n&&(Qo=null);for(var l=0;l<n.length;l+=3){var d=n[l],g=n[l+1],v=n[l+2];if(typeof g!="function"){if(iu(g||d)===null)continue;break}var N=gn(d);N!==null&&(n.splice(l,3),l-=3,ah(N,{pending:!0,data:v,method:d.method,action:g},g,v))}}))}function $n(n){function l(Z){return Zo(Z,n)}li!==null&&Zo(li,n),oi!==null&&Zo(oi,n),ci!==null&&Zo(ci,n),tl.forEach(l),sl.forEach(l);for(var d=0;d<di.length;d++){var g=di[d];g.blockedOn===n&&(g.blockedOn=null)}for(;0<di.length&&(d=di[0],d.blockedOn===null);)Gp(d),d.blockedOn===null&&di.shift();if(d=(n.ownerDocument||n).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var v=d[g],N=d[g+1],R=v[hs]||null;if(typeof N=="function")R||Kp(d);else if(R){var X=null;if(N&&N.hasAttribute("formAction")){if(v=N,R=N[hs]||null)X=R.formAction;else if(iu(v)!==null)continue}else X=R.action;typeof X=="function"?d[g+1]=X:(d.splice(g,3),g-=3),Kp(d)}}}function Zp(){function n(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(R){return v=R})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function ru(n){this._internalRoot=n}Jo.prototype.render=ru.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(a(409));var d=l.current,g=ks();Fp(d,g,n,l,null,null)},Jo.prototype.unmount=ru.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;Fp(n.current,2,null,n,null,null),zo(),l[un]=null}};function Jo(n){this._internalRoot=n}Jo.prototype.unstable_scheduleHydration=function(n){if(n){var l=rg();n={blockedOn:null,target:n,priority:l};for(var d=0;d<di.length&&l!==0&&l<di[d].priority;d++);di.splice(d,0,n),d===0&&Gp(n)}};var Qp=e.version;if(Qp!=="19.2.0")throw Error(a(527,Qp,"19.2.0"));q.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=x(l),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var C1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Ci=ec.inject(C1),ts=ec}catch{}}return nl.createRoot=function(n,l){if(!i(n))throw Error(a(299));var d=!1,g="",v=nm,N=rm,R=lm;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=Xp(n,1,!1,null,null,d,g,null,v,N,R,Zp),n[un]=l.current,Yh(n),new ru(l)},nl.hydrateRoot=function(n,l,d){if(!i(n))throw Error(a(299));var g=!1,v="",N=nm,R=rm,X=lm,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError),d.formState!==void 0&&(Z=d.formState)),l=Xp(n,1,!0,l,d??null,g,v,Z,N,R,X,Zp),l.context=Yp(null),d=l.current,g=ks(),g=Kc(g),v=$a(g),v.callback=null,Ka(d,v,g),d=g,l.current.lanes=d,as(l,d),ca(l),n[un]=l.current,Yh(n),new Jo(l)},nl.version="19.2.0",nl}var o0;function O1(){if(o0)return cu.exports;o0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cu.exports=R1(),cu.exports}var H1=O1();const P1=Cx(H1);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c0="popstate";function B1(r={}){function e(a,i){let{pathname:o,search:c,hash:h}=a.location;return Uu("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){return typeof i=="string"?i:gl(i)}return Y1(e,t,null,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ea(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X1(){return Math.random().toString(36).substring(2,10)}function d0(r,e){return{usr:r.state,key:r.key,idx:e}}function Uu(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?rr(e):e,state:t,key:e&&e.key||a||X1()}}function gl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function rr(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function Y1(r,e,t,a={}){let{window:i=document.defaultView,v5Compat:o=!1}=a,c=i.history,h="POP",u=null,x=f();x==null&&(x=0,c.replaceState({...c.state,idx:x},""));function f(){return(c.state||{idx:null}).idx}function m(){h="POP";let k=f(),C=k==null?null:k-x;x=k,u&&u({action:h,location:w.location,delta:C})}function p(k,C){h="PUSH";let S=Uu(w.location,k,C);x=f()+1;let A=d0(S,x),T=w.createHref(S);try{c.pushState(A,"",T)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(T)}o&&u&&u({action:h,location:w.location,delta:1})}function b(k,C){h="REPLACE";let S=Uu(w.location,k,C);x=f();let A=d0(S,x),T=w.createHref(S);c.replaceState(A,"",T),o&&u&&u({action:h,location:w.location,delta:0})}function y(k){return F1(k)}let w={get action(){return h},get location(){return r(i,c)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(c0,m),u=k,()=>{i.removeEventListener(c0,m),u=null}},createHref(k){return e(i,k)},createURL:y,encodeLocation(k){let C=y(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:p,replace:b,go(k){return c.go(k)}};return w}function F1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:gl(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function fb(r,e,t="/"){return I1(r,e,t,!1)}function I1(r,e,t,a){let i=typeof e=="string"?rr(e):e,o=Pa(i.pathname||"/",t);if(o==null)return null;let c=mb(r);U1(c);let h=null;for(let u=0;h==null&&u<c.length;++u){let x=t2(o);h=J1(c[u],x,a)}return h}function mb(r,e=[],t=[],a="",i=!1){let o=(c,h,u=i,x)=>{let f={relativePath:x===void 0?c.path||"":x,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&u)return;St(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let m=Ra([a,f.relativePath]),p=t.concat(f);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),mb(c.children,e,p,m,u)),!(c.path==null&&!c.index)&&e.push({path:m,score:Z1(m,c.index),routesMeta:p})};return r.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let u of pb(c.path))o(c,h,!0,u)}),e}function pb(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let c=pb(a.join("/")),h=[];return h.push(...c.map(u=>u===""?o:[o,u].join("/"))),i&&h.push(...c),h.map(u=>r.startsWith("/")&&u===""?"/":u)}function U1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Q1(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var W1=/^:[\w-]+$/,V1=3,q1=2,G1=1,$1=10,K1=-2,h0=r=>r==="*";function Z1(r,e){let t=r.split("/"),a=t.length;return t.some(h0)&&(a+=K1),e&&(a+=q1),t.filter(i=>!h0(i)).reduce((i,o)=>i+(W1.test(o)?V1:o===""?G1:$1),a)}function Q1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,i)=>a===e[i])?r[r.length-1]-e[e.length-1]:0}function J1(r,e,t=!1){let{routesMeta:a}=r,i={},o="/",c=[];for(let h=0;h<a.length;++h){let u=a[h],x=h===a.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=pc({path:u.relativePath,caseSensitive:u.caseSensitive,end:x},f),p=u.route;if(!m&&x&&t&&!a[a.length-1].route.index&&(m=pc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),c.push({params:i,pathname:Ra([o,m.pathname]),pathnameBase:n2(Ra([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=Ra([o,m.pathnameBase]))}return c}function pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=e2(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:a.reduce((x,{paramName:f,isOptional:m},p)=>{if(f==="*"){let y=h[p]||"";c=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=h[p];return m&&!b?x[f]=void 0:x[f]=(b||"").replace(/%2F/g,"/"),x},{}),pathname:o,pathnameBase:c,pattern:r}}function e2(r,e=!1,t=!0){ea(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,u)=>(a.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function t2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ea(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Pa(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function s2(r,e="/"){let{pathname:t,search:a="",hash:i=""}=typeof r=="string"?rr(r):r;return{pathname:t?t.startsWith("/")?t:a2(t,e):e,search:r2(a),hash:l2(i)}}function a2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function xu(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Tx(r){let e=i2(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function _x(r,e,t,a=!1){let i;typeof r=="string"?i=rr(r):(i={...r},St(!i.pathname||!i.pathname.includes("?"),xu("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),xu("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),xu("#","search","hash",i)));let o=r===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=t;else{let m=e.length-1;if(!a&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}h=m>=0?e[m]:"/"}let u=s2(i,h),x=c&&c!=="/"&&c.endsWith("/"),f=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(x||f)&&(u.pathname+="/"),u}var Ra=r=>r.join("/").replace(/\/\/+/g,"/"),n2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),r2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,l2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function o2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var bb=["POST","PUT","PATCH","DELETE"];new Set(bb);var c2=["GET",...bb];new Set(c2);var lr=E.createContext(null);lr.displayName="DataRouter";var Mc=E.createContext(null);Mc.displayName="DataRouterState";E.createContext(!1);var vb=E.createContext({isTransitioning:!1});vb.displayName="ViewTransition";var d2=E.createContext(new Map);d2.displayName="Fetchers";var h2=E.createContext(null);h2.displayName="Await";var aa=E.createContext(null);aa.displayName="Navigation";var kl=E.createContext(null);kl.displayName="Location";var Vs=E.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var Ex=E.createContext(null);Ex.displayName="RouteError";function u2(r,{relative:e}={}){St(or(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=E.useContext(aa),{hash:i,pathname:o,search:c}=Cl(r,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ra([t,o])),a.createHref({pathname:h,search:c,hash:i})}function or(){return E.useContext(kl)!=null}function ua(){return St(or(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(kl).location}var yb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wb(r){E.useContext(aa).static||E.useLayoutEffect(r)}function lt(){let{isDataRoute:r}=E.useContext(Vs);return r?A2():x2()}function x2(){St(or(),"useNavigate() may be used only in the context of a <Router> component.");let r=E.useContext(lr),{basename:e,navigator:t}=E.useContext(aa),{matches:a}=E.useContext(Vs),{pathname:i}=ua(),o=JSON.stringify(Tx(a)),c=E.useRef(!1);return wb(()=>{c.current=!0}),E.useCallback((u,x={})=>{if(ea(c.current,yb),!c.current)return;if(typeof u=="number"){t.go(u);return}let f=_x(u,JSON.parse(o),i,x.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ra([e,f.pathname])),(x.replace?t.replace:t.push)(f,x.state,x)},[e,t,o,i,r])}var g2=E.createContext(null);function f2(r){let e=E.useContext(Vs).outlet;return E.useMemo(()=>e&&E.createElement(g2.Provider,{value:r},e),[e,r])}function ia(){let{matches:r}=E.useContext(Vs),e=r[r.length-1];return e?e.params:{}}function Cl(r,{relative:e}={}){let{matches:t}=E.useContext(Vs),{pathname:a}=ua(),i=JSON.stringify(Tx(t));return E.useMemo(()=>_x(r,JSON.parse(i),a,e==="path"),[r,i,a,e])}function m2(r,e){return jb(r,e)}function jb(r,e,t,a,i){St(or(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=E.useContext(aa),{matches:c}=E.useContext(Vs),h=c[c.length-1],u=h?h.params:{},x=h?h.pathname:"/",f=h?h.pathnameBase:"/",m=h&&h.route;{let S=m&&m.path||"";Nb(x,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=ua(),b;if(e){let S=typeof e=="string"?rr(e):e;St(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=p;let y=b.pathname||"/",w=y;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=fb(r,{pathname:w});ea(m||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ea(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=w2(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Ra([f,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ra([f,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,t,a,i);return e&&C?E.createElement(kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},C):C}function p2(){let r=C2(),e=o2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,c)}var b2=E.createElement(p2,null),v2=class extends E.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?E.createElement(Vs.Provider,{value:this.props.routeContext},E.createElement(Ex.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y2({routeContext:r,match:e,children:t}){let a=E.useContext(lr);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Vs.Provider,{value:r},t)}function w2(r,e=[],t=null,a=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,c=t?.errors;if(c!=null){let x=o.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);St(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,x+1))}let h=!1,u=-1;if(t)for(let x=0;x<o.length;x++){let f=o[x];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=x),f.route.id){let{loaderData:m,errors:p}=t,b=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((x,f,m)=>{let p,b=!1,y=null,w=null;t&&(p=c&&f.route.id?c[f.route.id]:void 0,y=f.route.errorElement||b2,h&&(u<0&&m===0?(Nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):u===m&&(b=!0,w=f.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,m+1)),C=()=>{let S;return p?S=y:b?S=w:f.route.Component?S=E.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=x,E.createElement(y2,{match:f,routeContext:{outlet:x,matches:k,isDataRoute:t!=null},children:S})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?E.createElement(v2,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:a}):C()},null)}function Mx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j2(r){let e=E.useContext(lr);return St(e,Mx(r)),e}function N2(r){let e=E.useContext(Mc);return St(e,Mx(r)),e}function S2(r){let e=E.useContext(Vs);return St(e,Mx(r)),e}function Lx(r){let e=S2(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function k2(){return Lx("useRouteId")}function C2(){let r=E.useContext(Ex),e=N2("useRouteError"),t=Lx("useRouteError");return r!==void 0?r:e.errors?.[t]}function A2(){let{router:r}=j2("useNavigate"),e=Lx("useNavigate"),t=E.useRef(!1);return wb(()=>{t.current=!0}),E.useCallback(async(i,o={})=>{ea(t.current,yb),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var u0={};function Nb(r,e,t){!e&&!u0[r]&&(u0[r]=!0,ea(!1,t))}E.memo(T2);function T2({routes:r,future:e,state:t,unstable_onError:a}){return jb(r,void 0,t,a,e)}function gi({to:r,replace:e,state:t,relative:a}){St(or(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(aa);ea(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=E.useContext(Vs),{pathname:c}=ua(),h=lt(),u=_x(r,Tx(o),c,a==="path"),x=JSON.stringify(u);return E.useEffect(()=>{h(JSON.parse(x),{replace:e,state:t,relative:a})},[h,x,a,e,t]),null}function _2(r){return f2(r.context)}function De(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E2({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:i,static:o=!1}){St(!or(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof t=="string"&&(t=rr(t));let{pathname:u="/",search:x="",hash:f="",state:m=null,key:p="default"}=t,b=E.useMemo(()=>{let y=Pa(u,c);return y==null?null:{location:{pathname:y,search:x,hash:f,state:m,key:p},navigationType:a}},[c,u,x,f,m,p,a]);return ea(b!=null,`<Router basename="${c}"> is not able to match the URL "${u}${x}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(aa.Provider,{value:h},E.createElement(kl.Provider,{children:e,value:b}))}function M2({children:r,location:e}){return m2(Wu(r),e)}function Wu(r,e=[]){let t=[];return E.Children.forEach(r,(a,i)=>{if(!E.isValidElement(a))return;let o=[...e,i];if(a.type===E.Fragment){t.push.apply(t,Wu(a.props.children,o));return}St(a.type===De,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Wu(a.props.children,o)),t.push(c)}),t}var oc="get",cc="application/x-www-form-urlencoded";function Lc(r){return r!=null&&typeof r.tagName=="string"}function L2(r){return Lc(r)&&r.tagName.toLowerCase()==="button"}function z2(r){return Lc(r)&&r.tagName.toLowerCase()==="form"}function D2(r){return Lc(r)&&r.tagName.toLowerCase()==="input"}function R2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function O2(r,e){return r.button===0&&(!e||e==="_self")&&!R2(r)}var tc=null;function H2(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var P2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gu(r){return r!=null&&!P2.has(r)?(ea(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function B2(r,e){let t,a,i,o,c;if(z2(r)){let h=r.getAttribute("action");a=h?Pa(h,e):null,t=r.getAttribute("method")||oc,i=gu(r.getAttribute("enctype"))||cc,o=new FormData(r)}else if(L2(r)||D2(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||h.getAttribute("action");if(a=u?Pa(u,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||oc,i=gu(r.getAttribute("formenctype"))||gu(h.getAttribute("enctype"))||cc,o=new FormData(h,r),!H2()){let{name:x,type:f,value:m}=r;if(f==="image"){let p=x?`${x}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else x&&o.append(x,m)}}else{if(Lc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oc,a=null,i=cc,c=r}return o&&i==="text/plain"&&(c=o,o=void 0),{action:a,method:t.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zx(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function X2(r,e,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&Pa(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function Y2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function I2(r,e,t){let a=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await Y2(o,t);return c.links?c.links():[]}return[]}));return q2(a.flat(1).filter(F2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function x0(r,e,t,a,i,o){let c=(u,x)=>t[x]?u.route.id!==t[x].route.id:!0,h=(u,x)=>t[x].pathname!==u.pathname||t[x].route.path?.endsWith("*")&&t[x].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,x)=>c(u,x)||h(u,x)):o==="data"?e.filter((u,x)=>{let f=a.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(c(u,x)||h(u,x))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function U2(r,e,{includeHydrateFallback:t}={}){return W2(r.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function W2(r){return[...new Set(r)]}function V2(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function q2(r,e){let t=new Set;return new Set(e),r.reduce((a,i)=>{let o=JSON.stringify(V2(i));return t.has(o)||(t.add(o),a.push({key:o,link:i})),a},[])}function Sb(){let r=E.useContext(lr);return zx(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function G2(){let r=E.useContext(Mc);return zx(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Dx=E.createContext(void 0);Dx.displayName="FrameworkContext";function kb(){let r=E.useContext(Dx);return zx(r,"You must render this element inside a <HydratedRouter> element"),r}function $2(r,e){let t=E.useContext(Dx),[a,i]=E.useState(!1),[o,c]=E.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:x,onMouseLeave:f,onTouchStart:m}=e,p=E.useRef(null);E.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let w=C=>{C.forEach(S=>{c(S.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[r]),E.useEffect(()=>{if(a){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[a]);let b=()=>{i(!0)},y=()=>{i(!1),c(!1)};return t?r!=="intent"?[o,p,{}]:[o,p,{onFocus:rl(h,b),onBlur:rl(u,y),onMouseEnter:rl(x,b),onMouseLeave:rl(f,y),onTouchStart:rl(m,b)}]:[!1,p,{}]}function rl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function K2({page:r,...e}){let{router:t}=Sb(),a=E.useMemo(()=>fb(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?E.createElement(Q2,{page:r,matches:a,...e}):null}function Z2(r){let{manifest:e,routeModules:t}=kb(),[a,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return I2(r,e,t).then(c=>{o||i(c)}),()=>{o=!0}},[r,e,t]),a}function Q2({page:r,matches:e,...t}){let a=ua(),{manifest:i,routeModules:o}=kb(),{basename:c}=Sb(),{loaderData:h,matches:u}=G2(),x=E.useMemo(()=>x0(r,e,u,i,a,"data"),[r,e,u,i,a]),f=E.useMemo(()=>x0(r,e,u,i,a,"assets"),[r,e,u,i,a]),m=E.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let y=new Set,w=!1;if(e.forEach(C=>{let S=i.routes[C.route.id];!S||!S.hasLoader||(!x.some(A=>A.route.id===C.route.id)&&C.route.id in h&&o[C.route.id]?.shouldRevalidate||S.hasClientLoader?w=!0:y.add(C.route.id))}),y.size===0)return[];let k=X2(r,c,"data");return w&&y.size>0&&k.searchParams.set("_routes",e.filter(C=>y.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[c,h,a,i,x,e,r,o]),p=E.useMemo(()=>U2(f,i),[f,i]),b=Z2(f);return E.createElement(E.Fragment,null,m.map(y=>E.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),p.map(y=>E.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),b.map(({key:y,link:w})=>E.createElement("link",{key:y,nonce:t.nonce,...w})))}function J2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Cb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cb&&(window.__reactRouterVersion="7.9.4")}catch{}function ej({basename:r,children:e,window:t}){let a=E.useRef();a.current==null&&(a.current=B1({window:t,v5Compat:!0}));let i=a.current,[o,c]=E.useState({action:i.action,location:i.location}),h=E.useCallback(u=>{E.startTransition(()=>c(u))},[c]);return E.useLayoutEffect(()=>i.listen(h),[i,h]),E.createElement(E2,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var Ab=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=E.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:i,reloadDocument:o,replace:c,state:h,target:u,to:x,preventScrollReset:f,viewTransition:m,...p},b){let{basename:y}=E.useContext(aa),w=typeof x=="string"&&Ab.test(x),k,C=!1;if(typeof x=="string"&&w&&(k=x,Cb))try{let H=new URL(window.location.href),z=x.startsWith("//")?new URL(H.protocol+x):new URL(x),B=Pa(z.pathname,y);z.origin===H.origin&&B!=null?x=B+z.search+z.hash:C=!0}catch{ea(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=u2(x,{relative:i}),[A,T,L]=$2(a,p),M=ij(x,{replace:c,state:h,target:u,preventScrollReset:f,relative:i,viewTransition:m});function _(H){e&&e(H),H.defaultPrevented||M(H)}let D=E.createElement("a",{...p,...L,href:k||S,onClick:C||o?e:_,ref:J2(b,T),target:u,"data-discover":!w&&t==="render"?"true":void 0});return A&&!w?E.createElement(E.Fragment,null,D,E.createElement(K2,{page:S})):D});At.displayName="Link";var tj=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:i=!1,style:o,to:c,viewTransition:h,children:u,...x},f){let m=Cl(c,{relative:x.relative}),p=ua(),b=E.useContext(Mc),{navigator:y,basename:w}=E.useContext(aa),k=b!=null&&cj(m)&&h===!0,C=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,S=p.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(S=S.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=Pa(A,w)||A);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let L=S===C||!i&&S.startsWith(C)&&S.charAt(T)==="/",M=A!=null&&(A===C||!i&&A.startsWith(C)&&A.charAt(C.length)==="/"),_={isActive:L,isPending:M,isTransitioning:k},D=L?e:void 0,H;typeof a=="function"?H=a(_):H=[a,L?"active":null,M?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(_):o;return E.createElement(At,{...x,"aria-current":D,className:H,ref:f,style:z,to:c,viewTransition:h},typeof u=="function"?u(_):u)});tj.displayName="NavLink";var sj=E.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:i,state:o,method:c=oc,action:h,onSubmit:u,relative:x,preventScrollReset:f,viewTransition:m,...p},b)=>{let y=lj(),w=oj(h,{relative:x}),k=c.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&Ab.test(h),S=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let T=A.nativeEvent.submitter,L=T?.getAttribute("formmethod")||c;y(T||A.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:o,relative:x,preventScrollReset:f,viewTransition:m})};return E.createElement("form",{ref:b,method:k,action:w,onSubmit:a?u:S,...p,"data-discover":!C&&r==="render"?"true":void 0})});sj.displayName="Form";function aj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(r){let e=E.useContext(lr);return St(e,aj(r)),e}function ij(r,{target:e,replace:t,state:a,preventScrollReset:i,relative:o,viewTransition:c}={}){let h=lt(),u=ua(),x=Cl(r,{relative:o});return E.useCallback(f=>{if(O2(f,e)){f.preventDefault();let m=t!==void 0?t:gl(u)===gl(x);h(r,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:c})}},[u,h,x,t,a,e,r,i,o,c])}var nj=0,rj=()=>`__${String(++nj)}__`;function lj(){let{router:r}=Tb("useSubmit"),{basename:e}=E.useContext(aa),t=k2();return E.useCallback(async(a,i={})=>{let{action:o,method:c,encType:h,formData:u,body:x}=B2(a,e);if(i.navigate===!1){let f=i.fetcherKey||rj();await r.fetch(f,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:x,formMethod:i.method||c,formEncType:i.encType||h,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:x,formMethod:i.method||c,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function oj(r,{relative:e}={}){let{basename:t}=E.useContext(aa),a=E.useContext(Vs);St(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...Cl(r||".",{relative:e})},c=ua();if(r==null){o.search=c.search;let h=new URLSearchParams(o.search),u=h.getAll("index");if(u.some(f=>f==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let f=h.toString();o.search=f?`?${f}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ra([t,o.pathname])),gl(o)}function cj(r,{relative:e}={}){let t=E.useContext(vb);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Tb("useViewTransitionState"),i=Cl(r,{relative:e});if(!t.isTransitioning)return!1;let o=Pa(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=Pa(t.nextLocation.pathname,a)||t.nextLocation.pathname;return pc(i.pathname,c)!=null||pc(i.pathname,o)!=null}const _b=E.createContext();function dj({children:r}){const[e,t]=E.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});E.useEffect(()=>{const i=document.documentElement,o=localStorage.getItem("theme");(o?o==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches)?i.classList.add("dark"):i.classList.remove("dark")},[]),E.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light");const i=document.documentElement;e?i.classList.add("dark"):i.classList.remove("dark")},[e]);const a=()=>{t(i=>!i)};return s.jsx(_b.Provider,{value:{isDark:e,toggleTheme:a},children:r})}function hj(){const r=E.useContext(_b);if(!r)throw new Error("useTheme must be used within ThemeProvider");return r}function fi(){try{const r=localStorage.getItem("currentUser");return r?JSON.parse(r):null}catch{return null}}function Rx(r){switch(r?.toLowerCase()){case"admin":return"/dashboard/admin";case"teacher":return"/dashboard/teacher";case"student":return"/dashboard/student";default:return"/auth/login"}}function uj(){localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser")}const xj="/assets/undraw_true-friends_1h3v-DtslUlRv.png";var Eb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},g0=Ue.createContext&&Ue.createContext(Eb),gj=["attr","size","title"];function fj(r,e){if(r==null)return{};var t=mj(r,e),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)a=o[i],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(t[a]=r[a])}return t}function mj(r,e){if(r==null)return{};var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;t[a]=r[a]}return t}function bc(){return bc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},bc.apply(this,arguments)}function f0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,a)}return t}function vc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?f0(Object(t),!0).forEach(function(a){pj(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):f0(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function pj(r,e,t){return e=bj(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bj(r){var e=vj(r,"string");return typeof e=="symbol"?e:e+""}function vj(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Mb(r){return r&&r.map((e,t)=>Ue.createElement(e.tag,vc({key:t},e.attr),Mb(e.child)))}function Ce(r){return e=>Ue.createElement(yj,bc({attr:vc({},r.attr)},e),Mb(r.child))}function yj(r){var e=t=>{var{attr:a,size:i,title:o}=r,c=fj(r,gj),h=i||t.size||"1em",u;return t.className&&(u=t.className),r.className&&(u=(u?u+" ":"")+r.className),Ue.createElement("svg",bc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:u,style:vc(vc({color:r.color||t.color},t.style),r.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ue.createElement("title",null,o),r.children)};return g0!==void 0?Ue.createElement(g0.Consumer,null,t=>e(t)):e(Eb)}function Lb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(r)}function zc(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(r)}function zb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(r)}function ta(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function Db(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(r)}function Ox(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(r)}function yc(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(r)}function Vu(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(r)}function Al(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(r)}function da(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function cl(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function Hx(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function Dc(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(r)}function Rc(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(r)}function Rb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(r)}function bi(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function Qi(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(r)}function Ob(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function vi(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function wj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function Oa(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function jj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(r)}function Hb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(r)}function Pb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(r)}function Ha(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function Cs(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function rs(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function fl(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(r)}function Nj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(r)}function Bb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(r)}function Sj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(r)}function kj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function Px(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(r)}function He(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(r)}function Cj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(r)}function qu(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function Aj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(r)}function Tj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function sr(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(r)}function Xb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(r)}function _j(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(r)}function yi(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Ej(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(r)}function ar(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function Mj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(r)}function wi(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(r)}function sa(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function Lj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(r)}function zj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"},child:[]},{tag:"path",attr:{d:"M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function m0(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function cs(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function wc(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(r)}function Dj(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(r)}function Jn(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function Bt(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function Yb(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(r)}function It(r){return Ce({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}const Fb="http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000",Rj={"Content-Type":"application/json"};console.log(Fb);function Oj(){try{const r=localStorage.getItem("accessToken");return r?{Authorization:`Bearer ${r}`,"x-access-token":r}:{}}catch{return{}}}async function Gu(r,e={}){const t=`${Fb}${r}`,a=await fetch(t,{headers:{...Rj,...Oj(),...e.headers},...e}),i=a.headers.get("content-type"),c=i&&i.includes("application/json")?await a.json():await a.text();if(!a.ok){const h=new Error(c&&c.message||a.statusText||"Request failed");throw h.status=a.status,h.body=c,h}return c}function fu(r){return(e,t,a={})=>Gu(e,{method:r,body:t?JSON.stringify(t):void 0,...a})}const pe={get:(r,e)=>Gu(r,{method:"GET",...e}),post:fu("POST"),put:fu("PUT"),patch:fu("PATCH"),delete:(r,e)=>Gu(r,{method:"DELETE",...e})};function Hj(r){return pe.post("/api/auth/send-otp-signup",r)}function Pj(r){return pe.post("/api/auth/signup",r)}function Bj(r){return pe.post("/api/auth/signin",r)}function Xj(r){return pe.post("/api/auth/forgot-password/send-otp",r)}function Yj(r){return pe.post("/api/auth/forgot-password/reset",r)}function Fj(){const r=lt(),[e,t]=E.useState(""),[a,i]=E.useState(""),[o,c]=E.useState(!1),[h,u]=E.useState(!1),[x,f]=E.useState(""),[m,p]=E.useState(""),b=async y=>{if(y.preventDefault(),f(""),p(""),!e||!a){f("Vui lng nhp y  email v mt khu.");return}u(!0);try{const w=await Bj({email:e,password:a}),k=w.role?.toLowerCase()||"student";localStorage.setItem("accessToken",w.accessToken),localStorage.setItem("currentUser",JSON.stringify({id:w.id,fullName:w.fullName,email:w.email,role:k})),p("ng nhp thnh cng."),setTimeout(()=>r(Rx(k),{replace:!0}),500)}catch(w){const k=w.body?.message||w.message||"ng nhp tht bi. Vui lng th li.";f(k)}finally{u(!1)}};return s.jsxs("div",{className:"flex min-h-screen flex-col md:flex-row",children:[s.jsx("div",{className:"hidden md:flex w-1/2 justify-center items-center p-1",children:s.jsx("img",{src:xj,alt:"Friends",className:"object-cover h-fit w-fit"})}),s.jsx("div",{className:"flex w-full md:w-1/2 items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-md p-8 space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:"ng nhp"}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Ti khon ng nhp"}),s.jsx("input",{type:"email",id:"email",value:e,onChange:y=>t(y.target.value),placeholder:"Nhp email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mt khu"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o?"text":"password",id:"password",value:a,onChange:y=>i(y.target.value),placeholder:"Nhp mt khu ca bn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:o?s.jsx(Ha,{}):s.jsx(Cs,{})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(At,{to:"/auth/register",className:"text-sm font-medium text-blue-600 hover:underline",children:"ng k"}),s.jsx(At,{to:"/auth/forgot-password",className:"text-sm font-medium text-blue-600 hover:underline",children:"Qun mt khu?"})]}),x&&s.jsx("p",{className:"text-sm text-red-500",role:"alert",children:x}),m&&s.jsx("p",{className:"text-sm text-green-600",role:"status",children:m}),s.jsx("button",{type:"submit",disabled:h,className:"w-full px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:h?"ang x l...":"ng nhp"})]})]})})]})}const Ij="/assets/undraw_fall_zh0m-DTrplRSM.png";function Uj(){const r=lt(),[e,t]=E.useState({fullName:"",email:"",password:"",role:"student"}),[a,i]=E.useState(""),[o,c]=E.useState(""),[h,u]=E.useState(!1),[x,f]=E.useState(!1),[m,p]=E.useState(!1),[b,y]=E.useState(!1),[w,k]=E.useState(""),[C,S]=E.useState(""),[A,T]=E.useState(1),L=H=>{const{name:z,value:B}=H.target;t(P=>({...P,[z]:B}))},M=async H=>{if(H.preventDefault(),k(""),S(""),!e.fullName.trim()||!e.email.trim()){k("Vui lng nhp h tn v email.");return}if(e.password.length<6){k("Mt khu phi c t nht 6 k t.");return}if(e.password!==a){k("Mt khu nhp li khng trng khp.");return}y(!0);try{await Hj({fullName:e.fullName.trim(),email:e.email.trim(),password:e.password,role:e.role}),S("M OTP  c gi n email ca bn. Vui lng kim tra hp th."),T(2)}catch(z){const B=z.body?.message||z.message||"Gi OTP tht bi. Vui lng th li.";k(B)}finally{y(!1)}},_=async H=>{if(H.preventDefault(),k(""),S(""),!o||o.length!==6){k("Vui lng nhp m OTP 6 ch s.");return}p(!0);try{await Pj({email:e.email.trim(),otp:o}),S("ng k thnh cng. Vui lng ng nhp."),setTimeout(()=>r("/auth/login"),1500)}catch(z){const B=z.body?.message||z.message||"Xc thc OTP tht bi. Vui lng th li.";k(B)}finally{p(!1)}},D=()=>{T(1),c(""),k(""),S("")};return s.jsxs("div",{className:"flex min-h-screen flex-col md:flex-row",children:[s.jsx("div",{className:"hidden md:flex w-1/2 justify-center items-center p-1",children:s.jsx("img",{src:Ij,alt:"Friends",className:"object-cover h-fit w-fit"})}),s.jsx("div",{className:"flex w-full md:w-1/2 items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-md p-8 space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:"ng K"}),A===1?s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fullName",className:"block mb-2 text-sm font-medium text-gray-700",children:"H v tn"}),s.jsx("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:L,placeholder:"Nhp h v tn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:L,placeholder:"Nhp email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block mb-2 text-sm font-medium text-gray-700",children:"Vai tr"}),s.jsxs("select",{id:"role",name:"role",value:e.role,onChange:L,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"student",children:"Hc sinh"}),s.jsx("option",{value:"teacher",children:"Gio vin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mt khu"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:e.password,onChange:L,placeholder:"Nhp mt khu ca bn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>u(H=>!H),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:h?s.jsx(Ha,{}):s.jsx(Cs,{})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nhp li mt khu"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x?"text":"password",id:"confirmPassword",value:a,onChange:H=>i(H.target.value),placeholder:"Nhp li mt khu",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>f(H=>!H),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:x?s.jsx(Ha,{}):s.jsx(Cs,{})})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[w&&s.jsx("p",{className:"text-sm text-red-500",role:"alert",children:w}),C&&s.jsx("p",{className:"text-sm text-green-600",role:"status",children:C})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:" c ti khon?"}),s.jsx(At,{to:"/auth/login",className:"text-sm font-medium text-blue-600 hover:underline",children:"ng nhp"})]}),s.jsx("button",{type:"submit",disabled:b,className:"w-full px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"ang gi OTP...":"Gi m OTP"})]}):s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["M OTP  c gi n email: ",s.jsx("strong",{children:e.email})]}),s.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Vui lng kim tra hp th v nhp m OTP 6 ch s"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"otp",className:"block mb-2 text-sm font-medium text-gray-700",children:"M OTP"}),s.jsx("input",{type:"text",id:"otp",name:"otp",value:o,onChange:H=>c(H.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Nhp m OTP 6 ch s",maxLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[w&&s.jsx("p",{className:"text-sm text-red-500",role:"alert",children:w}),C&&s.jsx("p",{className:"text-sm text-green-600",role:"status",children:C})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:D,className:"flex-1 px-4 py-3 font-semibold text-gray-700 bg-gray-200 rounded-lg shadow-md hover:bg-gray-300 transition-transform transform hover:scale-105",children:"Quay li"}),s.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:m?"ang x l...":"Xc thc OTP"})]})]})]})})]})}const Wj="/assets/undraw_online-meeting_qe61-BsNR8GbO.png";function Vj(){const r=lt(),[e,t]=E.useState(""),[a,i]=E.useState(""),[o,c]=E.useState(""),[h,u]=E.useState(""),[x,f]=E.useState(!1),[m,p]=E.useState(!1),[b,y]=E.useState(!1),[w,k]=E.useState(!1),[C,S]=E.useState(""),[A,T]=E.useState(""),[L,M]=E.useState(1),_=async z=>{if(z.preventDefault(),S(""),T(""),!e.trim()){S("Vui lng nhp email.");return}k(!0);try{await Xj({email:e.trim()}),T("M OTP  c gi n email ca bn. Vui lng kim tra hp th."),M(2)}catch(B){const P=B.body?.message||B.message||"Gi OTP tht bi. Vui lng th li.";S(P)}finally{k(!1)}},D=async z=>{if(z.preventDefault(),S(""),T(""),!a||a.length!==6){S("Vui lng nhp m OTP 6 ch s.");return}if(o.length<6){S("Mt khu phi c t nht 6 k t.");return}if(o!==h){S("Mt khu nhp li khng trng khp.");return}y(!0);try{await Yj({email:e.trim(),otp:a,newPassword:o}),T("t li mt khu thnh cng. Vui lng ng nhp."),setTimeout(()=>r("/auth/login"),1500)}catch(B){const P=B.body?.message||B.message||"t li mt khu tht bi. Vui lng th li.";S(P)}finally{y(!1)}},H=()=>{M(1),i(""),c(""),u(""),S(""),T("")};return s.jsxs("div",{className:"flex min-h-screen flex-col md:flex-row",children:[s.jsx("div",{className:"hidden md:flex w-1/2 justify-center items-center p-1",children:s.jsx("img",{src:Wj,alt:"Forgot Password",className:"object-cover h-fit w-fit"})}),s.jsx("div",{className:"flex w-full md:w-1/2 items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-md p-8 space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:L===1?"Qun mt khu":"t li mt khu"}),L===1?s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",id:"email",value:e,onChange:z=>t(z.target.value),placeholder:"Nhp email ca bn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Chng ti s gi m OTP n email ca bn  xc thc."})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[C&&s.jsx("p",{className:"text-sm text-red-500",role:"alert",children:C}),A&&s.jsx("p",{className:"text-sm text-green-600",role:"status",children:A})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(At,{to:"/auth/login",className:"text-sm font-medium text-blue-600 hover:underline",children:"Quay li ng nhp"})}),s.jsx("button",{type:"submit",disabled:w,className:"w-full px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:w?"ang gi OTP...":"Gi m OTP"})]}):s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["M OTP  c gi n email: ",s.jsx("strong",{children:e})]}),s.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Vui lng kim tra hp th v nhp m OTP 6 ch s"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"otp",className:"block mb-2 text-sm font-medium text-gray-700",children:"M OTP"}),s.jsx("input",{type:"text",id:"otp",value:a,onChange:z=>i(z.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Nhp m OTP 6 ch s",maxLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-2xl tracking-widest"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mt khu mi"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:x?"text":"password",id:"newPassword",value:o,onChange:z=>c(z.target.value),placeholder:"Nhp mt khu mi",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>f(z=>!z),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:x?s.jsx(Ha,{}):s.jsx(Cs,{})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nhp li mt khu mi"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:m?"text":"password",id:"confirmPassword",value:h,onChange:z=>u(z.target.value),placeholder:"Nhp li mt khu mi",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{type:"button",onClick:()=>p(z=>!z),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:m?s.jsx(Ha,{}):s.jsx(Cs,{})})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[C&&s.jsx("p",{className:"text-sm text-red-500",role:"alert",children:C}),A&&s.jsx("p",{className:"text-sm text-green-600",role:"status",children:A})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:H,className:"flex-1 px-4 py-3 font-semibold text-gray-700 bg-gray-200 rounded-lg shadow-md hover:bg-gray-300 transition-transform transform hover:scale-105",children:"Quay li"}),s.jsx("button",{type:"submit",disabled:b,className:"flex-1 px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"ang x l...":"t li mt khu"})]})]})]})})]})}function tt({allowedRoles:r,children:e}){const t=localStorage.getItem("accessToken"),a=fi();return!t||!a?s.jsx(gi,{to:"/auth/login",replace:!0}):Array.isArray(r)&&r.length>0&&!r.includes(a.role)?s.jsx(gi,{to:Rx(a.role),replace:!0}):e}function qj(){const r=fi(),e=Rx(r?.role);return s.jsx(gi,{to:e,replace:!0})}function xa(r,e=[]){const t=E.useRef(!1),a=E.useRef(e);(e.length!==a.current.length||e.some((o,c)=>o!==a.current[c]))&&(t.current=!1,a.current=e),E.useEffect(()=>t.current?void 0:(t.current=!0,r()),e)}function p0(r){return Ce({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"User"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.438,21.937H6.562a2.5,2.5,0,0,1-2.5-2.5V18.61c0-3.969,3.561-7.2,7.938-7.2s7.938,3.229,7.938,7.2v.827A2.5,2.5,0,0,1,17.438,21.937ZM12,12.412c-3.826,0-6.938,2.78-6.938,6.2v.827a1.5,1.5,0,0,0,1.5,1.5H17.438a1.5,1.5,0,0,0,1.5-1.5V18.61C18.938,15.192,15.826,12.412,12,12.412Z"},child:[]},{tag:"path",attr:{d:"M12,9.911a3.924,3.924,0,1,1,3.923-3.924A3.927,3.927,0,0,1,12,9.911Zm0-6.847a2.924,2.924,0,1,0,2.923,2.923A2.926,2.926,0,0,0,12,3.064Z"},child:[]}]}]}]})(r)}function b0(r){return Ce({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(r)}const v0={teacher:[{label:"Tng quan",path:"/dashboard/teacher",icon:Bb},{label:"Bi thi",path:"/dashboard/teacher/exams",icon:rs},{label:"Lp hc",path:"/dashboard/teacher/classes",icon:Bt},{label:"Thng bo",path:"/dashboard/teacher/notifications",icon:yc},{label:"Thng k mua  thi",path:"/dashboard/teacher/exam-purchases",icon:vi},{label:"Lch s giao dch",path:"/dashboard/teacher/transactions",icon:bi},{label:"V",path:"/dashboard/wallet",icon:b0},{label:"Ti Khon",path:"/dashboard/profile",icon:p0}],student:[{label:"Trang ch",path:"/dashboard/student",icon:kj},{label:"Bi thi",path:"/dashboard/student/exams",icon:rs},{label:"Bi thi yu thch",path:"/dashboard/student/favorite",icon:Sj},{label:"Truy cp gn y",path:"/dashboard/student/recent",icon:bi},{label:"Lp hc",path:"/dashboard/student/classes",icon:Bt},{label:"Thng bo",path:"/dashboard/student/notifications",icon:yc},{label:"V",path:"/dashboard/student/payment",icon:b0},{label:"Lch s giao dch",path:"/dashboard/student/transactions",icon:vi},{label:"Ti Khon",path:"/dashboard/profile",icon:p0}]};function Gj({role:r="student"}){const e=v0[r]||v0.student,t=ua();return s.jsxs("aside",{className:"hidden w-64 flex-col border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-6 md:flex",children:[s.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-indigo-600 text-white font-bold",children:"P"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400 leading-none",children:"PTIT QUIZ"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:r==="teacher"?"Gio vin":"Hc sinh"})]})]}),s.jsx("nav",{className:"flex-1 space-y-2",children:e.map(a=>{const i=t.pathname===a.path,o=a.icon;return s.jsxs(At,{to:a.path,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition 
                ${i?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-300 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:text-indigo-600 dark:hover:text-indigo-400"}
              `,children:[s.jsx(o,{className:"h-5 w-5"}),s.jsx("span",{children:a.label})]},a.path)})})]})}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kj=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),y0=r=>{const e=Kj(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ib=(...r)=>r.filter((e,t,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===t).join(" ").trim(),Zj=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=E.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...h},u)=>E.createElement("svg",{ref:u,...Qj,width:e,height:e,stroke:r,strokeWidth:a?Number(t)*24/Number(e):t,className:Ib("lucide",i),...!o&&!Zj(h)&&{"aria-hidden":"true"},...h},[...c.map(([x,f])=>E.createElement(x,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(r,e)=>{const t=E.forwardRef(({className:a,...i},o)=>E.createElement(Jj,{ref:o,iconNode:e,className:Ib(`lucide-${$j(y0(r))}`,`lucide-${r}`,a),...i}));return t.displayName=y0(r),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ub=Qe("arrow-left",eN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],sN=Qe("award",tN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],w0=Qe("bell",aN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Is=Qe("book-open",iN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rN=Qe("calendar",nN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],j0=Qe("chart-column",lN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],cN=Qe("check-check",oN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hN=Qe("check",dN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bx=Qe("chevron-left",uN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xx=Qe("chevron-right",xN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yx=Qe("circle-alert",gN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],er=Qe("circle-check",fN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mu=Qe("circle-x",mN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mi=Qe("clock",pN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jc=Qe("eye",bN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Wb=Qe("funnel",vN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ha=Qe("graduation-cap",yN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],$u=Qe("heart",wN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],NN=Qe("loader-circle",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sc=Qe("message-square",SN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],CN=Qe("moon",kN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ml=Qe("play",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ku=Qe("plus",TN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],EN=Qe("rotate-ccw",_N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Tl=Qe("search",MN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Nc=Qe("star",LN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],DN=Qe("sun",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ON=Qe("trash-2",RN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],N0=Qe("triangle-alert",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dc=Qe("trophy",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vb=Qe("users",BN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Fx=Qe("wallet",XN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dl=Qe("x",YN),Oc=async()=>{try{return await pe.get("/api/user/profile")}catch(r){throw r}},FN=async r=>{try{const e=new FormData;e.append("avatar",r);const t="http://localhost:5005".replace(/\/$/,"")||"http://localhost:5005",a=localStorage.getItem("accessToken"),i=await fetch(`${t}/api/upload/avatar`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"x-access-token":a},body:e});if(!i.ok){const c=await i.json().catch(()=>({message:i.statusText}));throw new Error(c.message||"Upload failed")}return{status:!0,data:await i.json()}}catch(e){return{status:!1,message:e.message||"Li khi upload avatar"}}},IN=async(r,e,t=null)=>{try{const a={fullName:r,email:e};return t!==null&&(a.avatar_url=t),{status:!0,data:await pe.post("/api/user/profile",a)}}catch(a){return{status:!1,data:a.body||{message:a.message}}}},UN=async(r,e)=>{try{return await pe.post("/api/user/changepassword",{currentPassword:r,newPassword:e})}catch(t){return{status:!1,message:t.body?.message||t.message}}},yt=r=>{const e=parseFloat(r);return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)};function WN({role:r="student",onLogout:e}){const{isDark:t,toggleTheme:a}=hj(),[i,o]=E.useState(null),[c,h]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{const x=await Oc();o(x.balance||0)}catch(x){console.error("Error fetching user balance:",x),o(0)}finally{h(!1)}})()},[]),s.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 dark:bg-slate-800/80 dark:border-slate-700 px-6 py-4 backdrop-blur",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsx("button",{onClick:a,type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors","aria-label":"Chuyn i ch  ti/sng",children:t?s.jsx(DN,{className:"h-5 w-5"}):s.jsx(CN,{className:"h-5 w-5"})})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-blue-200 dark:border-blue-700 bg-white dark:bg-slate-700 px-4 py-2 shadow-sm",children:[s.jsx(Fx,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:c?"...":yt(i||0)})]}),s.jsx(At,{to:"/dashboard/profile",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors","aria-label":"H s c nhn",children:s.jsx(Jn,{className:"text-lg"})}),s.jsx("button",{onClick:e,className:"rounded-full border border-red-200 dark:border-red-800 px-3 py-2 text-sm font-semibold text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"ng xut"})]})]})}function Ye({role:r="student",children:e}){const t=lt(),a=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),t("/auth/login",{replace:!0})};return s.jsxs("div",{className:"flex min-h-screen bg-slate-100 dark:bg-slate-900",children:[s.jsx(Gj,{role:r}),s.jsxs("div",{className:"flex flex-1 flex-col",children:[s.jsx(WN,{role:r,onLogout:a}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6 dark:bg-slate-900",children:e})]})]})}function VN(){return pe.get("/api/teacher/dashboard/stats")}function qN(r={}){const e=new URLSearchParams;r.exam_id&&e.append("exam_id",r.exam_id),r.page&&e.append("page",r.page),r.limit&&e.append("limit",r.limit);const t=e.toString();return pe.get(`/api/teacher/exam-purchases${t?"?"+t:""}`)}function GN(r={}){const e=new URLSearchParams;r.exam_id&&e.append("exam_id",r.exam_id),r.date_from&&e.append("date_from",r.date_from),r.date_to&&e.append("date_to",r.date_to);const t=e.toString();return pe.get(`/api/teacher/exam-revenue${t?"?"+t:""}`)}function qb(r){var e,t,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=qb(r[e]))&&(a&&(a+=" "),a+=t)}else for(t in r)r[t]&&(a&&(a+=" "),a+=t);return a}function Ji(){for(var r,e,t=0,a="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=qb(r))&&(a&&(a+=" "),a+=e);return a}function $N(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}$N(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var _l=r=>typeof r=="number"&&!isNaN(r),tn=r=>typeof r=="string",Ba=r=>typeof r=="function",KN=r=>tn(r)||_l(r),Zu=r=>tn(r)||Ba(r)?r:null,ZN=(r,e)=>r===!1||_l(r)&&r>0?r:e,Qu=r=>E.isValidElement(r)||tn(r)||Ba(r)||_l(r);function QN(r,e,t=300){let{scrollHeight:a,style:i}=r;requestAnimationFrame(()=>{i.minHeight="initial",i.height=a+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function JN({enter:r,exit:e,appendPosition:t=!1,collapse:a=!0,collapseDuration:i=300}){return function({children:o,position:c,preventExitTransition:h,done:u,nodeRef:x,isIn:f,playToast:m}){let p=t?`${r}--${c}`:r,b=t?`${e}--${c}`:e,y=E.useRef(0);return E.useLayoutEffect(()=>{let w=x.current,k=p.split(" "),C=S=>{S.target===x.current&&(m(),w.removeEventListener("animationend",C),w.removeEventListener("animationcancel",C),y.current===0&&S.type!=="animationcancel"&&w.classList.remove(...k))};w.classList.add(...k),w.addEventListener("animationend",C),w.addEventListener("animationcancel",C)},[]),E.useEffect(()=>{let w=x.current,k=()=>{w.removeEventListener("animationend",k),a?QN(w,u,i):u()};f||(h?k():(y.current=1,w.className+=` ${b}`,w.addEventListener("animationend",k)))},[f]),Ue.createElement(Ue.Fragment,null,o)}}function S0(r,e){return{content:Gb(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function Gb(r,e,t=!1){return E.isValidElement(r)&&!tn(r.type)?E.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ba(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function eS({closeToast:r,theme:e,ariaLabel:t="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:a=>{a.stopPropagation(),r(!0)},"aria-label":t},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tS({delay:r,isRunning:e,closeToast:t,type:a="default",hide:i,className:o,controlledProgress:c,progress:h,rtl:u,isIn:x,theme:f}){let m=i||c&&h===0,p={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};c&&(p.transform=`scaleX(${h})`);let b=Ji("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":u}),y=Ba(o)?o({rtl:u,type:a,defaultClassName:b}):Ji(b,o),w={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{x&&t()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${a}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:y,style:p,...w}))}var sS=1,$b=()=>`${sS++}`;function aS(r,e,t){let a=1,i=0,o=[],c=[],h=e,u=new Map,x=new Set,f=S=>(x.add(S),()=>x.delete(S)),m=()=>{c=Array.from(u.values()),x.forEach(S=>S())},p=({containerId:S,toastId:A,updateId:T})=>{let L=S?S!==r:r!==1,M=u.has(A)&&T==null;return L||M},b=(S,A)=>{u.forEach(T=>{var L;(A==null||A===T.props.toastId)&&((L=T.toggle)==null||L.call(T,S))})},y=S=>{var A,T;(T=(A=S.props)==null?void 0:A.onClose)==null||T.call(A,S.removalReason),S.isActive=!1},w=S=>{if(S==null)u.forEach(y);else{let A=u.get(S);A&&y(A)}m()},k=()=>{i-=o.length,o=[]},C=S=>{var A,T;let{toastId:L,updateId:M}=S.props,_=M==null;S.staleId&&u.delete(S.staleId),S.isActive=!0,u.set(L,S),m(),t(S0(S,_?"added":"updated")),_&&((T=(A=S.props).onOpen)==null||T.call(A))};return{id:r,props:h,observe:f,toggle:b,removeToast:w,toasts:u,clearQueue:k,buildToast:(S,A)=>{if(p(A))return;let{toastId:T,updateId:L,data:M,staleId:_,delay:D}=A,H=L==null;H&&i++;let z={...h,style:h.toastStyle,key:a++,...Object.fromEntries(Object.entries(A).filter(([P,W])=>W!=null)),toastId:T,updateId:L,data:M,isIn:!1,className:Zu(A.className||h.toastClassName),progressClassName:Zu(A.progressClassName||h.progressClassName),autoClose:A.isLoading?!1:ZN(A.autoClose,h.autoClose),closeToast(P){u.get(T).removalReason=P,w(T)},deleteToast(){let P=u.get(T);if(P!=null){if(t(S0(P,"removed")),u.delete(T),i--,i<0&&(i=0),o.length>0){C(o.shift());return}m()}}};z.closeButton=h.closeButton,A.closeButton===!1||Qu(A.closeButton)?z.closeButton=A.closeButton:A.closeButton===!0&&(z.closeButton=Qu(h.closeButton)?h.closeButton:!0);let B={content:S,props:z,staleId:_};h.limit&&h.limit>0&&i>h.limit&&H?o.push(B):_l(D)?setTimeout(()=>{C(B)},D):C(B)},setProps(S){h=S},setToggle:(S,A)=>{let T=u.get(S);T&&(T.toggle=A)},isToastActive:S=>{var A;return(A=u.get(S))==null?void 0:A.isActive},getSnapshot:()=>c}}var os=new Map,pl=[],Ju=new Set,iS=r=>Ju.forEach(e=>e(r)),Kb=()=>os.size>0;function nS(){pl.forEach(r=>Qb(r.content,r.options)),pl=[]}var rS=(r,{containerId:e})=>{var t;return(t=os.get(e||1))==null?void 0:t.toasts.get(r)};function Zb(r,e){var t;if(e)return!!((t=os.get(e))!=null&&t.isToastActive(r));let a=!1;return os.forEach(i=>{i.isToastActive(r)&&(a=!0)}),a}function lS(r){if(!Kb()){pl=pl.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||KN(r))os.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=os.get(r.containerId);e?e.removeToast(r.id):os.forEach(t=>{t.removeToast(r.id)})}}var oS=(r={})=>{os.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function Qb(r,e){Qu(r)&&(Kb()||pl.push({content:r,options:e}),os.forEach(t=>{t.buildToast(r,e)}))}function cS(r){var e;(e=os.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function Jb(r,e){os.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(r,e?.id)})}function dS(r){let e=r.containerId||1;return{subscribe(t){let a=aS(e,r,iS);os.set(e,a);let i=a.observe(t);return nS(),()=>{i(),os.delete(e)}},setProps(t){var a;(a=os.get(e))==null||a.setProps(t)},getSnapshot(){var t;return(t=os.get(e))==null?void 0:t.getSnapshot()}}}function hS(r){return Ju.add(r),()=>{Ju.delete(r)}}function uS(r){return r&&(tn(r.toastId)||_l(r.toastId))?r.toastId:$b()}function El(r,e){return Qb(r,e),e.toastId}function Hc(r,e){return{...e,type:e&&e.type||r,toastId:uS(e)}}function Pc(r){return(e,t)=>El(e,Hc(r,t))}function $(r,e){return El(r,Hc("default",e))}$.loading=(r,e)=>El(r,Hc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function xS(r,{pending:e,error:t,success:a},i){let o;e&&(o=tn(e)?$.loading(e,i):$.loading(e.render,{...i,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(x,f,m)=>{if(f==null){$.dismiss(o);return}let p={type:x,...c,...i,data:m},b=tn(f)?{render:f}:f;return o?$.update(o,{...p,...b}):$(b.render,{...p,...b}),m},u=Ba(r)?r():r;return u.then(x=>h("success",a,x)).catch(x=>h("error",t,x)),u}$.promise=xS;$.success=Pc("success");$.info=Pc("info");$.error=Pc("error");$.warning=Pc("warning");$.warn=$.warning;$.dark=(r,e)=>El(r,Hc("default",{theme:"dark",...e}));function gS(r){lS(r)}$.dismiss=gS;$.clearWaitingQueue=oS;$.isActive=Zb;$.update=(r,e={})=>{let t=rS(r,e);if(t){let{props:a,content:i}=t,o={delay:100,...a,...e,toastId:e.toastId||r,updateId:$b()};o.toastId!==r&&(o.staleId=r);let c=o.render||i;delete o.render,El(c,o)}};$.done=r=>{$.update(r,{progress:1})};$.onChange=hS;$.play=r=>Jb(!0,r);$.pause=r=>Jb(!1,r);function fS(r){var e;let{subscribe:t,getSnapshot:a,setProps:i}=E.useRef(dS(r)).current;i(r);let o=(e=E.useSyncExternalStore(t,a,a))==null?void 0:e.slice();function c(h){if(!o)return[];let u=new Map;return r.newestOnTop&&o.reverse(),o.forEach(x=>{let{position:f}=x.props;u.has(f)||u.set(f,[]),u.get(f).push(x)}),Array.from(u,x=>h(x[0],x[1]))}return{getToastToRender:c,isToastActive:Zb,count:o?.length}}function mS(r){let[e,t]=E.useState(!1),[a,i]=E.useState(!1),o=E.useRef(null),c=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:u,closeToast:x,onClick:f,closeOnClick:m}=r;cS({id:r.toastId,containerId:r.containerId,fn:t}),E.useEffect(()=>{if(r.pauseOnFocusLoss)return p(),()=>{b()}},[r.pauseOnFocusLoss]);function p(){document.hasFocus()||C(),window.addEventListener("focus",k),window.addEventListener("blur",C)}function b(){window.removeEventListener("focus",k),window.removeEventListener("blur",C)}function y(_){if(r.draggable===!0||r.draggable===_.pointerType){S();let D=o.current;c.canCloseOnClick=!0,c.canDrag=!0,D.style.transition="none",r.draggableDirection==="x"?(c.start=_.clientX,c.removalDistance=D.offsetWidth*(r.draggablePercent/100)):(c.start=_.clientY,c.removalDistance=D.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function w(_){let{top:D,bottom:H,left:z,right:B}=o.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&r.pauseOnHover&&_.clientX>=z&&_.clientX<=B&&_.clientY>=D&&_.clientY<=H?C():k()}function k(){t(!0)}function C(){t(!1)}function S(){c.didMove=!1,document.addEventListener("pointermove",T),document.addEventListener("pointerup",L)}function A(){document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",L)}function T(_){let D=o.current;if(c.canDrag&&D){c.didMove=!0,e&&C(),r.draggableDirection==="x"?c.delta=_.clientX-c.start:c.delta=_.clientY-c.start,c.start!==_.clientX&&(c.canCloseOnClick=!1);let H=r.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;D.style.transform=`translate3d(${H},0)`,D.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function L(){A();let _=o.current;if(c.canDrag&&c.didMove&&_){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){i(!0),r.closeToast(!0),r.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let M={onPointerDown:y,onPointerUp:w};return h&&u&&(M.onMouseEnter=C,r.stacked||(M.onMouseLeave=k)),m&&(M.onClick=_=>{f&&f(_),c.canCloseOnClick&&x(!0)}),{playToast:k,pauseToast:C,isRunning:e,preventExitTransition:a,toastRef:o,eventHandlers:M}}var pS=typeof window<"u"?E.useLayoutEffect:E.useEffect,Bc=({theme:r,type:e,isLoading:t,...a})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...a});function bS(r){return Ue.createElement(Bc,{...r},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function vS(r){return Ue.createElement(Bc,{...r},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function yS(r){return Ue.createElement(Bc,{...r},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function wS(r){return Ue.createElement(Bc,{...r},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function jS(){return Ue.createElement("div",{className:"Toastify__spinner"})}var ex={info:vS,warning:bS,success:yS,error:wS,spinner:jS},NS=r=>r in ex;function SS({theme:r,type:e,isLoading:t,icon:a}){let i=null,o={theme:r,type:e};return a===!1||(Ba(a)?i=a({...o,isLoading:t}):E.isValidElement(a)?i=E.cloneElement(a,o):t?i=ex.spinner():NS(e)&&(i=ex[e](o))),i}var kS=r=>{let{isRunning:e,preventExitTransition:t,toastRef:a,eventHandlers:i,playToast:o}=mS(r),{closeButton:c,children:h,autoClose:u,onClick:x,type:f,hideProgressBar:m,closeToast:p,transition:b,position:y,className:w,style:k,progressClassName:C,updateId:S,role:A,progress:T,rtl:L,toastId:M,deleteToast:_,isIn:D,isLoading:H,closeOnClick:z,theme:B,ariaLabel:P}=r,W=Ji("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":z}),V=Ba(w)?w({rtl:L,position:y,type:f,defaultClassName:W}):Ji(W,w),Q=SS(r),F=!!T||!u,q={closeToast:p,type:f,theme:B},I=null;return c===!1||(Ba(c)?I=c(q):E.isValidElement(c)?I=E.cloneElement(c,q):I=eS(q)),Ue.createElement(b,{isIn:D,done:_,position:y,preventExitTransition:t,nodeRef:a,playToast:o},Ue.createElement("div",{id:M,tabIndex:0,onClick:x,"data-in":D,className:V,...i,style:k,ref:a,...D&&{role:A,"aria-label":P}},Q!=null&&Ue.createElement("div",{className:Ji("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},Q),Gb(h,r,!e),I,!r.customProgressBar&&Ue.createElement(tS,{...S&&!F?{key:`p-${S}`}:{},rtl:L,theme:B,delay:u,isRunning:e,isIn:D,closeToast:p,hide:m,type:f,className:C,controlledProgress:F,progress:T||0})))},CS=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),AS=JN(CS("bounce",!0)),TS={position:"top-right",transition:AS,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function _S(r){let e={...TS,...r},t=r.stacked,[a,i]=E.useState(!0),o=E.useRef(null),{getToastToRender:c,isToastActive:h,count:u}=fS(e),{className:x,style:f,rtl:m,containerId:p,hotKeys:b}=e;function y(k){let C=Ji("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":m});return Ba(x)?x({position:k,rtl:m,defaultClassName:C}):Ji(C,Zu(x))}function w(){t&&(i(!0),$.play())}return pS(()=>{var k;if(t){let C=o.current.querySelectorAll('[data-in="true"]'),S=12,A=(k=e.position)==null?void 0:k.includes("top"),T=0,L=0;Array.from(C).reverse().forEach((M,_)=>{let D=M;D.classList.add("Toastify__toast--stacked"),_>0&&(D.dataset.collapsed=`${a}`),D.dataset.pos||(D.dataset.pos=A?"top":"bot");let H=T*(a?.2:1)+(a?0:S*_);D.style.setProperty("--y",`${A?H:H*-1}px`),D.style.setProperty("--g",`${S}`),D.style.setProperty("--s",`${1-(a?L:0)}`),T+=D.offsetHeight,L+=.025})}},[a,u,t]),E.useEffect(()=>{function k(C){var S;let A=o.current;b(C)&&((S=A.querySelector('[tabIndex="0"]'))==null||S.focus(),i(!1),$.pause()),C.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(i(!0),$.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[b]),Ue.createElement("section",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{t&&(i(!1),$.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,C)=>{let S=C.length?{...f}:{...f,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:y(k),"data-stacked":t,style:S,key:`c-${k}`},C.map(({content:A,props:T})=>Ue.createElement(kS,{...T,stacked:t,collapseAll:w,isIn:h(T.toastId,T.containerId),key:`t-${T.key}`},A)))}))}function ES(){const r=lt(),[e,t]=E.useState(!0),[a,i]=E.useState(null),[o,c]=E.useState(""),[h,u]=E.useState(null),[x,f]=E.useState(!0);xa(()=>{m(),p()},[]);const m=async()=>{try{t(!0),c("");const w=await VN(),k=w?.data||w;i(k)}catch(w){const k=w?.body?.message||w?.message||"Khng th ti d liu dashboard. Vui lng th li.";c(k),$.error(k)}finally{t(!1)}},p=async()=>{try{f(!0);const w=await Oc();u(parseFloat(w.balance||0))}catch(w){console.error("Error loading balance:",w),u(0)}finally{f(!1)}};if(e)return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),s.jsx(He,{className:"absolute inset-0 m-auto animate-pulse text-2xl text-indigo-600"})]}),s.jsx("p",{className:"mt-4 text-sm font-medium text-slate-600",children:"ang ti d liu..."})]})});if(o&&!a)return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-red-200 bg-red-50 p-10 text-red-600",children:[s.jsx("p",{className:"mb-4 font-semibold",children:o}),s.jsx("button",{onClick:m,className:"rounded-lg border border-red-200 bg-white px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-red-50",children:"Th li"})]})});const b=a?.summary||{},y=a?.recent||{};return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("article",{onClick:()=>r("/dashboard/teacher/exams"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-indigo-300 hover:shadow-lg hover:-translate-y-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Tng bi thi"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-indigo-600",children:b.totalExams||0}),s.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"}),b.examsByStatus?.ongoing||0," ang din ra"]})]}),s.jsx("div",{className:"rounded-lg bg-gradient-to-br from-indigo-100 to-indigo-50 p-3 transition-transform group-hover:scale-110",children:s.jsx(rs,{className:"text-2xl text-indigo-600"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-indigo-500 to-purple-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),s.jsxs("article",{onClick:()=>r("/teacher/classes"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-emerald-300 hover:shadow-lg hover:-translate-y-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Lp hc"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-emerald-600",children:b.totalClasses||0}),s.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[s.jsx(Bt,{className:"h-3 w-3"}),b.totalStudents||0," hc sinh"]})]}),s.jsx("div",{className:"rounded-lg bg-gradient-to-br from-emerald-100 to-emerald-50 p-3 transition-transform group-hover:scale-110",children:s.jsx(Bt,{className:"text-2xl text-emerald-600"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),s.jsxs("article",{onClick:()=>r("/dashboard/teacher/exams"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-amber-300 hover:shadow-lg hover:-translate-y-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Yu cu chm bi"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-amber-600",children:b.pendingFeedback||0}),s.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[s.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${(b.pendingFeedback||0)>0?"animate-pulse bg-amber-500":"bg-slate-300"}`}),"Cn phn hi"]})]}),s.jsx("div",{className:"rounded-lg bg-gradient-to-br from-amber-100 to-amber-50 p-3 transition-transform group-hover:scale-110",children:s.jsx(da,{className:"text-2xl text-amber-600"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-amber-500 to-orange-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),s.jsxs("article",{onClick:()=>r("/dashboard/wallet"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-emerald-300 hover:shadow-lg hover:-translate-y-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"V ca ti"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-emerald-600",children:x?s.jsx("span",{className:"inline-block h-8 w-24 animate-pulse rounded bg-slate-200"}):yt(h||0)}),s.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"}),"S d hin ti"]})]}),s.jsx("div",{className:"rounded-lg bg-gradient-to-br from-emerald-100 to-emerald-50 p-3 transition-transform group-hover:scale-110",children:s.jsx(vi,{className:"text-2xl text-emerald-600"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 transition-opacity group-hover:opacity-100"})]})]}),s.jsxs("section",{className:"grid gap-5 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[s.jsxs("div",{className:"mb-5 flex items-center justify-between border-b border-slate-100 pb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Bi thi gn y"}),s.jsxs("button",{onClick:()=>r("/dashboard/teacher/exams"),className:"flex items-center gap-1 text-sm font-semibold text-indigo-600 transition hover:text-indigo-700 hover:gap-2",children:["Xem tt c",s.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]}),y.exams&&y.exams.length>0?s.jsx("div",{className:"space-y-3",children:y.exams.map((w,k)=>s.jsx("div",{className:"group cursor-pointer rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-white p-4 transition-all duration-200 hover:border-indigo-200 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-white hover:shadow-sm",onClick:()=>r(`/dashboard/teacher/exams/${w.id}/edit`),style:{animationDelay:`${k*50}ms`},children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rs,{className:"h-4 w-4 text-indigo-500 opacity-0 transition-opacity group-hover:opacity-100"}),s.jsx("h3",{className:"font-semibold text-slate-900 transition-colors group-hover:text-indigo-700",children:w.title})]}),s.jsxs("p",{className:"mt-1.5 flex items-center gap-2 text-xs text-slate-500",children:[s.jsx(Al,{className:"h-3 w-3"}),new Date(w.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})})},w.id))}):s.jsxs("div",{className:"py-12 text-center",children:[s.jsx("div",{className:"mx-auto mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100",children:s.jsx(rs,{className:"text-2xl text-slate-400"})}),s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cha c bi thi no"}),s.jsx("button",{onClick:()=>r("/dashboard/teacher/exams/create"),className:"mt-4 text-sm font-semibold text-indigo-600 hover:text-indigo-700 hover:underline",children:"To bi thi u tin "})]})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[s.jsxs("div",{className:"mb-5 flex items-center justify-between border-b border-slate-100 pb-4",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Lp hc gn y"}),s.jsxs("button",{onClick:()=>r("/teacher/classes"),className:"flex items-center gap-1 text-sm font-semibold text-indigo-600 transition hover:text-indigo-700 hover:gap-2",children:["Xem tt c",s.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]}),y.classes&&y.classes.length>0?s.jsx("div",{className:"space-y-3",children:y.classes.map((w,k)=>s.jsx("div",{className:"group cursor-pointer rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-white p-4 transition-all duration-200 hover:border-emerald-200 hover:bg-gradient-to-r hover:from-emerald-50 hover:to-white hover:shadow-sm",onClick:()=>r(`/teacher/classes/${encodeURIComponent(w.classCode||w.id)}`),style:{animationDelay:`${k*50}ms`},children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"h-4 w-4 text-emerald-500 opacity-0 transition-opacity group-hover:opacity-100"}),s.jsx("h3",{className:"font-semibold text-slate-900 transition-colors group-hover:text-emerald-700",children:w.className})]}),s.jsxs("p",{className:"mt-1.5 flex items-center gap-2 text-xs text-slate-500",children:[s.jsx("span",{className:"font-mono font-medium text-slate-600",children:w.classCode}),s.jsx("span",{children:""}),new Date(w.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})})},w.id))}):s.jsxs("div",{className:"py-12 text-center",children:[s.jsx("div",{className:"mx-auto mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100",children:s.jsx(Bt,{className:"text-2xl text-slate-400"})}),s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cha c lp hc no"}),s.jsx("button",{onClick:()=>r("/teacher/classes/create"),className:"mt-4 text-sm font-semibold text-indigo-600 hover:text-indigo-700 hover:underline",children:"To lp hc u tin "})]})]})]})]})})}function MS(r={}){const e=new URLSearchParams;r.class_id&&e.set("class_id",r.class_id),r.is_paid!==void 0&&r.is_paid!==""&&e.set("is_paid",r.is_paid),r.page&&e.set("page",r.page),r.limit&&e.set("limit",r.limit),r.offset!==void 0&&e.set("offset",r.offset);const t=e.toString();return pe.get(`/api/exams${t?`?${t}`:""}`)}function LS(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}`)}function zS(r,e={}){if(!r)throw new Error("examId l bt buc.");const t=new URLSearchParams;e.limit&&t.set("limit",e.limit);const a=t.toString();return pe.get(`/api/exams/${r}/similar${a?`?${a}`:""}`)}const ev=async(r,e)=>{try{const t=new URLSearchParams;r&&t.append("limit",r),e&&t.append("offset",e);const a=t.toString(),i=`/api/classes${a?`?${a}`:""}`;return await pe.get(i)}catch(t){return{status:!1,message:t.body?.message||t.message}}},DS=async r=>{try{return await pe.get(`/api/classes/join?code=${r}`)}catch(e){return{status:!1,message:e.body?.message||e.message}}};function RS(){const r=lt(),[e,t]=E.useState(!0),[a,i]=E.useState(""),[o,c]=E.useState([]),[h,u]=E.useState(1),[x,f]=E.useState({page:1,limit:12,total:0,totalPages:1}),m=12,[p,b]=E.useState({is_paid:"",class_id:""}),[y,w]=E.useState(!1),[k,C]=E.useState([]);xa(()=>{(async()=>{try{const B=await ev(100,0);if(B.status&&B.data){const P=B.data.map(W=>({id:W.id,name:W.className,code:W.classCode||""}));C(P)}}catch(B){console.error("Error loading classes:",B)}})()},[]),E.useEffect(()=>{(async()=>{try{t(!0);const B={page:h,limit:m};p.is_paid!==""&&(B.is_paid=p.is_paid),p.class_id!==""&&(B.class_id=p.class_id);const P=await MS(B),W=P?.data||[],V=P?.pagination||{page:h,limit:m,total:W.length,totalPages:Math.ceil((W.length||0)/m)||1},Q={page:V.page||h,limit:V.limit||m,total:V.total!==void 0?V.total:W.length,totalPages:V.totalPages!==void 0?V.totalPages:Math.ceil((V.total||W.length)/(V.limit||m))||1};console.log("Exams data:",W.length),console.log("Pagination data:",Q),c(W),f(Q)}catch(B){console.error("Error loading exams:",B),$.error(B.message||"Khng th ti danh sch  thi"),c([]),f({page:1,limit:m,total:0,totalPages:1})}finally{t(!1)}})()},[h,p.is_paid,p.class_id,m]);const S=E.useMemo(()=>{if(!a.trim())return o;const z=a.toLowerCase().trim();return o.filter(B=>{const P=B.title?.toLowerCase().includes(z),W=B.des?.toLowerCase().includes(z),V=B.classes?.some(Q=>Q.className?.toLowerCase().includes(z))||B.class?.className?.toLowerCase().includes(z);return P||W||V})},[o,a]);E.useEffect(()=>{u(1)},[p.is_paid,p.class_id]);const A=(z,B)=>{b(P=>({...P,[z]:B}))},T=()=>{b({is_paid:"",class_id:""}),i("")},L=p.is_paid!==""||p.class_id!==""||a.trim(),M=[p.is_paid!==""&&"1",p.class_id!==""&&"1",a.trim()&&"1"].filter(Boolean).length,_=z=>{r(`/dashboard/student/exams/${z}`)},D=z=>z?new Date(z).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",H=z=>s.jsxs("div",{className:"group flex flex-col rounded-2xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-2xl",children:s.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[s.jsx("img",{src:z.image_url?z.image_url.startsWith("http")?z.image_url:`${"http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000"}${z.image_url}`:"https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg",alt:z.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105",onError:B=>{B.target.src="https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg"}}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between bg-gradient-to-t from-black/60 via-transparent to-transparent p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),z.classes&&z.classes.length>0?z.classes.length>1?`${z.classes.length} lp`:z.classes[0].className:z.class?.className||"Public"]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white",children:D(z.created_at)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-white",children:z.title}),s.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-white/90",children:z.des||(z.classes&&z.classes.length>0?z.classes.map(B=>B.className).join(", "):null)||z.class?.className||"Khng c m t"})]})]})]})}),s.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-600",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(mi,{className:"h-4 w-4 text-slate-400"}),z.minutes," pht"]}),s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(Is,{className:"h-4 w-4 text-slate-400"}),z.question_count||0," cu"]}),s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-3 py-1 text-amber-700",children:[s.jsx(Nc,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),z.average_rating>0?z.average_rating.toFixed(1):"0.0",z.total_ratings>0&&s.jsxs("span",{className:"text-xs text-amber-600",children:["(",z.total_ratings,")"]})]}),z.count!==void 0&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-50 px-3 py-1 text-blue-700",children:[s.jsx(Vb,{className:"h-4 w-4 text-blue-600"}),z.count||0," lt lm"]}),z.status&&s.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 ${z.status==="ongoing"?"bg-green-100 text-green-700":z.status==="upcoming"?"bg-blue-100 text-blue-700":z.status==="ended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:z.status==="ongoing"?"ang din ra":z.status==="upcoming"?"Sp ti":z.status==="ended"?" kt thc":"Khng gii hn thi gian"}),z.is_paid&&parseFloat(z.fee||0)>0&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-3 py-1 text-emerald-700",children:[s.jsx(Fx,{className:"h-4 w-4 text-emerald-600"}),yt(z.fee),"/ lt thi"]})]}),z.classes&&z.classes.length>0&&s.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:z.classes.length>1?s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-slate-800",children:[z.classes.length," lp hc"]}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:z.classes.map((B,P)=>s.jsxs("span",{className:"rounded bg-indigo-50 px-2 py-0.5 text-xs text-indigo-700",children:[B.className," ",B.classCode?`(${B.classCode})`:""]},B.id||P))})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-semibold text-slate-800",children:z.classes[0].className}),z.classes[0].classCode&&s.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",z.classes[0].classCode]})]})}),!z.classes&&z.class&&s.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:z.class.className}),z.class.classCode&&s.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",z.class.classCode]})]}),s.jsx("div",{className:"mt-auto",children:s.jsxs("button",{onClick:()=>_(z.id),className:"flex w-full items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:[s.jsx(ml,{className:"h-4 w-4"}),"Xem"]})})]})]},z.id);return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[s.jsx("div",{children:s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Tm kim bi thi"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[s.jsx("span",{className:"font-semibold text-slate-900",children:x.total.toLocaleString("vi-VN")}),"kt qu"]})]})}),s.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm md:p-6",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex w-full items-center gap-3 rounded-full border border-slate-200 px-4 py-2 shadow-sm focus-within:border-indigo-400 focus-within:ring-1 focus-within:ring-indigo-200",children:[s.jsx(Tl,{className:"h-5 w-5 text-slate-400"}),s.jsx("input",{value:a,onChange:z=>i(z.target.value),type:"text",placeholder:"Nhp t kha tn bi thi, mn hc, tc gi...",className:"w-full border-none bg-transparent text-sm text-slate-700 outline-none focus:ring-0"})]}),s.jsxs("button",{onClick:()=>w(!y),className:"flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:[s.jsx(Wb,{className:"h-4 w-4"}),"Lc",L&&s.jsx("span",{className:"ml-1 rounded-full bg-indigo-600 px-2 py-0.5 text-xs text-white",children:M})]})]}),y&&s.jsxs("div",{className:"space-y-4 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"B lc"}),L&&s.jsxs("button",{onClick:T,className:"flex items-center gap-1 text-xs text-slate-600 hover:text-slate-800",children:[s.jsx(dl,{className:"h-3 w-3"}),"Xa tt c"]})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-slate-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),"Tr ph"]}),s.jsxs("select",{value:p.is_paid,onChange:z=>A("is_paid",z.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-200",children:[s.jsx("option",{value:"",children:"Tt c"}),s.jsx("option",{value:"true",children:"C tr ph"}),s.jsx("option",{value:"false",children:"Min ph"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-slate-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),"Theo lp mnh ang tham gia"]}),s.jsxs("select",{value:p.class_id,onChange:z=>A("class_id",z.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-200",children:[s.jsx("option",{value:"",children:"Tt c"}),k.map(z=>s.jsxs("option",{value:z.id,children:[z.name," ",z.code?`(${z.code})`:""]},z.id))]})]})]})]})]})}),s.jsx("section",{children:e?s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[s.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"}),s.jsx("p",{className:"mt-3 text-sm font-medium text-slate-600",children:"ang ti danh sch  thi..."})]}):S.length===0?s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[s.jsx("p",{className:"text-base font-semibold text-slate-800",children:"Khng tm thy  thi ph hp"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a.trim()?"Th i t kha khc hoc kim tra chnh t.":"Khng c  thi no ph hp vi b lc ca bn."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:S.map(H)}),!e&&S.length>0&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th",s.jsx("span",{className:"mx-1 font-semibold",children:x.total>0?(x.page-1)*x.limit+1:0}),"-",s.jsx("span",{className:"mx-1 font-semibold",children:Math.min(x.page*x.limit,x.total)}),"trong",s.jsx("span",{className:"mx-1 font-semibold",children:x.total})," thi"]}),x.totalPages>1&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>u(z=>Math.max(1,z-1)),disabled:x.page===1,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Trc"}),s.jsx("div",{className:"hidden items-center gap-2 md:flex",children:Array.from({length:x.totalPages}).map((z,B)=>{const P=B+1;return s.jsx("button",{onClick:()=>u(P),className:`h-10 w-10 rounded-lg border text-sm font-semibold transition ${x.page===P?"border-indigo-600 bg-indigo-600 text-white shadow-md":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50"}`,children:P},P)})}),s.jsx("button",{onClick:()=>u(z=>Math.min(x.totalPages,z+1)),disabled:x.page===x.totalPages,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sau"})]})]})]})})]})})}const gt=r=>{if(!r)return"N/A";const e=new Date(r);return new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(e)};function OS(){const[r,e]=E.useState("info"),[t,a]=E.useState(null),[i,o]=E.useState({fullName:"",email:"",role:"",join:"",balance:null,avatar_url:null}),[c,h]=E.useState(null),[u,x]=E.useState(null),[f,m]=E.useState(null),[p,b]=E.useState(!1),[y,w]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,C]=E.useState(null),[S,A]=E.useState(null),[T,L]=E.useState(!1),[M,_]=E.useState(!1),[D,H]=E.useState(!1);xa(()=>{const F=fi();F?.role&&o(I=>({...I,role:F.role})),(async()=>{const I=await Oc();if(console.log(I),o({fullName:I.fullName,email:I.email,role:I.role,balance:I.balance,join:I.created_at,avatar_url:I.avatar_url||null}),h(I.login_list),I.avatar_url){const G=I.avatar_url.startsWith("http")?I.avatar_url:`${"http://localhost:5005".replace(/\/$/,"")||"http://localhost:5005"}${I.avatar_url}`;x(G)}})()},[]);const z=E.useMemo(()=>i.role?i.role:fi()?.role||"student",[i.role]),B=F=>q=>{const I=q.target.value;o(G=>({...G,[F]:I})),C(null)},P=F=>q=>{const I=q.target.value;w(G=>({...G,[F]:I})),A(null)},W=F=>{const q=F.target.files[0];if(!q)return;if(!q.type.startsWith("image/")){$.error("Vui lng chn file nh");return}if(q.size>2*1024*1024){$.error("Kch thc nh khng c vt qu 2MB");return}m(q);const I=new FileReader;I.onloadend=()=>{x(I.result)},I.readAsDataURL(q)},V=async F=>{F.preventDefault();const q=i.fullName.trim(),I=i.email.trim();if(!q||!I){C({type:"error",message:"Vui lng nhp y  h tn v email."});return}let G=i.avatar_url;if(f){b(!0);try{const U=await FN(f);if(U.status)G=U.data.avatar_url;else{$.error(U.message||"Li khi upload avatar"),b(!1);return}}catch{$.error("Li khi upload avatar"),b(!1);return}b(!1)}if(!(await IN(q,I,G)).status){$.error("Li khi cp nht profile");return}$.success("Cp nht profile thnh cng"),o(U=>({...U,fullName:q,email:I,avatar_url:G}));const O=fi();O&&(O.fullName=q,O.email=I,O.avatar_url=G,localStorage.setItem("currentUser",JSON.stringify(O)),a(O)),m(null)},Q=async F=>{F.preventDefault();const{currentPassword:q,newPassword:I,confirmPassword:G}=y;if(!q||!I||!G){A({type:"error",message:"Vui lng nhp  3 trng  i mt khu."});return}if(I.length<8){A({type:"error",message:"Mt khu mi phi c t nht 8 k t."});return}if(I!==G){A({type:"error",message:"Xc nhn mt khu khng khp."});return}const Y=await UN(q,I);if(!Y.status){$.error(Y.message);return}$.success(Y.message),w({currentPassword:"",newPassword:"",confirmPassword:""})};return s.jsx(Ye,{role:z,children:s.jsxs("div",{className:"mx-auto max-w-5xl space-y-6",children:[s.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white shadow-sm border border-slate-200",children:[s.jsx("div",{className:"relative bg-[#155DFC] p-6 md:p-8",children:s.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-white/20 text-3xl text-white backdrop-blur-sm border-2 border-white/30 overflow-hidden",children:u?s.jsx("img",{src:u,alt:"Avatar",className:"h-full w-full object-cover"}):s.jsx(Jn,{})}),s.jsxs("label",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[s.jsx(Oa,{className:"h-5 w-5 text-white"}),s.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"hidden"})]})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("h1",{className:"text-2xl font-bold",children:i.email||"Loading..."}),s.jsxs("div",{className:"flex flex-col gap-1 text-blue-100 md:flex-row md:gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(m0,{className:"h-4 w-4"})," Vai tr: ",i.role==="teacher"?"Gio vin":"Hc sinh"]}),s.jsx("span",{className:"hidden md:inline",children:"|"}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ob,{className:"h-4 w-4"})," S d: ",yt(i.balance)," VND"]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-start text-blue-100 md:items-end",children:[s.jsx("span",{className:"text-sm opacity-80",children:"Tham gia"}),s.jsxs("div",{className:"flex items-center gap-2 font-medium text-white",children:[s.jsx(bi,{})," ",gt(i.join)]})]})]})}),s.jsxs("div",{className:"flex border-b border-slate-200 bg-white px-6",children:[s.jsxs("button",{onClick:()=>e("info"),className:`flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium transition-colors ${r==="info"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[s.jsx(Jn,{className:"h-4 w-4"}),"Thng tin c nhn"]}),s.jsxs("button",{onClick:()=>e("password"),className:`flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium transition-colors ${r==="password"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[s.jsx(m0,{className:"h-4 w-4"}),"Bo mt"]})]})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm md:p-8",children:[r==="info"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Thng tin c nhn"})}),s.jsx("button",{className:"rounded-full p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:s.jsx(Oa,{className:"h-4 w-4"})})]}),s.jsxs("form",{onSubmit:V,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"nh i din"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full border-2 border-slate-200 bg-slate-50 overflow-hidden",children:u?s.jsx("img",{src:u,alt:"Avatar preview",className:"h-full w-full object-cover"}):s.jsx(Jn,{className:"h-12 w-12 text-slate-400"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50",children:[s.jsx(Oa,{className:"h-4 w-4"}),f?" chn nh mi":"Chn nh i din",s.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"hidden"})]}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"JPG, PNG hoc GIF. Ti a 2MB"})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),s.jsx("input",{type:"email",value:i.email,disabled:!0,className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-slate-500 cursor-not-allowed"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Email khng th thay i"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"H v tn"}),s.jsx("input",{type:"text",value:i.fullName,onChange:B("fullName"),placeholder:"Nhp h v tn",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Vai tr"}),s.jsx("input",{type:"text",value:i.role==="teacher"?"Gio vin":"Hc Sinh",disabled:!0,className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-slate-500 cursor-not-allowed"})]})]}),k&&s.jsx("div",{className:`rounded-lg p-3 text-sm ${k.type==="error"?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:k.message}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{type:"submit",disabled:p,className:"flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-2.5 text-sm font-medium text-white transition hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-r-transparent"}),"ang ti ln..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wi,{className:"h-4 w-4"}),"Cp nht thng tin"]})})})]})]}),r==="password"&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"i mt khu"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Cp nht mt khu  bo v ti khon"})]}),s.jsx("div",{className:"rounded-full bg-slate-100 p-2 text-slate-400",children:s.jsx(Cj,{className:"h-5 w-5"})})]}),s.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Mt khu hin ti ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:T?"text":"password",value:y.currentPassword,onChange:P("currentPassword"),placeholder:"Nhp mt khu hin ti",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 pr-10 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"}),s.jsx("button",{type:"button",onClick:()=>L(!T),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:T?s.jsx(Ha,{}):s.jsx(Cs,{})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Mt khu mi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:M?"text":"password",value:y.newPassword,onChange:P("newPassword"),placeholder:"Nhp mt khu mi",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 pr-10 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"}),s.jsx("button",{type:"button",onClick:()=>_(!M),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:M?s.jsx(Ha,{}):s.jsx(Cs,{})})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"t nht 8 k t"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Xc nhn mt khu ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:D?"text":"password",value:y.confirmPassword,onChange:P("confirmPassword"),placeholder:"Nhp li mt khu mi",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 pr-10 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"}),s.jsx("button",{type:"button",onClick:()=>H(!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:D?s.jsx(Ha,{}):s.jsx(Cs,{})})]})]})]}),S&&s.jsx("div",{className:`rounded-lg p-3 text-sm ${S.type==="error"?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:S.message}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-2.5 text-sm font-medium text-white transition hover:bg-blue-700 focus:ring-4 focus:ring-blue-200",children:[s.jsx(wi,{className:"h-4 w-4"}),"i mt khu"]})})]})]})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[s.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lb,{className:"h-5 w-5 text-indigo-600"}),s.jsx("h3",{className:"font-bold text-slate-800",children:"Lch s ng nhp gn nht"})]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[s.jsx("thead",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 font-semibold",children:"Thit b"}),s.jsx("th",{className:"px-6 py-3 font-semibold",children:"a ch IP"}),s.jsx("th",{className:"px-6 py-3 font-semibold",children:"V tr"}),s.jsx("th",{className:"px-6 py-3 font-semibold",children:"Thi gian"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:c&&c.map(F=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-slate-500",children:s.jsx(Xb,{})}),s.jsx("span",{className:"font-medium text-slate-900",children:F.device})]})}),s.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:F.ip_address}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-1 text-slate-500",children:[s.jsx(Aj,{className:"h-3 w-3"}),F.location]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:gt(F.login_time)})]},F.id))})]})}),s.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-6 py-3 text-center md:text-right"})]})]})})}function Ix(r={}){const e=Object.entries(r).filter(([,a])=>a!=null&&a!=="");if(!e.length)return"";const t=new URLSearchParams;return e.forEach(([a,i])=>t.append(a,i)),`?${t.toString()}`}function Xc(r={}){const e=Ix(r);return pe.get(`/api/classes${e}`)}function HS(r){return pe.post("/api/classes",r)}function tx({classId:r,classCode:e,page:t,search:a,pageSize:i}={}){if(!r&&!e)throw new Error("classId hoc classCode l bt buc.");const o=Ix({class_id:r,class:e,page:t,search:a,limit:i});return pe.get(`/api/classes/students${o}`)}function PS({classId:r,studentId:e,isBanned:t}){if(r==null||r==="")throw new Error("classId l bt buc.");if(e==null||e==="")throw new Error("studentId l bt buc.");if(typeof t!="boolean")throw new Error("isBanned phi l gi tr boolean (true/false).");const a=typeof r=="string"?parseInt(r,10):r,i=typeof e=="string"?parseInt(e,10):e;if(isNaN(a))throw new Error("classId phi l s hp l.");if(isNaN(i))throw new Error("studentId phi l s hp l.");return pe.post("/api/classes/student/ban",{class_id:a,student_id:i,is_banned:t})}function BS(r,e){if(!r)throw new Error("classId l bt buc.");if(!e||!e.className||e.className.trim()==="")throw new Error("className l bt buc v khng c  trng.");return pe.put(`/api/classes/${r}`,{className:e.className.trim()})}function tv(r){if(!r)throw new Error("classId l bt buc.");const e=Ix({class_id:r});return pe.delete(`/api/classes${e}`)}const ac=6,k0=["from-[#fef2ff] via-[#f6e8ff] to-[#eef2ff]","from-[#fff4ec] via-[#ffe6d8] to-[#fff0f5]","from-[#e9f9ff] via-[#eaf3ff] to-[#f5f1ff]"];function XS(r){let e=[];return Array.isArray(r)?e=r:Array.isArray(r?.data)?e=r.data:Array.isArray(r?.classes)?e=r.classes:r?.data&&Array.isArray(r.data)&&(e=r.data),e.map(t=>({id:t.id??t.classId??t._id,className:t.className??t.name??"Cha t tn",classCode:t.classCode??t.class_code??"",studentCount:t.studentCount??t.studentsCount??t.totalStudents??t.students?.length??0,createdAt:t.createdAt??t.created_at??t.createdOn??null}))}function YS(){const[r,e]=E.useState([]),[t,a]=E.useState(!0),[i,o]=E.useState(""),[c,h]=E.useState(""),[u,x]=E.useState(1),[f,m]=E.useState(null),[p,b]=E.useState(null),y=E.useMemo(()=>{const _=c.trim().toLowerCase();return _?r.filter(D=>D.className.toLowerCase().includes(_)):r},[r,c]),w=Math.max(1,Math.ceil(y.length/ac)),k=Math.min(u,w),C=(k-1)*ac,S=y.slice(C,C+ac),A=r.reduce((_,D)=>_+(D.studentCount||0),0);E.useEffect(()=>{x(1)},[c]);const T=async()=>{a(!0),o("");try{const _=await Xc();e(XS(_))}catch(_){const D=_.body?.message||_.message||"Khng th ti lp hc.";o(D)}finally{a(!1)}};E.useEffect(()=>{T()},[]);const L=async(_,D)=>{if(window.confirm(`Bn chc chn mun xa lp "${D}"?`))try{m(_),await tv(_),e(z=>z.filter(B=>B.id!==_))}catch(z){const B=z.body?.message||z.message||"Xa lp tht bi. Vui lng th li.";alert(B)}finally{m(null)}},M=async(_,D)=>{try{await navigator.clipboard.writeText(D),b(_),setTimeout(()=>b(null),2e3)}catch{alert("Khng th copy m lp. Vui lng th li.")}};return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Qun l lp hc"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Danh sch lp v hot ng"})]}),s.jsxs(At,{to:"/teacher/classes/create",className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:[s.jsx(yi,{}),"To lp mi"]})]}),s.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"}),s.jsxs("div",{className:"mt-6 grid gap-5 md:grid-cols-3",children:[s.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-violet-200 bg-white p-6 shadow-sm transition-all hover:border-violet-300 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-violet-500",children:"Tng s lp"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:r.length}),s.jsx("p",{className:"mt-2 text-xs font-medium text-slate-600",children:"Cc lp do bn to v qun l"})]}),s.jsx("div",{className:"rounded-lg bg-violet-100 p-3",children:s.jsx(Bt,{className:"text-2xl text-violet-600"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-violet-500 to-purple-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),s.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-sky-200 bg-white p-6 shadow-sm transition-all hover:border-sky-300 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-sky-500",children:"Hc sinh  tham gia"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:A}),s.jsx("p",{className:"mt-2 text-xs font-medium text-slate-600",children:"Bao gm c lp ang n hoc kha"})]}),s.jsx("div",{className:"rounded-lg bg-sky-100 p-3",children:s.jsx(Bt,{className:"text-2xl text-sky-600"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-sky-500 to-cyan-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),s.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-emerald-200 bg-white p-6 shadow-sm transition-all hover:border-emerald-300 hover:shadow-md",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-emerald-500",children:"Lp ang hin th"}),s.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:y.length}),s.jsx("p",{className:"mt-2 text-xs font-medium text-slate-600",children:"Kt qu sau khi p dng b lc hin ti"})]}),s.jsx("div",{className:"rounded-lg bg-emerald-100 p-3",children:s.jsx(Vu,{className:"text-2xl text-emerald-600"})})]}),s.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 transition-opacity group-hover:opacity-100"})]})]})]}),s.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-lg border border-slate-200 bg-white px-4 py-2.5 shadow-sm focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-200",children:[s.jsx(sa,{className:"text-slate-400"}),s.jsx("input",{value:c,onChange:_=>h(_.target.value),placeholder:"Nhp t kha tm kim lp hc...",className:"w-full border-none bg-transparent text-sm text-slate-600 outline-none focus:ring-0"})]}),s.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[s.jsx(fl,{}),"B lc"]})]}),t?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-slate-500",children:[s.jsx(He,{className:"mb-3 animate-spin text-2xl"}),"ang ti danh sch lp..."]}):i?s.jsxs("div",{className:"mt-6 rounded-2xl border border-red-200 bg-red-50 p-6 text-sm text-red-600",children:[i,s.jsx("button",{type:"button",onClick:T,className:"ml-4 text-indigo-600 underline",children:"Th li"})]}):S.length===0?s.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center",children:[s.jsx("p",{className:"text-lg	font-semibold text-slate-800",children:"Cha c lp hc no"}),s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Hy bt u bng cch to lp mi  mi hc sinh tham gia."}),s.jsxs(At,{to:"/teacher/classes/create",className:"mt-4 inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-500",children:[s.jsx(yi,{}),"To lp mi"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mt-8 grid gap-6 lg:grid-cols-2 xl:grid-cols-3",children:S.map((_,D)=>s.jsxs("article",{className:"group flex flex-col rounded-xl border border-slate-200 bg-white shadow-sm transition-all hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[s.jsx("div",{className:`relative h-32 w-full rounded-t-xl bg-gradient-to-r ${k0[D%k0.length]} px-5 py-4`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/85 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(Vu,{}),_.classCode]}),s.jsx("p",{className:"text-base font-semibold text-slate-800",children:_.className})]}),s.jsxs("span",{className:"rounded-full bg-white/80 px-3 py-1 text-xs font-semibold text-emerald-600",children:[_.studentCount," hc sinh"]})]})}),s.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-5 text-sm text-slate-600",children:[s.jsxs("p",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx(Ox,{className:"text-indigo-400"}),_.createdAt?new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(_.createdAt)):"Cha cp nht ngy to"]}),s.jsx("div",{className:"flex flex-wrap gap-3 text-xs font-medium text-slate-500",children:s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(Bt,{}),_.studentCount," hc sinh"]})}),s.jsxs("div",{className:"mt-auto flex flex-wrap items-center justify-between gap-2 border-t border-slate-100 pt-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{type:"button",onClick:()=>M(_.id,_.classCode),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 bg-white text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",title:"Copy m lp",children:p===_.id?s.jsx("span",{className:"text-xs font-semibold text-indigo-600",children:""}):s.jsx(Qi,{})})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{to:`/teacher/classes/${encodeURIComponent(_.classCode||_.id)}`,className:"rounded-lg bg-indigo-600 px-4 py-2 text-xs font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:"Vo qun l"}),s.jsx("button",{type:"button",onClick:()=>L(_.id,_.className),disabled:f===_.id,className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-red-200 bg-white text-red-600 shadow-sm transition hover:bg-red-50 hover:shadow-md disabled:opacity-60",title:"Xa lp",children:f===_.id?s.jsx(He,{className:"animate-spin"}):s.jsx(cs,{})})]})]})]})]},_.id))}),y.length>ac&&s.jsxs("div",{className:"mt-8 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[s.jsxs("p",{className:"text-slate-500",children:["Trang ",k,"/",w]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>x(_=>Math.max(1,_-1)),disabled:k===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),s.jsx("button",{type:"button",onClick:()=>x(_=>Math.min(w,_+1)),disabled:k===w,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]})]})]})})}function FS(){const r=lt(),[e,t]=E.useState(""),[a,i]=E.useState(!1),[o,c]=E.useState(""),[h,u]=E.useState(null),[x,f]=E.useState(!1),m=async y=>{if(y.preventDefault(),!e.trim()){c("Tn lp l bt buc.");return}i(!0),c("");try{const w=await HS({className:e.trim()});u(w)}catch(w){const k=w.body?.message||w.message||"Khng th to lp. Vui lng th li.";c(k)}finally{i(!1)}},p=async()=>{if(h?.classCode)try{await navigator.clipboard.writeText(h.classCode),f(!0),setTimeout(()=>f(!1),2e3)}catch{alert("Khng th copy m lp. Vui lng th li.")}},b=()=>{t(""),u(null),f(!1)};return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"relative z-10 flex flex-wrap items-center gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[s.jsx(ta,{}),"Quay li"]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"To lp hc mi"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Khi to lp cho hc sinh ca bn"})]})]}),s.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),s.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("form",{onSubmit:m,className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm lg:col-span-2",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Thng tin lp hc"}),s.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"in tn lp  h thng to m lp t ng."}),s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Tn lp ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:e,onChange:y=>t(y.target.value),placeholder:"V d: Lp Ton 10A",className:"w-full rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),o&&s.jsx("p",{className:"mt-3 rounded-xl bg-red-50 px-4 py-2 text-sm text-red-600",children:o}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[s.jsx("button",{type:"submit",disabled:a,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg disabled:opacity-60",children:a?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"animate-spin"}),"ang to..."]}):s.jsxs(s.Fragment,{children:[s.jsx(_j,{}),"To lp"]})}),h&&s.jsx("button",{type:"button",onClick:b,className:"rounded-lg border border-slate-200 bg-white px-5 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:"To lp khc"})]})]}),s.jsxs("aside",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-white p-6 shadow-sm",children:[s.jsx("h3",{className:"text-lg font-bold text-indigo-900",children:"Hng dn nhanh"}),s.jsxs("ul",{className:"mt-4 space-y-3 text-sm text-indigo-900/80",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-100 text-xs font-semibold text-indigo-600",children:"1"}),s.jsx("span",{children:"Sau khi to, bn s nhn c m lp duy nht."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-100 text-xs font-semibold text-indigo-600",children:"2"}),s.jsx("span",{children:"Gi m lp cho hc sinh  h tham gia."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-100 text-xs font-semibold text-indigo-600",children:"3"}),s.jsx("span",{children:"C th qun l hc sinh, bi ng v  thi  trang chi tit lp."})]})]})]})]}),h&&s.jsxs("section",{className:"rounded-2xl border border-green-200 bg-green-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(da,{className:"text-3xl text-green-600"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-green-800",children:"To lp thnh cng!"}),s.jsx("p",{className:"text-sm text-green-700",children:"Chia s m lp vi hc sinh hoc chuyn n trang chi tit  qun l."})]})]}),s.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-2xl bg-white/80 p-4 text-center shadow-inner",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Tn lp"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h.className})]}),s.jsxs("div",{className:"rounded-2xl bg-white/80 p-4 text-center shadow-inner",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"M lp"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h.classCode}),s.jsxs("button",{type:"button",onClick:p,className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:bg-slate-100",children:[s.jsx(Qi,{}),x?" copy":"Copy"]})]}),s.jsxs("div",{className:"rounded-2xl bg-white/80 p-4 text-center shadow-inner",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"M lp ID"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h.id})]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[s.jsx(At,{to:`/teacher/classes/${h.id}`,className:"rounded-xl bg-indigo-600 px-5 py-3 text-sm font-semibold text-white shadow transition hover:bg-indigo-500",children:"i n trang chi tit lp"}),s.jsx(At,{to:"/teacher/classes",className:"rounded-xl border border-slate-200 px-5 py-3 text-sm font-semibold text-slate-600 transition hover:bg-white",children:"Tr v danh sch"})]})]})]})})}function IS(r){if(!r?.classId)throw new Error("classId l bt buc.");if(!r?.title?.trim())throw new Error("title l bt buc.");if(!r?.post?.trim())throw new Error("post (ni dung) l bt buc.");return pe.post("/api/posts/create",{classId:r.classId,title:r.title,post:r.post})}function sv(r){if(!r)throw new Error("classId l bt buc.");return pe.get(`/api/classes/posts/${r}`)}function US(r,e){if(!r)throw new Error("postId l bt buc.");return pe.post(`/api/posts/update/${r}`,{title:e.title,post:e.post})}function WS(r){if(!r)throw new Error("postId l bt buc.");return pe.delete(`/api/posts/${r}`)}function av(r){if(!r)throw new Error("postId l bt buc.");return pe.get(`/api/posts/comment/${r}`)}function iv(r){if(!r?.postId)throw new Error("postId l bt buc.");if(!r?.comment?.trim())throw new Error("comment l bt buc.");return pe.post("/api/posts/comment",{postId:r.postId,comment:r.comment})}function VS(r){if(!r)throw new Error("commentId l bt buc.");return pe.delete(`/api/posts/comment/${r}`)}function qS(r={}){const e=new URLSearchParams;Object.entries(r).forEach(([a,i])=>{i==null||i===""||e.set(a,i)});const t=e.toString();return t?`?${t}`:""}function Yc(r={}){const e=qS(r);return pe.get(`/api/exams${e}`)}function nv(r){if(!r?.title?.trim())throw new Error("Tiu   thi l bt buc.");if(r.minutes===void 0||r.minutes===null)throw new Error("minutes l bt buc.");return pe.post("/api/exams",r)}function nn(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}`)}function Ux(r,e){if(!r)throw new Error("examId l bt buc.");return pe.put(`/api/exams/${r}`,e)}function rv(r){if(!r)throw new Error("examId l bt buc.");return pe.delete(`/api/exams/${r}`)}function lv(r,e){if(!r)throw new Error("examId l bt buc.");if(!e)throw new Error("targetMethod l bt buc.");return pe.post(`/api/exams/${r}/switch-question-method`,{target_method:e})}const GS=Object.freeze(Object.defineProperty({__proto__:null,createExam:nv,deleteExam:rv,getExamDetail:nn,listExams:Yc,switchQuestionCreationMethod:lv,updateExam:Ux},Symbol.toStringTag,{value:"Module"})),ic=10;function $S(r){const e=r?.class||r?.classInfo||r?.data||r||{},t=Array.isArray(r?.students)?r.students:Array.isArray(r?.data?.students)?r.data.students:Array.isArray(e?.students)?e.students:[];return{classInfo:{id:e.id??e.classId??e._id,className:e.className??e.name??"Cha t tn",classCode:e.classCode??e.class_code??"",createdAt:e.createdAt??e.created_at??null,totalStudents:e.studentsCount??e.studentCount??e.totalStudents??t.length},students:t.map(a=>({id:a.id??a.student_id??a._id,fullName:a.fullName??a.name??"Cha cp nht",email:a.email??"",joinedAt:a.Class_student?.joined_at??a.ClassStudent?.joined_at??a.joinedAt??a.joined_at??a.createdAt,isBanned:a.Class_student?.is_ban??a.ClassStudent?.is_ban??a.is_banned??a.isBanned??a.isBan??!1}))}}function C0(){const{classId:r}=ia(),e=lt(),t=/^\d+$/.test(r),a=t?r:void 0,i=t?void 0:r,[o,c]=E.useState(null),[h,u]=E.useState([]),[x,f]=E.useState(!0),[m,p]=E.useState(""),[b,y]=E.useState(""),[w,k]=E.useState(1),[C,S]=E.useState(null),[A,T]=E.useState("students"),[L,M]=E.useState(!1),[_,D]=E.useState([]),[H,z]=E.useState(!1),[B,P]=E.useState(!1),[W,V]=E.useState(null),[Q,F]=E.useState({title:"",post:""}),[q,I]=E.useState({}),[G,Y]=E.useState({}),[O,U]=E.useState(new Set),[ne,K]=E.useState({}),[ue,ie]=E.useState(""),[te,ve]=E.useState(null),[ae,je]=E.useState([]),[Le,Ae]=E.useState(!1),[bt,We]=E.useState(!1),[_s,Es]=E.useState(""),[Ot,ga]=E.useState(!1),he=E.useMemo(()=>{const ce=b.trim().toLowerCase();return ce?h.filter(Ne=>Ne.fullName.toLowerCase().includes(ce)||Ne.email.toLowerCase().includes(ce)):h},[h,b]),ze=Math.max(1,Math.ceil(he.length/ic)),Ut=Math.min(w,ze),ki=(Ut-1)*ic,Hl=he.slice(ki,ki+ic);E.useEffect(()=>{k(1)},[b]);const Wt=async()=>{f(!0),p("");try{const ce=await tx({classId:a,classCode:i}),Ne=$S(ce);c(Ne.classInfo),u(Ne.students)}catch(ce){const Ne=ce.body?.message||ce.message||"Khng th ti d liu lp hc.";p(Ne)}finally{f(!1)}};xa(()=>{const ce=fi();ce&&(ie(ce.role||""),ve(ce.id||null))},[]),E.useEffect(()=>{Wt()},[a,i]),E.useEffect(()=>{A==="posts"&&o?.id&&on(),A==="exams"&&o?.id&&Ai()},[A,o?.id]);const Uc=async(ce,Ne)=>{const st=!Ne,Ht=st?"kha":"m kha",as=a||o?.id;if(!as){$.error("Khng tm thy thng tin lp hc. Vui lng lm mi trang.");return}if(!ce){$.error("Khng tm thy thng tin hc sinh.");return}const Yl=typeof as=="string"?parseInt(as,10):as,gr=typeof ce=="string"?parseInt(ce,10):ce;if(isNaN(Yl)||isNaN(gr)){$.error("D liu khng hp l. Vui lng th li.");return}if(window.confirm(`Bn chc chn mun ${Ht} hc sinh ny?`))try{S(ce),await PS({classId:Yl,studentId:gr,isBanned:st}),u(Ti=>Ti.map(Ya=>Ya.id===ce?{...Ya,isBanned:st}:Ya)),$.success(st?" kha hc sinh thnh cng":" m kha hc sinh thnh cng")}catch(Ti){const Ya=Ti.body?.message||Ti.message||`Khng th ${Ht} hc sinh. Vui lng th li.`;$.error(Ya)}finally{S(null)}},Pl=async()=>{if(!(!o||!window.confirm(`Bn chc chn mun xa lp "${o.className}"?`)))try{M(!0),await tv(o.id),e("/teacher/classes",{replace:!0})}catch(Ne){const st=Ne.body?.message||Ne.message||"Khng th xa lp. Vui lng th li.";$.error(st)}finally{M(!1)}},Bl=()=>{o&&(Es(o.className),We(!0))},ln=()=>{We(!1),Es("")},Wc=async ce=>{if(ce.preventDefault(),!o?.id)return;const Ne=_s.trim();if(!Ne){$.error("Tn lp khng c  trng.");return}if(Ne===o.className){We(!1);return}try{ga(!0);const st=await BS(o.id,{className:Ne});c(Ht=>({...Ht,className:Ne})),We(!1),$.success(" cp nht tn lp thnh cng.")}catch(st){const Ht=st.body?.message||st.message||"Khng th cp nht tn lp. Vui lng th li.";$.error(Ht)}finally{ga(!1)}},Xl=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2",children:[s.jsx(Bt,{className:"text-slate-400"}),s.jsx("input",{value:b,onChange:ce=>y(ce.target.value),placeholder:"Tm kim hc sinh theo tn hoc email...",className:"w-full border-none text-sm outline-none focus:ring-0"})]}),s.jsxs("button",{type:"button",onClick:Wt,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(ar,{}),"Lm mi"]})]}),s.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"STT"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"H v tn"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Ngy tham gia"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Trng thi"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Hnh ng"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:Hl.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-slate-500",children:"Khng tm thy hc sinh ph hp."})}):Hl.map((ce,Ne)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-slate-500",children:ki+Ne+1}),s.jsx("td",{className:"px-4 py-3 font-semibold text-slate-900",children:ce.fullName}),s.jsx("td",{className:"px-4 py-3",children:ce.email}),s.jsx("td",{className:"px-4 py-3",children:ce.joinedAt?new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(ce.joinedAt)):""}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ce.isBanned?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:ce.isBanned?"B kha":"Hot ng"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("button",{type:"button",onClick:()=>Uc(ce.id,ce.isBanned),disabled:C===ce.id,className:`inline-flex items-center gap-2 rounded-xl px-4 py-2 text-xs font-semibold transition ${ce.isBanned?"border border-emerald-200 text-emerald-600 hover:bg-emerald-50":"border border-red-200 text-red-600 hover:bg-red-50"} disabled:opacity-50`,children:[C===ce.id?s.jsx(He,{className:"animate-spin"}):ce.isBanned?s.jsx(Dj,{}):s.jsx(zj,{}),ce.isBanned?"M kha":"Kha hc sinh"]})})]},ce.id))})]})}),he.length>ic&&s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[s.jsxs("p",{className:"text-slate-500",children:["Trang ",Ut,"/",ze]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>k(ce=>Math.max(1,ce-1)),disabled:Ut===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),s.jsx("button",{type:"button",onClick:()=>k(ce=>Math.min(ze,ce+1)),disabled:Ut===ze,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]}),on=async()=>{if(o?.id){z(!0);try{const ce=await sv(o.id),Ne=Array.isArray(ce)?ce:[];D(Ne)}catch(ce){$.error(ce?.body?.message||ce?.message||"Khng th ti bi ng.")}finally{z(!1)}}},Vc=async ce=>{if(ce.preventDefault(),!Q.title.trim()||!Q.post.trim()){$.error("Vui lng nhp y  tiu  v ni dung.");return}try{await IS({classId:o.id,title:Q.title,post:Q.post}),$.success(" to bi ng thnh cng."),F({title:"",post:""}),P(!1),on()}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th to bi ng.")}},Ci=async ce=>{if(ce.preventDefault(),!!W){if(!Q.title.trim()||!Q.post.trim()){$.error("Vui lng nhp y  tiu  v ni dung.");return}try{await US(W.id,{title:Q.title,post:Q.post}),$.success(" cp nht bi ng thnh cng."),F({title:"",post:""}),V(null),on()}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th cp nht bi ng.")}}},ts=async ce=>{if(window.confirm("Bn chc chn mun xa bi ng ny?"))try{await WS(ce),$.success(" xa bi ng thnh cng."),on()}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th xa bi ng.")}},na=ce=>{V(ce),F({title:ce.title||"",post:ce.text||ce.post||""}),P(!0)},ss=()=>{P(!1),V(null),F({title:"",post:""})},qc=async ce=>{if(ce){Y(Ne=>({...Ne,[ce]:!0}));try{const Ne=await av(ce),st=Array.isArray(Ne)?Ne:[];I(Ht=>({...Ht,[ce]:st}))}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th ti bnh lun.")}finally{Y(Ne=>({...Ne,[ce]:!1}))}}},Gc=ce=>{U(Ne=>{const st=new Set(Ne);return st.has(ce)?st.delete(ce):(st.add(ce),q[ce]||qc(ce)),st})},$c=async(ce,Ne)=>{ce.preventDefault();const st=ne[Ne]?.trim();if(!st){$.error("Vui lng nhp ni dung bnh lun.");return}try{const Ht=await iv({postId:Ne,comment:st});I(as=>({...as,[Ne]:[...as[Ne]||[],Ht]})),K(as=>({...as,[Ne]:""})),$.success(" thm bnh lun thnh cng.")}catch(Ht){$.error(Ht?.body?.message||Ht?.message||"Khng th thm bnh lun.")}},cn=async(ce,Ne)=>{if(window.confirm("Bn chc chn mun xa bnh lun ny?"))try{await VS(ce),I(st=>({...st,[Ne]:(st[Ne]||[]).filter(Ht=>Ht.id!==ce)})),$.success(" xa bnh lun thnh cng.")}catch(st){$.error(st?.body?.message||st?.message||"Khng th xa bnh lun.")}},Ai=async()=>{if(o?.id){Ae(!0);try{const ce=await Yc({class_id:o.id}),Ne=Array.isArray(ce)?ce:Array.isArray(ce?.data)?ce.data:Array.isArray(ce?.exams)?ce.exams:[];je(Ne)}catch(ce){$.error(ce?.body?.message||ce?.message||"Khng th ti danh sch  thi.")}finally{Ae(!1)}}},dn=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" thi trong lp"}),s.jsxs("button",{type:"button",onClick:Ai,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(ar,{}),"Lm mi"]})]}),Le?s.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[s.jsx(He,{className:"mr-2 animate-spin"}),"ang ti danh sch  thi..."]}):ae.length===0?s.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c  thi no trong lp ny."}):s.jsx("div",{className:"space-y-3",children:ae.map(ce=>s.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rs,{className:"text-indigo-600 text-xl"}),s.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ce.title})]}),ce.description&&s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:ce.description}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-xs text-slate-500",children:[ce.minutes&&s.jsxs("span",{children:["Thi gian: ",ce.minutes," pht"]}),ce.total_questions&&s.jsxs("span",{children:["S cu hi: ",ce.total_questions]}),ce.created_at&&s.jsxs("span",{children:["To lc: ",gt(ce.created_at)]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${ce.id}/edit`),className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 px-4 py-2 text-sm font-semibold text-indigo-600 transition hover:bg-indigo-50",children:[s.jsx(Oa,{}),"Xem chi tit"]}),s.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${ce.id}/results`),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(Pb,{}),"Kt qu"]})]})]})},ce.id))})]}),fa=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Bi ng trong lp"}),ue==="teacher"&&!B&&s.jsxs("button",{type:"button",onClick:()=>P(!0),className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:[s.jsx(yi,{}),"To bi ng mi"]})]}),B&&s.jsxs("div",{className:"rounded-2xl border border-indigo-200 bg-indigo-50/60 p-6",children:[s.jsx("h4",{className:"mb-4 text-lg font-semibold text-indigo-900",children:W?"Chnh sa bi ng":"To bi ng mi"}),s.jsxs("form",{onSubmit:W?Ci:Vc,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Tiu "}),s.jsx("input",{type:"text",value:Q.title,onChange:ce=>F({...Q,title:ce.target.value}),placeholder:"Nhp tiu  bi ng",className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ni dung"}),s.jsx("textarea",{value:Q.post,onChange:ce=>F({...Q,post:ce.target.value}),placeholder:"Nhp ni dung bi ng",rows:6,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",required:!0})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:W?"Cp nht":"ng"}),s.jsx("button",{type:"button",onClick:ss,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"Hy"})]})]})]}),H?s.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[s.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bi ng..."]}):_.length===0?s.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c bi ng no. Hy to bi ng u tin."}):s.jsx("div",{className:"space-y-4",children:_.map(ce=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ce.title}),ce.author&&s.jsxs("span",{className:"text-xs text-slate-500",children:["bi ",ce.author.fullName||ce.author.fullname]})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-600 whitespace-pre-wrap",children:ce.text||ce.post}),s.jsx("p",{className:"mt-3 text-xs text-slate-400",children:gt(ce.created_at)})]}),ue==="teacher"&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>na(ce),className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:[s.jsx(Oa,{}),"Sa"]}),s.jsxs("button",{type:"button",onClick:()=>ts(ce.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-3 py-1 text-xs font-semibold text-red-600 hover:bg-red-50",children:[s.jsx(cs,{}),"Xa"]})]})]}),s.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-4",children:[s.jsxs("button",{type:"button",onClick:()=>Gc(ce.id),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition",children:[s.jsx(sr,{}),O.has(ce.id)?"n bnh lun":"Xem bnh lun",q[ce.id]&&s.jsx("span",{className:"rounded-full bg-slate-200 px-2 py-0.5 text-xs",children:q[ce.id].length})]}),O.has(ce.id)&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("form",{onSubmit:Ne=>$c(Ne,ce.id),className:"flex gap-2",children:[s.jsx("input",{type:"text",value:ne[ce.id]||"",onChange:Ne=>K(st=>({...st,[ce.id]:Ne.target.value})),placeholder:"Vit bnh lun...",className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),s.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:[s.jsx(yi,{}),"Gi"]})]}),G[ce.id]?s.jsxs("div",{className:"flex items-center justify-center py-4 text-slate-500",children:[s.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bnh lun..."]}):!q[ce.id]||q[ce.id].length===0?s.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50/60 p-4 text-center text-sm text-slate-500",children:"Cha c bnh lun no."}):s.jsx("div",{className:"space-y-3",children:q[ce.id].map(Ne=>s.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-slate-200 bg-slate-50/60 p-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Ne.author?.fullName||"Ngi dng"}),s.jsx("span",{className:"text-xs text-slate-400",children:gt(Ne.created_at)})]}),s.jsx("p",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:Ne.text})]}),ue==="teacher"&&s.jsx("button",{type:"button",onClick:()=>cn(Ne.id,ce.id),className:"ml-2 inline-flex items-center gap-1 rounded-lg border border-red-200 px-2 py-1 text-xs font-semibold text-red-600 hover:bg-red-50",children:s.jsx(cs,{})})]},Ne.id))})]})]})]},ce.id))})]}),hn={students:Xl(),posts:fa(),exams:dn()};return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(ta,{}),"Quay li"]}),bt?s.jsxs("form",{onSubmit:Wc,className:"mt-3 flex items-center gap-3",children:[s.jsx("input",{type:"text",value:_s,onChange:ce=>Es(ce.target.value),disabled:Ot,className:"rounded-lg border border-indigo-300 px-4 py-2 text-2xl font-bold text-slate-900 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 disabled:opacity-60",placeholder:"Nhp tn lp",required:!0,autoFocus:!0}),s.jsx("button",{type:"submit",disabled:Ot,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60",children:Ot?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"animate-spin"}),"ang lu..."]}):"Lu"}),s.jsx("button",{type:"button",onClick:ln,disabled:Ot,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-60",children:"Hy"})]}):s.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:o?.className||"Chi tit lp hc"}),ue==="teacher"&&o&&s.jsxs("button",{type:"button",onClick:Bl,className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-3 py-1.5 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",title:"Chnh sa tn lp",children:[s.jsx(Oa,{}),"Sa tn"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 px-4 py-2 text-center",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"M lp"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:o?.classCode}),s.jsxs("button",{type:"button",onClick:async()=>{if(o?.classCode)try{await navigator.clipboard.writeText(o.classCode),alert(" copy m lp.")}catch{alert("Khng th copy m lp.")}},className:"mt-1 inline-flex items-center gap-1 text-xs font-semibold text-indigo-600",children:[s.jsx(Qi,{}),"Copy"]})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 px-4 py-2 text-center",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"S hc sinh"}),s.jsx("p",{className:"text-lg font-semibold text-slate-900",children:o?.totalStudents??h.length})]}),s.jsxs("button",{type:"button",onClick:Pl,disabled:L,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-red-50 disabled:opacity-60",children:[s.jsx(cs,{}),L?"ang xa...":"Xa lp"]})]})]})}),x?s.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-slate-200 bg-white p-10 text-slate-500",children:[s.jsx(He,{className:"mb-3 animate-spin text-3xl"}),"ang ti d liu lp..."]}):m?s.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-red-200 bg-red-50 p-6 text-red-600",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zc,{}),s.jsx("p",{className:"font-semibold",children:m})]}),s.jsx("button",{type:"button",onClick:Wt,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-white",children:"Th li"})]}):s.jsxs("section",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"flex flex-wrap gap-3",children:[{key:"students",label:"Danh sch hc sinh"},{key:"posts",label:"Bi ng"},{key:"exams",label:" thi"}].map(ce=>s.jsx("button",{type:"button",onClick:()=>T(ce.key),className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${A===ce.key?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:ce.label},ce.key))}),hn[A]]})]})})}const KS="modulepreload",ZS=function(r){return"/"+r},A0={},QS=function(e,t,a){let i=Promise.resolve();if(t&&t.length>0){let x=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var c=x;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),u=h?.nonce||h?.getAttribute("nonce");i=x(t.map(f=>{if(f=ZS(f),f in A0)return;A0[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":KS,m||(b.as="script"),b.crossOrigin="",b.href=f,u&&b.setAttribute("nonce",u),document.head.appendChild(b),m)return new Promise((y,w)=>{b.addEventListener("load",y),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(h){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=h,window.dispatchEvent(u),!u.defaultPrevented)throw h}return i.then(h=>{for(const u of h||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function ov(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/comments`)}function Sc(r){if(!r.exam_id||!r.text)throw new Error("exam_id v text l bt buc.");return pe.post("/api/exam-comments",r)}function cv(r){if(!r)throw new Error("commentId l bt buc.");return pe.delete(`/api/exam-comments/${r}`)}const JS=[{value:"",label:"Tt c"},{value:"upcoming",label:"Sp din ra"},{value:"ongoing",label:"ang din ra"},{value:"ended",label:" kt thc"}];function ek({start_time:r,end_time:e}){const t=new Date,a=r?new Date(r):null,i=e?new Date(e):null;if(a&&t<a)return"upcoming";if(a&&i){if(t>=a&&t<=i)return"ongoing";if(t>i)return"ended"}return i&&t>i?"ended":"ongoing"}function tk(r){switch(r){case"upcoming":return{label:"Sp din ra",className:"bg-blue-50 text-blue-600 border-blue-200"};case"ongoing":return{label:"ang din ra",className:"bg-emerald-50 text-emerald-600 border-emerald-200"};case"ended":return{label:" kt thc",className:"bg-slate-100 text-slate-600 border-slate-200"};default:return{label:"Khng xc nh",className:"bg-slate-100 text-slate-500 border-slate-200"}}}function sk(r){const e=ek(r);let t=[];r.classes&&Array.isArray(r.classes)?t=r.classes:r.class&&(t=[r.class]);const a=t.length>0?t.map(i=>i.className??i.name??"Khng tn").join(", "):null;return{id:r.id??r.exam_id??r._id,title:r.title??"Khng tiu ",description:r.des??r.description??"",minutes:r.minutes??r.duration??null,totalScore:r.total_score??r.totalScore??null,startTime:r.start_time??r.startTime??null,endTime:r.end_time??r.endTime??null,questionCount:r.question_count??r.questionsCount??r.questionCount??0,submissionCount:r.submission_count??r.attemptCount??r.student_submissions??0,status:e,classes:t,classesDisplay:a,className:a,questionMethod:r.question_creation_method??r.questionMethod??r.question_method??null}}function ak(){const r=lt(),[e,t]=E.useState({keyword:"",classId:"",status:"",startDate:"",endDate:""}),[a,i]=E.useState([]),[o,c]=E.useState(!0),[h,u]=E.useState(""),[x,f]=E.useState([]),[m,p]=E.useState(!0),[b,y]=E.useState(!1),[w,k]=E.useState(null),[C,S]=E.useState([]),[A,T]=E.useState(!1),[L,M]=E.useState(!1),[_,D]=E.useState(null),[H,z]=E.useState(""),[B,P]=E.useState("");E.useEffect(()=>{async function K(){p(!0);try{const ue=await Xc();f(ue?Array.isArray(ue)?ue:ue.data??[]:[])}catch(ue){console.error("Khng th ti lp:",ue)}finally{p(!1)}}K()},[]);const W=async(K={})=>{c(!0),u("");try{const ue=await Yc({search:K.keyword,class_id:K.classId,status:K.status,start_time:K.startDate,end_time:K.endDate}),ie=Array.isArray(ue)?ue:Array.isArray(ue?.data)?ue.data:Array.isArray(ue?.exams)?ue.exams:[];i(ie.map(sk))}catch(ue){u(ue?.body?.message||ue?.message||"Khng th ti danh sch  thi. Vui lng th li.")}finally{c(!1)}};E.useEffect(()=>{W(e)},[]);const V=(K,ue)=>{t(ie=>({...ie,[K]:ue}))},Q=()=>{W(e)},F=()=>{const K={keyword:"",classId:"",status:"",startDate:"",endDate:""};t(K),W(K)},q=async K=>{if(K)try{T(!0);const ue=await ov(K);S(Array.isArray(ue)?ue:ue?.data||[])}catch(ue){console.error("Error loading comments:",ue),$.error("Khng th ti bnh lun")}finally{T(!1)}},I=async K=>{k(K),M(!0),await q(K)},G=()=>{M(!1),k(null),S([]),D(null),z(""),P("")},Y=async()=>{if(!B.trim()){$.error("Vui lng nhp ni dung bnh lun");return}if(w)try{await Sc({exam_id:w,text:B.trim()}),P(""),$.success(" thm bnh lun"),await q(w)}catch(K){console.error("Error creating comment:",K),$.error(K.message||"Khng th thm bnh lun")}},O=async K=>{if(!H.trim()){$.error("Vui lng nhp ni dung phn hi");return}if(w)try{await Sc({exam_id:w,text:H.trim(),parent_id:K}),z(""),D(null),$.success(" thm phn hi"),await q(w)}catch(ue){console.error("Error creating reply:",ue),$.error(ue.message||"Khng th thm phn hi")}},U=async K=>{if(window.confirm("Bn c chc chn mun xa bnh lun ny? Hnh ng ny khng th hon tc."))try{await cv(K),$.success(" xa bnh lun"),w&&await q(w)}catch(ue){console.error("Error deleting comment:",ue),$.error(ue.message||"Khng th xa bnh lun")}},ne=E.useMemo(()=>!e.keyword&&!e.classId&&!e.status&&!e.startDate&&!e.endDate?"Tt c  thi ca bn":" p dng b lc",[e]);return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Bi thi"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Danh sch  thi"}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:ne})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[s.jsx(fl,{}),"Xa lc"]}),s.jsxs("button",{type:"button",onClick:()=>r("/dashboard/teacher/exams/create"),className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:[s.jsx(rs,{}),"To  thi mi"]})]})]}),s.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm",children:[s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 shadow-sm focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-200",children:[s.jsx(sa,{className:"mr-2 text-slate-400"}),s.jsx("input",{type:"text",value:e.keyword,onChange:K=>V("keyword",K.target.value),placeholder:"Tm kim  thi...",className:"flex-1 text-sm text-slate-700 focus:outline-none"})]})}),s.jsxs("button",{type:"button",onClick:()=>y(!b),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[s.jsx(fl,{}),"B lc",b?s.jsx(Rb,{className:"h-4 w-4"}):s.jsx(Hx,{className:"h-4 w-4"}),(e.status||e.classId||e.startDate||e.endDate)&&s.jsx("span",{className:"ml-1 rounded-full bg-indigo-600 px-1.5 py-0.5 text-xs font-semibold text-white",children:[e.status,e.classId,e.startDate,e.endDate].filter(Boolean).length})]})]})}),b&&s.jsxs("div",{className:"border-t border-slate-200 bg-slate-50 p-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Trng thi"}),s.jsx("select",{value:e.status,onChange:K=>V("status",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:JS.map(K=>s.jsx("option",{value:K.value,children:K.label},K.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Lp hc"}),s.jsxs("select",{value:e.classId,onChange:K=>V("classId",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:[s.jsx("option",{value:"",children:"Tt c lp"}),!m&&x.map(K=>s.jsx("option",{value:K.id??K.classId,children:K.className??K.name??"Khng tn"},K.id??K.classId))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Khong thi gian"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"date",value:e.startDate,onChange:K=>V("startDate",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"T ngy"}),s.jsx("input",{type:"date",value:e.endDate,onChange:K=>V("endDate",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"n ngy"})]})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-200 pt-4",children:[s.jsx("div",{className:"text-xs text-slate-500",children:(e.status||e.classId||e.startDate||e.endDate)&&s.jsxs("span",{children:["ang p dng ",s.jsx("strong",{children:[e.status,e.classId,e.startDate,e.endDate].filter(Boolean).length})," b lc"]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:Q,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:"p dng"}),(e.status||e.classId||e.startDate||e.endDate)&&s.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:[s.jsx(It,{className:"h-3 w-3"}),"Xa"]})]})]})]})]}),s.jsx("section",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o?s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),s.jsx(He,{className:"absolute inset-0 m-auto animate-pulse text-xl text-indigo-600"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"ang ti danh sch  thi..."})]}):h?s.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"rounded-full bg-red-100 p-2",children:s.jsx(rs,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"mb-1 font-semibold text-red-900",children:"Li ti d liu"}),s.jsx("p",{className:"text-sm text-red-700",children:h})]})]})}):a.length===0?s.jsxs("div",{className:"py-16 text-center",children:[s.jsx("div",{className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-slate-100 to-slate-50",children:s.jsx(rs,{className:"text-4xl text-slate-400"})}),s.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-700",children:"Khng tm thy  thi no"}),s.jsx("p",{className:"mb-6 text-sm text-slate-500",children:Object.values(e).some(K=>K)?"Th iu chnh b lc  tm thy  thi ph hp.":"Bt u to  thi u tin ca bn."}),s.jsxs("button",{type:"button",onClick:()=>r("/dashboard/teacher/exams/create"),className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:[s.jsx(rs,{}),"To  thi u tin"]})]}):s.jsx("div",{className:"space-y-4",children:a.map((K,ue)=>{const ie=tk(K.status);return s.jsxs("div",{className:"group rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-indigo-300 hover:shadow-lg hover:-translate-y-0.5",style:{animationDelay:`${ue*50}ms`},children:[s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900 transition-colors group-hover:text-indigo-700",children:K.title}),s.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold transition-all ${ie.className}`,children:ie.label}),K.classes&&K.classes.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-lg bg-indigo-50 px-2.5 py-1 text-xs font-medium text-indigo-700",children:[s.jsx(Bt,{className:"h-3 w-3"}),K.classes.length," ",(K.classes.length===1,"lp")]}),!K.classes&&K.className&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-lg bg-indigo-50 px-2.5 py-1 text-xs font-medium text-indigo-700",children:[s.jsx(Bt,{className:"h-3 w-3"}),"1 lp"]})]}),s.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-slate-600",children:K.description||"Cha c m t."}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[s.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-slate-50 to-white px-3 py-1.5 text-slate-700 shadow-sm transition-all hover:shadow-md",children:[s.jsx(bi,{className:"text-indigo-500"}),K.minutes?`${K.minutes} pht`:"Khng gii hn"]}),s.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-slate-50 to-white px-3 py-1.5 text-slate-700 shadow-sm transition-all hover:shadow-md",children:[s.jsx(rs,{className:"text-indigo-500"}),K.questionCount," cu hi"]}),s.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-slate-50 to-white px-3 py-1.5 text-slate-700 shadow-sm transition-all hover:shadow-md",children:[s.jsx(Bt,{className:"text-indigo-500"}),K.submissionCount," lt lm"]}),K.totalScore&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-indigo-50 to-indigo-100 px-3 py-1.5 font-semibold text-indigo-700 shadow-sm",children:[K.totalScore," im"]})]})]}),s.jsx("div",{className:"rounded-lg border border-slate-100 bg-gradient-to-br from-slate-50 to-white p-4 text-sm shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-2 text-slate-600",children:[s.jsx(Al,{className:"mt-0.5 text-indigo-500"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-slate-700",children:K.startTime?new Date(K.startTime).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Khng t lch"}),s.jsxs("p",{className:"text-xs text-slate-500",children:[" ",K.endTime?new Date(K.endTime).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Khng gii hn"]})]})]})})]}),s.jsxs("div",{className:"mt-5 flex flex-wrap gap-2 border-t border-slate-100 pt-4",children:[(()=>{const te=K.questionMethod,ve=te?`/dashboard/teacher/exams/${K.id}/questions/${te==="text"?"text":"editor"}`:`/dashboard/teacher/exams/${K.id}/questions`;return s.jsx(At,{to:ve,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 shadow-sm transition-all hover:bg-slate-50 hover:shadow-md hover:-translate-y-0.5",children:"Qun l cu hi"})})(),s.jsx(At,{to:`/dashboard/teacher/exams/${K.id}/edit`,className:"inline-flex items-center gap-2 rounded-lg border border-indigo-200 bg-white px-4 py-2 text-xs font-semibold text-indigo-600 shadow-sm transition-all hover:bg-indigo-50 hover:shadow-md hover:-translate-y-0.5",children:"Chnh sa"}),s.jsx(At,{to:`/dashboard/teacher/exams/${K.id}/results`,className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 bg-white px-4 py-2 text-xs font-semibold text-emerald-600 shadow-sm transition-all hover:bg-emerald-50 hover:shadow-md hover:-translate-y-0.5",children:"Xem kt qu"}),s.jsxs("button",{type:"button",onClick:()=>I(K.id),className:"inline-flex items-center gap-2 rounded-lg border border-purple-200 bg-white px-4 py-2 text-xs font-semibold text-purple-600 shadow-sm transition-all hover:bg-purple-50 hover:shadow-md hover:-translate-y-0.5",children:[s.jsx(sr,{}),"Qun l bnh lun"]}),s.jsx("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-600 shadow-sm transition-all hover:bg-red-50 hover:shadow-md hover:-translate-y-0.5",onClick:async()=>{if(window.confirm(`Bn chc chn mun xa  thi "${K.title}"?`))try{const{deleteExam:te}=await QS(async()=>{const{deleteExam:ve}=await Promise.resolve().then(()=>GS);return{deleteExam:ve}},[]);await te(K.id),$.success(" xa  thi thnh cng."),W(e)}catch(te){$.error(te?.body?.message||te?.message||"Khng th xa  thi.")}},children:"Xa"})]})]},K.id)})})}),L&&w&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-2xl border border-slate-200 bg-white shadow-xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 p-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Qun l bnh lun"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:a.find(K=>K.id===w)?.title||" thi"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>q(w),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(He,{className:"animate-spin"}),"Lm mi"]}),s.jsx("button",{type:"button",onClick:G,className:"rounded-lg p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:s.jsx(It,{className:"h-5 w-5"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s.jsxs("div",{className:"mb-6 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Vit bnh lun mi"}),s.jsx("textarea",{value:B,onChange:K=>P(K.target.value),placeholder:"Nhp bnh lun ca bn...",className:"w-full rounded-lg border border-slate-300 bg-white p-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:3}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{type:"button",onClick:Y,disabled:!B.trim(),className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng bnh lun"})})]}),A?s.jsx("div",{className:"flex items-center justify-center py-10",children:s.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})}):C.length===0?s.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:[s.jsx(sr,{className:"mx-auto mb-2 text-4xl text-slate-300"}),s.jsx("p",{children:"Cha c bnh lun no"}),s.jsx("p",{className:"mt-1 text-xs",children:"Hy l ngi u tin bnh lun!"})]}):s.jsx("div",{className:"space-y-4",children:C.map(K=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-700",children:s.jsx("span",{className:"text-sm font-bold",children:K.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-slate-900",children:[K.user?.fullName||"Ngi dng",K.user?.role&&s.jsx("span",{className:"ml-2 rounded bg-slate-100 px-2 py-0.5 text-xs text-slate-600",children:K.user.role==="teacher"?"Gio vin":"Hc sinh"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:gt(K.created_at)})]})]}),s.jsxs("button",{type:"button",onClick:()=>U(K.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-600 transition hover:bg-red-100",title:"Xa bnh lun",children:[s.jsx(cs,{className:"h-3 w-3"}),"Xa"]})]}),s.jsx("p",{className:"mb-3 text-slate-700 whitespace-pre-wrap",children:K.text}),s.jsx("button",{type:"button",onClick:()=>D(_===K.id?null:K.id),className:"mb-3 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:_===K.id?"Hy phn hi":"Phn hi"}),_===K.id&&s.jsxs("div",{className:"mb-3 rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[s.jsx("textarea",{value:H,onChange:ue=>z(ue.target.value),placeholder:"Nhp phn hi ca bn...",className:"w-full rounded-lg border border-slate-300 bg-white p-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:3}),s.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{D(null),z("")},className:"rounded-lg border border-slate-300 bg-white px-3 py-1.5 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Hy"}),s.jsx("button",{type:"button",onClick:()=>O(K.id),disabled:!H.trim(),className:"rounded-lg bg-indigo-600 px-3 py-1.5 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng phn hi"})]})]}),K.replies&&K.replies.length>0&&s.jsx("div",{className:"mt-4 space-y-3 border-l-2 border-slate-200 pl-4",children:K.replies.map(ue=>s.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[s.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 text-slate-700",children:s.jsx("span",{className:"text-xs font-bold",children:ue.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[ue.user?.fullName||"Ngi dng",ue.user?.role&&s.jsx("span",{className:"ml-2 rounded bg-slate-100 px-1.5 py-0.5 text-xs text-slate-600",children:ue.user.role==="teacher"?"GV":"HS"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:gt(ue.created_at)})]})]}),s.jsx("button",{type:"button",onClick:()=>U(ue.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-red-50 px-2 py-1 text-xs font-semibold text-red-600 transition hover:bg-red-100",title:"Xa phn hi",children:s.jsx(cs,{className:"h-3 w-3"})})]}),s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ue.text})]},ue.id))})]},K.id))})]})]})})]})})}const ik="http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000";function nk(){try{const r=localStorage.getItem("accessToken");return r?{Authorization:`Bearer ${r}`,"x-access-token":r}:{}}catch{return{}}}async function dv(r){if(!r)throw new Error("File l bt buc.");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))throw new Error("Ch cho php upload file nh (jpeg, jpg, png, gif, webp)");const t=5*1024*1024;if(r.size>t)throw new Error("Kch thc file khng c vt qu 5MB");const a=new FormData;a.append("image",r);const i=await fetch(`${ik}/api/upload/exam-image`,{method:"POST",headers:{...nk()},body:a}),o=i.headers.get("content-type"),h=o&&o.includes("application/json")?await i.json():await i.text();if(!i.ok){const u=new Error(h&&h.message||i.statusText||"Upload failed");throw u.status=i.status,u.body=h,u}return h}const rk={title:"",minutes:45,startTime:"",endTime:"",noTimeLimit:!1,classIds:[],description:"",totalScore:"",isPublic:!0,isPaid:!1,fee:"",imageUrl:""};function T0(){const r=new Date;return r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().slice(0,16)}function lk(r){return r?(Array.isArray(r)?r:Array.isArray(r?.data)?r.data:Array.isArray(r?.classes)?r.classes:[]).map(t=>({id:t.id??t.classId??t._id??t.class_id,className:t.className??t.name??"Khng tn",classCode:t.classCode??t.class_code??""})):[]}function pu({title:r,description:e,children:t}){return s.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:r}),e&&s.jsx("p",{className:"text-sm text-slate-500",children:e})]}),t]})}const _0=({label:r,checked:e,onChange:t,description:a})=>s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700",children:[r,s.jsx("button",{type:"button",onClick:()=>t(!e),className:`relative inline-flex h-6 w-11 items-center rounded-full ${e?"bg-indigo-600":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${e?"translate-x-6":"translate-x-1"}`})})]}),a&&s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:a})]});function ok(){const r=lt(),[e,t]=E.useState({...rk,startTime:T0(),imageUrl:""}),[a,i]=E.useState([]),[o,c]=E.useState(!0),[h,u]=E.useState({loading:!1,message:"",examId:null}),[x,f]=E.useState(null),[m,p]=E.useState(null),[b,y]=E.useState(!1),[w,k]=E.useState("");E.useEffect(()=>{async function M(){c(!0);try{const _=await Xc();i(lk(_))}catch(_){console.error("Khng th ti lp:",_)}finally{c(!1)}}M()},[]);const C=(M,_)=>{t(D=>{const H={...D,[M]:_};if(M==="startTime"&&H.endTime&&_){const z=new Date(_);if(new Date(H.endTime)<=z){const P=new Date(z);P.setHours(P.getHours()+1);const W=P.getFullYear(),V=String(P.getMonth()+1).padStart(2,"0"),Q=String(P.getDate()).padStart(2,"0"),F=String(P.getHours()).padStart(2,"0"),q=String(P.getMinutes()).padStart(2,"0");H.endTime=`${W}-${V}-${Q}T${F}:${q}`}}return H})},S=()=>{if(!e.title.trim())return alert("Vui lng nhp tn  thi."),!1;if(!e.minutes||Number(e.minutes)<=0)return alert("Thi gian lm bi phi ln hn 0."),!1;if(e.totalScore&&Number(e.totalScore)<=0)return alert("Tng im phi ln hn 0."),!1;if(!e.noTimeLimit){if(!e.startTime||!e.endTime)return alert("Vui lng chn thi gian bt u v kt thc, hoc chn 'Khng gii hn thi gian'."),!1;if(e.startTime>=e.endTime)return alert("Thi gian kt thc phi sau thi gian bt u."),!1}if(e.isPaid){const M=Number(e.fee);if(!e.fee||isNaN(M)||M<=0)return alert("Vui lng nhp mc ph hp l (ln hn 0)."),!1}return!0},A=async M=>{const _=M.target.files[0];if(!_)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(_.type)){$.error("Ch cho php upload file nh (jpeg, jpg, png, gif, webp)");return}const H=5*1024*1024;if(_.size>H){$.error("Kch thc file khng c vt qu 5MB");return}f(_);const z=new FileReader;z.onloadend=()=>{p(z.result)},z.readAsDataURL(_);try{y(!0);const B=await dv(_),P=B.image_url||B.data?.image_url;if(P){const W="http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000",V=P.startsWith("http")?P:`${W}${P}`;t(Q=>({...Q,imageUrl:P})),p(V),$.success("Upload nh thnh cng!")}}catch(B){console.error("Error uploading image:",B),$.error(B.message||"Khng th upload nh"),f(null),p(null)}finally{y(!1)}},T=()=>{f(null),p(null),t(M=>({...M,imageUrl:""}))},L=async()=>{if(!S())return;const M=D=>D?new Date(D).toISOString():void 0,_={title:e.title.trim(),minutes:Number(e.minutes),start_time:e.noTimeLimit?null:M(e.startTime),end_time:e.noTimeLimit?null:M(e.endTime),class_ids:e.classIds&&e.classIds.length>0?e.classIds:void 0,des:e.description.trim()||void 0,total_score:e.totalScore?Number(e.totalScore):void 0,is_public:e.isPublic,is_paid:e.isPaid,fee:e.isPaid?Number(e.fee):void 0,image_url:e.imageUrl.trim()||void 0};if(_.is_paid&&(!_.fee||isNaN(_.fee)||_.fee<=0)){alert("Vui lng nhp mc ph hp l (ln hn 0).");return}u({loading:!0,message:"",examId:null});try{const D=await nv(_),H=D?.id??D?.exam_id??D?.examId??D?.data?.id??D?.data?.exam_id??null;u({loading:!1,message:" to  thi. Tip tc thm cu hi  hon thin.",examId:H}),H&&window.confirm(" thi  c to. Bn c mun chuyn sang trang thm cu hi ngay by gi?")&&r(`/dashboard/teacher/exams/${H}/questions`)}catch(D){const H=D?.body?.message||D?.message||"Khng th to  thi. Vui lng th li.";u({loading:!1,message:H,examId:null}),alert(H)}};return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"To  thi"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:e.title||"Cha t tn"}),s.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"Bc 1: cu hnh thng tin  thi. Sau khi to thnh cng, bn s thm cu hi  bc tip theo."})]}),s.jsxs("button",{type:"button",onClick:L,disabled:h.loading,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg disabled:opacity-60",children:[h.loading&&s.jsx(He,{className:"animate-spin"}),"To  thi"]})]}),s.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),h.message&&s.jsxs("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:[s.jsx("p",{children:h.message}),h.examId&&s.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:s.jsx("button",{type:"button",onClick:()=>r(`/dashboard/teacher/exams/${h.examId}/questions`),className:"inline-flex items-center justify-center rounded-full border border-indigo-200 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-50",children:"Thm cu hi"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(pu,{title:"Thng tin chung",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn  thi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:e.title,onChange:M=>C("title",M.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Nhp tn  thi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tng im"}),s.jsx("input",{type:"number",value:e.totalScore,min:0,onChange:M=>C("totalScore",M.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 100"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("input",{type:"checkbox",id:"noTimeLimit",checked:e.noTimeLimit,onChange:M=>{C("noTimeLimit",M.target.checked),M.target.checked?(C("startTime",""),C("endTime","")):C("startTime",T0())},className:"mt-0.5 h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{htmlFor:"noTimeLimit",className:"text-sm font-semibold text-gray-700 cursor-pointer",children:"Khng gii hn thi gian"}),s.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"Nu chn, hc sinh c th lm bi thi bt c lc no m khng b gii hn bi thi gian bt u v kt thc."})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Thi gian lm bi (pht) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:1,value:e.minutes,onChange:M=>C("minutes",M.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),!e.noTimeLimit&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bt u ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"datetime-local",value:e.startTime,onChange:M=>C("startTime",M.target.value),step:"60",max:e.endTime||void 0,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt thc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"datetime-local",value:e.endTime,min:e.startTime||void 0,onChange:M=>{const _=M.target.value;if(e.startTime&&_){const D=new Date(e.startTime);if(new Date(_)<=D){alert("Thi gian kt thc phi ln hn thi gian bt u!");return}}C("endTime",_)},step:"60",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"}),e.startTime&&e.endTime&&new Date(e.endTime)<=new Date(e.startTime)&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Thi gian kt thc phi ln hn thi gian bt u"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),s.jsx("textarea",{rows:3,value:e.description,onChange:M=>C("description",M.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 resize-none",placeholder:"Thng tin m t  thi, hng dn, ghi ch..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"nh  thi (ty chn)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-700 transition hover:border-indigo-400 hover:bg-indigo-50",children:[b?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"mr-2 animate-spin"}),"ang upload..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Chn nh"]}),s.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:A,className:"hidden",disabled:b})]}),m&&s.jsx("button",{type:"button",onClick:T,className:"rounded-lg border border-red-300 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition hover:bg-red-100",children:"Xa nh"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Chn nh t my tnh (ti a 5MB).  trng s s dng nh mc nh."}),m&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"mb-2 text-xs font-medium text-slate-700",children:"Xem trc:"}),s.jsx("img",{src:m,alt:"Preview",className:"h-48 w-full rounded-lg border border-slate-200 object-cover"})]})]})]})]}),s.jsx(pu,{title:"Giao  cho lp",children:o?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[s.jsx(He,{className:"animate-spin"}),"ang ti danh sch lp..."]}):a.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"Bn cha c lp no. Vo mc Lp hc  to mi hoc b trng trng ny."}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn lp (c th chn nhiu lp)"}),s.jsxs("div",{className:"mb-3 relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx("input",{type:"text",value:w,onChange:M=>k(M.target.value),placeholder:"Tm kim lp theo tn hoc m lp...",className:"w-full rounded-lg border border-slate-200 pl-10 pr-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-slate-200 bg-slate-50 p-2",children:[a.filter(M=>{if(!w.trim())return!0;const _=w.toLowerCase();return M.className?.toLowerCase().includes(_)||M.classCode?.toLowerCase().includes(_)}).map(M=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-white p-2 rounded transition-colors",children:[s.jsx("input",{type:"checkbox",checked:e.classIds?.includes(M.id)||!1,onChange:_=>{const D=e.classIds||[];_.target.checked?C("classIds",[...D,M.id]):C("classIds",D.filter(H=>H!==M.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-slate-300 rounded"}),s.jsxs("span",{className:"text-sm text-gray-700 flex-1",children:[s.jsx("span",{className:"font-medium",children:M.className}),M.classCode&&s.jsxs("span",{className:"text-slate-500 ml-1",children:["(",M.classCode,")"]})]})]},M.id)),a.filter(M=>{if(!w.trim())return!0;const _=w.toLowerCase();return M.className?.toLowerCase().includes(_)||M.classCode?.toLowerCase().includes(_)}).length===0&&s.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Khng tm thy lp no ph hp"})]}),e.classIds&&e.classIds.length>0&&s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-slate-500",children:[" chn ",s.jsx("span",{className:"font-semibold text-indigo-600",children:e.classIds.length})," lp"]}),s.jsx("button",{type:"button",onClick:()=>C("classIds",[]),className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"B chn tt c"})]})]})}),s.jsxs(pu,{title:"Cng khai v thu ph",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:s.jsx(_0,{label:"Cho php hc sinh bn ngoi lp truy cp",checked:e.isPublic,onChange:M=>C("isPublic",M),description:"Nu bt, hc sinh khng thuc lp c gn cng c th lm bi thi ny."})}),s.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:s.jsx(_0,{label:"Thu ph mi ln lm bi",checked:e.isPaid,onChange:M=>{C("isPaid",M),M&&(!e.fee||Number(e.fee)<=0)&&C("fee","10000")},description:"Hc sinh s b tr tin mi ln bt u lm bi thi ny (n v VN)."})})]}),e.isPaid&&s.jsxs("div",{className:"mt-4 rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Ph mi ln lm bi (VN) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:1,required:!0,value:e.fee,onChange:M=>C("fee",M.target.value),className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-4 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 50000"}),(!e.fee||Number(e.fee)<=0)&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Vui lng nhp mc ph hp l (ln hn 0)"}),s.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"S tin s c tr t ti khon hc sinh mi ln h bt u lm bi thi."})]})]})]})]})})}function ck(r){return r?Array.isArray(r)?r:Array.isArray(r?.data)?r.data:Array.isArray(r?.questions)?r.questions:[]:[]}function dk(r={}){const e=new URLSearchParams;Object.entries(r).forEach(([a,i])=>{i==null||i===""||e.set(a,i)});const t=e.toString();return t?`?${t}`:""}async function Wx({examId:r,page:e,limit:t}={}){const a=dk({exam_id:r,page:e,limit:t}),i=await pe.get(`/api/questions${a}`);return ck(i)}function sx(r){if(!r?.exam_id)throw new Error("exam_id l bt buc khi to cu hi.");if(!r?.question_text?.trim())throw new Error("question_text l bt buc.");return pe.post("/api/questions",r)}function ax(r,e){if(!r)throw new Error("questionId l bt buc khi cp nht.");return pe.put(`/api/questions/${r}`,e)}function hk(r){if(!r)throw new Error("questionId l bt buc khi xa.");return pe.delete(`/api/questions/${r}`)}function uk(r,e=[]){if(!r)throw new Error("examId l bt buc khi sp xp cu hi.");if(!Array.isArray(e)||e.length===0)throw new Error("question_orders phi l mng v khng c rng.");return pe.put(`/api/exams/${r}/questions/order`,{question_orders:e})}function xk(r){return r?{id:r.id??r.exam_id??r._id,title:r.title??r.name??" thi",question_creation_method:r.question_creation_method??r.questionMethod??r.question_method??null}:null}const ui={text:{label:"Vn bn",description:"To  thi nhanh bng cch son tho vn bn",pathSuffix:"text",accentClasses:"bg-gradient-to-r from-pink-500 to-orange-500 text-white hover:shadow-xl hover:-translate-y-1",iconAccent:"text-white"},editor:{label:"Trnh son tho",description:"To  thi t u v chnh sa th cng",pathSuffix:"editor",accentClasses:"bg-slate-100 border-2 border-slate-200 text-slate-800 hover:border-indigo-300 hover:shadow-xl hover:-translate-y-1",iconAccent:"text-slate-400"}};function gk(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(null),[i,o]=E.useState(!0),[c,h]=E.useState(""),[u,x]=E.useState(""),[f,m]=E.useState(0),[p,b]=E.useState(!1),[y,w]=E.useState(!1),k=E.useCallback(async()=>{if(r){o(!0);try{const D=await nn(r);a(xk(D)),x("")}catch(D){console.error("Khng th ti thng tin  thi:",D),x("Khng th ti thng tin  thi.")}finally{o(!1)}}},[r]),C=E.useCallback(async()=>{if(r){b(!0);try{const D=await Wx({examId:r});m(D.length)}catch(D){console.error("Khng th ti danh sch cu hi:",D)}finally{b(!1)}}},[r]);E.useEffect(()=>{k()},[k]),E.useEffect(()=>{C()},[C]);const S=async D=>{if(!r||!D)return;x("");const H=ui[D];if(!H){x("Phng thc khng hp l.");return}if(t?.question_creation_method){if(t.question_creation_method===D){e(`/dashboard/teacher/exams/${r}/questions/${H.pathSuffix}`);return}x(`Bn  chn phng thc "${ui[t.question_creation_method].label}". Khng th thay i phng thc khc.`);return}try{h(D),await Ux(r,{question_creation_method:D}),a(z=>({...z||{},question_creation_method:D})),e(`/dashboard/teacher/exams/${r}/questions/${H.pathSuffix}`)}catch(z){x(z?.body?.message||z?.message||"Khng th lu phng thc to cu hi.")}finally{h("")}},A=async()=>{if(!r||!t?.question_creation_method)return;const D=t.question_creation_method==="text"?"editor":t.question_creation_method==="editor"?"text":null;if(!D)return;const H=ui[D]?.label||D,z=`Thao tc ny s xa ${f} cu hi hin c v chuyn sang phng thc "${H}". Bn c chc chn mun tip tc?`;if(window.confirm(z))try{w(!0),await lv(r,D),await Promise.all([k(),C()]),e(`/dashboard/teacher/exams/${r}/questions/${ui[D].pathSuffix}`,{replace:!0})}catch(B){x(B?.body?.message||B?.message||"Khng th chuyn phng thc to cu hi.")}finally{w(!1)}},L=!!t?.question_creation_method?"Chnh sa  thi":"To  thi mi",M=t?.question_creation_method??null,_=M==="text"?"editor":M==="editor"?"text":null;return i?s.jsx(Ye,{role:"teacher",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(He,{className:"animate-spin h-8 w-8 text-indigo-600"})})}):s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("button",{type:"button",onClick:()=>e("/dashboard/teacher/exams"),className:"mb-6 inline-flex items-center gap-2 text-sm text-slate-600 hover:text-slate-900",children:[s.jsx(ta,{}),"Quay li danh sch  thi"]}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:L}),s.jsx("p",{className:"text-slate-600",children:t?.title||" thi"})]}),t?.question_creation_method&&s.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-emerald-200 bg-emerald-50 px-6 py-4 text-emerald-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(da,{className:"h-5 w-5 mt-0.5"}),s.jsxs("div",{className:"flex-1 text-sm",children:[s.jsxs("p",{className:"font-semibold",children:["Bn  chn phng thc:"," ",ui[t.question_creation_method]?.label||"Khng xc nh"]}),s.jsx("p",{className:"mt-1 text-emerald-700/80",children:p?"ang kim tra s lng cu hi...":`Hin c ${f} cu hi  c to bng phng thc ny.`})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/questions/${ui[t.question_creation_method]?.pathSuffix}`),className:"rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700",children:"Tip tc"}),_&&s.jsxs("button",{type:"button",disabled:y,onClick:A,className:"inline-flex items-center gap-2 rounded-full border border-amber-300 bg-amber-50 px-4 py-2 text-sm font-semibold text-amber-800 hover:bg-amber-100 disabled:cursor-not-allowed disabled:opacity-60",children:[y?s.jsx(He,{className:"h-4 w-4 animate-spin"}):s.jsx(Ej,{className:"h-4 w-4"}),"Chuyn sang ",ui[_]?.label||"phng thc khc"]})]})]})}),u&&s.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-red-200 bg-red-50 px-6 py-4 text-sm text-red-700",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Px,{className:"h-4 w-4 mt-1"}),s.jsx("p",{children:u})]})}),s.jsx("div",{className:"flex flex-col md:flex-row gap-6 max-w-4xl w-full px-4",children:Object.entries(ui).map(([D,H])=>{const z=!!t?.question_creation_method&&t.question_creation_method!==D||y,B=t?.question_creation_method===D,P=c===D;return s.jsxs("button",{type:"button",onClick:()=>S(D),disabled:z||P,className:`flex-1 relative overflow-hidden rounded-2xl p-8 shadow-lg transition-all duration-300 ${H.accentClasses} ${z?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsxs("div",{className:"relative z-10 text-left",children:[s.jsxs("h3",{className:"text-2xl font-bold mb-3 flex items-center gap-2",children:[H.label,B&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-200 px-2 py-1 text-xs font-semibold text-emerald-800",children:[s.jsx(da,{}),"  chn"]})]}),s.jsx("p",{className:"text-sm mb-6 opacity-90",children:H.description}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx(rs,{className:`w-16 h-16 ${H.iconAccent}`}),D==="text"?s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-xs font-bold text-white",children:"</>"}):s.jsx(Hb,{className:"absolute bottom-0 right-0 w-8 h-8 text-indigo-500"})]})})]}),P&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 backdrop-blur-sm",children:s.jsx(He,{className:"h-8 w-8 animate-spin"})})]},D)})})]})})}const fk={text:"Vn bn",editor:"Trnh son tho"};function hv(r){const e=r.split(`
`),t=[],a=[];let i=null;return e.forEach((c,h)=>{const u=c.trim();if(u==="")i&&(t.push(i),i=null);else if(u.startsWith("*")||/^[A-Z]\./.test(u)){if(!i){a.push({line:h+1,content:c,message:"p n khng thuc cu hi no."});return}if(i.type!=="MCQ"){a.push({line:h+1,content:c,message:"Cu hi in t khng h tr p n A/B/C."});return}const x=u.startsWith("*"),f=c.replace(/^\*?[A-Z]\.\s*/,"").replace(/<br \/>/g,`
`);i.options.push({text:f,isCorrect:x})}else u.length>0&&(i&&t.push(i),i={type:"MCQ",text:c.replace(/<br \/>/g,`
`),options:[]})}),i&&t.push(i),{questions:t.filter(c=>{const h=c.text?.trim(),u=c.options?.some(x=>x.text?.trim());return!!h||!!u}),errors:a}}function mk(r={}){return{text:(r.text??r.answer_text??r.content??"").trim(),isCorrect:!!(r.isCorrect??r.is_correct??r.correct??r.is_true??!1)}}function pk(r=[],e=[]){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t+=1){const a=r[t],i=e[t];if((a.text??"").trim()!==(i.text??"").trim()||!!a.isCorrect!=!!i.isCorrect)return!1}return!0}function bk(r,e){if(!r)return!0;const t=(r.text??"").trim(),a=(e.text??"").trim();return t!==a||!pk(r.options??[],e.options??[])}function hl(r=[]){return!Array.isArray(r)||r.length===0?"":r.map(t=>{const a=(t.text??"").trimEnd(),i=(t.options??[]).map((o,c)=>{const h=String.fromCharCode(65+c),u=o.isCorrect?`*${h}.`:`${h}.`,x=(o.text??"").trim();return`${u} ${x}`.trimEnd()});return[a,...i].join(`
`).trim()}).join(`

`).trim()}function vk(r,e,t){const a=hv(r);if(!a.questions)return hl([t]);const i=[...a.questions];return e<i.length?i[e]={text:t.text||"",options:t.options||[],type:"MCQ"}:i.push({text:t.text||"",options:t.options||[],type:"MCQ"}),hl(i)}function bu(r){const e=(r.options??[]).filter(o=>(o.text??"").trim().length>0).map(o=>({text:(o.text??"").trim(),is_correct:!!o.isCorrect}));if(e.length<2)throw new Error("Mi cu hi phi c  2 p n.");const t=e.filter(o=>o.is_correct).length;if(t===0)throw new Error("Mi cu hi phi c t nht 1 p n ng.");const a=t===1?"single_choice":"multiple_choice";return{question_text:(r.text??"").trim(),type:a,answers:e}}const yk=()=>s.jsxs("div",{className:"space-y-4 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm text-gray-700",children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:"Quy tc son cu hi"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Mi cu hi cch nhau 1 dng trng."}),s.jsxs("li",{children:["p n ng c du ",s.jsx("span",{className:"font-semibold text-blue-600",children:"*"})," "," u (v d: ",s.jsx("code",{className:"rounded bg-gray-200 px-1",children:"*B. p n ng"}),")."]}),s.jsxs("li",{children:["Xung dng trong cu hi/p n hy dng"," ",s.jsx("code",{className:"rounded bg-gray-200 px-1",children:"<br />"})]})]}),s.jsxs("div",{className:"mt-4 rounded-lg border border-blue-300 bg-white p-3",children:[s.jsx("h5",{className:"mb-2 font-semibold text-gray-800",children:"Ni dung mu:"}),s.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 font-mono bg-gray-50 p-3 rounded border border-gray-200 overflow-x-auto",children:`Phn 1

When we went back to the bookstore, the bookseller _ the book we wanted.
A. sold    
*B. had sold    
C. sells     
D. has sold

By the end of last summer, the farmers _ all the crop.
A. harvested    
*B. had harvested   
C. harvest     
D. are harvested`})]})]});function wk({questions:r,errors:e,hasContent:t,selectedQuestionIndex:a,onSelectQuestion:i,savedQuestions:o,onSaveQuestion:c,savingQuestionIndex:h}){return t?s.jsxs("div",{className:"space-y-4",children:[e.length>0&&s.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[s.jsx("h4",{className:"font-semibold",children:"Li c php"}),s.jsx("ul",{className:"mt-2 space-y-1",children:e.map((u,x)=>s.jsxs("li",{children:["Dng ",u.line,": ",u.message]},x))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Danh sch cu hi"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map((u,x)=>{const f=u.isExisting||o.has(x),m=a===x;return s.jsx("button",{type:"button",onClick:()=>i(x),className:`w-10 h-10 rounded-lg font-semibold text-sm transition-all ${m?"bg-indigo-600 text-white ring-2 ring-indigo-300":f?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-white border-2 border-slate-300 text-slate-700 hover:border-indigo-400 hover:bg-indigo-50"}`,children:x+1},x)})})]}),a!==null&&r[a]&&s.jsxs("div",{className:"rounded-lg border-2 border-indigo-200 bg-white p-4 shadow-sm",children:[(()=>{const u=r[a],x=u?.isExisting,f=!x&&o.has(a),m=x&&u.hasChanges;return s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("p",{className:"text-sm font-semibold text-slate-600",children:["Cu ",a+1," (Mt p n)"]}),!x&&s.jsx("button",{type:"button",onClick:()=>c(a),disabled:h===a||f,className:`inline-flex items-center gap-2 rounded-lg px-3 py-1.5 text-xs font-semibold transition ${f?"bg-emerald-100 text-emerald-700 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50"}`,children:h===a?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"animate-spin"}),"ang lu..."]}):f?s.jsxs(s.Fragment,{children:[s.jsx(da,{})," lu"]}):s.jsxs(s.Fragment,{children:[s.jsx(wi,{}),"Lu cu hi"]})}),x&&(m?s.jsx("button",{type:"button",onClick:()=>c(a),disabled:h===a,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-50",children:h===a?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"animate-spin"}),"ang cp nht..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wi,{}),"Cp nht cu hi"]})}):s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg px-3 py-1.5 text-xs font-semibold bg-emerald-100 text-emerald-700",children:[s.jsx(da,{})," lu"]}))]})})(),s.jsx("p",{className:"font-semibold text-gray-800 whitespace-pre-wrap mb-4",children:r[a].text}),s.jsx("div",{className:"space-y-2",children:r[a].options.map((u,x)=>s.jsxs("div",{className:`flex items-center gap-3 rounded-lg border-2 p-3 ${u.isCorrect?"border-emerald-500 bg-emerald-50":"border-red-300 bg-red-50"}`,children:[s.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full font-semibold ${u.isCorrect?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:u.isCorrect?s.jsx(da,{className:"h-5 w-5"}):s.jsx(Yb,{className:"h-5 w-5"})}),s.jsxs("span",{className:`flex-1 whitespace-pre-wrap ${u.isCorrect?"font-semibold text-emerald-800":"text-red-800"}`,children:[String.fromCharCode(65+x),". ",u.text]})]},x))})]}),a===null&&r.length>0&&s.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"Chn mt cu hi  xem chi tit"})]}):s.jsx("div",{className:"flex h-full items-center justify-center text-gray-500",children:"Vui lng son cu hi theo hng dn."})}function jk(r){return r?{id:r.id??r.exam_id??r._id,title:r.title??r.name??" thi",minutes:r.minutes??r.duration??null,question_creation_method:r.question_creation_method??r.questionMethod??r.question_method??null}:null}function Nk(r){if(!r)return null;const e=r.answers??r.question_answers??[];return{id:r.id??r.question_id??r._id,text:(r.question_text??r.question??r.text??"").trim(),type:r.type??"single_choice",options:e.map(t=>({text:(t.text??t.answer_text??t.content??"").trim(),isCorrect:!!(t.is_correct??t.correct??t.isCorrect??t.is_true)}))}}function Sk(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(null),[i,o]=E.useState(!0),[c,h]=E.useState(""),[u,x]=E.useState(!1),[f,m]=E.useState({questions:[],errors:[]}),[p,b]=E.useState([]),[y,w]=E.useState(!1),[k,C]=E.useState(null),[S,A]=E.useState(new Set),[T,L]=E.useState(null),M=E.useCallback(async()=>{if(!r)return;const Y=(await Wx({examId:r})??[]).map(Nk).filter(Boolean);return b(Y),Y},[r]);E.useEffect(()=>{async function G(){if(r){o(!0);try{const Y=await nn(r);a(jk(Y)),await M()}catch(Y){console.error("Khng th ti thng tin  thi:",Y)}finally{o(!1)}}}G()},[r,M]),E.useEffect(()=>{if(i||!r||!t)return;const G=t.question_creation_method;if(!G){e(`/dashboard/teacher/exams/${r}/questions`,{replace:!0});return}G!=="text"&&e(`/dashboard/teacher/exams/${r}/questions/${G}`,{replace:!0})},[t,r,i,e]),E.useEffect(()=>{if(u||c.trim().length>0||p.length===0)return;const G=hl(p);G&&h(G)},[p,u,c]),E.useEffect(()=>{m(hv(c))},[c]);const _=E.useMemo(()=>!f.questions||f.questions.length===0?[]:f.questions.map((G,Y)=>{const O=(G.text??"").trim(),U=(G.options??[]).map(ue=>mk(ue)),ne=p[Y],K=bk(ne,{text:O,options:U});return ne?{...ne,text:O,options:U,isExisting:!0,hasChanges:K}:{id:void 0,text:O,options:U,isExisting:!1,hasChanges:!0}}),[f.questions,p]),D=E.useMemo(()=>{if(_.length>0){const G=p.slice(_.length).map(Y=>({...Y,isExisting:!0,hasChanges:!1}));return[..._,...G]}return p.map(G=>({...G,isExisting:!0,hasChanges:!1}))},[_,p]),H=E.useMemo(()=>D.map((G,Y)=>G.isExisting?null:Y).filter(G=>G!==null),[D]),z=E.useMemo(()=>D.map((G,Y)=>G.isExisting?G.hasChanges?Y:null:S.has(Y)?null:Y).filter(G=>G!==null),[D,S]),B=H.length;E.useEffect(()=>{if(D.length===0){C(null);return}if(k===null){C(0);return}k>=D.length&&C(D.length-1)},[D,k]);const P=E.useMemo(()=>c.trim().length>0||D.length>0,[c,D.length]),W=G=>{const Y=D[G];return Y?Y.options.length<2?(alert("Mi cu hi phi c  2 la chn."),!1):Y.options.some(O=>O.isCorrect)?!0:(alert("Mi cu hi phi c t nht 1 p n ng."),!1):!1},V=async G=>{const Y=D[G];if(!Y)return;const O=Y.isExisting;if(!(O?!Y.hasChanges:S.has(G))&&W(G)){L(G);try{const ne=bu(Y);if(O){if(!ne.answers||!Array.isArray(ne.answers)||ne.answers.length===0){alert("Li: Khng th to payload cp nht v thiu p n. Vui lng th li.");return}if(ne.answers.filter(ie=>ie.is_correct).length===0){alert("Li: Phi c t nht 1 p n ng.");return}}O?await ax(Y.id,ne):await sx({exam_id:r,order:p.length+1,...ne}),O||A(ue=>new Set([...ue,G]));const K=await M();if(O&&Y.id&&K){const ue=K.find(ie=>ie.id===Y.id);ue&&h(ie=>vk(ie,G,ue))}else if(!O&&K){const ue=hl(K);ue&&(h(ue),x(!1))}A(new Set)}catch(ne){const K=ne?.body?.message||ne?.message||"Khng th lu cu hi. Vui lng th li.";alert(K)}finally{L(null)}}},Q=async()=>{if(z.length===0){alert("Tt c cu hi  c lu.");return}for(const U of z)if(!W(U))return;let G=0;const Y=p.length;let O=0;for(const U of z){const ne=D[U];if(ne)try{L(U),ne.isExisting?await ax(ne.id,bu(ne)):(await sx({exam_id:r,order:Y+O+1,...bu(ne)}),O+=1),G+=1}catch(K){const ue=K?.body?.message||K?.message||`Khng th lu cu hi ${U+1}.`;alert(ue);break}finally{L(null)}}G>0&&(alert(` lu ${G} cu hi thnh cng!`),await M(),A(new Set))},F=G=>{h(G),x(!0)},q=()=>{const G=hl(p);if(!G){alert("Hin khng c cu hi  lu  khi phc.");return}x(!1),h(G)},I=()=>{if(p.length===0){alert("Vui lng lu t nht mt cu hi trc khi quay li.");return}e("/dashboard/teacher/exams")};return i?s.jsx(Ye,{role:"teacher",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(He,{className:"animate-spin h-8 w-8 text-indigo-600"})})}):s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/questions`),className:"rounded-full border border-slate-200 p-2 hover:bg-slate-50",children:s.jsx(ta,{className:"h-5 w-5 text-slate-600"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thm cu hi bng vn bn"}),s.jsx("h1",{className:"mt-2 text-2xl lg:text-3xl font-bold text-slate-900 break-words",children:t?.title||" thi"}),t?.question_creation_method&&s.jsxs("p",{className:"mt-1 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-600",children:["Phng thc:"," ",fk[t.question_creation_method]||"Khng xc nh"]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("button",{type:"button",onClick:Q,disabled:B===0||f.errors.length>0||z.length===0||T!==null,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md disabled:opacity-60 disabled:cursor-not-allowed hover:bg-indigo-700 whitespace-nowrap",children:T!==null?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"animate-spin"}),s.jsx("span",{className:"hidden sm:inline",children:"ang lu..."}),s.jsx("span",{className:"sm:hidden",children:"ang lu"})]}):s.jsxs(s.Fragment,{children:[s.jsx(wi,{}),s.jsxs("span",{className:"hidden md:inline",children:["Lu tt c (",z.length," cu cha lu)"]}),s.jsxs("span",{className:"md:hidden",children:["Lu tt c (",z.length,")"]})]})}),s.jsxs("button",{type:"button",onClick:I,disabled:p.length===0,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md disabled:opacity-60 disabled:cursor-not-allowed hover:bg-emerald-700 whitespace-nowrap",children:[s.jsx(wi,{}),s.jsxs("span",{className:"hidden md:inline",children:["Lu  thi (",p.length," cu  lu)"]}),s.jsxs("span",{className:"md:hidden",children:["Lu  thi (",p.length,")"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[s.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>w(!y),className:"inline-flex items-center gap-2 rounded-full bg-pink-100 px-4 py-2 text-sm font-medium text-pink-700 hover:bg-pink-200",children:[s.jsx(Px,{}),y?"n":"Xem"," hng dn"]}),y&&s.jsx("div",{className:"mt-3",children:s.jsx(yk,{})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Son cu hi"}),s.jsx("textarea",{value:c,onChange:G=>F(G.target.value),placeholder:`V d:
When we went back to the bookstore, the bookseller_ the book we wanted.
A. sold
*B. had sold
C. sells
D. has sold

By the end of last summer, the farmers_ all the crop.
A. harvested
*B. had harvested
C. harvest
D. are harvested`,rows:30,className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-sm focus:border-indigo-500 focus:bg-white focus:outline-none"}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[s.jsx("button",{type:"button",onClick:q,disabled:p.length===0,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Khi phc vn bn t cu hi  lu"}),s.jsx("span",{children:p.length>0?`ang c ${p.length} cu hi  lu.`:"Cha c cu hi  lu  khi phc."})]})]})]}),s.jsxs("div",{className:"sticky top-6 rounded-2xl border border-slate-200 bg-slate-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm font-semibold text-slate-700",children:[s.jsx(Al,{}),"Xem trc (",D.length," cu - ",p.length,"  lu,"," ",B," mi)"]}),s.jsx("div",{className:"max-h-[80vh] overflow-y-auto pr-2",children:s.jsx(wk,{questions:D,errors:f.errors,hasContent:P,selectedQuestionIndex:k,onSelectQuestion:C,savedQuestions:S,onSaveQuestion:V,savingQuestionIndex:T})})]})]})]})})}const vu=[{value:"single_choice",label:"Trc nghim (1 p n ng)"},{value:"multiple_choice",label:"Trc nghim (nhiu p n ng)"}],E0=[{value:"easy",label:"D"},{value:"medium",label:"Trung bnh"},{value:"hard",label:"Kh"}],uv=["single_choice","multiple_choice"],kk={text:"Vn bn",editor:"Trnh son tho"},hc=(r=4)=>Array.from({length:r},(e,t)=>({text:"",is_correct:t===0})),nc=(r="single_choice")=>({question_text:"",type:r,difficulty:"medium",image_url:"",answers:hc()});function Ck(r){if(!r)return null;const e=(r.answers??r.question_answers??[]).map((t,a)=>({id:t.id??t.answer_id??t._id??`${a}`,text:t.text??t.answer_text??t.content??"",is_correct:!!(t.is_correct??t.correct??t.isCorrect??t.is_true),order:t.order??t.answer_order??a+1}));return{id:r.id??r.question_id??r._id,question_text:r.question_text??r.question??r.text??"Khng c tiu ",type:r.type??r.question_type??"single_choice",order:r.order??r.question_order??r.position??0,difficulty:r.difficulty??"medium",image_url:r.image_url??"",answers:e}}function Ak(r){return r?{id:r.id??r.exam_id??r._id,title:r.title??r.name??" thi",minutes:r.minutes??r.duration??null,start_time:r.start_time??r.startTime??null,end_time:r.end_time??r.endTime??null,class_name:r.class?.className??r.className??r.class_name,question_creation_method:r.question_creation_method??r.questionMethod??r.question_method??null}:null}function M0({type:r,answers:e,onChange:t,disabled:a}){if(!uv.includes(r))return null;const i=(x,f)=>{const m=e.map((p,b)=>b===x?{...p,...f}:p);t(m)},o=x=>{if(r==="single_choice"){const f=e.map((m,p)=>({...m,is_correct:p===x}));t(f)}else if(r==="multiple_choice"){const f=e.map((m,p)=>p===x?{...m,is_correct:!m.is_correct}:m);t(f)}},c=()=>{r!=="single_choice"&&r!=="multiple_choice"||t([...e,{text:"",is_correct:!1}])},h=x=>{if(e.length<=2)return;const f=e.filter((m,p)=>p!==x);t(f)},u=2;return s.jsxs("div",{className:"space-y-3",children:[e.map((x,f)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{type:"button",disabled:a,onClick:()=>o(f),className:`mt-2 flex h-10 w-10 items-center justify-center rounded-full border text-sm font-semibold ${x.is_correct?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-200 bg-white text-slate-500"}`,title:"nh du p n ng",children:String.fromCharCode(65+f)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("input",{type:"text",disabled:a,value:x.text,onChange:m=>i(f,{text:m.target.value}),placeholder:`p n ${String.fromCharCode(65+f)}`,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),s.jsx("p",{className:"mt-1 text-xs text-slate-400",children:x.is_correct?"p n ng":"p n sai"})]}),(r==="single_choice"||r==="multiple_choice")&&e.length>u&&s.jsx("button",{type:"button",disabled:a,onClick:()=>h(f),className:"mt-2 rounded-full border border-red-200 p-2 text-red-500 hover:bg-red-50",title:"Xa p n",children:s.jsx(cs,{})})]},f)),(r==="single_choice"||r==="multiple_choice")&&s.jsxs("button",{type:"button",disabled:a,onClick:c,className:"flex items-center gap-2 rounded-lg border border-dashed border-slate-300 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50",children:[s.jsx(yi,{}),"Thm p n"]})]})}function Tk(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(null),[i,o]=E.useState(!0),[c,h]=E.useState([]),[u,x]=E.useState(!0),[f,m]=E.useState(!1),[p,b]=E.useState(()=>nc("single_choice")),[y,w]=E.useState(!1),[k,C]=E.useState(""),[S,A]=E.useState(""),[T,L]=E.useState(null),[M,_]=E.useState(()=>nc("single_choice")),[D,H]=E.useState(!1),[z,B]=E.useState(null);E.useEffect(()=>{r&&(Q(),F())},[r]),E.useEffect(()=>{if(i||!r||!t)return;const ae=t.question_creation_method;if(!ae){e(`/dashboard/teacher/exams/${r}/questions`,{replace:!0});return}ae!=="editor"&&e(`/dashboard/teacher/exams/${r}/questions/${ae}`,{replace:!0})},[t,r,i,e]);const P=E.useMemo(()=>[...c].sort((ae,je)=>(ae.order??1/0)-(je.order??1/0)),[c]),W=ae=>uv.includes(ae),V=()=>{b(ae=>nc(ae.type))};async function Q(){o(!0);try{const ae=await nn(r);a(Ak(ae))}catch(ae){A(ae?.body?.message||ae?.message||"Khng th ti thng tin  thi, vui lng th li.")}finally{o(!1)}}async function F(){x(!0);try{const je=(await Wx({examId:r})).map(Ck).filter(Boolean);h(je),je.length>0&&z===null&&B(je[0].id)}catch(ae){A(ae?.body?.message||ae?.message||"Khng th ti danh sch cu hi.")}finally{x(!1)}}function q(ae){if(!ae.question_text?.trim())throw new Error("Vui lng nhp ni dung cu hi.");if(W(ae.type)){const je=ae.answers??[];if(je.length<2)throw new Error("Cn t nht 2 p n cho cu hi trc nghim.");const Le=je.filter(Ae=>Ae.is_correct).length;if(Le===0)throw new Error("Vui lng chn t nht 1 p n ng.");if(ae.type==="single_choice"&&Le!==1)throw new Error("Cu hi trc nghim (1 p n ng) phi c ng 1 p n ng.");if(je.some(Ae=>!Ae.text?.trim()))throw new Error("p n khng c  trng.")}else delete ae.answers;return ae}const I=(ae,je,Le="create")=>{(Le==="edit"?_:b)(bt=>{const We={...bt,[ae]:je};return ae==="type"&&(je==="single_choice"||je==="multiple_choice"||(We.type="single_choice"),We.answers=hc()),We})},G=(ae,je="create")=>{je==="edit"?_(Le=>({...Le,answers:ae})):b(Le=>({...Le,answers:ae}))},Y=(ae,je={})=>{const Le={question_text:ae.question_text?.trim(),type:ae.type,difficulty:ae.difficulty||void 0,image_url:ae.image_url||void 0,answers:ae.answers?.map(Ae=>({text:Ae.text?.trim(),is_correct:!!Ae.is_correct})),...je};return q(Le)},O=async()=>{try{w(!0),A("");const ae=Y(p,{exam_id:r,order:P.length+1}),je=await sx(ae),Le=je?.id??je?.question_id??je?.data?.id??null;C(" thm cu hi mi."),V(),await F(),Le&&setTimeout(()=>{B(Le);const Ae=document.getElementById(`question-${Le}`);Ae&&Ae.scrollIntoView({behavior:"smooth",block:"center"})},200)}catch(ae){A(ae?.body?.message||ae?.message||"Khng th to cu hi.")}finally{w(!1)}},U=ae=>{L(ae.id),B(ae.id),_({question_text:ae.question_text,type:ae.type,difficulty:ae.difficulty??"medium",image_url:ae.image_url??"",answers:W(ae.type)?ae.answers?.map(je=>({id:je.id,text:je.text,is_correct:je.is_correct}))??hc():[]})},ne=()=>{L(null),B(null),_(nc())},K=async()=>{if(T)try{H(!0),A("");const ae=Y(M);await ax(T,ae),C(" cp nht cu hi.");const je=T;ne(),F(),setTimeout(()=>{B(je)},100)}catch(ae){A(ae?.body?.message||ae?.message||"Khng th cp nht.")}finally{H(!1)}},ue=async ae=>{if(window.confirm("Xa cu hi ny?"))try{await hk(ae),C(" xa cu hi."),z===ae&&B(null),F()}catch(je){A(je?.body?.message||je?.message||"Khng th xa cu hi.")}},ie=async(ae,je)=>{const Le=P.findIndex(Ot=>Ot.id===ae.id);if(Le===-1)return;const Ae=Le+je;if(Ae<0||Ae>=P.length)return;const bt=z===ae.id,We=[...P],[_s]=We.splice(Le,1);We.splice(Ae,0,_s);const Es=We.map((Ot,ga)=>({...Ot,order:ga+1}));h(Es),bt&&B(ae.id),m(!0);try{await uk(r,Es.map(Ot=>({question_id:Ot.id,order:Ot.order}))),C(" cp nht th t cu hi.")}catch(Ot){A(Ot?.body?.message||Ot?.message||"Khng th sp xp cu hi."),F()}finally{m(!1)}},te=ae=>{const je=T===ae.id,Le=z===ae.id;return s.jsxs("div",{id:`question-${ae.id}`,className:`rounded-2xl border bg-white p-5 shadow-sm transition-all duration-300 ease-in-out ${Le&&!je?"ring-2 ring-indigo-300 border-indigo-400":""}`,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:["Cu hi ",ae.order||P.indexOf(ae)+1]}),s.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-900",children:ae.question_text}),s.jsx("p",{className:"text-sm text-slate-500",children:vu.find(Ae=>Ae.value===ae.type)?.label||"Khng xc nh"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>ie(ae,-1),disabled:f||P.findIndex(Ae=>Ae.id===ae.id)===0,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[f?s.jsx(He,{className:"animate-spin"}):s.jsx(Db,{})," Ln"]}),s.jsxs("button",{type:"button",onClick:()=>ie(ae,1),disabled:f||P.findIndex(Ae=>Ae.id===ae.id)===P.length-1,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[f?s.jsx(He,{className:"animate-spin"}):s.jsx(zb,{})," Xung"]}),s.jsxs("button",{type:"button",onClick:()=>U(ae),className:"inline-flex items-center gap-1 rounded-full border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:[s.jsx(jj,{})," Chnh sa"]}),s.jsxs("button",{type:"button",onClick:()=>ue(ae.id),className:"inline-flex items-center gap-1 rounded-full border border-red-200 px-3 py-1 text-xs font-semibold text-red-600 hover:bg-red-50",children:[s.jsx(cs,{})," Xa"]})]})]}),W(ae.type)&&ae.answers?.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:ae.answers.map(Ae=>s.jsxs("div",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Ae.is_correct?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-slate-200 bg-slate-50 text-slate-600"}`,children:[Ae.is_correct?s.jsx(da,{}):s.jsx(zc,{}),s.jsx("span",{className:"font-medium",children:Ae.text})]},Ae.id))}),je&&s.jsxs("div",{className:"mt-5 rounded-2xl border border-indigo-100 bg-indigo-50/60 p-4",children:[s.jsx("p",{className:"text-sm font-semibold text-indigo-700",children:"ang chnh sa cu hi"}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ni dung cu hi"}),s.jsx("textarea",{value:M.question_text,onChange:Ae=>I("question_text",Ae.target.value,"edit"),rows:3,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Loi cu hi"}),s.jsx("select",{value:M.type,onChange:Ae=>I("type",Ae.target.value,"edit"),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:vu.map(Ae=>s.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:" kh"}),s.jsx("select",{value:M.difficulty,onChange:Ae=>I("difficulty",Ae.target.value,"edit"),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:E0.map(Ae=>s.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]})]}),s.jsx(M0,{type:M.type,answers:M.answers,onChange:Ae=>G(Ae,"edit"),disabled:D}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{type:"button",onClick:K,disabled:D,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-sm disabled:opacity-70",children:[D&&s.jsx(He,{className:"animate-spin"}),"Lu thay i"]}),s.jsx("button",{type:"button",onClick:ne,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600",children:"Hy"})]})]})]})]},`${ae.id}-${ae.order}`)},ve=()=>s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thm cu hi"}),s.jsx("h2",{className:"mt-1 text-xl font-semibold text-slate-900",children:"Xy dng ngn hng cu hi cho  thi"})]}),s.jsxs("button",{type:"button",onClick:O,disabled:y,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-sm disabled:opacity-70",children:[y?s.jsx(He,{className:"animate-spin"}):s.jsx(yi,{}),"Lu cu hi"]})]}),s.jsxs("div",{className:"mt-6 space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Ni dung cu hi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{rows:4,value:p.question_text,onChange:ae=>I("question_text",ae.target.value),placeholder:"Nhp cu hi...",className:"mt-1 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm focus:border-indigo-500 focus:bg-white focus:outline-none"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Loi cu hi"}),s.jsx("select",{value:p.type,onChange:ae=>I("type",ae.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:vu.map(ae=>s.jsx("option",{value:ae.value,children:ae.label},ae.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:" kh"}),s.jsx("select",{value:p.difficulty,onChange:ae=>I("difficulty",ae.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:E0.map(ae=>s.jsx("option",{value:ae.value,children:ae.label},ae.value))})]})]}),s.jsx(M0,{type:p.type,answers:p.answers,onChange:G,disabled:y})]})]});return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-500 hover:text-slate-700",children:[s.jsx(ta,{})," Quay li"]}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Qun l cu hi"}),i?s.jsx("h1",{className:"mt-2 text-2xl font-bold text-slate-900",children:"ang ti..."}):s.jsx("h1",{className:"mt-2 text-2xl font-bold text-slate-900",children:t?.title||" thi"}),t?.minutes&&s.jsxs("p",{className:"text-sm text-slate-500",children:["Thi lng: ",t.minutes," pht"]}),t?.question_creation_method&&s.jsxs("p",{className:"mt-2 inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-600",children:["Phng thc:"," ",kk[t.question_creation_method]||"Khng xc nh"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/questions`),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:[s.jsx(ta,{}),"Chn phng thc khc"]}),s.jsx("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50 px-4 py-3 text-sm text-indigo-700",children:"Trnh son tho - To v chnh sa cu hi th cng"}),s.jsxs("button",{type:"button",onClick:()=>e("/dashboard/teacher/exams"),disabled:P.length===0,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-6 py-3 text-sm font-semibold text-white shadow-md disabled:opacity-60 disabled:cursor-not-allowed hover:bg-emerald-700",children:[s.jsx(wi,{}),"Lu  thi (",P.length," cu hi)"]})]})]}),k&&s.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:k}),S&&s.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:S}),s.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[s.jsx("div",{className:"space-y-6",children:ve()}),s.jsx("div",{className:"sticky top-6 space-y-6",children:s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Danh sch cu hi"}),s.jsxs("h2",{className:"mt-1 text-xl font-semibold text-slate-900",children:[P.length," cu hi"]})]})}),u?s.jsxs("div",{className:"flex items-center gap-2 py-10 text-slate-500",children:[s.jsx(He,{className:"animate-spin"}),"ang ti cu hi..."]}):P.length===0?s.jsx("div",{className:"py-10 text-center text-slate-500",children:"Cha c cu hi no cho  ny. Hy s dng biu mu bn tri  thm cu hi u tin."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Danh sch cu hi"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((ae,je)=>{const Le=z===ae.id,Ae=T===ae.id;return s.jsx("button",{type:"button",onClick:()=>{B(ae.id)},className:`w-10 h-10 rounded-lg font-semibold text-sm transition-all duration-300 ease-in-out transform ${Le||Ae?"bg-indigo-600 text-white ring-2 ring-indigo-300 scale-110":"bg-white border-2 border-slate-300 text-slate-700 hover:border-indigo-400 hover:bg-indigo-50 hover:scale-105"}`,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:je+1},`${ae.id}-${ae.order}`)})})]}),z&&P.find(ae=>ae.id===z)&&s.jsx("div",{className:"mt-6",children:te(P.find(ae=>ae.id===z))}),!z&&P.length>0&&s.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"Chn mt cu hi  xem chi tit"})]})]})})]})]})})}function _k(r){return r?(Array.isArray(r)?r:Array.isArray(r?.data)?r.data:Array.isArray(r?.classes)?r.classes:[]).map(t=>({id:t.id??t.classId??t._id??t.class_id,className:t.className??t.name??"Khng tn",classCode:t.classCode??t.class_code??""})):[]}function Ek(r){if(!r)return null;const e=a=>{if(!a)return"";const i=new Date(a),o=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),h=String(i.getDate()).padStart(2,"0"),u=String(i.getHours()).padStart(2,"0"),x=String(i.getMinutes()).padStart(2,"0");return`${o}-${c}-${h}T${u}:${x}`};let t=[];return r.classes&&Array.isArray(r.classes)?t=r.classes.map(a=>a.id??a.classId??a._id??a.class_id).filter(Boolean):r.class_id&&(t=[r.class_id]),{id:r.id??r.exam_id??r._id,title:r.title??"",minutes:r.minutes??45,startTime:e(r.start_time),endTime:e(r.end_time),noTimeLimit:!r.start_time||!r.end_time,classIds:t,description:r.des??r.description??"",totalScore:r.total_score??r.totalScore??"",isPublic:r.is_public??r.isPublic??!0,isPaid:r.is_paid??r.isPaid??!1,fee:r.fee??"",imageUrl:r.image_url??r.imageUrl??""}}function yu({title:r,description:e,children:t}){return s.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:r}),e&&s.jsx("p",{className:"text-sm text-slate-500",children:e})]}),t]})}const L0=({label:r,checked:e,onChange:t,description:a})=>s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700",children:[r,s.jsx("button",{type:"button",onClick:()=>t(!e),className:`relative inline-flex h-6 w-11 items-center rounded-full ${e?"bg-indigo-600":"bg-gray-300"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${e?"translate-x-6":"translate-x-1"}`})})]}),a&&s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:a})]});function Mk(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(null),[i,o]=E.useState([]),[c,h]=E.useState(!0),[u,x]=E.useState(!0),[f,m]=E.useState({loading:!1,message:""}),[p,b]=E.useState(!1),[y,w]=E.useState(null),[k,C]=E.useState(null),[S,A]=E.useState(!1),[T,L]=E.useState("");E.useEffect(()=>{async function P(){h(!0);try{const[W,V]=await Promise.all([nn(r),Xc()]),Q=Ek(W);if(!Q){$.error("Khng tm thy  thi."),e("/dashboard/teacher/exams");return}if(a(Q),o(_k(V)),Q.imageUrl){const F="http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000",q=Q.imageUrl.startsWith("http")?Q.imageUrl:`${F}${Q.imageUrl}`;C(q)}}catch(W){$.error(W?.body?.message||W?.message||"Khng th ti d liu."),e("/dashboard/teacher/exams")}finally{h(!1),x(!1)}}r&&P()},[r,e]);const M=(P,W)=>{a(V=>{const Q={...V,[P]:W};if(P==="startTime"&&Q.endTime&&W){const F=new Date(W);if(new Date(Q.endTime)<=F){const I=new Date(F);I.setHours(I.getHours()+1);const G=I.getFullYear(),Y=String(I.getMonth()+1).padStart(2,"0"),O=String(I.getDate()).padStart(2,"0"),U=String(I.getHours()).padStart(2,"0"),ne=String(I.getMinutes()).padStart(2,"0");Q.endTime=`${G}-${Y}-${O}T${U}:${ne}`}}return Q})},_=()=>{if(!t.title.trim())return $.error("Vui lng nhp tn  thi."),!1;if(!t.minutes||Number(t.minutes)<=0)return $.error("Thi gian lm bi phi ln hn 0."),!1;if(t.totalScore&&Number(t.totalScore)<=0)return $.error("Tng im phi ln hn 0."),!1;if(!t.noTimeLimit){if(!t.startTime||!t.endTime)return $.error("Vui lng chn thi gian bt u v kt thc, hoc chn 'Khng gii hn thi gian'."),!1;if(t.startTime>=t.endTime)return $.error("Thi gian kt thc phi sau thi gian bt u."),!1}if(t.isPaid){const P=Number(t.fee);if(!t.fee||isNaN(P)||P<=0)return $.error("Vui lng nhp mc ph hp l (ln hn 0)."),!1}return!0},D=async P=>{const W=P.target.files[0];if(!W)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(W.type)){$.error("Ch cho php upload file nh (jpeg, jpg, png, gif, webp)");return}const Q=5*1024*1024;if(W.size>Q){$.error("Kch thc file khng c vt qu 5MB");return}w(W);const F=new FileReader;F.onloadend=()=>{C(F.result)},F.readAsDataURL(W);try{A(!0);const q=await dv(W),I=q.image_url||q.data?.image_url;if(I){const G="http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000",Y=I.startsWith("http")?I:`${G}${I}`;a(O=>({...O,imageUrl:I})),C(Y),$.success("Upload nh thnh cng!")}}catch(q){console.error("Error uploading image:",q),$.error(q.message||"Khng th upload nh"),w(null),C(null)}finally{A(!1)}},H=()=>{w(null),C(null),a(P=>({...P,imageUrl:""}))},z=async()=>{if(!_())return;const P=V=>V?new Date(V).toISOString():void 0,W={title:t.title.trim(),minutes:Number(t.minutes),start_time:t.noTimeLimit?null:P(t.startTime),end_time:t.noTimeLimit?null:P(t.endTime),class_ids:t.classIds&&t.classIds.length>0?t.classIds:null,des:t.description.trim()||null,total_score:t.totalScore?Number(t.totalScore):null,is_public:t.isPublic,is_paid:t.isPaid,fee:t.isPaid?Number(t.fee):null,image_url:t.imageUrl.trim()||null};if(W.is_paid&&(!W.fee||isNaN(W.fee)||W.fee<=0)){$.error("Vui lng nhp mc ph hp l (ln hn 0).");return}m({loading:!0,message:""});try{await Ux(r,W),$.success(" cp nht  thi thnh cng."),m({loading:!1,message:" cp nht  thi thnh cng."})}catch(V){const Q=V?.body?.message||V?.message||"Khng th cp nht  thi. Vui lng th li.";m({loading:!1,message:Q}),$.error(Q)}},B=async()=>{if(window.confirm("Bn chc chn mun xa  thi ny? Hnh ng ny khng th hon tc.")){b(!0);try{await rv(r),$.success(" xa  thi thnh cng."),e("/dashboard/teacher/exams")}catch(P){$.error(P?.body?.message||P?.message||"Khng th xa  thi."),b(!1)}}};return c||!t?s.jsx(Ye,{role:"teacher",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[s.jsx(ta,{}),"Quay li"]}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Chnh sa  thi"})]}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t.title}),s.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"Cp nht thng tin  thi. Sau khi lu, bn c th tip tc qun l cu hi."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"button",onClick:B,disabled:p,className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2.5 text-sm font-semibold text-red-600 shadow-sm transition hover:bg-red-50 hover:shadow-md disabled:opacity-60",children:[p?s.jsx(He,{className:"animate-spin"}):s.jsx(cs,{}),"Xa  thi"]}),s.jsxs("button",{type:"button",onClick:z,disabled:f.loading,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg disabled:opacity-60",children:[f.loading&&s.jsx(He,{className:"animate-spin"}),"Lu thay i"]})]})]}),s.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),f.message&&s.jsx("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-medium text-emerald-700 shadow-sm",children:f.message}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(yu,{title:"Thng tin chung",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn  thi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.title,onChange:P=>M("title",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Nhp tn  thi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tng im"}),s.jsx("input",{type:"number",value:t.totalScore,min:0,onChange:P=>M("totalScore",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 100"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[s.jsx("input",{type:"checkbox",id:"noTimeLimit",checked:t.noTimeLimit,onChange:P=>{if(M("noTimeLimit",P.target.checked),P.target.checked)M("startTime",""),M("endTime","");else{const W=new Date,V=W.getFullYear(),Q=String(W.getMonth()+1).padStart(2,"0"),F=String(W.getDate()).padStart(2,"0"),q=String(W.getHours()).padStart(2,"0"),I=String(W.getMinutes()).padStart(2,"0"),G=`${V}-${Q}-${F}T${q}:${I}`;M("startTime",G)}},className:"mt-0.5 h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{htmlFor:"noTimeLimit",className:"text-sm font-semibold text-gray-700 cursor-pointer",children:"Khng gii hn thi gian"}),s.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"Nu chn, hc sinh c th lm bi thi bt c lc no m khng b gii hn bi thi gian bt u v kt thc."})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Thi gian lm bi (pht) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:1,value:t.minutes,onChange:P=>M("minutes",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),!t.noTimeLimit&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bt u ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"datetime-local",value:t.startTime,onChange:P=>M("startTime",P.target.value),step:"60",max:t.endTime||void 0,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt thc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"datetime-local",value:t.endTime,min:t.startTime||void 0,onChange:P=>{const W=P.target.value;if(t.startTime&&W){const V=new Date(t.startTime);if(new Date(W)<=V){$.error("Thi gian kt thc phi ln hn thi gian bt u!");return}}M("endTime",W)},step:"60",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"}),t.startTime&&t.endTime&&new Date(t.endTime)<=new Date(t.startTime)&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Thi gian kt thc phi ln hn thi gian bt u"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),s.jsx("textarea",{rows:3,value:t.description,onChange:P=>M("description",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 resize-none",placeholder:"Thng tin m t  thi, hng dn, ghi ch..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"nh  thi (ty chn)"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"flex cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-700 transition hover:border-indigo-400 hover:bg-indigo-50",children:[S?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"mr-2 animate-spin"}),"ang upload..."]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Chn nh"]}),s.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:D,className:"hidden",disabled:S})]}),k&&s.jsx("button",{type:"button",onClick:H,className:"rounded-lg border border-red-300 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition hover:bg-red-100",children:"Xa nh"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Chn nh t my tnh (ti a 5MB).  trng s s dng nh mc nh."}),k&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"mb-2 text-xs font-medium text-slate-700",children:"Xem trc:"}),s.jsx("img",{src:k,alt:"Preview",className:"h-48 w-full rounded-lg border border-slate-200 object-cover"})]})]})]})]}),s.jsx(yu,{title:"Giao  cho lp",children:u?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[s.jsx(He,{className:"animate-spin"}),"ang ti danh sch lp..."]}):i.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"Bn cha c lp no. Vo mc Lp hc  to mi hoc b trng trng ny."}):s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn lp (c th chn nhiu lp)"}),s.jsxs("div",{className:"mb-3 relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),s.jsx("input",{type:"text",value:T,onChange:P=>L(P.target.value),placeholder:"Tm kim lp theo tn hoc m lp...",className:"w-full rounded-lg border border-slate-200 pl-10 pr-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-slate-200 bg-slate-50 p-2",children:[i.filter(P=>{if(!T.trim())return!0;const W=T.toLowerCase();return P.className?.toLowerCase().includes(W)||P.classCode?.toLowerCase().includes(W)}).map(P=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-white p-2 rounded transition-colors",children:[s.jsx("input",{type:"checkbox",checked:t.classIds?.includes(P.id)||!1,onChange:W=>{const V=t.classIds||[];W.target.checked?M("classIds",[...V,P.id]):M("classIds",V.filter(Q=>Q!==P.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-slate-300 rounded"}),s.jsxs("span",{className:"text-sm text-gray-700 flex-1",children:[s.jsx("span",{className:"font-medium",children:P.className}),P.classCode&&s.jsxs("span",{className:"text-slate-500 ml-1",children:["(",P.classCode,")"]})]})]},P.id)),i.filter(P=>{if(!T.trim())return!0;const W=T.toLowerCase();return P.className?.toLowerCase().includes(W)||P.classCode?.toLowerCase().includes(W)}).length===0&&s.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Khng tm thy lp no ph hp"})]}),t.classIds&&t.classIds.length>0&&s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-slate-500",children:[" chn ",s.jsx("span",{className:"font-semibold text-indigo-600",children:t.classIds.length})," lp"]}),s.jsx("button",{type:"button",onClick:()=>M("classIds",[]),className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"B chn tt c"})]})]})}),s.jsxs(yu,{title:"Cng khai v thu ph",children:[s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:s.jsx(L0,{label:"Cho php hc sinh bn ngoi lp truy cp",checked:t.isPublic,onChange:P=>M("isPublic",P),description:"Nu bt, hc sinh khng thuc lp c gn cng c th lm bi thi ny."})}),s.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:s.jsx(L0,{label:"Thu ph mi ln lm bi",checked:t.isPaid,onChange:P=>{M("isPaid",P),P&&(!t.fee||Number(t.fee)<=0)&&M("fee","10000")},description:"Hc sinh s b tr tin mi ln bt u lm bi thi ny (n v VN)."})})]}),t.isPaid&&s.jsxs("div",{className:"mt-4 rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Ph mi ln lm bi (VN) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:1,required:!0,value:t.fee,onChange:P=>M("fee",P.target.value),className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-4 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 50000"}),(!t.fee||Number(t.fee)<=0)&&s.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Vui lng nhp mc ph hp l (ln hn 0)"}),s.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"S tin s c tr t ti khon hc sinh mi ln h bt u lm bi thi."})]})]})]})]})})}function Lk(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/results`)}function zk(r,e){if(!r)throw new Error("resultId l bt buc.");if(e.feedback===void 0)throw new Error("feedback l bt buc.");return pe.put(`/api/exam-results/${r}/feedback`,{feedback:e.feedback})}async function Dk(r,e="csv"){if(!r)throw new Error("examId l bt buc.");const t="http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000",a=localStorage.getItem("accessToken"),i=await fetch(`${t}/api/exams/${r}/results/export?format=${e}`,{method:"GET",headers:{Authorization:`Bearer ${a}`,"x-access-token":a}});if(!i.ok){const o=await i.json().catch(()=>({message:i.statusText})),c=new Error(o.message||"Export failed");throw c.status=i.status,c.body=o,c}return e==="csv"?await i.blob():await i.json()}function xv(r={}){const e=new URLSearchParams;r.exam_id&&e.set("exam_id",r.exam_id);const t=e.toString();return pe.get(`/api/exam-results/my-results${t?`?${t}`:""}`)}function Rk(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/my-comparison`)}function Ok(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(null),[i,o]=E.useState([]),[c,h]=E.useState(!0),[u,x]=E.useState(null),[f,m]=E.useState(""),[p,b]=E.useState(!1),[y,w]=E.useState(!1);E.useEffect(()=>{r&&k()},[r]);const k=async()=>{h(!0);try{const[M,_]=await Promise.all([nn(r),Lk(r)]);a(M);const D=_?.results||[];o(D)}catch(M){$.error(M?.body?.message||M?.message||"Khng th ti d liu kt qu thi.")}finally{h(!1)}},C=M=>{x(M.id),m(M.feedback||"")},S=()=>{x(null),m("")},A=async M=>{b(!0);try{await zk(M,{feedback:f}),$.success(" cp nht feedback thnh cng."),x(null),m(""),k()}catch(_){$.error(_?.body?.message||_?.message||"Khng th cp nht feedback.")}finally{b(!1)}},T=(M,_)=>{if(!_||_===0)return 0;const D=typeof M=="number"?M:parseFloat(M)||0,H=typeof _=="number"?_:parseFloat(_)||0;return H===0?0:(D/H*100).toFixed(1)},L=async()=>{if(!r||i.length===0){$.warning("Khng c d liu  xut.");return}w(!0);try{const M=await Dk(r,"csv"),_=new Blob([M],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),H=URL.createObjectURL(_);D.setAttribute("href",H),D.setAttribute("download",`ket-qua-thi-${t?.title?.replace(/[^a-z0-9]/gi,"_")||"exam"}-${Date.now()}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D),$.success(" xut kt qu thi thnh cng.")}catch(M){$.error(M?.body?.message||M?.message||"Khng th xut kt qu thi.")}finally{w(!1)}};return c?s.jsx(Ye,{role:"teacher",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(ta,{}),"Quay li"]}),s.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Kt qu thi"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:t?.title||" thi"}),t?.total_score&&s.jsxs("p",{className:"text-sm text-slate-500",children:["Tng im: ",t.total_score," im"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.length>0&&s.jsxs("button",{type:"button",onClick:L,disabled:y,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-700 transition hover:bg-indigo-100 disabled:opacity-60",children:[y?s.jsx(He,{className:"animate-spin"}):s.jsx(wj,{}),y?"ang xut...":"Xut Excel/CSV"]}),s.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/monitoring`),className:"inline-flex items-center gap-2 rounded-xl border border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-700 transition hover:bg-amber-100",children:[s.jsx(Cs,{}),"Gim st gian ln"]})]})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Danh sch kt qu (",i.length," bi lm)"]}),s.jsxs("button",{type:"button",onClick:k,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(He,{className:"animate-spin"}),"Lm mi"]})]}),i.length===0?s.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c hc sinh no lm bi thi ny."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Hc sinh"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"im s"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"ng/Sai"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"T l"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Thi gian np"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Feedback"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Hnh ng"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:i.map(M=>{const _=u===M.id,D=T(M.total_score,t?.total_score);return s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jn,{className:"text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900",children:M.student?.fullName||"Khng tn"}),s.jsx("p",{className:"text-xs text-slate-500",children:M.student?.email||""})]})]})}),s.jsxs("td",{className:"px-4 py-4 text-center",children:[s.jsx("span",{className:"font-bold text-lg text-slate-900",children:(typeof M.total_score=="number"?M.total_score:parseFloat(M.total_score)||0).toFixed(1)}),t?.total_score&&s.jsxs("span",{className:"text-xs text-slate-500",children:[" ","/ ",t.total_score]})]}),s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[s.jsx(da,{}),M.correct_count||0]}),s.jsx("span",{className:"text-slate-400",children:"/"}),s.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[s.jsx(Yb,{}),M.wrong_count||0]})]})}),s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsxs("span",{className:`font-semibold ${D>=80?"text-emerald-600":D>=50?"text-yellow-600":"text-red-600"}`,children:[D,"%"]})}),s.jsx("td",{className:"px-4 py-4 text-center text-xs text-slate-600",children:M.submitted_at?gt(M.submitted_at):""}),s.jsx("td",{className:"px-4 py-4",children:_?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:f,onChange:H=>m(H.target.value),placeholder:"Nhp feedback cho hc sinh...",rows:3,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>A(M.id),disabled:p,className:"inline-flex items-center gap-1 rounded-lg bg-indigo-600 px-3 py-1 text-xs font-semibold text-white disabled:opacity-60",children:[p?s.jsx(He,{className:"animate-spin"}):s.jsx(wi,{}),"Lu"]}),s.jsxs("button",{type:"button",onClick:S,className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600",children:[s.jsx(It,{}),"Hy"]})]})]}):s.jsx("div",{children:M.feedback?s.jsx("p",{className:"text-sm text-slate-700",children:M.feedback}):s.jsx("p",{className:"text-xs text-slate-400",children:"Cha c feedback"})})}),s.jsx("td",{className:"px-4 py-4 text-center",children:!_&&s.jsxs("button",{type:"button",onClick:()=>C(M),className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:[s.jsx(Oa,{}),M.feedback?"Sa":"Thm"]})})]},M.id)})})]})})]})]})})}function Hk(r,e){if(!r)throw new Error("sessionId l bt buc.");if(!e?.cheating_type)throw new Error("cheating_type l bt buc.");return pe.post(`/api/sessions/${r}/cheating-log`,e)}function Pk(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/cheating-logs`)}const z0={low:"bg-blue-100 text-blue-700 border-blue-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"},gv={low:"Thp",medium:"Trung bnh",high:"Cao",critical:"Nghim trng"},fv={tab_switch:"Chuyn tab",window_blur:"Mt focus ca s",fullscreen_exit:"Thot fullscreen",copy_paste:"Copy/Paste",right_click:"Click chut phi",keyboard_shortcut:"Phm tt",multiple_tabs:"Nhiu tab",time_suspicious:"Thi gian bt thng",answer_pattern:"Mu tr li bt thng",device_change:"Thay i thit b",ip_change:"Thay i IP",browser_change:"Thay i trnh duyt",other:"Khc"};function Bk({log:r}){const[e,t]=E.useState(!1),a=(o,c)=>{if(!o||typeof o!="object")return null;const h=[];return o.timestamp&&h.push({label:"Thi gian",value:new Date(o.timestamp).toLocaleString("vi-VN"),icon:s.jsx(bi,{className:"text-slate-400"})}),o.user_agent&&h.push({label:"Trnh duyt",value:o.user_agent,icon:s.jsx(Nj,{className:"text-slate-400"})}),o.window_count!==void 0&&c==="multiple_tabs"&&h.push({label:"S ca s",value:o.window_count,icon:s.jsx(Xb,{className:"text-slate-400"})}),Object.keys(o).forEach(u=>{const x=["timestamp","user_agent"];c==="tab_switch"&&u==="window_count"||!x.includes(u)&&!(u==="window_count"&&c!=="multiple_tabs")&&h.push({label:u.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()),value:typeof o[u]=="object"?JSON.stringify(o[u],null,2):String(o[u]),icon:s.jsx(Px,{className:"text-slate-400"})})}),h},i=r.metadata?a(r.metadata,r.cheating_type):null;return s.jsx("div",{className:"group transition hover:bg-slate-50",children:s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${r.severity==="critical"?"bg-red-100":r.severity==="high"?"bg-orange-100":r.severity==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:s.jsx(zc,{className:`text-lg ${r.severity==="critical"?"text-red-600":r.severity==="high"?"text-orange-600":r.severity==="medium"?"text-yellow-600":"text-blue-600"}`})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Jn,{className:"text-slate-400 flex-shrink-0"}),s.jsx("p",{className:"font-semibold text-slate-900 truncate",children:r.student?.fullName||"Khng tn"})]}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:r.student?.email||""})]}),s.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:s.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${z0[r.severity]||z0.medium}`,children:gv[r.severity]||r.severity})})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600",children:[s.jsx(bi,{className:"text-slate-400"}),s.jsx("span",{className:"text-xs",children:r.detected_at?gt(r.detected_at):""})]}),s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsx("span",{className:"text-xs font-medium text-slate-700",children:fv[r.cheating_type]||r.cheating_type})})]}),r.description&&s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:r.description})]})]}),i&&i.length>0&&s.jsxs("div",{className:"ml-14",children:[s.jsx("button",{type:"button",onClick:()=>t(!e),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-xs font-semibold text-indigo-600 shadow-sm transition hover:bg-indigo-50 hover:shadow-md",children:e?s.jsxs(s.Fragment,{children:[s.jsx(Rb,{}),"n chi tit"]}):s.jsxs(s.Fragment,{children:[s.jsx(Hx,{}),"Xem chi tit"]})}),e&&s.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-4 space-y-3",children:i.map((o,c)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o.icon}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-0.5",children:o.label}),s.jsx("p",{className:"text-xs text-slate-600 break-words",children:o.value})]})]},c))})]})]})})})})}function Xk(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(null),[i,o]=E.useState([]),[c,h]=E.useState(null),[u,x]=E.useState(!0),[f,m]=E.useState(!1),[p,b]=E.useState({severity:"",type:"",studentId:""});E.useEffect(()=>{r&&y()},[r]),E.useEffect(()=>{if(f){const A=setInterval(()=>{w()},5e3);return()=>clearInterval(A)}},[f,r,p]);const y=async()=>{x(!0);try{const[A]=await Promise.all([nn(r),w()]);a(A)}catch(A){$.error(A?.body?.message||A?.message||"Khng th ti d liu.")}finally{x(!1)}},w=async()=>{try{const A=await Pk(r);o(A.logs||[]),h(A.statistics||null)}catch(A){console.error("Error loading logs:",A),f||$.error(A?.body?.message||A?.message||"Khng th ti logs.")}},k=i.filter(A=>!(p.severity&&A.severity!==p.severity||p.type&&A.cheating_type!==p.type||p.studentId&&A.student_id?.toString()!==p.studentId)),C=Array.from(new Set(i.map(A=>A.student_id))).map(A=>{const T=i.find(L=>L.student_id===A);return{id:A,name:T?.student?.fullName||"Khng tn",email:T?.student?.email||""}}),S=Array.from(new Set(i.map(A=>A.cheating_type)));return u?s.jsx(Ye,{role:"teacher",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-red-100 bg-gradient-to-br from-red-50 via-white to-orange-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[s.jsx(ta,{}),"Quay li"]}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-red-500",children:"Gim st gian ln"})]}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t?.title||" thi"}),s.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"Theo di cc hnh vi gian ln trong thi gian thc"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[s.jsx(ar,{className:u?"animate-spin":""}),"Lm mi"]}),s.jsxs("button",{type:"button",onClick:()=>m(!f),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold shadow-sm transition ${f?"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-lg":"border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 hover:shadow-md"}`,children:[s.jsx(bi,{}),f?"Tt t ng":"Bt t ng"]})]})]}),s.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-red-200 opacity-20 blur-2xl"})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"Tng s kin"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:c.total_events||i.length})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"S hc sinh"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:c.total_students||C.length})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"Mc  cao"}),s.jsx("div",{className:"mt-1 text-2xl font-bold text-red-600",children:(c.by_severity?.high||0)+(c.by_severity?.critical||0)})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"ang theo di"}),s.jsx("div",{className:"mt-1 flex items-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-emerald-500"}),s.jsx("span",{className:"text-lg font-semibold text-emerald-600",children:"Hot ng"})]}):s.jsx("span",{className:"text-lg font-semibold text-slate-400",children:"Tm dng"})})]})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[s.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[s.jsx(fl,{className:"text-slate-500"}),s.jsx("h3",{className:"font-semibold text-slate-900",children:"B lc"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Mc  nghim trng"}),s.jsxs("select",{value:p.severity,onChange:A=>b(T=>({...T,severity:A.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:"",children:"Tt c"}),Object.entries(gv).map(([A,T])=>s.jsx("option",{value:A,children:T},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Loi gian ln"}),s.jsxs("select",{value:p.type,onChange:A=>b(T=>({...T,type:A.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:"",children:"Tt c"}),S.map(A=>s.jsx("option",{value:A,children:fv[A]||A},A))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Hc sinh"}),s.jsxs("select",{value:p.studentId,onChange:A=>b(T=>({...T,studentId:A.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:"",children:"Tt c"}),C.map(A=>s.jsxs("option",{value:A.id,children:[A.name," (",A.email,")"]},A.id))]})]})]})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm",children:[s.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-6 py-4",children:s.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Danh sch s kin (",k.length,")"]})}),k.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(zc,{className:"mx-auto mb-3 text-4xl text-slate-300"}),s.jsx("p",{className:"text-sm text-slate-500",children:i.length===0?"Cha c s kin gian ln no c ghi nhn.":"Khng c s kin no khp vi b lc."})]}):s.jsx("div",{className:"divide-y divide-slate-100",children:k.map(A=>s.jsx(Bk,{log:A},A.id))})]})]})})}function Yk(r={}){const e=new URLSearchParams;Object.entries(r).forEach(([a,i])=>{i==null||i===""||e.set(a,i)});const t=e.toString();return t?`?${t}`:""}function mv(r={}){const e=Yk({page:r.page,limit:r.limit,unread_only:r.unread_only});return pe.get(`/api/notifications${e}`)}function pv(){return pe.get("/api/notifications/unread-count")}function ix(r){if(!r)throw new Error("notificationId l bt buc.");return pe.put(`/api/notifications/${r}/read`)}function bv(){return pe.put("/api/notifications/read-all")}function vv(r){if(!r)throw new Error("notificationId l bt buc.");return pe.delete(`/api/notifications/${r}`)}function Fk(){const r=lt(),[e,t]=E.useState([]),[a,i]=E.useState(0),[o,c]=E.useState(!0),[h,u]=E.useState({page:1,limit:20,total:0,totalPages:1}),[x,f]=E.useState("all"),m=S=>{if(!S.data)return null;let A;try{A=typeof S.data=="string"?JSON.parse(S.data):S.data}catch{return null}switch(S.type){case"exam_submitted":if(A.exam_id)return`/dashboard/teacher/exams/${A.exam_id}/results`;break;case"student_joined_class":if(A.class_id)return`/teacher/classes/${A.class_id}`;break;case"exam_assigned_to_class":if(A.class_id)return`/teacher/classes/${A.class_id}`;break;case"feedback_updated":if(A.exam_id)return`/dashboard/teacher/exams/${A.exam_id}`;break;default:return null}return null},p=async S=>{const A=m(S);if(A){if(!S.is_read)try{await ix(S.id),y(),b()}catch(T){console.error("Error marking notification as read:",T)}r(A)}};E.useEffect(()=>{b(),y()},[h.page,x]);const b=async()=>{try{const S=await pv();i(S?.unread_count||0)}catch(S){console.error("Khng th ti s lng thng bo cha c:",S)}},y=async()=>{c(!0);try{const S=await mv({page:h.page,limit:h.limit,unread_only:x==="unread"}),A=S?.notifications||[],T=S?.pagination||{};t(A),u(L=>({...L,total:T.total||0,totalPages:T.total_pages||1}))}catch(S){$.error(S?.body?.message||S?.message||"Khng th ti thng bo.")}finally{c(!1)}},w=async S=>{try{await ix(S),$.success(" nh du  c."),y(),b()}catch(A){$.error(A?.body?.message||A?.message||"Khng th nh du  c.")}},k=async()=>{try{await bv(),$.success(" nh du tt c l  c."),y(),b()}catch(S){$.error(S?.body?.message||S?.message||"Khng th nh du tt c l  c.")}},C=async S=>{if(window.confirm("Bn chc chn mun xa thng bo ny?"))try{await vv(S),$.success(" xa thng bo."),y(),b()}catch(A){$.error(A?.body?.message||A?.message||"Khng th xa thng bo.")}};return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[s.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thng bo"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Qun l thng bo"}),a>0&&s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2 w-2 animate-pulse rounded-full bg-indigo-600"}),s.jsxs("p",{className:"text-sm font-medium text-slate-600",children:["C ",s.jsx("span",{className:"font-bold text-indigo-600",children:a})," thng bo cha c"]})]})]}),a>0&&s.jsxs("button",{type:"button",onClick:k,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:bg-indigo-700 hover:shadow-lg hover:-translate-y-0.5",children:[s.jsx(da,{}),"nh du tt c  c"]})]}),s.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"mb-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{f("all"),u(S=>({...S,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${x==="all"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Tt c"}),s.jsxs("button",{type:"button",onClick:()=>{f("unread"),u(S=>({...S,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${x==="unread"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:["Cha c (",a,")"]})]})}),o?s.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),s.jsx(He,{className:"absolute inset-0 m-auto animate-pulse text-xl text-indigo-600"})]}),s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"ang ti thng bo..."})]}):e.length===0?s.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-gradient-to-br from-slate-50 to-white p-12 text-center",children:[s.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100",children:s.jsx(yc,{className:"text-3xl text-slate-400"})}),s.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-700",children:x==="unread"?"Khng c thng bo cha c":"Cha c thng bo no"}),s.jsx("p",{className:"text-sm text-slate-500",children:x==="unread"?"Tt c thng bo ca bn  c c.":"Cc thng bo mi s xut hin  y."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3",children:e.map((S,A)=>{const L=m(S)!==null;return s.jsx("div",{className:`rounded-xl border p-4 transition-all duration-200 ${S.is_read?"border-slate-200 bg-white":"border-indigo-200 bg-gradient-to-r from-indigo-50/50 to-white"} ${L?"cursor-pointer hover:shadow-lg hover:-translate-y-0.5":""}`,onClick:L?()=>p(S):void 0,style:{animationDelay:`${A*30}ms`},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:S.title}),!S.is_read&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-600 px-2.5 py-1 text-xs font-semibold text-white shadow-sm",children:[s.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-white"}),"Mi"]}),L&&s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-semibold text-emerald-700 shadow-sm",children:[s.jsx(Pb,{className:"h-3 w-3"}),"Xem chi tit"]})]}),s.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-600",children:S.message}),s.jsxs("p",{className:"mt-3 flex items-center gap-1.5 text-xs text-slate-400",children:[s.jsx(Al,{className:"h-3 w-3"}),gt(S.created_at)]})]}),s.jsxs("div",{className:"flex gap-2",onClick:M=>M.stopPropagation(),children:[!S.is_read&&s.jsxs("button",{type:"button",onClick:()=>w(S.id),className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 bg-white px-3 py-1.5 text-xs font-semibold text-indigo-600 shadow-sm transition-all hover:bg-indigo-50 hover:shadow-md",title:"nh du  c",children:[s.jsx(cl,{})," c"]}),s.jsx("button",{type:"button",onClick:()=>C(S.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-white px-3 py-1.5 text-xs font-semibold text-red-600 shadow-sm transition-all hover:bg-red-50 hover:shadow-md",title:"Xa thng bo",children:s.jsx(cs,{})})]})]})},S.id)})}),h.totalPages>1&&s.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[s.jsxs("p",{className:"text-slate-500",children:["Trang ",h.page,"/",h.totalPages]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>u(S=>({...S,page:Math.max(1,S.page-1)})),disabled:h.page===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),s.jsx("button",{type:"button",onClick:()=>u(S=>({...S,page:Math.min(h.totalPages,S.page+1)})),disabled:h.page===h.totalPages,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]})]})]})})}function Ik(){const r=lt(),[e,t]=E.useState(!0),[a,i]=E.useState([]),[o,c]=E.useState(null),[h,u]=E.useState([]),[x,f]=E.useState(""),[m,p]=E.useState(""),[b,y]=E.useState(""),[w,k]=E.useState(1),[C,S]=E.useState(null);E.useEffect(()=>{A(),L()},[x,m,b]),E.useEffect(()=>{T()},[x,w]);const A=async()=>{try{const _=await Yc(),H=(Array.isArray(_)?_:[]).filter(z=>z.is_paid);u(H)}catch(_){console.error("Error loading exams:",_)}},T=async()=>{try{t(!0);const _=await qN({exam_id:x||void 0,page:w,limit:20}),D=_?.data||_;i(D.purchases||[]),S(D.pagination||null)}catch(_){$.error(_?.body?.message||_?.message||"Khng th ti danh sch mua  thi.")}finally{t(!1)}},L=async()=>{try{const _=await GN({exam_id:x||void 0,date_from:m||void 0,date_to:b||void 0}),D=_?.data||_;c(D)}catch(_){console.error("Error loading revenue:",_)}},M=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_||0);return e&&!a.length?s.jsx(Ye,{role:"teacher",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"flex flex-wrap items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(ta,{}),"Quay li"]}),s.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thng k mua  thi"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Doanh thu t  thi tr ph"})]})}),o&&s.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-500",children:"Tng doanh thu"}),s.jsx("p",{className:"mt-1 text-3xl font-bold text-slate-900",children:M(o.totalRevenue||0)})]}),s.jsx(vi,{className:"text-3xl text-emerald-500 opacity-50"})]})}),s.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-500",children:"Tng s lt mua"}),s.jsx("p",{className:"mt-1 text-3xl font-bold text-slate-900",children:o.totalPurchases||0})]}),s.jsx(wc,{className:"text-3xl text-blue-500 opacity-50"})]})}),s.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-500",children:"S  thi tr ph"}),s.jsx("p",{className:"mt-1 text-3xl font-bold text-slate-900",children:o.totalPaidExams??h.length})]}),s.jsx(rs,{className:"text-3xl text-indigo-500 opacity-50"})]})})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:"B lc"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Chn  thi"}),s.jsxs("select",{value:x,onChange:_=>{f(_.target.value),k(1)},className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:"",children:"Tt c  thi"}),h.map(_=>s.jsx("option",{value:_.id,children:_.title},_.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"T ngy"}),s.jsx("input",{type:"date",value:m,onChange:_=>p(_.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"n ngy"}),s.jsx("input",{type:"date",value:b,onChange:_=>y(_.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]})]}),s.jsxs("div",{className:"mt-4 flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{f(""),p(""),y(""),k(1)},className:"rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"Xa b lc"}),s.jsxs("button",{type:"button",onClick:()=>{T(),L()},className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(ar,{}),"Lm mi"]})]})]}),o?.revenueByExam&&o.revenueByExam.length>0&&s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Doanh thu theo  thi"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:" thi"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"S lt mua"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Doanh thu"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:o.revenueByExam.map(_=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-4 font-medium text-slate-900",children:_.exam_title}),s.jsx("td",{className:"px-4 py-4 text-center",children:_.purchase_count}),s.jsx("td",{className:"px-4 py-4 text-right font-semibold text-emerald-600",children:M(_.revenue)})]},_.exam_id))})]})})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Danh sch mua  thi"}),C&&s.jsxs("p",{className:"text-sm text-slate-500",children:["Trang ",C.page," / ",C.totalPages," (",C.total," lt mua)"]})]}),e?s.jsx("div",{className:"flex items-center justify-center py-10",children:s.jsx(He,{className:"animate-spin text-2xl text-indigo-600"})}):a.length===0?s.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c lt mua no."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"STT"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Hc sinh"}),s.jsx("th",{className:"px-4 py-3 text-left",children:" thi"}),s.jsx("th",{className:"px-4 py-3 text-right",children:"Gi"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Ngy mua"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:a.map((_,D)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-4 text-slate-500",children:(w-1)*20+D+1}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bt,{className:"text-slate-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-slate-900",children:_.user?.fullName||"Khng tn"}),s.jsx("p",{className:"text-xs text-slate-500",children:_.user?.email||""})]})]})}),s.jsx("td",{className:"px-4 py-4 font-medium text-slate-900",children:_.exam?.title||"Khng tn"}),s.jsx("td",{className:"px-4 py-4 text-right font-semibold text-emerald-600",children:M(_.purchase_price)}),s.jsx("td",{className:"px-4 py-4 text-center text-xs text-slate-600",children:_.purchase_date?gt(_.purchase_date):""})]},_.id))})]})}),C&&C.totalPages>1&&s.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>k(_=>Math.max(1,_-1)),disabled:w===1,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-600 disabled:opacity-50",children:"Trc"}),s.jsxs("span",{className:"px-4 text-sm text-slate-600",children:["Trang ",w," / ",C.totalPages]}),s.jsx("button",{type:"button",onClick:()=>k(_=>Math.min(C.totalPages,_+1)),disabled:w===C.totalPages,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-600 disabled:opacity-50",children:"Sau"})]})]})]})]})})}const D0=["bg-indigo-50","bg-purple-50","bg-blue-50"],Uk=({classInfo:r,index:e=0})=>{const t=lt(),a=()=>{t(`/dashboard/student/classes/${r.id}`)};return s.jsxs("article",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[s.jsx("div",{className:`relative h-32 w-full rounded-3xl ${D0[e%D0.length]} px-5 py-4`,children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/85 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(Is,{className:"h-4 w-4"}),r.code]}),s.jsx("p",{className:"text-base font-semibold text-slate-800 line-clamp-2",children:r.name})]})})}),s.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-5 text-sm text-slate-600",children:[s.jsxs("p",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx("span",{className:"text-indigo-400",children:"GV:"}),r.teacherName]}),s.jsx("div",{className:"flex flex-wrap gap-3 text-xs font-medium text-slate-500",children:s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(Vb,{className:"h-3 w-3"}),"Lp hc"]})}),s.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2 border-t border-slate-100 pt-4",children:[s.jsxs("div",{className:"text-xs text-slate-500",children:["Ngy to: ",s.jsx("span",{className:"font-semibold text-slate-700",children:r.date})]}),s.jsxs("button",{onClick:a,className:"inline-flex items-center gap-1.5 rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-indigo-700",children:[s.jsx(jc,{className:"h-3.5 w-3.5"}),"Xem chi tit"]})]})]})]})},Wk=({isOpen:r,onClose:e})=>{if(!r)return null;const[t,a]=E.useState(""),[i,o]=E.useState(!1);E.useEffect(()=>{r&&(a(""),o(!1))},[r]);const c=async()=>{if(o(!0),!t||t.trim()===""){$.error("Vui lng in y  thng tin");return}const h=await DS(t.trim());if(console.log(h),!h.status){$.error(h.message),o(!1),e();return}$.success("Tham gia lp hc thnh cng",{autoClose:2e3,onClose:()=>{o(!1),e(),window.location.reload()}})};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-100 bg-gray-50",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Tham gia lp hc mi"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-200",children:s.jsx(dl,{size:24})})]}),s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"classCode",className:"block text-sm font-medium text-gray-700",children:"Nhp m lp"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",id:"classCode",value:t,onChange:h=>a(h.target.value),placeholder:"V d: INT3306",className:"block w-full px-4 py-3 rounded-xl border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Hy hi gio vin ca bn  bit m lp hc."})]})}),s.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[s.jsx("button",{onClick:e,className:"px-5 py-2.5 rounded-xl text-gray-700 font-medium hover:bg-gray-200 transition-colors",children:"Hy b"}),s.jsx("button",{onClick:c,className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 transition-all shadow-md hover:shadow-lg flex items-center",children:i?s.jsx(s.Fragment,{children:s.jsx(NN,{className:"mr-2 animate-spin",children:"Process"})}):s.jsxs(s.Fragment,{children:[s.jsx(Ku,{className:"mr-2"})," Tham gia ngay"]})})]})]})})};function Vk(){const[r,e]=E.useState(!1),[t,a]=E.useState([]),[i,o]=E.useState(1),[c,h]=E.useState(0),[u,x]=E.useState(!1),f=8;E.useEffect(()=>{(async()=>{x(!0);try{const k=(i-1)*f,C=await ev(f,k);if(C.status){const S=C.data.map(T=>({id:T.id,name:T.className,code:T.classCode,teacherName:T.teacher?.fullName||"N/A",date:new Date(T.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),image:null}));a(S);const A=C.total||0;h(Math.ceil(A/f))}}catch(k){console.error("Failed to fetch classes:",k)}finally{x(!1)}})()},[i]);const m=()=>o(w=>Math.min(w+1,c)),p=()=>o(w=>Math.max(w-1,1)),b=()=>e(!0),y=()=>e(!1);return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("div",{children:s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Danh sch lp hc ca ti"})}),s.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-5 py-3 text-sm font-semibold text-white shadow-lg transition hover:bg-indigo-700",children:[s.jsx(Ku,{className:"h-5 w-5"}),"Tham gia lp hc"]})]})}),s.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-full border border-slate-200 px-4 py-2",children:[s.jsx(Tl,{className:"text-slate-400",size:20}),s.jsx("input",{type:"text",className:"w-full border-none bg-transparent text-sm text-slate-600 outline-none focus:ring-0",placeholder:"Nhp t kha tm kim lp hc..."})]}),s.jsxs("button",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(Wb,{size:20}),"B lc"]})]}),u?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-slate-500",children:[s.jsx("div",{className:"mb-3 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),"ang ti danh sch lp..."]}):t.length===0?s.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-slate-800",children:"Cha c lp hc no"}),s.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Hy bt u bng cch tham gia lp hc mi."}),s.jsxs("button",{onClick:b,className:"mt-4 inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-500",children:[s.jsx(Ku,{}),"Tham gia lp hc"]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mt-8 grid gap-6 lg:grid-cols-2 xl:grid-cols-3",children:t.map((w,k)=>s.jsx(Uk,{classInfo:w,index:k},w.id))}),c>1&&s.jsxs("div",{className:"mt-8 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[s.jsxs("p",{className:"text-slate-500",children:["Trang ",i,"/",c]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:p,disabled:i===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),s.jsx("button",{type:"button",onClick:m,disabled:i===c,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]})]}),s.jsx(Wk,{isOpen:r,onClose:y})]})})}function qk(){const{classId:r}=ia(),e=lt(),[t,a]=E.useState(null),[i,o]=E.useState([]),[c,h]=E.useState(!0),[u,x]=E.useState("posts"),[f,m]=E.useState([]),[p,b]=E.useState(!1),[y,w]=E.useState({}),[k,C]=E.useState({}),[S,A]=E.useState(new Set),[T,L]=E.useState({}),[M,_]=E.useState("");E.useEffect(()=>{D(),u==="posts"?z():u==="students"&&H()},[r,u]);const D=async()=>{h(!0);try{const I=await tx({classId:r}),G=I?.class||I?.classInfo||I?.data||I||{};a({id:G.id??G.classId,className:G.className??G.name??"Cha t tn",classCode:G.classCode??G.class_code??""})}catch(I){$.error(I?.body?.message||I?.message||"Khng th ti thng tin lp hc.")}finally{h(!1)}},H=async()=>{if(r)try{const I=await tx({classId:r}),G=Array.isArray(I?.students)?I.students:Array.isArray(I?.data?.students)?I.data.students:[];o(G.map(Y=>({id:Y.id??Y.student_id,fullName:Y.fullName??Y.name??"Cha cp nht",email:Y.email??"",joinedAt:Y.joinedAt??Y.joined_at})))}catch(I){$.error(I?.body?.message||I?.message||"Khng th ti danh sch hc sinh.")}},z=async()=>{if(r){b(!0);try{const I=await sv(r),G=Array.isArray(I)?I:[];m(G)}catch(I){$.error(I?.body?.message||I?.message||"Khng th ti bi ng.")}finally{b(!1)}}},B=async I=>{if(I){C(G=>({...G,[I]:!0}));try{const G=await av(I),Y=Array.isArray(G)?G:[];w(O=>({...O,[I]:Y}))}catch(G){$.error(G?.body?.message||G?.message||"Khng th ti bnh lun.")}finally{C(G=>({...G,[I]:!1}))}}},P=I=>{A(G=>{const Y=new Set(G);return Y.has(I)?Y.delete(I):(Y.add(I),y[I]||B(I)),Y})},W=async(I,G)=>{I.preventDefault();const Y=T[G]?.trim();if(!Y){$.error("Vui lng nhp ni dung bnh lun.");return}try{const O=await iv({postId:G,comment:Y});w(U=>({...U,[G]:[...U[G]||[],O]})),L(U=>({...U,[G]:""})),$.success(" thm bnh lun thnh cng.")}catch(O){$.error(O?.body?.message||O?.message||"Khng th thm bnh lun.")}},V=async()=>{if(window.confirm("Bn chc chn mun ri khi lp hc ny?"))try{$.success(" ri khi lp hc thnh cng."),e("/dashboard/student/classes")}catch(I){$.error(I?.body?.message||I?.message||"Khng th ri khi lp hc.")}},Q=i.filter(I=>I.fullName.toLowerCase().includes(M.toLowerCase())||I.email.toLowerCase().includes(M.toLowerCase())),F=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Bi ng trong lp"})}),p?s.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[s.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bi ng..."]}):f.length===0?s.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c bi ng no trong lp ny."}):s.jsx("div",{className:"space-y-4",children:f.map(I=>s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:I.title}),I.author&&s.jsxs("span",{className:"text-xs text-slate-500",children:["bi ",I.author.fullName||I.author.fullname]})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-600 whitespace-pre-wrap",children:I.text||I.post}),s.jsx("p",{className:"mt-3 text-xs text-slate-400",children:gt(I.created_at)})]})}),s.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-4",children:[s.jsxs("button",{type:"button",onClick:()=>P(I.id),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition",children:[s.jsx(sr,{}),S.has(I.id)?"n bnh lun":"Xem bnh lun",y[I.id]&&s.jsx("span",{className:"rounded-full bg-slate-200 px-2 py-0.5 text-xs",children:y[I.id].length})]}),S.has(I.id)&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("form",{onSubmit:G=>W(G,I.id),className:"flex gap-2",children:[s.jsx("input",{type:"text",value:T[I.id]||"",onChange:G=>L(Y=>({...Y,[I.id]:G.target.value})),placeholder:"Vit bnh lun...",className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),s.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:[s.jsx(yi,{}),"Gi"]})]}),k[I.id]?s.jsxs("div",{className:"flex items-center justify-center py-4 text-slate-500",children:[s.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bnh lun..."]}):!y[I.id]||y[I.id].length===0?s.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50/60 p-4 text-center text-sm text-slate-500",children:"Cha c bnh lun no."}):s.jsx("div",{className:"space-y-3",children:y[I.id].map(G=>s.jsx("div",{className:"flex items-start justify-between rounded-lg border border-slate-200 bg-slate-50/60 p-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-slate-900",children:G.author?.fullName||"Ngi dng"}),s.jsx("span",{className:"text-xs text-slate-400",children:gt(G.created_at)})]}),s.jsx("p",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:G.text})]})},G.id))})]})]})]},I.id))})]}),q=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2",children:[s.jsx(Bt,{className:"text-slate-400"}),s.jsx("input",{value:M,onChange:I=>_(I.target.value),placeholder:"Tm kim hc sinh theo tn hoc email...",className:"w-full border-none text-sm outline-none focus:ring-0"})]})}),s.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-200",children:s.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"STT"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"H v tn"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Ngy tham gia"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:Q.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-sm text-slate-500",children:"Khng tm thy hc sinh ph hp."})}):Q.map((I,G)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-slate-500",children:G+1}),s.jsx("td",{className:"px-4 py-3 font-semibold text-slate-900",children:I.fullName}),s.jsx("td",{className:"px-4 py-3",children:I.email}),s.jsx("td",{className:"px-4 py-3",children:I.joinedAt?new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(I.joinedAt)):""})]},I.id))})]})})]});return c?s.jsx(Ye,{role:"student",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("button",{type:"button",onClick:()=>e("/dashboard/student/classes"),className:"mb-3 inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[s.jsx(ta,{}),"Quay li"]}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Chi tit lp hc"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:t?.className||"Lp hc"}),s.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["M lp: ",t?.classCode||""]})]}),s.jsxs("button",{onClick:V,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:[s.jsx(qu,{}),"Ri khi lp hc"]})]})}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-6 flex gap-2 border-b border-slate-200",children:[s.jsx("button",{onClick:()=>x("posts"),className:`px-4 py-2 text-sm font-semibold transition ${u==="posts"?"border-b-2 border-indigo-600 text-indigo-600":"text-slate-600 hover:text-indigo-600"}`,children:"Bi ng"}),s.jsx("button",{onClick:()=>x("students"),className:`px-4 py-2 text-sm font-semibold transition ${u==="students"?"border-b-2 border-indigo-600 text-indigo-600":"text-slate-600 hover:text-indigo-600"}`,children:"Danh sch sinh vin"})]}),u==="posts"?F():q()]})]})})}function Gk(){const r=lt(),[e,t]=E.useState([]),[a,i]=E.useState(!1),[o,c]=E.useState(1),[h,u]=E.useState(""),x=10;xa(()=>{f()},[]);const f=async()=>{i(!0);try{const T=await xv();console.log("API Response:",T);const L=Array.isArray(T)?T:T?.data||[];if(Array.isArray(L)&&L.length>0){const M=L.map(_=>{const D=_.exam||{},H=_.session||{};return{id:_.id,examId:D.id,examCode:`${D.id}`,examTitle:D.title||"Khng c tiu ",score:parseFloat(_.total_score)||0,correctCount:_.correct_count||0,wrongCount:_.wrong_count||0,completedAt:_.submitted_at||H.submitted_at,endTime:H.end_time,sessionId:H.id||_.session_id}});console.log("Mapped exams:",M),t(M)}else console.log("No results found"),t([])}catch(T){console.error("Error loading completed exams:",T),$.error("Khng th ti lch s lm bi"),t([])}finally{i(!1)}},m=E.useMemo(()=>{if(!h.trim())return e;const T=h.toLowerCase().trim();return e.filter(L=>L.examTitle.toLowerCase().includes(T)||L.examCode.toLowerCase().includes(T))},[e,h]),p=Math.ceil(m.length/x),b=(o-1)*x,y=b+x,w=m.slice(b,y);E.useEffect(()=>{c(1)},[h]);const k=T=>T?new Date(T).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",C=(T,L)=>{r(`/student/exams/${T}/result/${L}`)},S=T=>{c(T)},A=()=>{const T=[];if(p<=5)for(let M=1;M<=p;M++)T.push(M);else if(o<=3)for(let M=1;M<=5;M++)T.push(M);else if(o>=p-2)for(let M=p-4;M<=p;M++)T.push(M);else for(let M=o-2;M<=o+2;M++)T.push(M);return T};return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:s.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-full border border-slate-200 px-4 py-2",children:[s.jsx(Tl,{className:"text-slate-400",size:20}),s.jsx("input",{type:"text",value:h,onChange:T=>u(T.target.value),placeholder:"Tm kim theo tn bi thi hoc m bi thi...",className:"w-full border-none bg-transparent text-sm text-slate-600 outline-none focus:ring-0"})]})})}),s.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),"ang ti d liu..."]})}):w.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Yx,{className:"mx-auto mb-4 h-12 w-12 text-slate-400"}),s.jsx("p",{children:h?"Khng tm thy bi thi no ph hp":"Cha c bi thi no  hon thnh"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"M bi thi"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Tn bi thi"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"S cu lm ng"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"S cu lm sai"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"im s"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Ngy hon thnh"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Ngy kt thc bi thi"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"Hnh ng"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:w.map(T=>{const L=T.score>=5;return s.jsxs("tr",{className:"transition-colors hover:bg-indigo-50/50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-semibold text-indigo-600",children:T.examCode})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm font-medium text-slate-900",children:T.examTitle})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1 text-sm font-semibold text-emerald-700",children:[T.correctCount," cu"]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("span",{className:"inline-flex items-center rounded-full bg-red-100 px-3 py-1 text-sm font-semibold text-red-700",children:[T.wrongCount," cu"]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("span",{className:`text-base font-bold ${L?"text-emerald-600":"text-red-600"}`,children:T.score.toFixed(1)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-slate-600",children:k(T.completedAt)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-slate-600",children:k(T.endTime)})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("button",{onClick:()=>C(T.examId,T.sessionId),className:"inline-flex items-center gap-1.5 rounded-full border border-indigo-300 bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-700 transition hover:bg-indigo-100 hover:border-indigo-400",children:[s.jsx(jc,{className:"h-4 w-4"}),"Xem chi tit"]})})]},T.id)})})]})}),p>1&&s.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-slate-200 pt-4",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",s.jsx("span",{className:"font-semibold",children:b+1})," -"," ",s.jsx("span",{className:"font-semibold",children:Math.min(y,m.length)})," ","trong tng s ",s.jsx("span",{className:"font-semibold",children:m.length})," bi thi"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>S(o-1),disabled:o===1,className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Bx,{className:"h-4 w-4"})}),A().map(T=>s.jsx("button",{onClick:()=>S(T),className:`h-10 w-10 rounded-lg border text-sm font-semibold transition ${o===T?"border-indigo-600 bg-indigo-600 text-white shadow-md":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50"}`,children:T},T)),s.jsx("button",{onClick:()=>S(o+1),disabled:o===p,className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Xx,{className:"h-4 w-4"})})]})]})]})})]})})}function $k(){return pe.get("/api/exam-favorites")}function Kk(r){if(!r)throw new Error("examId l bt buc.");return pe.post("/api/exam-favorites",{exam_id:r})}function yv(r){if(!r)throw new Error("examId l bt buc.");return pe.delete(`/api/exam-favorites/${r}`)}function Zk(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exam-favorites/${r}/check`)}function Qk(r){if(!r.exam_id||!r.rating)throw new Error("exam_id v rating l bt buc.");if(r.rating<1||r.rating>5)throw new Error("Rating phi t 1 n 5.");return pe.post("/api/exam-ratings",r)}function R0(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/my-rating`)}function Jk(r,e={}){if(!r)throw new Error("examId l bt buc.");const t=new URLSearchParams;e.page&&t.set("page",e.page),e.limit&&t.set("limit",e.limit);const a=t.toString();return pe.get(`/api/exams/${r}/ratings${a?`?${a}`:""}`)}function eC(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(!0),[i,o]=E.useState(null),[c,h]=E.useState([]),[u,x]=E.useState(!1),[f,m]=E.useState("info"),[p,b]=E.useState([]),[y,w]=E.useState(!1),[k,C]=E.useState(1),[S,A]=E.useState(0),T=10,[L,M]=E.useState([]),[_,D]=E.useState(!1),[H,z]=E.useState(null),[B,P]=E.useState(!1),[W,V]=E.useState([]),[Q,F]=E.useState(!1),[q,I]=E.useState(""),[G,Y]=E.useState(null),[O,U]=E.useState(""),[ne,K]=E.useState(!1);xa(()=>{ue()},[r]);const ue=async()=>{try{a(!0);const he=await LS(r),ze=Array.isArray(he)?he[0]:he?.data||he;if(o(ze),ze){try{const Ut=await Zk(r),ki=Array.isArray(Ut)?Ut[0]:Ut?.data||Ut;x(ki?.is_favorited||!1)}catch(Ut){console.error("Error checking favorite:",Ut),x(!1)}ie(ze)}}catch(he){console.error("Error loading exam detail:",he),$.error(he.message||"Khng th ti thng tin  thi"),e("/dashboard/student")}finally{a(!1)}},ie=async he=>{try{const ze=await zS(r,{limit:6}),Ut=Array.isArray(ze)?ze:ze?.data||[];h(Ut)}catch(ze){console.error("Error loading similar exams:",ze)}},te=he=>he?new Date(he).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",ve=async()=>{try{u?(await yv(r),x(!1),$.success(" xa khi danh sch yu thch")):(await Kk(r),x(!0),$.success(" thm vo danh sch yu thch"))}catch(he){console.error("Error toggling favorite:",he),$.error(he.message||"Khng th cp nht yu thch")}},ae=()=>{i?.is_paid&&parseFloat(i?.fee||0)>0?K(!0):e(`/student/exams/${r}/take`)},je=()=>{K(!1),e(`/student/exams/${r}/take`)},Le=async(he=1)=>{if(r)try{w(!0);const ze=await Jk(r,{page:he,limit:T});b(ze.ratings||[]),A(ze.total||0),C(he)}catch(ze){console.error("Error loading ratings:",ze),$.error("Khng th ti nh gi")}finally{w(!1)}},Ae=async()=>{if(r)try{D(!0);const he=await xv({exam_id:r});M(Array.isArray(he)?he:[])}catch(he){console.error("Error loading results:",he),$.error("Khng th ti kt qu thi")}finally{D(!1)}},bt=async()=>{if(r)try{P(!0);const he=await Rk(r);z(he)}catch(he){console.error("Error loading comparison:",he),he.status!==404&&$.error("Khng th ti thng tin xp hng")}finally{P(!1)}},We=async()=>{if(r)try{F(!0);const he=await ov(r);V(Array.isArray(he)?he:he?.data||[])}catch(he){console.error("Error loading comments:",he),$.error("Khng th ti bnh lun")}finally{F(!1)}},_s=async()=>{if(!q.trim()){$.error("Vui lng nhp ni dung bnh lun");return}try{await Sc({exam_id:r,text:q.trim()}),I(""),$.success(" thm bnh lun"),We()}catch(he){console.error("Error creating comment:",he),$.error(he.message||"Khng th thm bnh lun")}},Es=async he=>{if(!O.trim()){$.error("Vui lng nhp ni dung phn hi");return}try{await Sc({exam_id:r,text:O.trim(),parent_id:he}),U(""),Y(null),$.success(" thm phn hi"),We()}catch(ze){console.error("Error creating reply:",ze),$.error(ze.message||"Khng th thm phn hi")}},Ot=async he=>{if(window.confirm("Bn c chc chn mun xa bnh lun ny?"))try{await cv(he),$.success(" xa bnh lun"),We()}catch(ze){console.error("Error deleting comment:",ze),$.error(ze.message||"Khng th xa bnh lun")}};E.useEffect(()=>{r&&(f==="ratings"?Le(1):f==="results"?Ae():f==="ranking"?bt():f==="comments"&&We())},[f,r]);const ga=he=>s.jsxs("div",{onClick:()=>{e(`/dashboard/student/exams/${he.id}`),window.scrollTo({top:0,behavior:"smooth"})},className:"group flex flex-col rounded-2xl border border-slate-200 bg-white shadow-sm transition cursor-pointer hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-t-2xl",children:[he.image_url?s.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[s.jsx("img",{src:he.image_url.startsWith("http")?he.image_url:`${"http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000"}${he.image_url}`,alt:he.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105",onError:ze=>{ze.target.style.display="none",ze.target.nextElementSibling.style.display="block"}}),s.jsxs("div",{className:"hidden h-full w-full bg-slate-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),he.class?.className||"Public"]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:te(he.created_at)})]}),s.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:he.title}),s.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:he.des||he.class?.className||"Khng c m t"})]})]}):s.jsxs("div",{className:"bg-slate-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),he.class?.className||"Public"]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:te(he.created_at)})]}),s.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:he.title}),s.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:he.des||he.class?.className||"Khng c m t"})]}),he.image_url&&s.jsxs("div",{className:"absolute inset-0 z-[5] flex flex-col justify-between bg-black/60 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),he.class?.className||"Public"]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white",children:te(he.created_at)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-white",children:he.title}),s.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-white/90",children:he.des||he.class?.className||"Khng c m t"})]})]})]}),s.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-600",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(mi,{className:"h-4 w-4 text-slate-400"}),he.minutes," pht"]}),s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(Is,{className:"h-4 w-4 text-slate-400"}),he.question_count||0," cu"]}),he.status&&s.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 ${he.status==="ongoing"?"bg-green-100 text-green-700":he.status==="upcoming"?"bg-blue-100 text-blue-700":he.status==="ended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:he.status==="ongoing"?"ang din ra":he.status==="upcoming"?"Sp ti":he.status==="ended"?" kt thc":"Khng gii hn"})]}),he.class&&s.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:he.class.className}),he.class.classCode&&s.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",he.class.classCode]})]}),s.jsx("div",{className:"mt-auto",children:s.jsxs("button",{onClick:ze=>{ze.stopPropagation(),e(`/dashboard/student/exams/${he.id}`),window.scrollTo({top:0,behavior:"smooth"})},className:"flex w-full items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:[s.jsx(ml,{className:"h-4 w-4"}),"Vo n thi"]})})]})]},he.id);return t?s.jsx(Ye,{role:"student",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),s.jsx("p",{className:"text-slate-600",children:"ang ti thng tin  thi..."})]})})}):i?s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 px-4",children:[s.jsxs("button",{onClick:()=>e("/dashboard/student"),className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600",children:[s.jsx(Ub,{className:"h-5 w-5"}),s.jsx("span",{children:"Quay li"})]}),s.jsxs("div",{className:"flex gap-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"w-1/2",children:s.jsx("img",{src:i.image_url?i.image_url.startsWith("http")?i.image_url:`${"http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000"}${i.image_url}`:"https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg",alt:i.title,className:"h-full w-full rounded-lg object-cover",onError:he=>{he.target.src="https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg"}})}),s.jsxs("div",{className:"w-1/2",children:[s.jsx("h1",{className:"mb-4 text-2xl font-bold text-slate-900",children:i.title}),i.creator&&s.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm text-slate-600",children:[s.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 text-green-600",children:s.jsx("span",{className:"text-xs font-bold",children:i.creator.fullName?.charAt(0)?.toUpperCase()||"T"})}),s.jsx("span",{className:"font-medium",children:i.creator.fullName||"Gio vin"}),i.classes&&i.classes.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{className:"line-clamp-1",title:i.classes.map(he=>he.className).join(", "),children:i.classes.length>1?`${i.classes.length} lp: ${i.classes.map(he=>he.className).join(", ")}`:i.classes[0].className})]}),!i.classes&&i.class&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{className:"line-clamp-1",children:i.class.className})]})]}),s.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm text-slate-600",children:[s.jsx(mi,{className:"h-4 w-4"}),s.jsx("span",{children:te(i.created_at)})]}),s.jsxs("div",{className:"mb-4 flex flex-wrap gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Is,{className:"h-4 w-4"}),s.jsxs("span",{children:[i.question_count||0," cu hi"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(jc,{className:"h-4 w-4"}),s.jsxs("span",{children:[i.count||0," lt lm"]})]}),i.is_paid&&parseFloat(i.fee||0)>0&&s.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[s.jsx(Fx,{className:"h-4 w-4"}),s.jsxs("span",{className:"font-semibold",children:[yt(i.fee),"/ lt thi"]})]})]}),i.average_rating!==void 0&&s.jsxs("button",{onClick:()=>m("ratings"),className:"mb-4 flex items-center gap-3 rounded-lg p-2 transition hover:bg-slate-50",children:[s.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["nh gi (",i.average_rating>0?i.average_rating.toFixed(1):"Cha c",")"]}),s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(he=>s.jsx(Nc,{className:`h-5 w-5 ${he<=Math.round(i.average_rating||0)?"fill-amber-400 text-amber-400":"text-slate-300"}`},he))}),i.total_ratings>0&&s.jsxs("span",{className:"text-xs text-slate-500",children:["(",i.total_ratings," nh gi)"]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("button",{onClick:ve,className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm transition ${u?"bg-red-100 text-red-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[s.jsx($u,{className:`h-4 w-4 ${u?"fill-red-600":""}`}),s.jsx("span",{children:u?" yu thch":"Yu thch"})]})}),i.classes&&i.classes.length>0&&s.jsx("div",{className:"mb-4 rounded-lg bg-green-50 p-3",children:s.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-600",children:""}),s.jsx("span",{className:"font-semibold text-green-700",children:i.classes.length>1?`Lp hc (${i.classes.length}):`:"Lp hc:"})]}),s.jsx("div",{className:"ml-6 flex flex-wrap gap-2",children:i.classes.map((he,ze)=>s.jsxs("span",{className:"rounded bg-green-100 px-2 py-1 text-xs text-green-700",children:[he.className," ",he.classCode?`(${he.classCode})`:""]},he.id||ze))})]})}),!i.classes&&i.class&&s.jsx("div",{className:"mb-4 rounded-lg bg-green-50 p-3",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-green-600",children:""}),s.jsxs("span",{className:"font-semibold text-green-700",children:["Lp hc: ",i.class.className]})]})}),s.jsx("button",{onClick:ae,className:"w-full rounded-xl bg-indigo-600 px-6 py-3 text-center font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(ml,{className:"h-5 w-5"}),s.jsx("span",{children:"Bt u lm bi"})]})})]})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[s.jsx("div",{className:"border-b border-slate-200",children:s.jsxs("div",{className:"flex gap-1 p-2",children:[s.jsxs("button",{onClick:()=>m("info"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${f==="info"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[s.jsx(Is,{className:"h-4 w-4"}),"Thng tin"]}),s.jsxs("button",{onClick:()=>m("ratings"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${f==="ratings"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[s.jsx(sc,{className:"h-4 w-4"}),"nh gi ",i?.total_ratings>0&&`(${i.total_ratings})`]}),s.jsxs("button",{onClick:()=>m("results"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${f==="results"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[s.jsx(dc,{className:"h-4 w-4"}),"Kt qu thi"]}),s.jsxs("button",{onClick:()=>m("ranking"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${f==="ranking"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[s.jsx(j0,{className:"h-4 w-4"}),"Xp hng"]}),s.jsxs("button",{onClick:()=>m("comments"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${f==="comments"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[s.jsx(sc,{className:"h-4 w-4"}),"Bnh lun ",W.length>0&&`(${W.length})`]})]})}),s.jsxs("div",{className:"p-6",children:[f==="info"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-900",children:"M t"}),s.jsx("p",{className:"text-slate-600",children:i.des||"Khng c m t"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-900",children:"Thng tin  thi"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(mi,{className:"h-4 w-4"}),s.jsxs("span",{children:["Thi lng: ",i.minutes," pht"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(Is,{className:"h-4 w-4"}),s.jsxs("span",{children:["S cu hi: ",i.question_count||0]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(dc,{className:"h-4 w-4"}),s.jsxs("span",{children:["Tng im: ",i.total_score]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(jc,{className:"h-4 w-4"}),s.jsxs("span",{children:["Lt lm: ",i.count||0]})]})]})]})]}),f==="ratings"&&s.jsx("div",{className:"space-y-4",children:y?s.jsx("div",{className:"flex items-center justify-center py-10",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):p.length===0?s.jsxs("div",{className:"py-10 text-center text-slate-500",children:[s.jsx(sc,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),s.jsx("p",{children:"Cha c nh gi no"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:p.map(he=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 text-indigo-700",children:s.jsx("span",{className:"text-xs font-bold",children:he.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),s.jsx("span",{className:"font-medium text-slate-900",children:he.user?.fullName||"Ngi dng"})]}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(ze=>s.jsx(Nc,{className:`h-4 w-4 ${ze<=he.rating?"fill-amber-400 text-amber-400":"text-slate-300"}`},ze))})]}),he.comment&&s.jsx("p",{className:"text-sm text-slate-600",children:he.comment}),s.jsx("p",{className:"mt-2 text-xs text-slate-400",children:new Date(he.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},he.id))}),S>T&&s.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",(k-1)*T+1," - ",Math.min(k*T,S)," trong ",S," nh gi"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Le(k-1),disabled:k===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-sm disabled:opacity-50",children:s.jsx(Bx,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm text-slate-600",children:["Trang ",k," / ",Math.ceil(S/T)]}),s.jsx("button",{onClick:()=>Le(k+1),disabled:k>=Math.ceil(S/T),className:"rounded-lg border border-slate-200 px-3 py-1 text-sm disabled:opacity-50",children:s.jsx(Xx,{className:"h-4 w-4"})})]})]})]})}),f==="results"&&s.jsx("div",{className:"space-y-4",children:_?s.jsx("div",{className:"flex items-center justify-center py-10",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):L.length===0?s.jsxs("div",{className:"py-10 text-center text-slate-500",children:[s.jsx(dc,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),s.jsx("p",{children:"Bn cha c kt qu thi no cho  thi ny"})]}):s.jsx("div",{className:"space-y-3",children:L.map(he=>s.jsx("div",{onClick:()=>e(`/student/exams/${r}/result/${he.session_id}`),className:"cursor-pointer rounded-lg border border-slate-200 bg-white p-4 transition hover:border-indigo-300 hover:shadow-md",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[parseFloat(he.total_score||0).toFixed(1)," / ",i.total_score]}),s.jsxs("span",{className:"text-sm text-slate-500",children:["(",parseFloat(he.percentage||0).toFixed(1),"%)"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[s.jsxs("span",{children:["ng: ",he.correct_count||0]}),s.jsxs("span",{children:["Sai: ",he.wrong_count||0]})]})]}),s.jsxs("div",{className:"text-right text-sm text-slate-500",children:[s.jsx("p",{children:new Date(he.submitted_at||he.session?.submitted_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsxs("p",{className:"text-xs",children:["M phin: ",he.session?.code||"N/A"]})]})]})},he.id))})}),f==="ranking"&&s.jsx("div",{className:"space-y-4",children:B?s.jsx("div",{className:"flex items-center justify-center py-10",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):H?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg border-2 border-indigo-200 bg-indigo-50 p-4",children:[s.jsx("h3",{className:"mb-2 text-lg font-semibold text-indigo-900",children:"im ca bn"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:parseFloat(H.student?.score||0).toFixed(1)}),s.jsxs("span",{className:"text-slate-600",children:["/ ",H.exam?.total_score]})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-slate-600",children:[s.jsxs("span",{children:["ng: ",H.student?.correct_count||0]}),s.jsxs("span",{children:["Sai: ",H.student?.wrong_count||0]})]})]}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"So snh vi tt c"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Xp hng"}),s.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["#",H.comparison?.global?.rank||"N/A"]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",H.comparison?.global?.total||0," ngi"]})]}),s.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Phn trm"}),s.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[H.comparison?.global?.percentile||0,"%"]}),s.jsx("p",{className:"text-xs text-slate-500",children:"tt hn"})]}),s.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"im trung bnh"}),s.jsx("p",{className:"text-2xl font-bold text-slate-900",children:parseFloat(H.comparison?.global?.average_score||0).toFixed(1)})]}),s.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"So vi trung bnh"}),s.jsxs("p",{className:`text-2xl font-bold ${parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.global?.average_score||0)?"text-green-600":"text-red-600"}`,children:[parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.global?.average_score||0)?"+":"",(parseFloat(H.student?.score||0)-parseFloat(H.comparison?.global?.average_score||0)).toFixed(1)]}),s.jsx("p",{className:"text-xs text-slate-500",children:parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.global?.average_score||0)?"im trn trung bnh":"im di trung bnh"})]})]})]}),H.comparison?.class?.available?s.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:[s.jsx("h3",{className:"mb-3 text-lg font-semibold text-green-900",children:"So snh trong lp"}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-lg bg-white p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Xp hng trong lp"}),s.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["#",H.comparison?.class?.rank||"N/A"]}),s.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",H.comparison?.class?.total||0," hc sinh"]})]}),s.jsxs("div",{className:"rounded-lg bg-white p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Phn trm trong lp"}),s.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[H.comparison?.class?.percentile||0,"%"]}),s.jsx("p",{className:"text-xs text-slate-500",children:"tt hn"})]}),s.jsxs("div",{className:"rounded-lg bg-white p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"im trung bnh lp"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:parseFloat(H.comparison?.class?.average_score||0).toFixed(1)})]}),s.jsxs("div",{className:"rounded-lg bg-white p-3",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"So vi trung bnh lp"}),s.jsxs("p",{className:`text-2xl font-bold ${parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.class?.average_score||0)?"text-green-600":"text-red-600"}`,children:[parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.class?.average_score||0)?"+":"",(parseFloat(H.student?.score||0)-parseFloat(H.comparison?.class?.average_score||0)).toFixed(1)]}),s.jsx("p",{className:"text-xs text-slate-500",children:parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.class?.average_score||0)?"im trn trung bnh lp":"im di trung bnh lp"})]})]})]}):s.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:s.jsx("p",{className:"text-sm text-slate-600",children:H.comparison?.class?.reason||"Khng c thng tin so snh trong lp"})})]}):s.jsxs("div",{className:"py-10 text-center text-slate-500",children:[s.jsx(j0,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),s.jsx("p",{children:"Bn cha c kt qu thi  so snh"}),s.jsx("p",{className:"mt-1 text-sm",children:"Hy lm bi thi trc  xem xp hng"})]})}),f==="comments"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Vit bnh lun"}),s.jsx("textarea",{value:q,onChange:he=>I(he.target.value),placeholder:"Nhp bnh lun ca bn...",className:"w-full rounded-lg border border-slate-300 p-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:3}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx("button",{onClick:_s,disabled:!q.trim(),className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng bnh lun"})})]}),Q?s.jsx("div",{className:"flex items-center justify-center py-10",children:s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):W.length===0?s.jsxs("div",{className:"py-10 text-center text-slate-500",children:[s.jsx(sc,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),s.jsx("p",{children:"Cha c bnh lun no"}),s.jsx("p",{className:"mt-1 text-sm",children:"Hy l ngi u tin bnh lun!"})]}):s.jsx("div",{className:"space-y-4",children:W.map(he=>s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[s.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-700",children:s.jsx("span",{className:"text-sm font-bold",children:he.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-slate-900",children:he.user?.fullName||"Ngi dng"}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(he.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),he.user_id===parseInt(localStorage.getItem("userId")||"0")&&s.jsx("button",{onClick:()=>Ot(he.id),className:"rounded-lg p-1 text-slate-400 transition hover:bg-red-50 hover:text-red-600",children:s.jsx(dl,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"mb-3 text-slate-700 whitespace-pre-wrap",children:he.text}),s.jsx("button",{onClick:()=>Y(G===he.id?null:he.id),className:"text-sm text-indigo-600 hover:text-indigo-700",children:G===he.id?"Hy phn hi":"Phn hi"}),G===he.id&&s.jsxs("div",{className:"mt-3 rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[s.jsx("textarea",{value:O,onChange:ze=>U(ze.target.value),placeholder:"Nhp phn hi ca bn...",className:"w-full rounded-lg border border-slate-300 bg-white p-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:2}),s.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>{Y(null),U("")},className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm text-slate-700 transition hover:bg-slate-50",children:"Hy"}),s.jsx("button",{onClick:()=>Es(he.id),disabled:!O.trim(),className:"rounded-lg bg-indigo-600 px-3 py-1 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng phn hi"})]})]}),he.replies&&he.replies.length>0&&s.jsx("div",{className:"mt-4 space-y-3 border-l-2 border-slate-200 pl-4",children:he.replies.map(ze=>s.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[s.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 text-slate-700",children:s.jsx("span",{className:"text-xs font-bold",children:ze.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ze.user?.fullName||"Ngi dng"}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(ze.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),ze.user_id===parseInt(localStorage.getItem("userId")||"0")&&s.jsx("button",{onClick:()=>Ot(ze.id),className:"rounded-lg p-1 text-slate-400 transition hover:bg-red-50 hover:text-red-600",children:s.jsx(dl,{className:"h-3 w-3"})})]}),s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ze.text})]},ze.id))})]},he.id))})]})]})]}),c.length>0&&s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-6 text-2xl font-bold text-slate-900",children:" thi tng t"}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:c.map(ga)})]}),ne&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Xc nhn mua lt thi"}),s.jsx("button",{onClick:()=>K(!1),className:"rounded-lg p-1 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:s.jsx(dl,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"mb-6 space-y-4",children:[s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm text-slate-600",children:[s.jsx(Yx,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{children:"Bn s c tr s tin t ti khon"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Gi tin:"}),s.jsx("span",{className:"text-lg font-bold text-emerald-600",children:yt(i?.fee||0)})]})]}),s.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[s.jsxs("p",{className:"text-sm text-indigo-900",children:[s.jsx("strong",{children:" thi:"})," ",i?.title]}),s.jsx("p",{className:"mt-1 text-xs text-indigo-700",children:"Sau khi mua, bn s c th lm bi thi ngay lp tc."})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>K(!1),className:"flex-1 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Hy"}),s.jsxs("button",{onClick:je,className:"flex-1 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700",children:["Xc nhn - ",yt(i?.fee||0)]})]})]})})]})}):s.jsx(Ye,{role:"student",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-slate-600",children:"Khng tm thy  thi"}),s.jsx("button",{onClick:()=>e("/dashboard/student"),className:"mt-4 rounded-lg bg-indigo-600 px-4 py-2 text-white",children:"Quay li"})]})})})}function tC(r){if(!r)throw new Error("examId l bt buc.");return pe.post(`/api/exams/${r}/start`)}function sC(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/session`)}function aC(r){if(!r)throw new Error("sessionId l bt buc.");return pe.get(`/api/sessions/${r}/questions`)}function iC(r,e){if(!r)throw new Error("sessionId l bt buc.");if(!e?.question_id)throw new Error("question_id l bt buc.");return pe.post(`/api/sessions/${r}/answer`,e)}function nC(r){if(!r)throw new Error("sessionId l bt buc.");return pe.get(`/api/sessions/${r}/answers`)}function O0(r){if(!r)throw new Error("sessionId l bt buc.");return pe.post(`/api/sessions/${r}/submit`)}function rC(r){if(!r)throw new Error("sessionId l bt buc.");return pe.get(`/api/sessions/${r}/result`)}function lC(){return pe.get("/api/exam-sessions/my-sessions")}function oC(r,e){const[t,a]=E.useState(0),i=E.useRef(!1),o=E.useCallback(async(c,h,u="medium",x={})=>{if(!(!r||!e))try{await Hk(r,{cheating_type:c,description:h,severity:u,metadata:{timestamp:new Date().toISOString(),user_agent:navigator.userAgent,...x}}),a(f=>{const m=f+1;return!i.current&&m>=2&&($.warning("H thng  pht hin nhiu hnh vi bt thng. Vui lng lm bi nghim tc!",{autoClose:5e3}),i.current=!0),m})}catch(f){console.error("Error logging cheating event:",f)}},[r,e]);return E.useEffect(()=>{if(!e)return;let c=0;const h=500,u=()=>{const f=Date.now();f-c<h||document.hidden&&(c=f,o("tab_switch","Student switched to another tab","medium",{}))},x=()=>{document.hasFocus()&&(i.current=!1)};return document.addEventListener("visibilitychange",u),window.addEventListener("focus",x),()=>{document.removeEventListener("visibilitychange",u),window.removeEventListener("focus",x)}},[e,o]),E.useEffect(()=>{if(!e)return;const c=x=>{x.preventDefault(),o("copy_paste","Copy detected","high",{clipboard_data:x.clipboardData?.getData("text")?.substring(0,50)}),$.error("Khng c php copy trong lc thi!",{autoClose:3e3})},h=x=>{x.preventDefault(),o("copy_paste","Paste detected","high",{clipboard_data:x.clipboardData?.getData("text")?.substring(0,50)}),$.error("Khng c php paste trong lc thi!",{autoClose:3e3})},u=x=>{x.preventDefault(),o("copy_paste","Cut detected","high"),$.error("Khng c php cut trong lc thi!",{autoClose:3e3})};return document.addEventListener("copy",c),document.addEventListener("paste",h),document.addEventListener("cut",u),()=>{document.removeEventListener("copy",c),document.removeEventListener("paste",h),document.removeEventListener("cut",u)}},[e,o]),E.useEffect(()=>{if(!e)return;const c=h=>{h.preventDefault(),o("right_click","Right click detected","medium",{target:h.target?.tagName}),$.warning("Khng c php click chut phi!",{autoClose:2e3})};return document.addEventListener("contextmenu",c),()=>{document.removeEventListener("contextmenu",c)}},[e,o]),E.useEffect(()=>{if(!e)return;const c=h=>{(h.ctrlKey||h.metaKey)&&(h.key==="c"||h.key==="v"||h.key==="x"||h.key==="a"||h.key==="s"||h.key==="p")&&(h.preventDefault(),o("keyboard_shortcut",`Keyboard shortcut detected: ${h.key}`,"high",{key:h.key,ctrlKey:h.ctrlKey,metaKey:h.metaKey}),$.error(`Khng c php s dng phm tt ${h.key.toUpperCase()}!`,{autoClose:3e3})),h.key==="F12"&&(h.preventDefault(),o("keyboard_shortcut","F12 (DevTools) detected","critical"),$.error("Khng c php m DevTools!",{autoClose:3e3})),(h.ctrlKey||h.metaKey)&&h.shiftKey&&(h.key==="I"||h.key==="J")&&(h.preventDefault(),o("keyboard_shortcut","DevTools shortcut detected","critical"),$.error("Khng c php m DevTools!",{autoClose:3e3}))};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[e,o]),E.useEffect(()=>{if(!e)return;const h=setInterval(()=>{window.length>1&&o("multiple_tabs","Multiple tabs detected","medium",{window_count:window.length})},5e3);return()=>clearInterval(h)},[e,o]),{cheatingCount:t}}function cC(){const{examId:r}=ia(),e=lt(),[t,a]=E.useState(!0),[i,o]=E.useState(null),[c,h]=E.useState(null),[u,x]=E.useState([]),[f,m]=E.useState(0),[p,b]=E.useState({}),[y,w]=E.useState(0),[k,C]=E.useState(!1),[S,A]=E.useState(!1),[T,L]=E.useState(!1),M=E.useRef(!1),_=E.useRef(!1),D=E.useRef(null),{cheatingCount:H}=oC(i?.id,S);E.useEffect(()=>{if(D.current!==r&&(_.current=!1,M.current=!1,D.current=r),_.current||M.current||!r)return;(async()=>{M.current=!0;try{a(!0);let Y=null;try{Y=await sC(r)}catch(O){if(O.status===400){const U=O.body?.message||O.message||"";if(U.includes("expired")||U.includes("ht hn")){$.warning("Phin lm bi  ht hn. Bi thi  c t ng np. Bn c th xem kt qu bng cch nhn nt 'Xem kt qu'.",{autoClose:7e3}),O.body?.result&&(L(!0),A(!1),O.body.result.session_id&&o({id:O.body.result.session_id,exam_id:r})),a(!1);return}}if(O.status===404)try{const U=await tC(r);Y=U.session,U.message&&U.message.includes("started")}catch(U){if(U.status===400){const ne=U.body?.message||U.message||"Khng th bt u bi thi";if(ne.includes("Insufficient balance")||ne.includes("khng ")){$.error("S d khng   lm bi thi ny. Vui lng np thm tin.",{autoClose:5e3}),e("/dashboard/student/payment");return}else if(ne.includes("ended")||ne.includes("kt thc")){$.warning("Bi thi  kt thc. Bn khng th lm bi thi ny na.",{autoClose:5e3}),a(!1);return}else if(ne.includes("not started")||ne.includes("cha bt u")){$.info("Bi thi cha bt u. Vui lng i n thi gian quy nh.",{autoClose:5e3}),a(!1);return}else{$.error(ne),a(!1);return}}throw U}else throw O}o(Y);try{const O=await aC(Y.id);h(O.exam),x(O.questions||[]),w(O.session.remaining_time_ms||0),A(!0),z(Y.id),_.current=!0}catch(O){if(O.status===400){const U=O.body?.message||O.message||"";if(U.includes("expired")||U.includes("ht hn")){$.warning("Phin lm bi  ht hn. Bi thi  c t ng np. Bn c th xem kt qu bng cch nhn nt 'Xem kt qu'.",{autoClose:7e3}),O.body?.result&&(L(!0),A(!1),O.body.result.session_id&&o({id:O.body.result.session_id,exam_id:r})),a(!1);return}}throw O}}catch(Y){console.error("Error initializing session:",Y);const O=Y.body?.message||Y.message||"";!O.includes("expired")&&!O.includes("ht hn")&&!O.includes("ended")&&!O.includes("kt thc")&&!O.includes("not started")&&!O.includes("cha bt u")&&($.error(O||"Khng th khi to bi thi"),Y.status!==400&&e("/dashboard/student"))}finally{a(!1),M.current=!1}})()},[r,e]);const z=async G=>{try{const{answers:Y}=await nC(G),O={};Y.forEach(U=>{U.selected_answer_id?O[U.exam_question_id]={selected_answer_id:U.selected_answer_id}:U.answer_text&&(O[U.exam_question_id]={answer_text:U.answer_text})}),b(O)}catch(Y){console.error("Error loading saved answers:",Y)}};E.useEffect(()=>{if(y<=0||!S)return;const G=setInterval(()=>{w(Y=>Y<=1e3?(A(!1),V(),0):Y-1e3)},1e3);return()=>clearInterval(G)},[y,S]);const B=G=>{const Y=Math.floor(G/1e3),O=Math.floor(Y/3600),U=Math.floor(Y%3600/60),ne=Y%60;return O>0?`${O}:${U.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}`:`${U}:${ne.toString().padStart(2,"0")}`},P=async(G,Y)=>{if(!(!i||!S))try{const O={question_id:G,...Y};await iC(i.id,O),b(U=>({...U,[G]:Y})),$.success(" lu cu tr li",{autoClose:1e3})}catch(O){console.error("Error submitting answer:",O);const U=O?.body?.message||O?.message||(O?.status===404?"Khng tm thy session hoc cu hi":"Khng th lu cu tr li");O.status===400&&(U.includes("expired")||U.includes("ht hn")||U.includes(" c np")||U.includes(" ht hn"))?($.warning("Phin lm bi  ht hn. Bn khng th tip tc tr li cu hi.",{autoClose:5e3}),A(!1)):$.error(U,{autoClose:3e3})}},W=async()=>{if(!(!i||k||!window.confirm("Bn c chc chn mun np bi? Sau khi np bi, bn khng th chnh sa."))){C(!0),A(!1);try{await O0(i.id),$.success("Np bi thnh cng!"),e(`/student/exams/${r}/result/${i.id}`)}catch(Y){console.error("Error submitting exam:",Y),$.error(Y.message||"Khng th np bi"),C(!1),A(!0)}}},V=async()=>{if(!(!i||k)){C(!0),A(!1);try{await O0(i.id),L(!0),$.success(" ht thi gian! Bi thi  c t ng np. Bn c th xem kt qu bng cch nhn nt 'Xem kt qu' bn di.",{autoClose:7e3})}catch(G){console.error("Error auto-submitting exam:",G),$.error(" ht thi gian nhng khng th np bi t ng. Vui lng th li.",{autoClose:5e3}),C(!1),A(!0)}}},Q=Object.keys(p).length,F=Q/u.length*100;if(E.useEffect(()=>{if(!S)return;const G=Y=>(Y.preventDefault(),Y.returnValue="Bn c chc chn mun ri khi trang? Tin trnh lm bi s b mt!",Y.returnValue);return window.addEventListener("beforeunload",G),()=>window.removeEventListener("beforeunload",G)},[S]),E.useEffect(()=>{if(!S)return;const G=Y=>{Y.target.tagName==="INPUT"||Y.target.tagName==="TEXTAREA"||(Y.key==="ArrowLeft"&&f>0?m(O=>O-1):Y.key==="ArrowRight"&&f<u.length-1&&m(O=>O+1))};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[S,f,u.length]),t)return s.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-indigo-50 to-blue-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),s.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"ang ti bi thi..."}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Vui lng ch trong giy lt"})]})});if(!i||!c||u.length===0)return s.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(N0,{className:"mx-auto mb-4 h-16 w-16 text-red-500"}),s.jsx("p",{className:"text-xl font-semibold text-red-600",children:"Khng tm thy bi thi hoc cu hi"}),s.jsx("button",{onClick:()=>e("/dashboard/student/exams"),className:"mt-4 rounded-lg bg-indigo-600 px-6 py-2 text-white hover:bg-indigo-700",children:"Quay li danh sch bi thi"})]})});const q=u[f],I=p[q.id];return s.jsxs("div",{className:"flex h-screen flex-col bg-gradient-to-br from-slate-50 to-blue-50",children:[s.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm shadow-lg",children:s.jsx("div",{className:"mx-auto max-w-[1920px] px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:c.title}),c.des&&s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:c.des})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"hidden md:block w-32",children:[s.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs text-slate-600",children:[s.jsx("span",{children:"Tin "}),s.jsxs("span",{className:"font-semibold",children:[Q,"/",u.length]})]}),s.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-blue-500 transition-all duration-300",style:{width:`${F}%`}})})]}),H>0&&s.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-amber-50 border border-amber-200 px-4 py-2",children:[s.jsx(N0,{className:"h-5 w-5 text-amber-600"}),s.jsxs("span",{className:"text-sm font-semibold text-amber-800",children:[H," cnh bo"]})]}),s.jsxs("div",{className:`flex items-center gap-3 rounded-xl border-2 px-5 py-3 shadow-md transition-all ${y<3e5?"border-red-400 bg-gradient-to-r from-red-50 to-red-100 text-red-700 animate-pulse":y<6e5?"border-orange-400 bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700":"border-indigo-400 bg-gradient-to-r from-indigo-50 to-blue-50 text-indigo-700"}`,children:[s.jsx(mi,{className:`h-6 w-6 ${y<3e5?"animate-pulse":""}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-medium opacity-75",children:"Thi gian cn li"}),s.jsx("div",{className:"text-2xl font-bold tabular-nums",children:B(y)})]})]})]})]})})}),s.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[s.jsx("aside",{className:"hidden lg:block w-80 border-r border-slate-200 bg-white/80 backdrop-blur-sm overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:"Danh sch cu hi"}),s.jsxs("div",{className:"text-sm text-slate-600",children:[Q," / ",u.length," cu  tr li"]})]}),s.jsx("div",{className:"grid grid-cols-5 gap-2 mb-6",children:u.map((G,Y)=>{const O=p[G.id],U=Y===f;return s.jsxs("button",{onClick:()=>m(Y),className:`relative h-12 rounded-lg border-2 font-semibold transition-all transform hover:scale-105 ${U?"border-indigo-500 bg-gradient-to-br from-indigo-500 to-blue-500 text-white shadow-lg scale-110 z-10":O?"border-emerald-400 bg-gradient-to-br from-emerald-50 to-green-50 text-emerald-700 hover:border-emerald-500":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:bg-slate-50"}`,children:[Y+1,O&&!U&&s.jsx(er,{className:"absolute -top-1 -right-1 h-4 w-4 text-emerald-500 bg-white rounded-full"})]},G.id)})}),s.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[s.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Ch thch:"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"h-4 w-4 rounded border-2 border-indigo-500 bg-gradient-to-br from-indigo-500 to-blue-500"}),s.jsx("span",{className:"text-slate-600",children:"ang lm"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"h-4 w-4 rounded border-2 border-emerald-400 bg-gradient-to-br from-emerald-50 to-green-50"}),s.jsx("span",{className:"text-slate-600",children:" tr li"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:"h-4 w-4 rounded border-2 border-slate-200 bg-white"}),s.jsx("span",{className:"text-slate-600",children:"Cha tr li"})]})]}),T?s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"rounded-xl border-2 border-emerald-500 bg-emerald-50 p-4 text-center",children:[s.jsx(er,{className:"mx-auto mb-2 h-8 w-8 text-emerald-600"}),s.jsx("p",{className:"text-sm font-semibold text-emerald-700",children:"Bi thi  c t ng np"})]}),s.jsx("button",{onClick:()=>e(`/student/exams/${r}/result/${i.id}`),className:"w-full rounded-xl bg-gradient-to-r from-indigo-500 to-blue-600 px-6 py-3 font-bold text-white shadow-lg transition-all hover:from-indigo-600 hover:to-blue-700 hover:shadow-xl",children:"Xem kt qu"})]}):s.jsx("button",{onClick:W,disabled:k||!S,className:"mt-6 w-full rounded-xl bg-gradient-to-r from-emerald-500 to-green-600 px-6 py-3 font-bold text-white shadow-lg transition-all hover:from-emerald-600 hover:to-green-700 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:shadow-lg",children:k?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"ang np bi..."]}):"Np bi"})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"mx-auto max-w-4xl px-6 py-8",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-xl",children:[s.jsx("div",{className:"border-b border-slate-200 bg-gradient-to-r from-slate-50 to-blue-50 px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-blue-500 text-lg font-bold text-white shadow-md",children:f+1}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-slate-500",children:["Cu hi ",f+1," / ",u.length]}),s.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[q.type==="single_choice"&&"Trc nghim (1 p n ng)",q.type==="multiple_choice"&&"Trc nghim (nhiu p n ng)",q.type==="true_false"&&"ng / Sai",q.type==="short_answer"&&"T lun ngn",q.type==="essay"&&"Bi lun"]})]})]}),I&&s.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-emerald-50 px-4 py-2 border border-emerald-200",children:[s.jsx(er,{className:"h-5 w-5 text-emerald-600"}),s.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:" tr li"})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsx("h2",{className:"mb-6 text-2xl font-bold leading-relaxed text-slate-900",children:q.question_text}),q.image_url&&s.jsx("div",{className:"mb-8 overflow-hidden rounded-xl border border-slate-200",children:s.jsx("img",{src:q.image_url,alt:"Question",className:"w-full object-contain"})}),(q.type==="single_choice"||q.type==="true_false")&&s.jsx("div",{className:"space-y-3",children:q.answers?.map((G,Y)=>{const O=I?.selected_answer_id===G.id,U=String.fromCharCode(65+Y);return s.jsxs("label",{className:`group flex cursor-pointer items-center gap-4 rounded-xl border-2 p-5 transition-all hover:shadow-md ${O?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-blue-50 shadow-md":"border-slate-200 bg-white hover:border-slate-300"}`,children:[s.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg font-bold transition-all ${O?"bg-gradient-to-br from-indigo-500 to-blue-500 text-white shadow-md":"bg-slate-100 text-slate-600 group-hover:bg-slate-200"}`,children:U}),s.jsx("input",{type:"radio",name:`question-${q.id}`,checked:O,onChange:()=>P(q.id,{selected_answer_id:G.id}),className:"h-5 w-5 cursor-pointer text-indigo-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}),s.jsx("span",{className:"flex-1 text-lg text-slate-700",children:G.text})]},G.id)})}),q.type==="multiple_choice"&&s.jsx("div",{className:"space-y-3",children:q.answers?.map((G,Y)=>{const O=I?.selected_answer_id===G.id,U=String.fromCharCode(65+Y);return s.jsxs("label",{className:`group flex cursor-pointer items-center gap-4 rounded-xl border-2 p-5 transition-all hover:shadow-md ${O?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-blue-50 shadow-md":"border-slate-200 bg-white hover:border-slate-300"}`,children:[s.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg font-bold transition-all ${O?"bg-gradient-to-br from-indigo-500 to-blue-500 text-white shadow-md":"bg-slate-100 text-slate-600 group-hover:bg-slate-200"}`,children:U}),s.jsx("input",{type:"checkbox",checked:O,onChange:()=>P(q.id,{selected_answer_id:O?null:G.id}),className:"h-5 w-5 cursor-pointer text-indigo-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded"}),s.jsx("span",{className:"flex-1 text-lg text-slate-700",children:G.text})]},G.id)})}),(q.type==="short_answer"||q.type==="essay")&&s.jsxs("div",{children:[s.jsx("textarea",{value:I?.answer_text||"",onChange:G=>P(q.id,{answer_text:G.target.value}),placeholder:"Nhp cu tr li ca bn...",className:"w-full rounded-xl border-2 border-slate-200 p-5 text-lg text-slate-700 placeholder-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-4 focus:ring-indigo-200 transition-all",rows:q.type==="essay"?12:6}),s.jsxs("div",{className:"mt-2 text-sm text-slate-500",children:[(I?.answer_text||"").length," k t"]})]}),s.jsxs("div",{className:"mt-10 flex items-center justify-between border-t border-slate-200 pt-6",children:[s.jsxs("button",{onClick:()=>m(G=>G>0?G-1:G),disabled:f===0,className:"flex items-center gap-2 rounded-xl border-2 border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 transition-all hover:border-indigo-400 hover:bg-indigo-50 hover:text-indigo-700 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-slate-300 disabled:hover:bg-white disabled:hover:text-slate-700",children:[s.jsx("span",{children:""})," Cu trc"]}),s.jsxs("div",{className:"text-sm text-slate-500",children:["S dng ",s.jsx("kbd",{className:"rounded bg-slate-100 px-2 py-1 font-mono",children:""})," ",s.jsx("kbd",{className:"rounded bg-slate-100 px-2 py-1 font-mono",children:""}),"  iu hng"]}),s.jsxs("button",{onClick:()=>m(G=>G<u.length-1?G+1:G),disabled:f===u.length-1,className:"flex items-center gap-2 rounded-xl border-2 border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 transition-all hover:border-indigo-400 hover:bg-indigo-50 hover:text-indigo-700 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-slate-300 disabled:hover:bg-white disabled:hover:text-slate-700",children:["Cu sau ",s.jsx("span",{children:""})]})]})]})]}),s.jsx("div",{className:"mt-6 lg:hidden",children:s.jsx("button",{onClick:W,disabled:k||!S,className:"w-full rounded-xl bg-gradient-to-r from-emerald-500 to-green-600 px-6 py-4 font-bold text-white shadow-lg transition-all hover:from-emerald-600 hover:to-green-700 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50",children:k?"ang np bi...":"Np bi"})})]})})]})]})}function dC(){const{examId:r,sessionId:e}=ia(),t=lt(),[a,i]=E.useState(!0),[o,c]=E.useState(null),[h,u]=E.useState([]),[x,f]=E.useState(0),[m,p]=E.useState(""),[b,y]=E.useState(null),[w,k]=E.useState(!1);E.useEffect(()=>{e&&(async()=>{try{i(!0);const L=await rC(e);if(c(L.result),u(L.answers||[]),L.result?.exam_id)try{const M=await R0(L.result.exam_id);M&&(y(M),f(M.rating||0),p(M.comment||""))}catch(M){console.error("Error loading user rating:",M)}}catch(L){console.error("Error loading result:",L),$.error(L.message||"Khng th ti kt qu"),t("/dashboard/student")}finally{i(!1)}})()},[e,t]);const C=async()=>{if(!x||x<1||x>5){$.error("Vui lng chn s sao t 1 n 5");return}if(!o?.exam_id){$.error("Khng tm thy thng tin  thi");return}try{k(!0),await Qk({exam_id:o.exam_id,rating:x,comment:m.trim()||null,result_id:o.id}),$.success("nh gi  c lu thnh cng!");const T=await R0(o.exam_id);T&&y(T)}catch(T){console.error("Error submitting rating:",T),$.error(T.message||"Khng th lu nh gi")}finally{k(!1)}};if(a)return s.jsx(Ye,{role:"student",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),s.jsx("p",{className:"text-slate-600",children:"ang ti kt qu..."})]})})});if(!o)return s.jsx(Ye,{role:"student",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-6 text-red-600",children:s.jsx("p",{className:"font-semibold",children:"Khng tm thy kt qu"})})})});const S=typeof o.percentage=="number"?o.percentage:parseFloat(o.percentage)||0,A=S>=50;return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>t("/dashboard/student"),className:"flex items-center gap-2 text-slate-600 transition hover:text-slate-900",children:[s.jsx(Ub,{className:"h-5 w-5"}),s.jsx("span",{children:"Quay li"})]}),r&&s.jsxs("button",{onClick:()=>t(`/dashboard/student/exams/${r}`),className:"flex items-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-medium text-indigo-700 transition hover:bg-indigo-100",children:[s.jsx(Is,{className:"h-4 w-4"}),s.jsx("span",{children:"Quay li  thi"})]})]}),s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Kt qu thi"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Kt qu bi thi"}),s.jsx("p",{className:"mt-2 text-slate-600",children:o.exam?.title})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center shadow-sm",children:[s.jsx("div",{className:"mb-2 flex items-center justify-center",children:s.jsx(sN,{className:`h-12 w-12 ${A?"text-emerald-500":"text-red-500"}`})}),s.jsx("div",{className:"text-3xl font-bold text-slate-900",children:o.total_score||0}),s.jsxs("div",{className:"text-sm text-slate-500",children:["/ ",o.exam?.total_score||0," im"]})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center shadow-sm",children:[s.jsx("div",{className:"mb-2 flex items-center justify-center",children:s.jsx("div",{className:`flex h-16 w-16 items-center justify-center rounded-full ${A?"bg-emerald-100":"bg-red-100"}`,children:s.jsxs("span",{className:`text-2xl font-bold ${A?"text-emerald-600":"text-red-600"}`,children:[S.toFixed(1),"%"]})})}),s.jsx("div",{className:"text-sm text-slate-500",children:"T l ng"})]}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center shadow-sm",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[s.jsx(er,{className:"h-6 w-6 text-emerald-500"}),s.jsx("span",{className:"text-2xl font-bold text-slate-900",children:o.correct_count||0})]}),s.jsx("div",{className:"text-sm text-slate-500",children:"Cu ng"}),s.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[s.jsx(mu,{className:"h-6 w-6 text-red-500"}),s.jsx("span",{className:"text-xl font-semibold text-slate-700",children:o.wrong_count||0})]}),s.jsx("div",{className:"text-sm text-slate-500",children:"Cu sai"})]})]}),o.feedback&&s.jsxs("div",{className:"mt-6 rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[s.jsx("h3",{className:"mb-2 font-semibold text-indigo-900",children:"Nhn xt t gio vin:"}),s.jsx("p",{className:"text-indigo-800",children:o.feedback})]})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"nh gi  thi"}),s.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"Hy chia s nh gi ca bn v  thi ny  gip ci thin cht lng"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"S sao nh gi *"}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(T=>s.jsx("button",{type:"button",onClick:()=>f(T),className:"transition-transform hover:scale-110",children:s.jsx(Nc,{className:`h-8 w-8 ${T<=x?"fill-amber-400 text-amber-400":"text-slate-300"}`})},T))}),x>0&&s.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Bn  chn ",x," ","sao"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"rating-comment",className:"mb-2 block text-sm font-medium text-slate-700",children:"Nhn xt (ty chn)"}),s.jsx("textarea",{id:"rating-comment",value:m,onChange:T=>p(T.target.value),placeholder:"Chia s suy ngh ca bn v  thi ny...",rows:4,className:"w-full rounded-lg border border-slate-200 px-4 py-3 text-sm text-slate-900 placeholder-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsx("button",{onClick:C,disabled:w||!x,className:"w-full rounded-lg bg-indigo-600 px-6 py-3 font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"ang lu...":b?"Cp nht nh gi":"Gi nh gi"}),b&&s.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Bn  nh gi  thi ny vo"," ",new Date(b.created_at).toLocaleDateString("vi-VN")]})]})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-6 text-xl font-semibold text-slate-900",children:"Chi tit cu tr li"}),s.jsx("div",{className:"space-y-6",children:h.map((T,L)=>{const M=T.question,_=T.is_correct,D=T.selectedAnswer,z=!(T.id!==null&&T.id!==void 0);return s.jsxs("div",{className:`rounded-2xl border-2 p-5 ${_?"border-emerald-200 bg-emerald-50":z?"border-amber-200 bg-amber-50":"border-red-200 bg-red-50"}`,children:[s.jsx("div",{className:"mb-4 flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.jsxs("span",{className:"font-semibold text-slate-700",children:["Cu ",L+1,":"]}),_?s.jsx(er,{className:"h-5 w-5 text-emerald-600"}):z?s.jsx(mi,{className:"h-5 w-5 text-amber-600"}):s.jsx(mu,{className:"h-5 w-5 text-red-600"}),s.jsxs("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${_?"border-emerald-200 bg-emerald-100 text-emerald-700":z?"border-amber-200 bg-amber-100 text-amber-700":"border-red-200 bg-red-100 text-red-700"}`,children:[_?"ng":z?"B trng":"Sai"," (",T.score||0," ","im)"]})]}),s.jsx("p",{className:"text-lg font-medium text-slate-900",children:M?.question_text})]})}),(M?.type==="single_choice"||M?.type==="multiple_choice"||M?.type==="true_false")&&s.jsx("div",{className:"space-y-2",children:M.answers?.map(B=>{const P=D?.id===B.id,W=B.is_correct;return s.jsx("div",{className:`rounded-xl border-2 p-3 ${W?"border-emerald-500 bg-emerald-100":P&&!W?"border-red-500 bg-red-100":"border-slate-200 bg-white"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[W&&s.jsx(er,{className:"h-5 w-5 text-emerald-600"}),P&&!W&&s.jsx(mu,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{className:`font-medium ${W?"text-emerald-800":P&&!W?"text-red-800":"text-slate-700"}`,children:B.text}),P&&s.jsx("span",{className:"ml-auto text-xs text-slate-500",children:"(Bn chn)"}),W&&!P&&s.jsx("span",{className:"ml-auto text-xs text-emerald-600",children:"(p n ng)"}),z&&W&&s.jsx("span",{className:"ml-auto text-xs text-amber-600",children:"(p n ng - bn cha chn)"})]})},B.id)})}),(M?.type==="short_answer"||M?.type==="essay")&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Cu tr li ca bn:"}),s.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:s.jsx("p",{className:`${z?"text-amber-600 italic":"text-slate-900"}`,children:T.answer_text||"Cha tr li"})})]}),z&&s.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-3",children:s.jsx("p",{className:"text-sm text-amber-800",children:" Cu hi ny cn gio vin chm im th cng"})})]})]},T.exam_question_id||M?.id||L)})})]}),s.jsxs("div",{className:"flex justify-center gap-4",children:[r&&s.jsxs("button",{onClick:()=>t(`/dashboard/student/exams/${r}`),className:"flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-6 py-3 text-sm font-semibold text-indigo-700 transition hover:bg-indigo-100",children:[s.jsx(Is,{className:"h-4 w-4"}),"Quay li  thi"]}),s.jsx("button",{onClick:()=>t("/dashboard/student"),className:"rounded-full border border-slate-200 bg-white px-6 py-3 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"V trang ch"})]})]})})}function hC(){const r=lt(),[e,t]=E.useState(!1),[a,i]=E.useState([]);xa(()=>{o()},[]);const o=async()=>{t(!0);try{const x=await lC(),f=Array.isArray(x)?x:[],m=new Map;f.forEach(b=>{if(!b.exam)return;const y=b.exam.id;if(!m.has(y))m.set(y,{examId:y,examTitle:b.exam.title,minutes:b.exam.minutes||0,createdAt:b.exam.created_at||b.start_time,lastAccessTime:b.start_time,attemptCount:1,sessionCode:b.code,status:b.status});else{const w=m.get(y);w.attemptCount+=1,new Date(b.start_time)>new Date(w.lastAccessTime)&&(w.lastAccessTime=b.start_time,w.sessionCode=b.code,w.status=b.status)}});const p=Array.from(m.values()).sort((b,y)=>new Date(y.lastAccessTime)-new Date(b.lastAccessTime)).slice(0,12);i(p)}catch(x){console.error("Error loading recent exams:",x),$.error("Khng th ti danh sch bi thi truy cp gn y"),i([])}finally{t(!1)}},c=x=>x?new Date(x).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",h=x=>{r(`/dashboard/student/exams/${x}`)},u=(x,f)=>{f.stopPropagation(),r(`/student/exams/${x}/take`)};return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsx("div",{children:s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Bi thi truy cp gn y"})})}),e?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),"ang ti d liu..."]})}):a.length===0?s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-12 text-center shadow-sm",children:[s.jsx(Yx,{className:"mx-auto mb-4 h-12 w-12 text-slate-400"}),s.jsx("p",{className:"text-slate-600",children:"Cha c bi thi no c truy cp gn y"})]}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(x=>s.jsxs("div",{onClick:()=>h(x.examId),className:"group cursor-pointer rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition-all hover:border-indigo-200 hover:shadow-lg",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:"inline-block rounded-full bg-indigo-100 px-2.5 py-1 text-xs font-bold text-indigo-700",children:x.sessionCode||`EXAM${x.examId}`})}),s.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2",children:x.examTitle})]}),s.jsxs("div",{className:"mb-4 space-y-2 text-sm text-slate-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mi,{className:"h-4 w-4 text-slate-400"}),s.jsxs("span",{children:["Thi lng: ",x.minutes," pht"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rN,{className:"h-4 w-4 text-slate-400"}),s.jsxs("span",{children:["Truy cp: ",c(x.lastAccessTime)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(EN,{className:"h-4 w-4 text-slate-400"}),s.jsxs("span",{children:[" lm: ",x.attemptCount," ln"]})]}),x.status&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Is,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:`${x.status==="submitted"?"text-green-600":x.status==="in_progress"?"text-blue-600":"text-slate-600"}`,children:x.status==="submitted"?" np":x.status==="in_progress"?"ang lm":x.status})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:f=>u(x.examId,f),className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-indigo-700",children:[s.jsx(ml,{className:"h-4 w-4"}),"Lm bi"]}),s.jsx("button",{onClick:f=>{f.stopPropagation(),h(x.examId)},className:"flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:s.jsx(Is,{className:"h-4 w-4"})})]})]},x.examId))})]})})}function uC(){const r=lt(),[e,t]=E.useState(!0),[a,i]=E.useState(""),[o,c]=E.useState([]),[h,u]=E.useState(1),x=12;xa(()=>{f()},[]);const f=async()=>{try{t(!0);const T=await $k(),L=Array.isArray(T)?T:T?.data||[];if(Array.isArray(L)&&L.length>0){const M=L.map(_=>{const D=_.exam||{};return{id:D.id,title:D.title||"Khng c tiu ",des:D.des,minutes:D.minutes||0,question_count:D.question_count||0,count:D.count||0,created_at:D.created_at,status:D.status,image_url:D.image_url,class:D.class,classes:D.classes,favorite_id:_.id}});c(M)}else c([])}catch(T){console.error("Error loading favorite exams:",T),$.error("Khng th ti danh sch bi thi yu thch"),c([])}finally{t(!1)}},m=async(T,L)=>{L.stopPropagation();try{await yv(T),c(M=>M.filter(_=>_.id!==T)),$.success(" xa khi danh sch yu thch")}catch(M){console.error("Error removing favorite:",M),$.error("Khng th xa khi danh sch yu thch")}},p=E.useMemo(()=>{if(!a.trim())return o;const T=a.toLowerCase().trim();return o.filter(L=>{const M=L.title?.toLowerCase().includes(T),_=L.des?.toLowerCase().includes(T),D=L.classes?.some(H=>H.className?.toLowerCase().includes(T))||L.class?.className?.toLowerCase().includes(T);return M||_||D})},[o,a]),b=Math.max(1,Math.ceil(p.length/x)),y=(h-1)*x,w=y+x,k=p.slice(y,w);E.useEffect(()=>{u(1)},[a]);const C=T=>{r(`/dashboard/student/exams/${T}`)},S=T=>T?new Date(T).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",A=T=>s.jsxs("div",{className:"group relative flex flex-col rounded-2xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[s.jsx("button",{onClick:L=>m(T.id,L),className:"absolute right-4 top-4 z-20 rounded-full bg-white/90 p-2 shadow-md transition hover:scale-110 hover:bg-white",children:s.jsx($u,{className:"h-5 w-5 fill-red-500 text-red-500"})}),s.jsx("div",{className:"relative overflow-hidden rounded-t-2xl",children:T.image_url?s.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[s.jsx("img",{src:T.image_url.startsWith("http")?T.image_url:`${"http://localhost:5005".replace(/\/$/,"")||"http://localhost:3000"}${T.image_url}`,alt:T.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105",onError:L=>{L.target.style.display="none",L.target.nextElementSibling.style.display="block"}}),s.jsxs("div",{className:"hidden h-full w-full bg-gradient-to-br from-indigo-50 via-white to-amber-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),T.classes&&T.classes.length>0?T.classes.length>1?`${T.classes.length} lp`:T.classes[0].className:T.class?.className||"Public"]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:S(T.created_at)})]}),s.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:T.title}),s.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:T.des||(T.classes&&T.classes.length>0?T.classes.map(L=>L.className).join(", "):null)||T.class?.className||"Khng c m t"})]}),s.jsxs("div",{className:"absolute inset-0 z-[5] flex flex-col justify-between bg-gradient-to-t from-black/60 via-transparent to-transparent p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),T.class?.className||"Public"]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white",children:S(T.created_at)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-white",children:T.title}),s.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-white/90",children:T.des||(T.classes&&T.classes.length>0?T.classes.map(L=>L.className).join(", "):null)||T.class?.className||"Khng c m t"})]})]})]}):s.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-amber-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[s.jsx(ha,{className:"h-3.5 w-3.5"}),T.class?.className||"Public"]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:S(T.created_at)})]}),s.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:T.title}),s.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:T.des||T.class?.className||"Khng c m t"})]})}),s.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-600",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(mi,{className:"h-4 w-4 text-slate-400"}),T.minutes," pht"]}),s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[s.jsx(Is,{className:"h-4 w-4 text-slate-400"}),T.question_count||0," cu"]}),T.status&&s.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 ${T.status==="ongoing"?"bg-green-100 text-green-700":T.status==="upcoming"?"bg-blue-100 text-blue-700":T.status==="ended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:T.status==="ongoing"?"ang din ra":T.status==="upcoming"?"Sp ti":T.status==="ended"?" kt thc":"Khng gii hn"})]}),T.classes&&T.classes.length>0&&s.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:T.classes.length>1?s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-slate-800",children:[T.classes.length," lp hc"]}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:T.classes.map((L,M)=>s.jsxs("span",{className:"rounded bg-indigo-50 px-2 py-0.5 text-xs text-indigo-700",children:[L.className," ",L.classCode?`(${L.classCode})`:""]},L.id||M))})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-semibold text-slate-800",children:T.classes[0].className}),T.classes[0].classCode&&s.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",T.classes[0].classCode]})]})}),!T.classes&&T.class&&s.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[s.jsx("p",{className:"font-semibold text-slate-800",children:T.class.className}),T.class.classCode&&s.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",T.class.classCode]})]}),s.jsx("div",{className:"mt-auto",children:s.jsxs("button",{onClick:()=>C(T.id),className:"flex w-full items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:[s.jsx(ml,{className:"h-4 w-4"}),"Vo n thi"]})})]})]},T.id);return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[s.jsx("div",{children:s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Bi thi yu thch"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[s.jsx("span",{className:"font-semibold text-slate-900",children:p.length.toLocaleString("vi-VN")}),"kt qu"]})]})}),s.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm md:p-6",children:s.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:s.jsxs("div",{className:"flex w-full items-center gap-3 rounded-full border border-slate-200 px-4 py-2 shadow-sm focus-within:border-indigo-400 focus-within:ring-1 focus-within:ring-indigo-200",children:[s.jsx(Tl,{className:"h-5 w-5 text-slate-400"}),s.jsx("input",{value:a,onChange:T=>i(T.target.value),type:"text",placeholder:"Nhp t kha tn bi thi, mn hc, tc gi...",className:"w-full border-none bg-transparent text-sm text-slate-700 outline-none focus:ring-0"})]})})}),s.jsx("section",{children:e?s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[s.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"}),s.jsx("p",{className:"mt-3 text-sm font-medium text-slate-600",children:"ang ti danh sch  thi yu thch..."})]}):k.length===0?s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[s.jsx($u,{className:"mx-auto mb-4 h-12 w-12 text-slate-400"}),s.jsx("p",{className:"text-base font-semibold text-slate-800",children:a?"Khng tm thy  thi yu thch ph hp":"Cha c bi thi no c nh du yu thch"}),s.jsx("p",{className:"mt-1 text-sm text-slate-500",children:a?"Th i t kha khc hoc kim tra chnh t.":"Hy nh du yu thch cc bi thi bn quan tm."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:k.map(A)}),p.length>x&&s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th",s.jsx("span",{className:"mx-1 font-semibold",children:y+1}),"-",s.jsx("span",{className:"mx-1 font-semibold",children:Math.min(w,p.length)}),"trong",s.jsx("span",{className:"mx-1 font-semibold",children:p.length})," thi"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>u(T=>Math.max(1,T-1)),disabled:h===1,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Trc"}),s.jsx("div",{className:"hidden items-center gap-2 md:flex",children:Array.from({length:b}).map((T,L)=>{const M=L+1;return s.jsx("button",{onClick:()=>u(M),className:`h-10 w-10 rounded-lg border text-sm font-semibold transition ${h===M?"border-indigo-600 bg-indigo-600 text-white shadow-md":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50"}`,children:M},M)})}),s.jsx("button",{onClick:()=>u(T=>Math.min(b,T+1)),disabled:h===b,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sau"})]})]})]})})]})})}const xC=async r=>{try{return await pe.post("/api/wallet/deposit",r)}catch(e){throw e}},H0=async(r,e)=>{try{return await pe.get(`/api/wallet/deposit-history?page=${r}&limit=${e}`)}catch(t){throw t}},gC=async(r,e)=>{try{return await pe.get(`/api/wallet/withdraw-history?page=${r}&limit=${e}`)}catch(t){throw t}},fC=async r=>{try{return await pe.post("/api/wallet/withdraw/send-otp",r)}catch(e){throw e}},mC=async r=>{try{return await pe.post("/api/wallet/withdraw/verify-otp",r)}catch(e){throw e}};function pC(){const[r,e]=E.useState(5e4),[t,a]=E.useState(""),[i,o]=E.useState("Chuyn khon ngn hng ACB"),[c,h]=E.useState(!1),[u,x]=E.useState(null),[f,m]=E.useState([]),[p,b]=E.useState({total:0,page:1,limit:10,totalPages:1}),[y,w]=E.useState(1),[k,C]=E.useState(10),[S,A]=E.useState(""),[T,L]=E.useState("all"),[M,_]=E.useState(null),[D,H]=E.useState(""),[z,B]=E.useState(!1),P=E.useCallback(async()=>{B(!0);try{const Y=await H0(y,k);Y?.data&&Y?.message?(m(Y.data.deposits||[]),b(Y.data.pagination||{total:0,page:1,limit:10,totalPages:1})):m([])}catch(Y){console.error("Error fetching deposit history:",Y),m([]),$.error("Khng th ti lch s giao dch")}finally{B(!1)}},[y,k]);E.useEffect(()=>{P()},[P]),E.useEffect(()=>{if(!f.some(U=>U.deposit_status==="pending"))return;const O=setInterval(()=>{P()},1e4);return()=>{clearInterval(O)}},[f,P]);const W=Y=>{e(O=>Math.max(1e4,O+Y))},V=async()=>{if(r<1e4){$.error("S tin ti thiu l 10,000 ");return}try{B(!0);const Y=i==="Chuyn khon ngn hng",U=await xC({bankName:"ACB",bankAccountName:"DAO TUNG LAM",bankAccountNumber:"22929031",amount:r});if(U?.message&&U?.data){const ne=U.data;console.log(ne),x({deposit_code:ne.deposit_code,bankName:ne.bankName,bankAccountName:ne.bankAccountName,bankAccountNumber:ne.bankAccountNumber,deposit_amount:ne.amount.toString(),deposit_status:ne.deposit_status||"pending"}),H(`data:image/png;base64,${ne.qr_base64}`),h(!0),$.success("To yu cu np tin thnh cng");const K=await H0(1,k);K?.data&&(m(K.data.deposits||[]),b(K.data.pagination||{total:0,page:1,limit:10,totalPages:1}),w(1))}else $.error(U?.message||"Khng th to yu cu np tin")}catch(Y){console.error("Error creating deposit request:",Y),$.error(Y?.response?.data?.message||"Khng th to yu cu np tin")}finally{B(!1)}},Q=async(Y,O)=>{if(!Y){$.error("Khng c ni dung  sao chp");return}try{await navigator.clipboard.writeText(Y),_(O),$.success(" sao chp!"),setTimeout(()=>_(null),2e3)}catch(U){console.error("Error copying to clipboard:",U),$.error("Khng th sao chp")}},F=Y=>new Date(Y).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),q=Y=>new Intl.NumberFormat("vi-VN").format(Y),I=(f||[]).filter(Y=>{const O=Y.deposit_code?.toLowerCase().includes(S.toLowerCase())||F(Y.created_at).toLowerCase().includes(S.toLowerCase()),U=T==="all"||Y.deposit_status===T;return O&&U}),G=Y=>Y.deposit_status==="pending"?s.jsx("span",{className:"text-sm font-semibold text-amber-600",children:"ang ch"}):Y.deposit_status==="success"?s.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"Thnh Cng"}):Y.deposit_status==="failed"?s.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Tht bi"}):s.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Khng xc nh"});return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Np tin"}),s.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"Qu khch vui lng la chn phng thc giao dch v s tin giao dch"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Phng thc giao dch"}),s.jsx("button",{type:"button",className:"w-full rounded-lg border-2 border-indigo-600 bg-indigo-50 px-4 py-3 text-left font-semibold text-indigo-700 transition hover:bg-indigo-100",children:i})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["S tin giao dch ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>W(-1e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"-"}),s.jsx("input",{type:"number",value:r,onChange:Y=>e(Math.max(1e4,parseInt(Y.target.value)||1e4)),className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-center text-lg font-semibold focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",min:"10000",step:"10000"}),s.jsx("button",{type:"button",onClick:()=>W(1e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"+"}),s.jsx("span",{className:"text-lg font-semibold text-slate-700",children:""})]})]}),s.jsx("button",{onClick:V,disabled:z,className:"w-full rounded-lg bg-indigo-600 px-6 py-3 text-base font-semibold text-white shadow-lg transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:z?"ang x l...":"To yu cu np tin"})]})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Danh sch lnh thanh ton"}),s.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[s.jsxs("button",{type:"button",onClick:P,disabled:z,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50",children:[s.jsx(ar,{className:z?"animate-spin":""}),"Lm Mi"]}),s.jsxs("select",{value:k,onChange:Y=>{C(Number(Y.target.value)),w(1)},className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"border-b-2 border-slate-200 bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"NGY TO"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"Ni Dung"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"PHNG THC"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"S TIN NP"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"TRNG THI"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:z?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-indigo-600 border-t-transparent"}),s.jsx("span",{children:"ang ti d liu..."})]})})}):I.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:"Cha c lnh thanh ton no"})}):I.map((Y,O)=>s.jsxs("tr",{className:"transition-colors hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-slate-600",children:F(Y.created_at)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("button",{onClick:()=>{x(Y)},className:"font-semibold text-indigo-600 hover:text-indigo-700",children:Y.deposit_code})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-emerald-500"}),s.jsx("span",{className:"font-medium text-slate-700",children:Y.bankName})]})}),s.jsxs("td",{className:"px-4 py-3 font-semibold text-slate-700",children:[q(parseFloat(Y.deposit_amount||0))," "]}),s.jsx("td",{className:"px-4 py-3",children:G(Y)})]},Y.id))})]})}),p.totalPages>1&&s.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-600",children:[s.jsxs("p",{children:["ang hin th ",(p.page-1)*p.limit+1," n"," ",Math.min(p.page*p.limit,p.total)," ca"," ",p.total," bn ghi"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>w(Math.max(1,y-1)),disabled:y===1,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:s.jsx(Dc,{className:"h-4 w-4"})}),Array.from({length:Math.min(5,p.totalPages)},(Y,O)=>{let U;return p.totalPages<=5||y<=3?U=O+1:y>=p.totalPages-2?U=p.totalPages-4+O:U=y-2+O,s.jsx("button",{onClick:()=>w(U),className:`h-9 w-9 rounded-lg border text-sm font-semibold transition ${y===U?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:U},U)}),s.jsx("button",{onClick:()=>w(Math.min(p.totalPages,y+1)),disabled:y===p.totalPages,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:s.jsx(Rc,{className:"h-4 w-4"})})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("section",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-xl font-semibold text-amber-900",children:"Mo"}),s.jsxs("ul",{className:"space-y-3 text-sm text-amber-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"Qu khch vui lng chuyn khon ng s tin, ni dung theo hng dn  hon tt np ti khon t ng."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"Ti khon nhn c th s ch hot ng mt khong thi gian nht nh. Ngoi khong thi gian , giao dch c th s khng c ghi nhn."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"Trng hp qu 10 pht sau khi giao dch thnh cng m ti khon qu khch vn cha c cng ti khon, qu khch vui lng lin h CSKH  c h tr."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"Mi ln thanh ton, h thng s to ra cc lnh thanh ton  bng di y, qu khch c th kim tra li v hon tt thanh ton nu khng may thot khi mn hnh thanh ton."})]})]})]})})]}),c&&u&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl",children:[s.jsx("button",{onClick:()=>h(!1),className:"absolute right-4 top-4 rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:s.jsx(It,{className:"h-5 w-5"})}),s.jsx("h2",{className:"mb-2 text-2xl font-bold text-slate-900",children:"M np ti khon"}),s.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"H thng s t ng thng bo v cng s d ti khon cho qu khch. Qu khch c th ng popup ngay sau khi giao dch thnh cng."}),s.jsx("div",{className:"mb-6 flex flex-col items-center",children:D&&s.jsx("img",{src:D,alt:"QR Code",className:"mb-4 h-64 w-64 rounded-lg border-2 border-slate-200"})}),s.jsx("div",{className:"mb-6 rounded-lg border border-slate-200 bg-slate-50 p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Ch ti khon"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-slate-900",children:u.bankAccountName||"N/A"}),s.jsx("button",{onClick:()=>Q(u.bankAccountName||"","accountHolder"),className:"rounded-lg p-1.5 text-slate-600 transition hover:bg-white",children:M==="accountHolder"?s.jsx(cl,{className:"h-4 w-4 text-emerald-600"}):s.jsx(Qi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"S ti khon"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-slate-900",children:u.bankAccountNumber||"N/A"}),s.jsx("button",{onClick:()=>Q(u.bankAccountNumber||"","accountNumber"),className:"rounded-lg p-1.5 text-slate-600 transition hover:bg-white",children:M==="accountNumber"?s.jsx(cl,{className:"h-4 w-4 text-emerald-600"}):s.jsx(Qi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Ngn hng"}),s.jsx("span",{className:"font-semibold text-slate-900",children:u.bankName||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Ni dung giao dch"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-indigo-600",children:u.deposit_code}),s.jsx("button",{onClick:()=>Q(u.deposit_code||"","transactionContent"),className:"rounded-lg p-1.5 text-slate-600 transition hover:bg-white",children:M==="transactionContent"?s.jsx(cl,{className:"h-4 w-4 text-emerald-600"}):s.jsx(Qi,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"S tin np"}),s.jsxs("span",{className:"font-semibold text-slate-900",children:[q(parseFloat(u.deposit_amount||0))," "]})]})]})}),s.jsx("button",{onClick:()=>h(!1),className:"w-full rounded-lg bg-indigo-600 px-6 py-3 font-semibold text-white transition hover:bg-indigo-700",children:"ng"})]})})]})})}function bC(){const r=lt(),[e,t]=E.useState([]),[a,i]=E.useState(0),[o,c]=E.useState(!0),[h,u]=E.useState({page:1,limit:20,total:0,totalPages:1}),[x,f]=E.useState("all");xa(()=>{m(),p()},[]),E.useEffect(()=>{p()},[h.page,x]);const m=async()=>{try{const A=await pv();i(A?.unread_count||0)}catch(A){console.error("Khng th ti s lng thng bo cha c:",A)}},p=async()=>{c(!0);try{const A=await mv({page:h.page,limit:h.limit,unread_only:x==="unread"}),T=A?.notifications||[],L=A?.pagination||{};t(T),u(M=>({...M,total:L.total||0,totalPages:L.total_pages||1}))}catch(A){$.error(A?.body?.message||A?.message||"Khng th ti thng bo.")}finally{c(!1)}},b=async A=>{try{await ix(A),$.success(" nh du  c."),p(),m()}catch(T){$.error(T?.body?.message||T?.message||"Khng th nh du  c.")}},y=async()=>{try{await bv(),$.success(" nh du tt c l  c."),p(),m()}catch(A){$.error(A?.body?.message||A?.message||"Khng th nh du tt c l  c.")}},w=async A=>{if(window.confirm("Bn chc chn mun xa thng bo ny?"))try{await vv(A),$.success(" xa thng bo."),p(),m()}catch(T){$.error(T?.body?.message||T?.message||"Khng th xa thng bo.")}},k=A=>{if(A.is_read||b(A.id),A.data){const T=typeof A.data=="string"?JSON.parse(A.data):A.data;switch(A.type){case"exam_assigned_to_class":case"exam_reminder":T.exam_id&&r(`/dashboard/student/exams/${T.exam_id}`);break;case"exam_submitted":case"feedback_updated":T.exam_id&&T.session_id?r(`/student/exams/${T.exam_id}/result/${T.session_id}`):T.exam_id&&r(`/dashboard/student/exams/${T.exam_id}`);break;case"student_joined_class":T.class_id&&r(`/dashboard/student/classes/${T.class_id}`);break}}},C=A=>{switch(A){case"exam_assigned_to_class":case"exam_reminder":return s.jsx(Is,{className:"h-5 w-5"});case"exam_submitted":case"feedback_updated":return s.jsx(dc,{className:"h-5 w-5"});case"student_joined_class":return s.jsx(ha,{className:"h-5 w-5"});default:return s.jsx(w0,{className:"h-5 w-5"})}},S=A=>{if(!A)return"N/A";const T=new Date(A),M=new Date-T,_=Math.floor(M/6e4),D=Math.floor(M/36e5),H=Math.floor(M/864e5);return _<1?"Va xong":_<60?`${_} pht trc`:D<24?`${D} gi trc`:H<7?`${H} ngy trc`:T.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})};return s.jsx(Ye,{role:"student",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thng bo"}),s.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Thng bo ca ti"}),a>0&&s.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["C ",a," thng bo cha c"]})]}),a>0&&s.jsxs("button",{type:"button",onClick:y,className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700",children:[s.jsx(cN,{className:"h-4 w-4"}),"nh du tt c  c"]})]})}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("div",{className:"mb-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>{f("all"),u(A=>({...A,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${x==="all"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Tt c"}),s.jsxs("button",{type:"button",onClick:()=>{f("unread"),u(A=>({...A,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${x==="unread"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:["Cha c ",a>0&&`(${a})`]})]})}),o?s.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[s.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"}),s.jsx("span",{className:"ml-3",children:"ang ti thng bo..."})]}):e.length===0?s.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center",children:[s.jsx(w0,{className:"mx-auto mb-3 h-12 w-12 text-slate-400"}),s.jsx("p",{className:"text-sm text-slate-500",children:x==="unread"?"Khng c thng bo cha c no.":"Cha c thng bo no."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-3",children:e.map(A=>s.jsx("div",{onClick:()=>k(A),className:`cursor-pointer rounded-xl border p-4 transition hover:shadow-md ${A.is_read?"border-slate-200 bg-white":"border-indigo-200 bg-indigo-50/30"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[s.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${A.is_read?"bg-slate-100 text-slate-600":"bg-indigo-100 text-indigo-600"}`,children:C(A.type)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:A.title}),!A.is_read&&s.jsx("span",{className:"rounded-full bg-indigo-600 px-2 py-0.5 text-xs font-semibold text-white",children:"Mi"})]}),s.jsx("p",{className:"mt-1 text-sm text-slate-600",children:A.message}),s.jsx("p",{className:"mt-2 text-xs text-slate-400",children:S(A.created_at)})]})]}),s.jsxs("div",{className:"flex gap-2",children:[!A.is_read&&s.jsxs("button",{type:"button",onClick:T=>{T.stopPropagation(),b(A.id)},className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 transition hover:bg-indigo-50",title:"nh du  c",children:[s.jsx(hN,{className:"h-3 w-3"})," c"]}),s.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),w(A.id)},className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-3 py-1 text-xs font-semibold text-red-600 transition hover:bg-red-50",title:"Xa thng bo",children:s.jsx(ON,{className:"h-3 w-3"})})]})]})},A.id))}),h.totalPages>1&&s.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[s.jsxs("p",{className:"text-sm text-slate-500",children:["Trang ",h.page,"/",h.totalPages]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>u(A=>({...A,page:Math.max(1,A.page-1)})),disabled:h.page===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-sm text-slate-600 transition hover:bg-white disabled:cursor-not-allowed disabled:opacity-50",children:s.jsx(Bx,{className:"h-4 w-4"})}),s.jsx("button",{type:"button",onClick:()=>u(A=>({...A,page:Math.min(h.totalPages,A.page+1)})),disabled:h.page===h.totalPages,className:"rounded-lg border border-slate-200 px-3 py-1 text-sm text-slate-600 transition hover:bg-white disabled:cursor-not-allowed disabled:opacity-50",children:s.jsx(Xx,{className:"h-4 w-4"})})]})]})]})]})]})})}const vC=async(r={})=>{try{const{page:e=1,limit:t=10,sortBy:a="created_at",order:i="DESC",transactionType:o,transactionStatus:c,user_id:h,fromDate:u,toDate:x,minAmount:f,maxAmount:m,transferType:p}=r,b=new URLSearchParams;return b.append("page",e),b.append("limit",t),b.append("sortBy",a),b.append("order",i),o&&b.append("transactionType",o),c&&b.append("transactionStatus",c),h&&b.append("user_id",h),u&&b.append("fromDate",u),x&&b.append("toDate",x),f&&b.append("minAmount",f),m&&b.append("maxAmount",m),p&&b.append("transferType",p),await pe.get(`/api/wallet/transaction-history?${b.toString()}`)}catch(e){throw e}},P0={deposit:{label:"Np Tin",badge:"bg-blue-50 text-blue-600"},withdraw:{label:"Rt Tin",badge:"bg-red-50 text-red-600"},purchase:{label:"Mua",badge:"bg-emerald-50 text-emerald-600"},adjustment:{label:"iu Chnh",badge:"bg-purple-50 text-purple-600"},revenue:{label:"Doanh Thu",badge:"bg-green-50 text-green-600"}},yC=r=>r.description&&r.description.includes("Doanh thu t  thi")?P0.revenue:P0[r.transactionType]||{label:"Khc",badge:"bg-gray-50 text-gray-600"},B0={success:{label:" Xong",badge:"bg-emerald-50 text-emerald-600"},done:{label:" Xong",badge:"bg-emerald-50 text-emerald-600"},pending:{label:"ang x l",badge:"bg-amber-50 text-amber-600"},failed:{label:"Tht bi",badge:"bg-rose-50 text-rose-600"}},wu=r=>new Intl.NumberFormat("vi-VN").format(Math.abs(r)),X0=r=>new Date(r).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});function Y0({role:r="student"}){const[e,t]=E.useState([]),[a,i]=E.useState({total:0,page:1,limit:10,totalPages:1}),[o,c]=E.useState(!1),[h,u]=E.useState(""),[x,f]=E.useState("all"),[m,p]=E.useState(""),[b,y]=E.useState(""),[w,k]=E.useState(10),[C,S]=E.useState(1),A=async()=>{c(!0);try{const V={page:C,limit:w,sortBy:"created_at",order:"DESC"};x!=="all"&&(V.transactionType=x),m&&(V.fromDate=m),b&&(V.toDate=b);const Q=await vC(V);if(Q?.data&&Q?.message){const F=Q.data.transactions||[];t(F),i(Q.data.pagination||{total:0,page:1,limit:10,totalPages:1})}else t([])}catch(V){console.error("Error fetching transaction history:",V),t([]),$.error("Khng th ti lch s giao dch")}finally{c(!1)}};E.useEffect(()=>{A()},[C,w,x,m,b]);const T=E.useMemo(()=>e.map(V=>{const Q=parseFloat(V.amount||0),q=V.transferType==="in"||V.description&&V.description.includes("Doanh thu t  thi")?Q:-Q,I=V.transactionStatus==="success"?"done":V.transactionStatus,G=yC(V);return{id:V.id,date:V.created_at,content:V.description,type:V.transactionType,typeMeta:G,amount:q,balanceBefore:parseFloat(V.beforeBalance||0),balanceAfter:parseFloat(V.afterBalance||0),status:I}}),[e]);E.useEffect(()=>{if(!T.some(F=>F.status==="pending"))return;const Q=setInterval(()=>{A()},1e4);return()=>{clearInterval(Q)}},[T,C,w,x,m,b]);const L=E.useMemo(()=>h?T.filter(V=>V.content.toLowerCase().includes(h.toLowerCase())||X0(V.date).toLowerCase().includes(h.toLowerCase())):T,[T,h]),M=a.totalPages||1,_=Math.min(C,M),D=(_-1)*w,H=Math.min(D+w,L.length),z=L.slice(D,H),B=a.total||L.length,P=V=>{V<1||V>M||S(V)},W=V=>{const Q=V>0;return s.jsxs("span",{className:`font-semibold ${Q?"text-emerald-600":"text-rose-500"}`,children:[Q?"+":"-",wu(V)," "]})};return s.jsx(Ye,{role:r,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{children:s.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Lch S Giao Dch"})})}),s.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[s.jsxs("div",{className:"flex h-11 items-center gap-2 rounded-lg border border-slate-200 px-3",children:[s.jsx(Tl,{className:"h-4 w-4 text-slate-400"}),s.jsx("input",{value:h,onChange:V=>{S(1),u(V.target.value)},placeholder:"Tm kim",className:"flex-1 border-none bg-transparent text-sm outline-none focus:ring-0"})]}),s.jsxs("select",{value:x,onChange:V=>{S(1),f(V.target.value)},className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:"all",children:"Loi giao dch"}),s.jsx("option",{value:"deposit",children:"Np tin"}),s.jsx("option",{value:"withdraw",children:"Rt tin"}),s.jsx("option",{value:"purchase",children:"Mua"}),s.jsx("option",{value:"adjustment",children:"iu chnh"})]}),s.jsx("input",{type:"date",value:m,onChange:V=>{S(1),p(V.target.value)},placeholder:"Ngy bt u",className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none"}),s.jsx("input",{type:"date",value:b,onChange:V=>{S(1),y(V.target.value)},placeholder:"Ngy kt thc",className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none"}),s.jsx("select",{value:w,onChange:V=>{S(1),k(Number(V.target.value))},className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none",children:[10,20,50].map(V=>s.jsx("option",{value:V,children:V},V))})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{className:"border-b border-slate-200 bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"M Giao Dch"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"NGY GIAO DCH"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"NI DUNG GIAO DCH"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"LOI GIAO DCH"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"S LNG"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"S D TRC"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"S D SAU"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"TRNG THI GIAO DCH"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:o?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-500",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-indigo-600 border-t-transparent"}),s.jsx("span",{children:"ang ti d liu..."})]})})}):z.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-500",children:"Khng tm thy giao dch ph hp"})}):z.map((V,Q)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-slate-600 ",children:V.id}),s.jsx("td",{className:"px-4 py-3 text-slate-700",children:X0(V.date)}),s.jsx("td",{className:"px-4 py-3 text-slate-700",children:V.content}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${V.typeMeta?.badge||"bg-gray-50 text-gray-600"}`,children:V.typeMeta?.label||"Khc"})}),s.jsx("td",{className:"px-4 py-3",children:W(V.amount)}),s.jsx("td",{className:"px-4 py-3 text-slate-700",children:wu(V.balanceBefore)}),s.jsx("td",{className:"px-4 py-3 text-slate-700",children:wu(V.balanceAfter)}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${B0[V.status]?.badge}`,children:B0[V.status]?.label||"Khc"})})]},V.id))})]})}),s.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 text-sm text-slate-600 sm:flex-row",children:[s.jsxs("p",{children:["ang hin th ",z.length===0?0:D+1," n ",H," ca"," ",h?L.length:B," ","bn ghi"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>P(_-1),className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",disabled:_===1,"aria-label":"Trang trc",children:s.jsx(Dc,{})}),s.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,M)},(V,Q)=>{let F;return M<=5||_<=3?F=Q+1:_>=M-2?F=M-4+Q:F=_-2+Q,s.jsx("button",{onClick:()=>P(F),className:`h-9 w-9 rounded-lg border text-sm font-semibold transition ${_===F?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:F},F)})}),s.jsx("button",{onClick:()=>P(_+1),className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",disabled:_===M,"aria-label":"Trang sau",children:s.jsx(Rc,{})})]})]})]})]})})}function wC(){const[r,e]=E.useState(""),[t,a]=E.useState(""),[i,o]=E.useState(""),[c,h]=E.useState(5e4),[u,x]=E.useState(0),[f,m]=E.useState([]),[p,b]=E.useState({total:0,page:1,limit:10,totalPages:1}),[y,w]=E.useState(1),[k,C]=E.useState(10),[S,A]=E.useState(""),[T,L]=E.useState("all"),[M,_]=E.useState(null),[D,H]=E.useState(!1),[z,B]=E.useState(!1),[P,W]=E.useState(""),[V,Q]=E.useState(1);E.useEffect(()=>{F(),q()},[y,k]);const F=async()=>{try{const te=await Oc();x(te.balance||0)}catch(te){console.error("Error fetching wallet balance:",te),x(0)}},q=async()=>{H(!0);try{const te=await gC(y,k);te?.data&&te?.message?(m(te.data.withdraws||[]),b(te.data.pagination||{total:0,page:1,limit:10,totalPages:1})):m([])}catch(te){console.error("Error fetching withdraw history:",te),m([]),$.error("Khng th ti lch s rt tin")}finally{H(!1)}},I=te=>{h(ve=>Math.max(5e4,ve+te))},G=async()=>{if(!r.trim()){$.error("Vui lng nhp tn ngn hng");return}if(!t.trim()){$.error("Vui lng nhp tn ti khon ngn hng");return}if(!i.trim()){$.error("Vui lng nhp s ti khon ngn hng");return}if(c<5e4){$.error("S tin rt ti thiu l 50,000 ");return}if(c>u){$.error("S tin rt khng c vt qu s d v");return}try{B(!0);const te={bankName:r.trim(),bankAccountName:t.trim(),bankAccountNumber:i.trim(),amount:c},ve=await fC(te);ve?.success&&ve?.message?($.success(ve.message||"M OTP  c gi n email ca bn"),Q(2)):$.error(ve?.message||"Khng th gi m OTP")}catch(te){console.error("Error sending OTP for withdraw:",te);const ve=te?.body?.message||te?.message||"Khng th gi m OTP";$.error(ve)}finally{B(!1)}},Y=async()=>{if(!P||P.length!==6){$.error("Vui lng nhp m OTP 6 ch s");return}try{H(!0);const ve=await mC({otp:P});ve?.success&&ve?.message?($.success(ve.message||"Rt tin thnh cng"),e(""),a(""),o(""),h(5e4),W(""),Q(1),await F(),await q()):$.error(ve?.message||"Khng th thc hin rt tin")}catch(te){console.error("Error verifying OTP and withdrawing:",te);const ve=te?.body?.message||te?.message||"Khng th thc hin rt tin";$.error(ve)}finally{H(!1)}},O=()=>{Q(1),W("")},U=async(te,ve)=>{if(!te){$.error("Khng c ni dung  sao chp");return}try{await navigator.clipboard.writeText(te),_(ve),$.success(" sao chp!"),setTimeout(()=>_(null),2e3)}catch(ae){console.error("Error copying to clipboard:",ae),$.error("Khng th sao chp")}},ne=te=>te?new Date(te).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A",K=te=>new Intl.NumberFormat("vi-VN").format(te),ue=(f||[]).filter(te=>{const ve=te.withdraw_code?.toLowerCase().includes(S.toLowerCase())||ne(te.created_at).toLowerCase().includes(S.toLowerCase()),ae=T==="all"||te.withdraw_status===T;return ve&&ae}),ie=te=>(console.log("getStatusBadge:",{status:te.status,withdraw_status:te.withdraw_status}),te.status==="pending"?s.jsx("span",{className:"text-sm font-semibold text-amber-600",children:"ang ch"}):te.status==="success"||te.withdraw_status==="approved"||te.status==="approved"?s.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"Thnh cng"}):te.status==="failed"||te.withdraw_status==="rejected"||te.status==="rejected"?s.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Tht bi"}):s.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Khng xc nh"}));return s.jsx(Ye,{role:"teacher",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Rt tin"}),s.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"Vui lng in y  thng tin ti khon ngn hng  rt tin"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["Tn ngn hng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r,onChange:te=>e(te.target.value),placeholder:"V d: ACB, Vietcombank, BIDV...",className:"w-full rounded-lg border border-slate-300 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["Tn ti khon ngn hng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:t,onChange:te=>a(te.target.value),placeholder:"Nhp tn ch ti khon",className:"w-full rounded-lg border border-slate-300 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["S ti khon ngn hng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:i,onChange:te=>o(te.target.value.replace(/\D/g,"")),placeholder:"Nhp s ti khon",className:"w-full rounded-lg border border-slate-300 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["S tin rt ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:()=>I(-5e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"-"}),s.jsx("input",{type:"number",value:c,onChange:te=>h(Math.max(5e4,parseInt(te.target.value)||5e4)),className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-center text-lg font-semibold focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",min:"50000",step:"50000",max:u}),s.jsx("button",{type:"button",onClick:()=>I(5e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"+"}),s.jsx("span",{className:"text-lg font-semibold text-slate-700",children:""})]}),s.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["S d kh dng: ",K(u)," "]})]}),s.jsx("button",{onClick:G,disabled:z,className:"w-full rounded-lg bg-[#432DD7] px-6 py-3 text-base font-semibold text-white shadow-lg transition hover:bg-[#3a26c0] disabled:opacity-50 disabled:cursor-not-allowed",children:z?"ang gi OTP Xc minh...":"To yu cu rt tin"})]})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Lch s yu cu rt tin"}),s.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[s.jsxs("button",{type:"button",onClick:async()=>{await F(),await q()},disabled:D,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50",children:[s.jsx(ar,{className:D?"animate-spin":""}),"Lm Mi"]}),s.jsxs("select",{value:T,onChange:te=>L(te.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:"all",children:"Tt c trng thi"}),s.jsx("option",{value:"pending",children:"ang ch"}),s.jsx("option",{value:"approved",children:" duyt"}),s.jsx("option",{value:"success",children:"Thnh cng"}),s.jsx("option",{value:"rejected",children:"T chi"}),s.jsx("option",{value:"failed",children:"Tht bi"})]}),s.jsxs("select",{value:k,onChange:te=>{C(Number(te.target.value)),w(1)},className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"border-b-2 border-slate-200 bg-slate-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"NGY TO"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"M N"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"NGN HNG"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"TN TI KHON"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"S TI KHON"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"S TIN RT"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"TRNG THI"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:D?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-indigo-600 border-t-transparent"}),s.jsx("span",{children:"ang ti d liu..."})]})})}):ue.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:"Cha c yu cu rt tin no"})}):ue.map(te=>s.jsxs("tr",{className:"transition-colors hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-3 text-slate-600",children:ne(te.created_at)}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("button",{onClick:()=>U(te.withdraw_code,`withdraw-${te.id}`),className:"font-semibold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[te.withdraw_code,M===`withdraw-${te.id}`?s.jsx(cl,{className:"h-3 w-3 text-emerald-600"}):s.jsx(Qi,{className:"h-3 w-3"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-blue-500"}),s.jsx("span",{className:"font-medium text-slate-700",children:te.bankName})]})}),s.jsx("td",{className:"px-4 py-3 text-slate-600",children:te.bankAccountName}),s.jsx("td",{className:"px-4 py-3 text-slate-600",children:te.bankAccountNumber}),s.jsxs("td",{className:"px-4 py-3 font-semibold text-slate-700",children:[K(parseFloat(te.amount||0))," "]}),s.jsx("td",{className:"px-4 py-3",children:ie(te)})]},te.id))})]})}),p.totalPages>1&&s.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-600",children:[s.jsxs("p",{children:["ang hin th ",(p.page-1)*p.limit+1," n"," ",Math.min(p.page*p.limit,p.total)," ca"," ",p.total," bn ghi"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>w(Math.max(1,y-1)),disabled:y===1,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:s.jsx(Dc,{className:"h-4 w-4"})}),Array.from({length:Math.min(5,p.totalPages)},(te,ve)=>{let ae;return p.totalPages<=5||y<=3?ae=ve+1:y>=p.totalPages-2?ae=p.totalPages-4+ve:ae=y-2+ve,s.jsx("button",{onClick:()=>w(ae),className:`h-9 w-9 rounded-lg border text-sm font-semibold transition ${y===ae?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:ae},ae)}),s.jsx("button",{onClick:()=>w(Math.min(p.totalPages,y+1)),disabled:y===p.totalPages,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:s.jsx(Rc,{className:"h-4 w-4"})})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("section",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6 shadow-sm",children:[s.jsx("h2",{className:"mb-4 text-xl font-semibold text-amber-900",children:"Lu "}),s.jsxs("ul",{className:"space-y-3 text-sm text-amber-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"Vui lng kim tra k thng tin ti khon ngn hng trc khi gi yu cu rt tin."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"S tin rt ti thiu l 50,000  v khng c vt qu s d v hin ti."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"Yu cu rt tin s c x l trong vng 1-3 ngy lm vic."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-1",children:""}),s.jsx("span",{children:"Nu c thc mc, vui lng lin h b phn h tr  c gii p."})]})]})]})})]}),V===2&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden animate-fade-in-up",children:[s.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-100 bg-gray-50",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Xc thc OTP"}),s.jsx("button",{type:"button",onClick:O,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-200",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"M OTP  c gi n email ca bn. Vui lng nhp m OTP  xc thc v hon tt rt tin."}),s.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 space-y-2",children:[s.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Thng tin rt tin:"}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm text-slate-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ngn hng:"})," ",r]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tn ti khon:"})," ",t]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"S ti khon:"})," ",i]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"S tin:"})," ",K(c)," "]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nhp m OTP"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"text",value:P,onChange:te=>W(te.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Nhp m OTP 6 ch s",maxLength:6,autoFocus:!0,className:"block w-full px-4 py-3 rounded-xl border border-slate-200 text-center text-small"})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra email v nhp m OTP 6 ch s"})]})]}),s.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:O,className:"px-5 py-2.5 rounded-xl text-gray-700 font-medium hover:bg-gray-200 transition-colors",children:"Hy b"}),s.jsx("button",{onClick:Y,disabled:D,className:"px-6 py-2.5 bg-[#432DD7] text-white font-bold rounded-xl hover:bg-[#3a26c0] focus:ring-4 focus:ring-indigo-300 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:D?"ang x l...":"Xc thc v rt tin"})]})]})})]})})}const F0=[{label:"Tng quan",path:"/dashboard/admin",icon:Bb},{label:"Qun l ngi dng",path:"/dashboard/admin/users",icon:Bt},{label:"Qun l lp hc",path:"/dashboard/admin/classes",icon:Vu},{label:"Qun l  thi",path:"/dashboard/admin/exams",icon:rs},{label:"Qun l giao dch",path:"/dashboard/admin/purchases",icon:vi},{label:"Qun l rt tin",path:"/dashboard/admin/withdrawals",icon:Ob},{label:"Bo co thng k",path:"/dashboard/admin/reports",icon:Ox},{label:"Thng bo",path:"/dashboard/admin/notifications",icon:yc},{label:"Kim duyt ni dung",path:"/dashboard/admin/moderation",icon:sr}];function jC(){const r=lt(),e=ua(),[t,a]=Ue.useState(!1),[i,o]=Ue.useState(null);Ue.useEffect(()=>{const u=fi();u&&o(u)},[]);const c=()=>{uj(),r("/auth/login")},h=()=>{a(!t)};return s.jsxs("div",{className:"flex h-screen bg-slate-50",children:[s.jsxs("aside",{className:"hidden w-64 flex-col border-r border-slate-200 bg-white md:flex",children:[s.jsx("div",{className:"border-b border-slate-200 p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-600 text-white font-bold text-lg",children:"A"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-red-600 leading-none",children:"ADMIN PANEL"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"PTIT Quiz"})]})]})}),s.jsx("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:F0.map(u=>{const x=e.pathname===u.path,f=u.icon;return s.jsxs(At,{to:u.path,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition ${x?"bg-red-50 text-red-600":"text-slate-600 hover:bg-red-50 hover:text-red-600"}`,children:[s.jsx(f,{className:"h-5 w-5"}),s.jsx("span",{children:u.label})]},u.path)})}),s.jsx("div",{className:"border-t border-slate-200 p-4",children:s.jsxs("button",{onClick:c,className:"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-600 transition hover:bg-red-50 hover:text-red-600",children:[s.jsx(qu,{className:"h-5 w-5"}),s.jsx("span",{children:"ng xut"})]})})]}),t&&s.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:h}),s.jsxs("aside",{className:"absolute left-0 top-0 bottom-0 w-64 bg-white flex flex-col",children:[s.jsxs("div",{className:"border-b border-slate-200 p-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-600 text-white font-bold text-lg",children:"A"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-red-600 leading-none",children:"ADMIN PANEL"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"PTIT Quiz"})]})]}),s.jsx("button",{onClick:h,className:"text-slate-500 hover:text-slate-700",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsx("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:F0.map(u=>{const x=e.pathname===u.path,f=u.icon;return s.jsxs(At,{to:u.path,onClick:h,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition ${x?"bg-red-50 text-red-600":"text-slate-600 hover:bg-red-50 hover:text-red-600"}`,children:[s.jsx(f,{className:"h-5 w-5"}),s.jsx("span",{children:u.label})]},u.path)})}),s.jsx("div",{className:"border-t border-slate-200 p-4",children:s.jsxs("button",{onClick:c,className:"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-600 transition hover:bg-red-50 hover:text-red-600",children:[s.jsx(qu,{className:"h-5 w-5"}),s.jsx("span",{children:"ng xut"})]})})]})]}),s.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx("header",{className:"border-b border-slate-200 bg-white px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:h,className:"text-slate-500 hover:text-slate-700 md:hidden",children:s.jsx(Tj,{className:"h-6 w-6"})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Qun tr h thng"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-slate-800",children:i?.fullName||"Admin"}),s.jsx("p",{className:"text-xs text-slate-500",children:i?.email})]}),s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-600 text-white font-semibold",children:i?.fullName?.charAt(0).toUpperCase()||"A"})]})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:s.jsx(_2,{})})]})]})}const Ge="/api/admin",NC=()=>pe.get(`${Ge}/dashboard`),SC=()=>pe.get(`${Ge}/dashboard/stats-30-days`),kC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/users${e?`?${e}`:""}`)},CC=r=>pe.get(`${Ge}/users/${r}`),AC=r=>pe.post(`${Ge}/users`,r),TC=(r,e)=>pe.put(`${Ge}/users/${r}`,e),_C=r=>pe.delete(`${Ge}/users/${r}`),EC=(r,e)=>pe.post(`${Ge}/users/${r}/adjust-balance`,e),MC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/exams${e?`?${e}`:""}`)},LC=r=>pe.get(`${Ge}/exams/${r}`),zC=(r,e)=>pe.put(`${Ge}/exams/${r}`,e),DC=r=>pe.delete(`${Ge}/exams/${r}`),RC=(r,e={})=>{const t=new URLSearchParams(e).toString();return pe.get(`${Ge}/exams/${r}/results${t?`?${t}`:""}`)},OC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/classes${e?`?${e}`:""}`)},HC=r=>pe.get(`${Ge}/classes/${r}`),PC=r=>pe.delete(`${Ge}/classes/${r}`),BC=(r,e={})=>{const t=new URLSearchParams(e).toString();return pe.get(`${Ge}/classes/${r}/students${t?`?${t}`:""}`)},XC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/purchases${e?`?${e}`:""}`)},YC=r=>pe.get(`${Ge}/purchases/${r}`),FC=(r,e)=>pe.post(`${Ge}/purchases/${r}/refund`,e),IC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/transactions${e?`?${e}`:""}`)},UC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/reports/revenue${e?`?${e}`:""}`)},WC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/reports/user-activity${e?`?${e}`:""}`)},VC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/reports/exam-stats${e?`?${e}`:""}`)},qC=r=>pe.post(`${Ge}/notifications/broadcast`,r),GC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/notifications/history${e?`?${e}`:""}`)},$C=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/posts${e?`?${e}`:""}`)},KC=(r,e)=>pe.put(`${Ge}/posts/${r}/hide`,e),ZC=r=>pe.put(`${Ge}/posts/${r}/show`),QC=r=>pe.delete(`${Ge}/posts/${r}`),JC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/comments${e?`?${e}`:""}`)},eA=r=>pe.delete(`${Ge}/comments/${r}`),tA=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/withdrawals${e?`?${e}`:""}`)},sA=r=>pe.get(`${Ge}/withdrawals/${r}`),aA=(r,e)=>pe.put(`${Ge}/withdrawals/${r}/approve`,e),iA=(r,e)=>pe.put(`${Ge}/withdrawals/${r}/reject`,e),rt={getDashboardOverview:NC,getDashboardStats30Days:SC,getAllUsers:kC,getUserById:CC,createUser:AC,updateUser:TC,deleteUser:_C,adjustUserBalance:EC,getAllExams:MC,getExamById:LC,updateExam:zC,deleteExam:DC,getExamResults:RC,getAllClasses:OC,getClassById:HC,deleteClass:PC,getClassStudents:BC,getAllPurchases:XC,getPurchaseById:YC,refundPurchase:FC,getTransactionHistory:IC,getRevenueReport:UC,getUserActivityReport:WC,getExamStatsReport:VC,broadcastNotification:qC,getNotificationHistory:GC,getAllPosts:$C,hidePost:KC,showPost:ZC,deletePost:QC,getAllComments:JC,deleteComment:eA,getWithdrawals:tA,getWithdrawalById:sA,approveWithdrawal:aA,rejectWithdrawal:iA};/*!
 * ApexCharts v5.3.6
 * (c) 2018-2025 ApexCharts
 */function nx(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,a=Array(e);t<e;t++)a[t]=r[t];return a}function wv(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ye(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function I0(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,Sv(a.key),a)}}function we(r,e,t){return e&&I0(r.prototype,e),t&&I0(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function ol(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=Vx(r))||e){t&&(r=t);var a=0,i=function(){};return{s:i,n:function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,c=!0,h=!1;return{s:function(){t=t.call(r)},n:function(){var u=t.next();return c=u.done,u},e:function(u){h=!0,o=u},f:function(){try{c||t.return==null||t.return()}finally{if(h)throw o}}}}function Ml(r){var e=jv();return function(){var t,a=Cc(r);if(e){var i=Cc(this).constructor;t=Reflect.construct(a,arguments,i)}else t=a.apply(this,arguments);return(function(o,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wv(o)})(this,t)}}function kc(r,e,t){return(e=Sv(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Cc(r){return Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cc(r)}function Ll(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&rx(r,e)}function jv(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(jv=function(){return!!r})()}function U0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),t.push.apply(t,a)}return t}function be(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U0(Object(t),!0).forEach((function(a){kc(r,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):U0(Object(t)).forEach((function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))}))}return r}function rx(r,e){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,a){return t.__proto__=a,t},rx(r,e)}function Nv(r,e){return(function(t){if(Array.isArray(t))return t})(r)||(function(t,a){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,c,h,u,x=[],f=!0,m=!1;try{if(h=(i=i.call(t)).next,a===0){if(Object(i)!==i)return;f=!1}else for(;!(f=(o=h.call(i)).done)&&(x.push(o.value),x.length!==a);f=!0);}catch(p){m=!0,c=p}finally{try{if(!f&&i.return!=null&&(u=i.return(),Object(u)!==u))return}finally{if(m)throw c}}return x}})(r,e)||Vx(r,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Xt(r){return(function(e){if(Array.isArray(e))return nx(e)})(r)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(r)||Vx(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Sv(r){var e=(function(t,a){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var o=i.call(t,a);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)})(r,"string");return typeof e=="symbol"?e:e+""}function ns(r){return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ns(r)}function Vx(r,e){if(r){if(typeof r=="string")return nx(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nx(r,e):void 0}}var J=(function(){function r(){ye(this,r)}return we(r,[{key:"shadeRGBColor",value:function(e,t){var a=t.split(","),i=e<0?0:255,o=e<0?-1*e:e,c=parseInt(a[0].slice(4),10),h=parseInt(a[1],10),u=parseInt(a[2],10);return"rgb("+(Math.round((i-c)*o)+c)+","+(Math.round((i-h)*o)+h)+","+(Math.round((i-u)*o)+u)+")"}},{key:"shadeHexColor",value:function(e,t){var a=parseInt(t.slice(1),16),i=e<0?0:255,o=e<0?-1*e:e,c=a>>16,h=a>>8&255,u=255&a;return"#"+(16777216+65536*(Math.round((i-c)*o)+c)+256*(Math.round((i-h)*o)+h)+(Math.round((i-u)*o)+u)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&ns(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,a=[];for(t=0;t<e.length;t++)a[t]=e[t];return a}},{key:"extend",value:function(e,t){var a=this;typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(o),h=1;h<arguments.length;h++){var u=arguments[h];if(u!=null)for(var x in u)u.hasOwnProperty(x)&&(c[x]=u[x])}return c});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(o){a.isObject(t[o])&&o in e?i[o]=a.extend(e[o],t[o]):Object.assign(i,kc({},o,t[o]))})),i}},{key:"extendArray",value:function(e,t){var a=[];return e.map((function(i){a.push(r.extend(t,i))})),e=a}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||ns(e)!=="object")return e;if(a.has(e))return a.get(e);if(Array.isArray(e)){t=[],a.set(e,t);for(var i=0;i<e.length;i++)t[i]=this.clone(e[i],a)}else if(e instanceof Date)t=new Date(e.getTime());else for(var o in t={},a.set(e,t),e)e.hasOwnProperty(o)&&(t[o]=this.clone(e[o],a));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"isInShadowDOM",value:function(e){if(!e||!e.getRootNode)return!1;var t=e.getRootNode();return t&&t!==document&&r.is("ShadowRoot",t)}},{key:"getShadowRootHost",value:function(e){return r.isInShadowDOM(e)&&e.getRootNode().host||null}},{key:"getDimensions",value:function(e){if(!e)return[0,0];var t,a=e.getRootNode&&e.getRootNode();if(a&&a!==document&&a.host){var i=a.host.getBoundingClientRect();return[i.width,i.height]}try{t=getComputedStyle(e,null)}catch{return[e.clientWidth||0,e.clientHeight||0]}var o=e.clientHeight,c=e.clientWidth;return o-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[c-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o]}},{key:"getBoundingClientRect",value:function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(t,a){return Array.isArray(a)&&(a=a.reduce((function(i,o){return i.length>o.length?i:o}))),t.length>a.length?t:a}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var a=e.replace("#","");a=a.match(new RegExp("(.{"+a.length/3+"})","g"));for(var i=0;i<a.length;i++)a[i]=parseInt(a[i].length===1?a[i]+a[i]:a[i],16);return t!==void 0&&a.push(t),"rgba("+a.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var a=[],i=2*Math.PI/t,o=0;o<t;o++){var c={};c.x=e*Math.sin(o*i),c.y=-e*Math.cos(o*i),a.push(c)}return a}},{key:"polarToCartesian",value:function(e,t,a,i){var o=(i-90)*Math.PI/180;return{x:e+a*Math.cos(o),y:t+a*Math.sin(o)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",a=e.toString().slice();return a=a.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,a){if(a>=e.length)for(var i=a-e.length+1;i--;)e.push(void 0);return e.splice(a,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e.style.key=t[a])}},{key:"preciseAddition",value:function(e,t){var a=(String(e).split(".")[1]||"").length,i=(String(t).split(".")[1]||"").length,o=Math.pow(10,Math.max(a,i));return(Math.round(e*o)+Math.round(t*o))/o}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,a-Math.floor(Math.log10(Math.max(e,t))));for(i>1?(e=Math.round(Math.abs(e)*i),t=Math.round(Math.abs(t)*i)):i=1;t;){var o=t;t=e%t,e=o}return e/i}},{key:"getPrimeFactors",value:function(e){for(var t=[],a=2;e>=2;)e%a==0?(t.push(a),e/=a):a++;return t}},{key:"mod",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,a-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*i))%(t=Math.round(Math.abs(t)*i))/i}}]),r})(),cr=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"animateLine",value:function(e,t,a,i){e.attr(t).animate(i).attr(a)}},{key:"animateMarker",value:function(e,t,a,i){e.attr({opacity:0}).animate(t).attr({opacity:1}).after((function(){i()}))}},{key:"animateRect",value:function(e,t,a,i,o){e.attr(t).animate(i).attr(a).after((function(){return o()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,a=e.realIndex,i=e.j,o=e.fill,c=e.pathFrom,h=e.pathTo,u=e.speed,x=e.delay,f=this.w,m=0;f.config.chart.animations.animateGradually.enabled&&(m=f.config.chart.animations.animateGradually.delay),f.config.chart.animations.dynamicAnimation.enabled&&f.globals.dataChanged&&f.config.chart.type!=="bar"&&(m=0),this.morphSVG(t,a,i,f.config.chart.type!=="line"||f.globals.comboCharts?o:"stroke",c,h,u,x*m)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,a,i,o,c,h,u){var x=this,f=this.w;o||(o=e.attr("pathFrom")),c||(c=e.attr("pathTo"));var m=function(p){return f.config.chart.type==="radar"&&(h=1),"M 0 ".concat(f.globals.gridHeight)};(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=m()),(!c.trim()||c.indexOf("undefined")>-1||c.indexOf("NaN")>-1)&&(c=m()),f.globals.shouldAnimate||(h=1),e.plot(o).animate(1,u).plot(o).animate(h,u).plot(c).after((function(){J.isNumber(a)?a===f.globals.series[f.globals.maxValsInArrayIndex].length-2&&f.globals.shouldAnimate&&x.animationCompleted(e):i!=="none"&&f.globals.shouldAnimate&&(!f.globals.comboCharts&&t===f.globals.series.length-1||f.globals.comboCharts)&&x.animationCompleted(e),x.showDelayedElements()}))}}]),r})();const lx={},kv=[];function Xe(r,e){if(Array.isArray(r))for(const t of r)Xe(t,e);else if(typeof r!="object")Cv(Object.getOwnPropertyNames(e)),lx[r]=Object.assign(lx[r]||{},e);else for(const t in r)Xe(t,r[t])}function bs(r){return lx[r]||{}}function Cv(r){kv.push(...r)}function qx(r,e){let t;const a=r.length,i=[];for(t=0;t<a;t++)i.push(e(r[t]));return i}function ju(r){return r%360*Math.PI/180}function dr(r){return r.charAt(0).toUpperCase()+r.slice(1)}function hr(r,e,t,a){return e!=null&&t!=null||(a=a||r.bbox(),e==null?e=a.width/a.height*t:t==null&&(t=a.height/a.width*e)),{width:e,height:t}}function ox(r,e){const t=r.origin;let a=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",i=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([a,i]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const o=typeof a=="string",c=typeof i=="string";if(o||c){const{height:h,width:u,x,y:f}=e.bbox();o&&(a=a.includes("left")?x:a.includes("right")?x+u:x+u/2),c&&(i=i.includes("top")?f:i.includes("bottom")?f+h:f+h/2)}return[a,i]}const nA=new Set(["desc","metadata","title"]),cx=r=>nA.has(r.nodeName),Av=(r,e,t={})=>{const a={...e};for(const i in a)a[i].valueOf()===t[i]&&delete a[i];Object.keys(a).length?r.node.setAttribute("data-svgjs",JSON.stringify(a)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},Gx="http://www.w3.org/2000/svg",Nu="http://www.w3.org/2000/xmlns/",ur="http://www.w3.org/1999/xlink",Ke={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function zl(){return Ke.window}let $x=class{};const en={},Kx="___SYMBOL___ROOT___";function bl(r,e=Gx){return Ke.document.createElementNS(e,r)}function ls(r,e=!1){if(r instanceof $x)return r;if(typeof r=="object")return Su(r);if(r==null)return new en[Kx];if(typeof r=="string"&&r.charAt(0)!=="<")return Su(Ke.document.querySelector(r));const t=e?Ke.document.createElement("div"):bl("svg");return t.innerHTML=r,r=Su(t.firstChild),t.removeChild(t.firstChild),r}function mt(r,e){return e&&(e instanceof Ke.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:bl(r)}function Fs(r){if(!r)return null;if(r.instance instanceof $x)return r.instance;if(r.nodeName==="#document-fragment")return new en.Fragment(r);let e=dr(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":en[e]||(e="Dom"),new en[e](r)}let Su=Fs;function Ze(r,e=r.name,t=!1){return en[e]=r,t&&(en[Kx]=r),Cv(Object.getOwnPropertyNames(r.prototype)),r}let rA=1e3;function Tv(r){return"Svgjs"+dr(r)+rA++}function _v(r){for(let e=r.children.length-1;e>=0;e--)_v(r.children[e]);return r.id&&(r.id=Tv(r.nodeName)),r}function Ee(r,e){let t,a;for(a=(r=Array.isArray(r)?r:[r]).length-1;a>=0;a--)for(t in e)r[a].prototype[t]=e[t]}function ft(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}Xe("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=ls(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=ls(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=ls(r)).before(this),this},insertAfter:function(r){return(r=ls(r)).after(this),this}});const Ev=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,lA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oA=/rgb\((\d+),(\d+),(\d+)\)/,cA=/(#[a-z_][a-z0-9\-_]*)/i,dA=/\)\s*,?\s*/,hA=/\s/g,W0=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,V0=/^rgb\(/,q0=/^(\s+)?$/,G0=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,uA=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Xa=/[\s,]+/,Zx=/[MLHVCSQTAZ]/i;function xA(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Kn(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function ku(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}Xe("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(Xa)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter((function(e){return e!==r})).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),Xe("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(a){return!!a.length})).forEach((function(a){const i=a.split(/\s*:\s*/);t[i[0]]=i[1]})),t;if(arguments.length<2){if(Array.isArray(r)){for(const a of r){const i=a;t[a]=this.node.style.getPropertyValue(i)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const a in r)this.node.style.setProperty(a,r[a]==null||q0.test(r[a])?"":r[a])}return arguments.length===2&&this.node.style.setProperty(r,e==null||q0.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Xe("Dom",{data:function(r,e,t){if(r==null)return this.data(qx((function(a,i){let o;const c=a.length,h=[];for(o=0;o<c;o++)i(a[o])&&h.push(a[o]);return h})(this.node.attributes,(a=>a.nodeName.indexOf("data-")===0)),(a=>a.nodeName.slice(5))));if(r instanceof Array){const a={};for(const i of r)a[i]=this.data(i);return a}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Xe("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});class dt{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof dt||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:a,round:i,sin:o,PI:c}=Math;if(e==="vibrant"){const h=24*a()+57,u=38*a()+45,x=360*a();return new dt(h,u,x,"lch")}if(e==="sine"){const h=i(80*o(2*c*(t=t??a())/.5+.01)+150),u=i(50*o(2*c*t/.5+4.6)+200),x=i(100*o(2*c*t/.5+2.3)+150);return new dt(h,u,x)}if(e==="pastel"){const h=8*a()+86,u=17*a()+9,x=360*a();return new dt(h,u,x,"lch")}if(e==="dark"){const h=10+10*a(),u=50*a()+86,x=360*a();return new dt(h,u,x,"lch")}if(e==="rgb"){const h=255*a(),u=255*a(),x=255*a();return new dt(h,u,x)}if(e==="lab"){const h=100*a(),u=256*a()-128,x=256*a()-128;return new dt(h,u,x,"lab")}if(e==="grey"){const h=255*a();return new dt(h,h,h)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(W0.test(e)||V0.test(e))}cmyk(){const{_a:e,_b:t,_c:a}=this.rgb(),[i,o,c]=[e,t,a].map((u=>u/255)),h=Math.min(1-i,1-o,1-c);return h===1?new dt(0,0,0,1,"cmyk"):new dt((1-i-h)/(1-h),(1-o-h)/(1-h),(1-c-h)/(1-h),h,"cmyk")}hsl(){const{_a:e,_b:t,_c:a}=this.rgb(),[i,o,c]=[e,t,a].map((p=>p/255)),h=Math.max(i,o,c),u=Math.min(i,o,c),x=(h+u)/2,f=h===u,m=h-u;return new dt(360*(f?0:h===i?((o-c)/m+(o<c?6:0))/6:h===o?((c-i)/m+2)/6:h===c?((i-o)/m+4)/6:0),100*(f?0:x>.5?m/(2-h-u):m/(h+u)),100*x,"hsl")}init(e=0,t=0,a=0,i=0,o="rgb"){if(e=e||0,this.space)for(const m in this.space)delete this[this.space[m]];if(typeof e=="number")o=typeof i=="string"?i:o,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:t,_c:a,_d:i,space:o});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const m=(function(p,b){const y=Kn(p,"rgb")?{_a:p.r,_b:p.g,_c:p.b,_d:0,space:"rgb"}:Kn(p,"xyz")?{_a:p.x,_b:p.y,_c:p.z,_d:0,space:"xyz"}:Kn(p,"hsl")?{_a:p.h,_b:p.s,_c:p.l,_d:0,space:"hsl"}:Kn(p,"lab")?{_a:p.l,_b:p.a,_c:p.b,_d:0,space:"lab"}:Kn(p,"lch")?{_a:p.l,_b:p.c,_c:p.h,_d:0,space:"lch"}:Kn(p,"cmyk")?{_a:p.c,_b:p.m,_c:p.y,_d:p.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return y.space=b||y.space,y})(e,t);Object.assign(this,m)}else if(typeof e=="string")if(V0.test(e)){const m=e.replace(hA,""),[p,b,y]=oA.exec(m).slice(1,4).map((w=>parseInt(w)));Object.assign(this,{_a:p,_b:b,_c:y,_d:0,space:"rgb"})}else{if(!W0.test(e))throw Error("Unsupported string format, can't construct Color");{const m=w=>parseInt(w,16),[,p,b,y]=lA.exec((function(w){return w.length===4?["#",w.substring(1,2),w.substring(1,2),w.substring(2,3),w.substring(2,3),w.substring(3,4),w.substring(3,4)].join(""):w})(e)).map(m);Object.assign(this,{_a:p,_b:b,_c:y,_d:0,space:"rgb"})}}const{_a:c,_b:h,_c:u,_d:x}=this,f=this.space==="rgb"?{r:c,g:h,b:u}:this.space==="xyz"?{x:c,y:h,z:u}:this.space==="hsl"?{h:c,s:h,l:u}:this.space==="lab"?{l:c,a:h,b:u}:this.space==="lch"?{l:c,c:h,h:u}:this.space==="cmyk"?{c,m:h,y:u,k:x}:{};Object.assign(this,f)}lab(){const{x:e,y:t,z:a}=this.xyz();return new dt(116*t-16,500*(e-t),200*(t-a),"lab")}lch(){const{l:e,a:t,b:a}=this.lab(),i=Math.sqrt(t**2+a**2);let o=180*Math.atan2(a,t)/Math.PI;return o<0&&(o*=-1,o=360-o),new dt(e,i,o,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:a,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:b,a:y,b:w}=this;if(this.space==="lch"){const{c:M,h:_}=this,D=Math.PI/180;y=M*Math.cos(D*_),w=M*Math.sin(D*_)}const k=(b+16)/116,C=y/500+k,S=k-w/200,A=16/116,T=.008856,L=7.787;t=.95047*(C**3>T?C**3:(C-A)/L),a=1*(k**3>T?k**3:(k-A)/L),i=1.08883*(S**3>T?S**3:(S-A)/L)}const o=3.2406*t+-1.5372*a+-.4986*i,c=-.9689*t+1.8758*a+.0415*i,h=.0557*t+-.204*a+1.057*i,u=Math.pow,x=.0031308,f=o>x?1.055*u(o,1/2.4)-.055:12.92*o,m=c>x?1.055*u(c,1/2.4)-.055:12.92*c,p=h>x?1.055*u(h,1/2.4)-.055:12.92*h;return new dt(255*f,255*m,255*p)}if(this.space==="hsl"){let{h:t,s:a,l:i}=this;if(t/=360,a/=100,i/=100,a===0)return i*=255,new dt(i,i,i);const o=i<.5?i*(1+a):i+a-i*a,c=2*i-o,h=255*ku(c,o,t+1/3),u=255*ku(c,o,t),x=255*ku(c,o,t-1/3);return new dt(h,u,x)}if(this.space==="cmyk"){const{c:t,m:a,y:i,k:o}=this,c=255*(1-Math.min(1,t*(1-o)+o)),h=255*(1-Math.min(1,a*(1-o)+o)),u=255*(1-Math.min(1,i*(1-o)+o));return new dt(c,h,u)}return this;var e}toArray(){const{_a:e,_b:t,_c:a,_d:i,space:o}=this;return[e,t,a,i,o]}toHex(){const[e,t,a]=this._clamped().map(xA);return`#${e}${t}${a}`}toRgb(){const[e,t,a]=this._clamped();return`rgb(${e},${t},${a})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:a}=this.rgb(),[i,o,c]=[e,t,a].map((k=>k/255)),h=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,x=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,f=(.4124*h+.3576*u+.1805*x)/.95047,m=(.2126*h+.7152*u+.0722*x)/1,p=(.0193*h+.1192*u+.9505*x)/1.08883,b=f>.008856?Math.pow(f,1/3):7.787*f+16/116,y=m>.008856?Math.pow(m,1/3):7.787*m+16/116,w=p>.008856?Math.pow(p,1/3):7.787*p+16/116;return new dt(b,y,w,"xyz")}_clamped(){const{_a:e,_b:t,_c:a}=this.rgb(),{max:i,min:o,round:c}=Math;return[e,t,a].map((h=>i(0,o(c(h),255))))}}class it{constructor(...e){this.init(...e)}clone(){return new it(this)}init(e,t){const o=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=o.x==null?0:o.x,this.y=o.y==null?0:o.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Te.isMatrixLike(e)||(e=new Te(e));const{x:t,y:a}=this;return this.x=e.a*t+e.c*a+e.e,this.y=e.b*t+e.d*a+e.f,this}}function Zn(r,e,t){return Math.abs(e-r)<1e-6}class Te{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,a=e.flip&&(t||e.flip==="x")?-1:1,i=e.flip&&(t||e.flip==="y")?-1:1,o=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,c=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,h=e.scale&&e.scale.length?e.scale[0]*a:isFinite(e.scale)?e.scale*a:isFinite(e.scaleX)?e.scaleX*a:a,u=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,x=e.shear||0,f=e.rotate||e.theta||0,m=new it(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),p=m.x,b=m.y,y=new it(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),w=y.x,k=y.y,C=new it(e.translate||e.tx||e.translateX,e.ty||e.translateY),S=C.x,A=C.y,T=new it(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:h,scaleY:u,skewX:o,skewY:c,shear:x,theta:f,rx:T.x,ry:T.y,tx:S,ty:A,ox:p,oy:b,px:w,py:k}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,a){const i=e.a*t.a+e.c*t.b,o=e.b*t.a+e.d*t.b,c=e.a*t.c+e.c*t.d,h=e.b*t.c+e.d*t.d,u=e.e+e.a*t.e+e.c*t.f,x=e.f+e.b*t.e+e.d*t.f;return a.a=i,a.b=o,a.c=c,a.d=h,a.e=u,a.f=x,a}around(e,t,a){return this.clone().aroundO(e,t,a)}aroundO(e,t,a){const i=e||0,o=t||0;return this.translateO(-i,-o).lmultiplyO(a).translateO(i,o)}clone(){return new Te(this)}decompose(e=0,t=0){const a=this.a,i=this.b,o=this.c,c=this.d,h=this.e,u=this.f,x=a*c-i*o,f=x>0?1:-1,m=f*Math.sqrt(a*a+i*i),p=Math.atan2(f*i,f*a),b=180/Math.PI*p,y=Math.cos(p),w=Math.sin(p),k=(a*o+i*c)/x,C=o*m/(k*a-i)||c*m/(k*i+a);return{scaleX:m,scaleY:C,shear:k,rotate:b,translateX:h-e+e*y*m+t*(k*y*m-w*C),translateY:u-t+e*w*m+t*(k*w*m+y*C),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Te(e);return Zn(this.a,t.a)&&Zn(this.b,t.b)&&Zn(this.c,t.c)&&Zn(this.d,t.d)&&Zn(this.e,t.e)&&Zn(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Te.fromArray([1,0,0,1,0,0]);return e=e instanceof Jt?e.matrixify():typeof e=="string"?Te.fromArray(e.split(Xa).map(parseFloat)):Array.isArray(e)?Te.fromArray(e):typeof e=="object"&&Te.isMatrixLike(e)?e:typeof e=="object"?new Te().transform(e):arguments.length===6?Te.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,a=this.c,i=this.d,o=this.e,c=this.f,h=e*i-t*a;if(!h)throw new Error("Cannot invert "+this);const u=i/h,x=-t/h,f=-a/h,m=e/h,p=-(u*o+f*c),b=-(x*o+m*c);return this.a=u,this.b=x,this.c=f,this.d=m,this.e=p,this.f=b,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Te?e:new Te(e);return Te.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Te?e:new Te(e);return Te.matrixMultiply(this,t,this)}rotate(e,t,a){return this.clone().rotateO(e,t,a)}rotateO(e,t=0,a=0){e=ju(e);const i=Math.cos(e),o=Math.sin(e),{a:c,b:h,c:u,d:x,e:f,f:m}=this;return this.a=c*i-h*o,this.b=h*i+c*o,this.c=u*i-x*o,this.d=x*i+u*o,this.e=f*i-m*o+a*o-t*i+t,this.f=m*i+f*o-t*o-a*i+a,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,a=0,i=0){arguments.length===3&&(i=a,a=t,t=e);const{a:o,b:c,c:h,d:u,e:x,f}=this;return this.a=o*e,this.b=c*t,this.c=h*e,this.d=u*t,this.e=x*e-a*e+a,this.f=f*t-i*t+i,this}shear(e,t,a){return this.clone().shearO(e,t,a)}shearO(e,t=0,a=0){const{a:i,b:o,c,d:h,e:u,f:x}=this;return this.a=i+o*e,this.c=c+h*e,this.e=u+x*e-a*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,a=0,i=0){arguments.length===3&&(i=a,a=t,t=e),e=ju(e),t=ju(t);const o=Math.tan(e),c=Math.tan(t),{a:h,b:u,c:x,d:f,e:m,f:p}=this;return this.a=h+u*o,this.b=u+h*c,this.c=x+f*o,this.d=f+x*c,this.e=m+p*o-i*o,this.f=p+m*c-a*c,this}skewX(e,t,a){return this.skew(e,0,t,a)}skewY(e,t,a){return this.skew(0,e,t,a)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Te.isMatrixLike(e))return new Te(e).multiplyO(this);const t=Te.formatTransforms(e),{x:a,y:i}=new it(t.ox,t.oy).transform(this),o=new Te().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-a,-i).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(a,i);if(isFinite(t.px)||isFinite(t.py)){const c=new it(a,i).transform(o),h=isFinite(t.px)?t.px-c.x:0,u=isFinite(t.py)?t.py-c.y:0;o.translateO(h,u)}return o.translateO(t.tx,t.ty),o}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function xi(){if(!xi.nodes){const r=ls().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;xi.nodes={svg:r,path:e}}if(!xi.nodes.svg.node.parentNode){const r=Ke.document.body||Ke.document.documentElement;xi.nodes.svg.addTo(r)}return xi.nodes}function Mv(r){return!(r.width||r.height||r.x||r.y)}Ze(Te,"Matrix");class Tt{constructor(...e){this.init(...e)}addOffset(){return this.x+=Ke.window.pageXOffset,this.y+=Ke.window.pageYOffset,new Tt(this)}init(e){return e=typeof e=="string"?e.split(Xa).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Mv(this)}merge(e){const t=Math.min(this.x,e.x),a=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-t,o=Math.max(this.y+this.height,e.y+e.height)-a;return new Tt(t,a,i,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Te||(e=new Te(e));let t=1/0,a=-1/0,i=1/0,o=-1/0;return[new it(this.x,this.y),new it(this.x2,this.y),new it(this.x,this.y2),new it(this.x2,this.y2)].forEach((function(c){c=c.transform(e),t=Math.min(t,c.x),a=Math.max(a,c.x),i=Math.min(i,c.y),o=Math.max(o,c.y)})),new Tt(t,i,a-t,o-i)}}function $0(r,e,t){let a;try{if(a=e(r.node),Mv(a)&&(i=r.node)!==Ke.document&&!(Ke.document.documentElement.contains||function(o){for(;o.parentNode;)o=o.parentNode;return o===Ke.document}).call(Ke.document.documentElement,i))throw new Error("Element not in the dom")}catch{a=t(r)}var i;return a}Xe({viewbox:{viewbox(r,e,t,a){return r==null?new Tt(this.attr("viewBox")):this.attr("viewBox",new Tt(r,e,t,a))},zoom(r,e){let{width:t,height:a}=this.attr(["width","height"]);if((t||a)&&typeof t!="string"&&typeof a!="string"||(t=this.node.clientWidth,a=this.node.clientHeight),!t||!a)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),o=t/i.width,c=a/i.height,h=Math.min(o,c);if(r==null)return h;let u=h/r;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),e=e||new it(t/2/o+i.x,a/2/c+i.y);const x=new Tt(i).transform(new Te({scale:u,origin:e}));return this.viewbox(x)}}}),Ze(Tt,"Box");class sn extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}Ee([sn],{each(r,...e){return typeof r=="function"?this.map(((t,a,i)=>r.call(t,t,a,i))):this.map((t=>t[r](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const gA=["toArray","constructor","each"];function rn(r,e){return new sn(qx((e||Ke.document).querySelectorAll(r),(function(t){return Fs(t)})))}sn.extend=function(r){r=r.reduce(((e,t)=>(gA.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...a){return this.each(t,...a)}),e)),{}),Ee([sn],r)};let fA=0;const Lv={};function zv(r){let e=r.getEventHolder();return e===Ke.window&&(e=Lv),e.events||(e.events={}),e.events}function Qx(r){return r.getEventTarget()}function Da(r,e,t,a,i){const o=t.bind(a||r),c=ls(r),h=zv(c),u=Qx(c);e=Array.isArray(e)?e:e.split(Xa),t._svgjsListenerId||(t._svgjsListenerId=++fA),e.forEach((function(x){const f=x.split(".")[0],m=x.split(".")[1]||"*";h[f]=h[f]||{},h[f][m]=h[f][m]||{},h[f][m][t._svgjsListenerId]=o,u.addEventListener(f,o,i||!1)}))}function Us(r,e,t,a){const i=ls(r),o=zv(i),c=Qx(i);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Xa)).forEach((function(h){const u=h&&h.split(".")[0],x=h&&h.split(".")[1];let f,m;if(t)o[u]&&o[u][x||"*"]&&(c.removeEventListener(u,o[u][x||"*"][t],a||!1),delete o[u][x||"*"][t]);else if(u&&x){if(o[u]&&o[u][x]){for(m in o[u][x])Us(c,[u,x].join("."),m);delete o[u][x]}}else if(x)for(h in o)for(f in o[h])x===f&&Us(c,[h,x].join("."));else if(u){if(o[u]){for(f in o[u])Us(c,[u,f].join("."));delete o[u]}}else{for(h in o)Us(c,h);(function(p){let b=p.getEventHolder();b===Ke.window&&(b=Lv),b.events&&(b.events={})})(i)}}))}class Dl extends $x{addEventListener(){}dispatch(e,t,a){return(function(i,o,c,h){const u=Qx(i);return o instanceof Ke.window.Event||(o=new Ke.window.CustomEvent(o,{detail:c,cancelable:!0,...h})),u.dispatchEvent(o),o})(this,e,t,a)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const a=t[e.type];for(const i in a)for(const o in a[i])a[i][o](e);return!e.defaultPrevented}fire(e,t,a){return this.dispatch(e,t,a),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,a){return Us(this,e,t,a),this}on(e,t,a,i){return Da(this,e,t,a,i),this}removeEventListener(){}}function K0(){}Ze(Dl,"EventTarget");const Cu=400,mA=">",pA=0,bA={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class an extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Xa).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Oe{constructor(...e){this.init(...e)}convert(e){return new Oe(this.value,e)}divide(e){return e=new Oe(e),new Oe(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(Ev))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Oe&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Oe(e),new Oe(this-e,this.unit||e.unit)}plus(e){return e=new Oe(e),new Oe(this+e,this.unit||e.unit)}times(e){return e=new Oe(e),new Oe(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const vA=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Dv=[];class ji extends Dl{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=ls(e)).removeNamespace&&this.node instanceof Ke.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return ls(e).put(this,t)}children(){return new sn(qx(this.node.children,(function(e){return Fs(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let a=this.node.cloneNode(e);return t&&(a=_v(a)),new this.constructor(a)}each(e,t){const a=this.children();let i,o;for(i=0,o=a.length;i<o;i++)e.apply(a[i],[i,a]),t&&a[i].each(e,t);return this}element(e,t){return this.put(new ji(bl(e),t))}first(){return Fs(this.node.firstChild)}get(e){return Fs(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=Tv(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Fs(this.node.lastChild)}matches(e){const t=this.node,a=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return a&&a.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Fs(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Fs(t.node.parentNode));return t}put(e,t){return e=ls(e),this.add(e,t),e}putIn(e,t){return ls(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=ls(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const a=10**e,i=this.attr(t);for(const o in i)typeof i[o]=="number"&&(i[o]=Math.round(i[o]*a)/a);return this.attr(i),this}svg(e,t){return this.xml(e,t,Gx)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const a=t.index(this);return t.put(e,a).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,a){if(typeof e=="boolean"&&(a=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let h=this;if(e!=null){if(h=Fs(h.node.cloneNode(!0)),t){const u=e(h);if(h=u||h,u===!1)return""}h.each((function(){const u=e(this),x=u||this;u===!1?this.remove():u&&this!==x&&this.replace(x)}),!0)}return t?h.node.outerHTML:h.node.innerHTML}t=t!=null&&t;const i=bl("wrapper",a),o=Ke.document.createDocumentFragment();i.innerHTML=e;for(let h=i.children.length;h--;)o.appendChild(i.firstElementChild);const c=this.parent();return t?this.replace(o)&&c:this.add(o)}}Ee(ji,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const a of e)r[a.nodeName]=G0.test(a.nodeValue)?parseFloat(a.nodeValue):a.nodeValue;return r}if(r instanceof Array)return r.reduce(((a,i)=>(a[i]=this.attr(i),a)),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?bA[r]:G0.test(e)?parseFloat(e):e;typeof(e=Dv.reduce(((a,i)=>i(r,a,this)),e))=="number"?e=new Oe(e):vA.has(r)&&dt.isColor(e)?e=new dt(e):e.constructor===Array&&(e=new an(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return rn(r,this.node)},findOne:function(r){return Fs(this.node.querySelector(r))}}),Ze(ji,"Dom");let Jt=class extends ji{constructor(r,e){super(r,e),this.dom={},this.node.instance=this,(r.hasAttribute("data-svgjs")||r.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(r.getAttribute("data-svgjs"))??JSON.parse(r.getAttribute("svgjs:data"))??{})}center(r,e){return this.cx(r).cy(e)}cx(r){return r==null?this.x()+this.width()/2:this.x(r-this.width()/2)}cy(r){return r==null?this.y()+this.height()/2:this.y(r-this.height()/2)}defs(){const r=this.root();return r&&r.defs()}dmove(r,e){return this.dx(r).dy(e)}dx(r=0){return this.x(new Oe(r).plus(this.x()))}dy(r=0){return this.y(new Oe(r).plus(this.y()))}getEventHolder(){return this}height(r){return this.attr("height",r)}move(r,e){return this.x(r).y(e)}parents(r=this.root()){const e=typeof r=="string";e||(r=ls(r));const t=new sn;let a=this;for(;(a=a.parent())&&a.node!==Ke.document&&a.nodeName!=="#document-fragment"&&(t.push(a),e||a.node!==r.node)&&(!e||!a.matches(r));)if(a.node===this.root().node)return null;return t}reference(r){if(!(r=this.attr(r)))return null;const e=(r+"").match(cA);return e?ls(e[1]):null}root(){const r=this.parent((function(e){return en[e]})(Kx));return r&&r.root()}setData(r){return this.dom=r,this}size(r,e){const t=hr(this,r,e);return this.width(new Oe(t.width)).height(new Oe(t.height))}width(r){return this.attr("width",r)}writeDataToDom(){return Av(this,this.dom),super.writeDataToDom()}x(r){return this.attr("x",r)}y(r){return this.attr("y",r)}};Ee(Jt,{bbox:function(){const r=$0(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(xi().svg).show(),a=t.node.getBBox();return t.remove(),a}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new Tt(r)},rbox:function(r){const e=$0(this,(a=>a.getBoundingClientRect()),(a=>{throw new Error(`Getting rbox of element "${a.node.nodeName}" is not possible`)})),t=new Tt(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new it(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Te(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new Te(e)}return new Te(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Te}}}),Ze(Jt,"Element");const ll={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach((function(r){const e={};let t;e[r]=function(a){if(a===void 0)return this.attr(r);if(typeof a=="string"||a instanceof dt||dt.isRgb(a)||a instanceof Jt)this.attr(r,a);else for(t=ll[r].length-1;t>=0;t--)a[ll[r][t]]!=null&&this.attr(ll.prefix(r,ll[r][t]),a[ll[r][t]]);return this},Xe(["Element","Runner"],e)})),Xe(["Element","Runner"],{matrix:function(r,e,t,a,i,o){return r==null?new Te(this):this.attr("transform",new Te(r,e,t,a,i,o))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,a){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:a},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,a){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:a},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),Xe("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new Oe(r)):this.rx(r).ry(e)}}),Xe("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new it(this.node.getPointAtLength(r))}}),Xe(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});Xe("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r}),{})),Xe("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(dA).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(Xa).map((function(a){return parseFloat(a)}))]})).reverse().reduce((function(e,t){return t[0]==="matrix"?e.lmultiply(Te.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Te)},toParent:function(r,e){if(this===r)return this;if(cx(this.node))return this.addTo(r,e);const t=this.screenCTM(),a=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(a.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const a=new Te(this).decompose();return r==null?a:a[r]}Te.isMatrixLike(r)||(r={...r,origin:ox(r,this)});const t=new Te(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});class ds extends Jt{flatten(){return this.each((function(){if(this instanceof ds)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each((function(a,i){return i[i.length-a-1].toParent(e,t)})),this.remove()}}Ze(ds,"Container");class Fc extends ds{constructor(e,t=e){super(mt("defs",e),t)}flatten(){return this}ungroup(){return this}}Ze(Fc,"Defs");class Ts extends Jt{}function Jx(r){return this.attr("rx",r)}function eg(r){return this.attr("ry",r)}function Rv(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function Ov(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function Hv(r){return this.attr("cx",r)}function Pv(r){return this.attr("cy",r)}function Bv(r){return r==null?2*this.rx():this.rx(new Oe(r).divide(2))}function Xv(r){return r==null?2*this.ry():this.ry(new Oe(r).divide(2))}Ze(Ts,"Shape");var yA=Object.freeze({__proto__:null,cx:Hv,cy:Pv,height:Xv,rx:Jx,ry:eg,width:Bv,x:Rv,y:Ov});class uc extends Ts{constructor(e,t=e){super(mt("ellipse",e),t)}size(e,t){const a=hr(this,e,t);return this.rx(new Oe(a.width).divide(2)).ry(new Oe(a.height).divide(2))}}Ee(uc,yA),Xe("Container",{ellipse:ft((function(r=0,e=r){return this.put(new uc).size(r,e).move(0,0)}))}),Ze(uc,"Ellipse");class Yv extends ji{constructor(e=Ke.document.createDocumentFragment()){super(e)}xml(e,t,a){if(typeof e=="boolean"&&(a=t,t=e,e=null),e==null||typeof e=="function"){const i=new ji(bl("wrapper",a));return i.add(this.node.cloneNode(!0)),i.xml(!1,a)}return super.xml(e,!1,a)}}function Fv(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Oe(r),fy:new Oe(e)}):this.attr({x1:new Oe(r),y1:new Oe(e)})}function Iv(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Oe(r),cy:new Oe(e)}):this.attr({x2:new Oe(r),y2:new Oe(e)})}Ze(Yv,"Fragment");var wA=Object.freeze({__proto__:null,from:Fv,to:Iv});class ul extends ds{constructor(e,t){super(mt(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,a){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,a)}bbox(){return new Tt}targets(){return rn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ee(ul,wA),Xe({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:ft((function(r,e){return this.put(new ul(r)).update(e)}))}}),Ze(ul,"Gradient");class vl extends ds{constructor(e,t=e){super(mt("pattern",e),t)}attr(e,t,a){return e==="transform"&&(e="patternTransform"),super.attr(e,t,a)}bbox(){return new Tt}targets(){return rn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Xe({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:ft((function(r,e,t){return this.put(new vl).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})}))}}),Ze(vl,"Pattern");let xc=class extends Ts{constructor(r,e=r){super(mt("image",r),e)}load(r,e){if(!r)return this;const t=new Ke.window.Image;return Da(t,"load",(function(a){const i=this.parent(vl);this.width()===0&&this.height()===0&&this.size(t.width,t.height),i instanceof vl&&i.width()===0&&i.height()===0&&i.size(this.width(),this.height()),typeof e=="function"&&e.call(this,a)}),this),Da(t,"load error",(function(){Us(t)})),this.attr("href",t.src=r,ur)}};var Z0;Z0=function(r,e,t){return r!=="fill"&&r!=="stroke"||uA.test(e)&&(e=t.root().defs().image(e)),e instanceof xc&&(e=t.root().defs().pattern(0,0,(a=>{a.add(e)}))),e},Dv.push(Z0),Xe({Container:{image:ft((function(r,e){return this.put(new xc).size(0,0).load(r,e)}))}}),Ze(xc,"Image");class Ni extends an{bbox(){let e=-1/0,t=-1/0,a=1/0,i=1/0;return this.forEach((function(o){e=Math.max(o[0],e),t=Math.max(o[1],t),a=Math.min(o[0],a),i=Math.min(o[1],i)})),new Tt(a,i,e-a,t-i)}move(e,t){const a=this.bbox();if(e-=a.x,t-=a.y,!isNaN(e)&&!isNaN(t))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Xa).map(parseFloat)).length%2!=0&&e.pop();for(let a=0,i=e.length;a<i;a+=2)t.push([e[a],e[a+1]]);return t}size(e,t){let a;const i=this.bbox();for(a=this.length-1;a>=0;a--)i.width&&(this[a][0]=(this[a][0]-i.x)*e/i.width+i.x),i.height&&(this[a][1]=(this[a][1]-i.y)*t/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,a=this.length;t<a;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Te.isMatrixLike(e)||(e=new Te(e));for(let t=this.length;t--;){const[a,i]=this[t];this[t][0]=e.a*a+e.c*i+e.e,this[t][1]=e.b*a+e.d*i+e.f}return this}}const jA=Ni;var tg=Object.freeze({__proto__:null,MorphArray:jA,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let $i=class extends Ts{constructor(r,e=r){super(mt("line",r),e)}array(){return new Ni([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,a){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:a}:new Ni(r).toLine(),this.attr(r))}size(r,e){const t=hr(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};Ee($i,tg),Xe({Container:{line:ft((function(...r){return $i.prototype.plot.apply(this.put(new $i),r[0]!=null?r:[0,0,0,0])}))}}),Ze($i,"Line");let gc=class extends ds{constructor(r,e=r){super(mt("marker",r),e)}height(r){return this.attr("markerHeight",r)}orient(r){return this.attr("orient",r)}ref(r,e){return this.attr("refX",r).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(r){return this.clear(),typeof r=="function"&&r.call(this,this),this}width(r){return this.attr("markerWidth",r)}};function Qn(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}Xe({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:ft((function(r,e,t){return this.put(new gc).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)}))},marker:{marker(r,e,t,a){let i=["marker"];return r!=="all"&&i.push(r),i=i.join("-"),r=arguments[1]instanceof gc?arguments[1]:this.defs().marker(e,t,a),this.attr(i,r)}}}),Ze(gc,"Marker");const NA={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,a){return function(i){return i<0?r>0?e/r*i:t>0?a/t*i:0:i>1?t<1?(1-a)/(1-t)*i+(a-t)/(1-t):r<1?(1-e)/(1-r)*i+(e-r)/(1-r):1:3*i*(1-i)**2*e+3*i**2*(1-i)*a+i**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(a,i=!1)=>{let o=Math.floor(a*r);const c=a*o%1==0;return e!=="start"&&e!=="both"||++o,i&&c&&--o,a>=0&&o<0&&(o=0),a<=1&&o>t&&(o=t),o/t}}};class sg{done(){return!1}}class dx extends sg{constructor(e=mA){super(),this.ease=NA[e]||e}step(e,t,a){return typeof e!="number"?a<1?e:t:e+(t-e)*this.ease(a)}}class Ac extends sg{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,a,i){return this.stepper(e,t,a,i)}}function Q0(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,a=Math.log(e/100+1e-10),i=-a/Math.sqrt(t*t+a*a),o=3.9/(i*r);this.d=2*i*o,this.k=o*o}Ee(class extends Ac{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,a){if(typeof r=="string")return r;if(a.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const i=a.velocity||0,o=-this.d*i-this.k*(r-e),c=r+i*t+o*t*t/2;return a.velocity=i+o*t,a.done=Math.abs(e-c)+Math.abs(i)<.002,a.done?e:c}},{duration:Qn("_duration",Q0),overshoot:Qn("_overshoot",Q0)});Ee(class extends Ac{constructor(r=.1,e=.01,t=0,a=1e3){super(),this.p(r).i(e).d(t).windup(a)}step(r,e,t,a){if(typeof r=="string")return r;if(a.done=t===1/0,t===1/0)return e;if(t===0)return r;const i=e-r;let o=(a.integral||0)+i*t;const c=(i-(a.error||0))/t,h=this._windup;return h!==!1&&(o=Math.max(-h,Math.min(o,h))),a.error=i,a.integral=o,a.done=Math.abs(i)<.001,a.done?e:r+(this.P*i+this.I*o+this.D*c)}},{windup:Qn("_windup"),p:Qn("P"),i:Qn("I"),d:Qn("D")});const SA={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},hx={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},Au="mlhvqtcsaz".split("");for(let r=0,e=Au.length;r<e;++r)hx[Au[r]]=(function(t){return function(a,i,o){if(t==="H")a[0]=a[0]+i.x;else if(t==="V")a[0]=a[0]+i.y;else if(t==="A")a[5]=a[5]+i.x,a[6]=a[6]+i.y;else for(let c=0,h=a.length;c<h;++c)a[c]=a[c]+(c%2?i.y:i.x);return hx[t](a,i,o)}})(Au[r].toUpperCase());function ux(r){return r.segment.length&&r.segment.length-1===SA[r.segment[0].toUpperCase()]}function kA(r,e){r.inNumber&&Vi(r,!1);const t=Zx.test(e);if(t)r.segment=[e];else{const a=r.lastCommand,i=a.toLowerCase(),o=a===i;r.segment=[i==="m"?o?"l":"L":a]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function Vi(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,ux(r)&&xx(r)}function xx(r){r.inSegment=!1,r.absolute&&(r.segment=(function(e){const t=e.segment[0];return hx[t](e.segment.slice(1),e.p,e.p0)})(r)),r.segments.push(r.segment)}function CA(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function AA(r){return r.lastToken.toUpperCase()==="E"}const TA=new Set([" ",",","	",`
`,"\r","\f"]);class Zs extends an{bbox(){return xi().path.setAttribute("d",this.toString()),new Tt(xi.nodes.path.getBBox())}move(e,t){const a=this.bbox();if(e-=a.x,t-=a.y,!isNaN(e)&&!isNaN(t))for(let i,o=this.length-1;o>=0;o--)i=this[o][0],i==="M"||i==="L"||i==="T"?(this[o][1]+=e,this[o][2]+=t):i==="H"?this[o][1]+=e:i==="V"?this[o][1]+=t:i==="C"||i==="S"||i==="Q"?(this[o][1]+=e,this[o][2]+=t,this[o][3]+=e,this[o][4]+=t,i==="C"&&(this[o][5]+=e,this[o][6]+=t)):i==="A"&&(this[o][6]+=e,this[o][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),(function(t,a=!0){let i=0,o="";const c={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:a,p0:new it,p:new it};for(;c.lastToken=o,o=t.charAt(i++);)if(c.inSegment||!kA(c,o))if(o!==".")if(isNaN(parseInt(o)))if(TA.has(o))c.inNumber&&Vi(c,!1);else if(o!=="-"&&o!=="+")if(o.toUpperCase()!=="E"){if(Zx.test(o)){if(c.inNumber)Vi(c,!1);else{if(!ux(c))throw new Error("parser Error");xx(c)}--i}}else c.number+=o,c.hasExponent=!0;else{if(c.inNumber&&!AA(c)){Vi(c,!1),--i;continue}c.number+=o,c.inNumber=!0}else{if(c.number==="0"||CA(c)){c.inNumber=!0,c.number=o,Vi(c,!0);continue}c.inNumber=!0,c.number+=o}else{if(c.pointSeen||c.hasExponent){Vi(c,!1),--i;continue}c.inNumber=!0,c.pointSeen=!0,c.number+=o}return c.inNumber&&Vi(c,!1),c.inSegment&&ux(c)&&xx(c),c.segments})(e)}size(e,t){const a=this.bbox();let i,o;for(a.width=a.width===0?1:a.width,a.height=a.height===0?1:a.height,i=this.length-1;i>=0;i--)o=this[i][0],o==="M"||o==="L"||o==="T"?(this[i][1]=(this[i][1]-a.x)*e/a.width+a.x,this[i][2]=(this[i][2]-a.y)*t/a.height+a.y):o==="H"?this[i][1]=(this[i][1]-a.x)*e/a.width+a.x:o==="V"?this[i][1]=(this[i][1]-a.y)*t/a.height+a.y:o==="C"||o==="S"||o==="Q"?(this[i][1]=(this[i][1]-a.x)*e/a.width+a.x,this[i][2]=(this[i][2]-a.y)*t/a.height+a.y,this[i][3]=(this[i][3]-a.x)*e/a.width+a.x,this[i][4]=(this[i][4]-a.y)*t/a.height+a.y,o==="C"&&(this[i][5]=(this[i][5]-a.x)*e/a.width+a.x,this[i][6]=(this[i][6]-a.y)*t/a.height+a.y)):o==="A"&&(this[i][1]=this[i][1]*e/a.width,this[i][2]=this[i][2]*t/a.height,this[i][6]=(this[i][6]-a.x)*e/a.width+a.x,this[i][7]=(this[i][7]-a.y)*t/a.height+a.y);return this}toString(){return(function(e){let t="";for(let a=0,i=e.length;a<i;a++)t+=e[a][0],e[a][1]!=null&&(t+=e[a][1],e[a][2]!=null&&(t+=" ",t+=e[a][2],e[a][3]!=null&&(t+=" ",t+=e[a][3],t+=" ",t+=e[a][4],e[a][5]!=null&&(t+=" ",t+=e[a][5],t+=" ",t+=e[a][6],e[a][7]!=null&&(t+=" ",t+=e[a][7])))));return t+" "})(this)}}const Uv=r=>{const e=typeof r;return e==="number"?Oe:e==="string"?dt.isColor(r)?dt:Xa.test(r)?Zx.test(r)?Zs:an:Ev.test(r)?Oe:gx:fx.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?an:e==="object"?yl:gx};class qi{constructor(e){this._stepper=e||new dx("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(Uv(e));let t=new this._type(e);return this._type===dt&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===yl&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(a){return a.done=!0,a})),t}}class gx{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Rl{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Rl.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Rl.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const _A=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class yl{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let a=0,i=t.length;a<i;++a){if(t[a+1]===e[a+1]){if(t[a+1]===dt&&e[a+7]!==t[a+7]){const h=e[a+7],u=new dt(this.values.splice(a+3,5))[h]().toArray();this.values.splice(a+3,0,...u)}a+=t[a+2]+2;continue}if(!e[a+1])return this;const o=new e[a+1]().toArray(),c=t[a+2]+3;t.splice(a,c,e[a],e[a+1],e[a+2],...o),a+=t[a+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const a in e){const i=Uv(e[a]),o=new i(e[a]).toArray();t.push([a,i,o.length,...o])}return t.sort(_A),this.values=t.reduce(((a,i)=>a.concat(i)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const a=t.shift(),i=t.shift(),o=t.shift(),c=t.splice(0,o);e[a]=new i(c)}return e}}const fx=[gx,Rl,yl];class tr extends Ts{constructor(e,t=e){super(mt("path",e),t)}array(){return this._array||(this._array=new Zs(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Zs(e))}size(e,t){const a=hr(this,e,t);return this.attr("d",this.array().size(a.width,a.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}tr.prototype.MorphArray=Zs,Xe({Container:{path:ft((function(r){return this.put(new tr).plot(r||new Zs)}))}}),Ze(tr,"Path");var Wv=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Ni(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new Ni(r))},size:function(r,e){const t=hr(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class Ki extends Ts{constructor(e,t=e){super(mt("polygon",e),t)}}Xe({Container:{polygon:ft((function(r){return this.put(new Ki).plot(r||new Ni)}))}}),Ee(Ki,tg),Ee(Ki,Wv),Ze(Ki,"Polygon");class Zi extends Ts{constructor(e,t=e){super(mt("polyline",e),t)}}Xe({Container:{polyline:ft((function(r){return this.put(new Zi).plot(r||new Ni)}))}}),Ee(Zi,tg),Ee(Zi,Wv),Ze(Zi,"Polyline");class fc extends Ts{constructor(e,t=e){super(mt("rect",e),t)}}Ee(fc,{rx:Jx,ry:eg}),Xe({Container:{rect:ft((function(r,e){return this.put(new fc).size(r,e)}))}}),Ze(fc,"Rect");class Tu{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const nt={nextDraw:null,frames:new Tu,timeouts:new Tu,immediates:new Tu,timer:()=>Ke.window.performance||Ke.window.Date,transforms:[],frame(r){const e=nt.frames.push({run:r});return nt.nextDraw===null&&(nt.nextDraw=Ke.window.requestAnimationFrame(nt._draw)),e},timeout(r,e){e=e||0;const t=nt.timer().now()+e,a=nt.timeouts.push({run:r,time:t});return nt.nextDraw===null&&(nt.nextDraw=Ke.window.requestAnimationFrame(nt._draw)),a},immediate(r){const e=nt.immediates.push(r);return nt.nextDraw===null&&(nt.nextDraw=Ke.window.requestAnimationFrame(nt._draw)),e},cancelFrame(r){r!=null&&nt.frames.remove(r)},clearTimeout(r){r!=null&&nt.timeouts.remove(r)},cancelImmediate(r){r!=null&&nt.immediates.remove(r)},_draw(r){let e=null;const t=nt.timeouts.last();for(;(e=nt.timeouts.shift())&&(r>=e.time?e.run():nt.timeouts.push(e),e!==t););let a=null;const i=nt.frames.last();for(;a!==i&&(a=nt.frames.shift());)a.run(r);let o=null;for(;o=nt.immediates.shift();)o();nt.nextDraw=nt.timeouts.first()||nt.frames.first()?Ke.window.requestAnimationFrame(nt._draw):null}},EA=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},MA=function(){const r=Ke.window;return(r.performance||r.Date).now()};class Vv extends Dl{constructor(e=MA){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const a=Math.abs(t);return this.speed(e?-a:a)}schedule(e,t,a){if(e==null)return this._runners.map(EA);let i=0;const o=this.getEndTime();if(t=t||0,a==null||a==="last"||a==="after")i=o;else if(a==="absolute"||a==="start")i=t,t=0;else if(a==="now")i=this._time;else if(a==="relative"){const u=this.getRunnerInfoById(e.id);u&&(i=u.start+t,t=0)}else{if(a!=="with-last")throw new Error('Invalid value for the "when" parameter');{const u=this.getLastRunnerInfo();i=u?u.start:this._time}}e.unschedule(),e.timeline(this);const c=e.persist(),h={persist:c===null?this._persist:c,start:i+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(h),this._runners.sort(((u,x)=>u.start-x.start)),this._runnerIds=this._runners.map((u=>u.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return nt.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=nt.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let a=t-this._lastSourceTime;e&&(a=0);const i=this._speed*a+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let c=this._runners.length;c--;){const h=this._runners[c],u=h.runner;this._time-h.start<=0&&u.reset()}let o=!1;for(let c=0,h=this._runners.length;c<h;c++){const u=this._runners[c],x=u.runner;let f=i;const m=this._time-u.start;if(m<=0){o=!0;continue}m<f&&(f=m),x.active()&&(x.step(f).done?u.persist!==!0&&x.duration()-x.time()+this._time+u.persist<this._time&&(x.unschedule(),--c,--h):o=!0)}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Xe({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new Vv,this._timeline):(this._timeline=r,this)}}});class As extends Dl{constructor(e){super(),this.id=As.id++,e=typeof(e=e??Cu)=="function"?new Ac(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Ac,this._stepper=this._isDeclarative?e:new dx,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Te,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,a){let i=1,o=!1,c=0;return t=t??pA,a=a||"last",typeof(e=e??Cu)!="object"||e instanceof sg||(t=e.delay??t,a=e.when??a,o=e.swing||o,i=e.times??i,c=e.wait??c,e=e.duration??Cu),{duration:e,delay:t,swing:o,times:i,wait:c,when:a}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,a){const i=As.sanitise(e,t,a),o=new As(i.duration);return this._timeline&&o.timeline(this._timeline),this._element&&o.element(this._element),o.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new Te,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new dx(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,a){return typeof e=="object"&&(t=e.swing,a=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=a||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const o=Math.floor(this._time/t),c=(this._time-o*t)/this._duration;return Math.min(o+c,this._times)}const a=e%1,i=t*Math.floor(e)+this._duration*a;return this.time(i)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,a=this._duration,i=this._wait,o=this._times,c=this._swing,h=this._reverse;let u;if(e==null){const m=function(b){const y=c*Math.floor(b%(2*(i+a))/(i+a)),w=y&&!h||!y&&h,k=Math.pow(-1,w)*(b%(i+a))/a+w;return Math.max(Math.min(k,1),0)},p=o*(i+a)-i;return u=t<=0?Math.round(m(1e-5)):t<p?m(t):Math.round(m(p-1e-5)),u}const x=Math.floor(this.loops()),f=c&&x%2==0;return u=x+(f&&!h||h&&f?e:1-e),this.loops(u)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,a,i){return this._queue.push({initialiser:e||K0,runner:t||K0,retarget:a,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,a){if(e instanceof Vv||(a=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,a),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),a=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const i=this.duration(),o=this._lastTime<=0&&this._time>0,c=this._lastTime<i&&this._time>=i;this._lastTime=this._time,o&&this.fire("start",this);const h=this._isDeclarative;this.done=!h&&!c&&this._time>=i,this._reseted=!1;let u=!1;return(a||h)&&(this._initialise(a),this.transforms=new Te,u=this._run(h?e:t),this.fire("step",this)),this.done=this.done||u&&h,c&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,a=this._queue.length;t<a;++t){const i=this._queue[t],o=this._isDeclarative||!i.initialised&&e;e=!i.finished,o&&e&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const a=this.timeline();a&&a.play()}}_run(e){let t=!0;for(let a=0,i=this._queue.length;a<i;++a){const o=this._queue[a],c=o.runner.call(this,e);o.finished=o.finished||c===!0,t=t&&o.finished}return t}_tryRetarget(e,t,a){if(this._history[e]){if(!this._history[e].caller.initialised){const o=this._queue.indexOf(this._history[e].caller);return this._queue.splice(o,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,a):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}As.id=0;class Tc{constructor(e=new Te,t=-1,a=!0){this.transforms=e,this.id=t,this.done=a}clearTransformsFromQueue(){}}Ee([As,Tc],{mergeWith(r){return new Tc(r.transforms.lmultiply(this.transforms),r.id)}});const qv=(r,e)=>r.lmultiplyO(e),Gv=r=>r.transforms;function LA(){const r=this._transformationRunners.runners.map(Gv).reduce(qv,new Te);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class zA{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Tc).forEach((a=>a.clearTransformsFromQueue())),this}edit(e,t){const a=this.ids.indexOf(e+1);return this.ids.splice(a,1,e+1),this.runners.splice(a,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const a=this.runners[t];if(e&&a.done&&e.done&&(!a._timeline||!a._timeline._runnerIds.includes(a.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(a.id);const i=a.mergeWith(e);this.edit(e.id,i),e=i,--t}else e=a}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Xe({Element:{animate(r,e,t){const a=As.sanitise(r,e,t),i=this.timeline();return new As(a.duration).loop(a).element(this).timeline(i.play()).schedule(a.delay,a.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter((e=>e.id<=r.id)).map(Gv).reduce(qv,new Te)},_addRunner(r){this._transformationRunners.add(r),nt.cancelImmediate(this._frameId),this._frameId=nt.immediate(LA.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new zA().add(new Tc(new Te(this))))}}});Ee(As,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let a=e;if(this._tryRetarget(r,a))return this;let i=new qi(this._stepper).to(a),o=Object.keys(a);return this.queue((function(){i=i.from(this.element()[r](o))}),(function(c){return this.element()[r](i.at(c).valueOf()),i.done()}),(function(c){const h=Object.keys(c),u=(x=o,h.filter((m=>!x.includes(m))));var x;if(u.length){const m=this.element()[r](u),p=new yl(i.from()).valueOf();Object.assign(p,m),i.from(p)}const f=new yl(i.to()).valueOf();Object.assign(f,c),i.to(f),o=h,a=c})),this._rememberMorpher(r,i),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new qi(this._stepper).to(new Oe(r));return this.queue((function(){t=t.from(this.element().zoom())}),(function(a){return this.element().zoom(t.at(a),e),t.done()}),(function(a,i){e=i,t.to(a)})),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const a=Te.isMatrixLike(r);t=r.affine!=null?r.affine:t??!a;const i=new qi(this._stepper).type(t?Rl:Te);let o,c,h,u,x;return this.queue((function(){c=c||this.element(),o=o||ox(r,c),x=new Te(e?void 0:c),c._addRunner(this),e||c._clearTransformRunnersBefore(this)}),(function(f){e||this.clearTransform();const{x:m,y:p}=new it(o).transform(c._currentTransform(this));let b=new Te({...r,origin:[m,p]}),y=this._isDeclarative&&h?h:x;if(t){b=b.decompose(m,p),y=y.decompose(m,p);const k=b.rotate,C=y.rotate,S=[k-360,k,k+360],A=S.map((M=>Math.abs(M-C))),T=Math.min(...A),L=A.indexOf(T);b.rotate=S[L]}e&&(a||(b.rotate=r.rotate||0),this._isDeclarative&&u&&(y.rotate=u)),i.from(y),i.to(b);const w=i.at(f);return u=w.rotate,h=new Te(w),this.addTransform(h),c._addRunner(this),i.done()}),(function(f){(f.origin||"center").toString()!==(r.origin||"center").toString()&&(o=ox(f,c)),r={...f,origin:o}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new Oe(e),this._tryRetarget(r,e))return this;const t=new qi(this._stepper).to(e);let a=null;return this.queue((function(){a=this.element()[r](),t.from(a),t.to(a+e)}),(function(i){return this.element()[r](t.at(i)),t.done()}),(function(i){t.to(a+new Oe(i))})),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new qi(this._stepper).to(e);return this.queue((function(){t.from(this.element()[r]())}),(function(a){return this.element()[r](t.at(a)),t.done()})),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new Oe(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,a){if(arguments.length===4)return this.plot([r,e,t,a]);if(this._tryRetarget("plot",r))return this;const i=new qi(this._stepper).type(this._element.MorphArray).to(r);return this.queue((function(){i.from(this._element.array())}),(function(o){return this._element.plot(i.at(o)),i.done()})),this._rememberMorpher("plot",i),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,a){return this._queueObject("viewbox",new Tt(r,e,t,a))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),Ee(As,{rx:Jx,ry:eg,from:Fv,to:Iv}),Ze(As,"Runner");class mx extends ds{constructor(e,t=e){super(mt("svg",e),t),this.namespace()}defs(){return this.isRoot()?Fs(this.node.querySelector("defs"))||this.put(new Fc):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Ke.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Gx,version:"1.1"}).attr("xmlns:xlink",ur,Nu):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Nu).attr("xmlns:svgjs",null,Nu)}root(){return this.isRoot()?this:super.root()}}Xe({Container:{nested:ft((function(){return this.put(new mx)}))}}),Ze(mx,"Svg",!0);let px=class extends ds{constructor(r,e=r){super(mt("symbol",r),e)}};Xe({Container:{symbol:ft((function(){return this.put(new px)}))}}),Ze(px,"Symbol");var $v=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(Ke.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class Qs extends Ts{constructor(e,t=e){super(mt("text",e),t),this.dom.leading=this.dom.leading??new Oe(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Oe(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let a=0;const i=this.dom.leading;this.each((function(o){if(cx(this.node))return;const c=Ke.window.getComputedStyle(this.node).getPropertyValue("font-size"),h=i*new Oe(c);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?a+=h:(this.attr("dy",o?h+a:0),a=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Oe(e.leading||1.3),this}writeDataToDom(){return Av(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let a=0;e="";for(let i=0,o=t.length;i<o;++i)t[i].nodeName==="textPath"||cx(t[i])?i===0&&(a=i+1):(i!==a&&t[i].nodeType!==3&&Fs(t[i]).dom.newLined===!0&&(e+=`
`),e+=t[i].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,a=(e=(e+"").split(`
`)).length;t<a;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Ee(Qs,$v),Xe({Container:{text:ft((function(r=""){return this.put(new Qs).text(r)})),plain:ft((function(r=""){return this.put(new Qs).plain(r)}))}}),Ze(Qs,"Text");class mc extends Ts{constructor(e,t=e){super(mt("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Qs))return this;const t=e.index(this),a=Ke.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new Oe(a);return this.dy(t?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Ee(mc,$v),Xe({Tspan:{tspan:ft((function(r=""){const e=new mc;return this._build||this.clear(),this.put(e).text(r)}))},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),Ze(mc,"Tspan");class _u extends Ts{constructor(e,t=e){super(mt("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Oe(e).divide(2))}}Ee(_u,{x:Rv,y:Ov,cx:Hv,cy:Pv,width:Bv,height:Xv}),Xe({Container:{circle:ft((function(r=0){return this.put(new _u).size(r).move(0,0)}))}}),Ze(_u,"Circle");class Eu extends ds{constructor(e,t=e){super(mt("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return rn("svg [clip-path*="+this.id()+"]")}}Xe({Container:{clip:ft((function(){return this.defs().put(new Eu)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof Eu?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Ze(Eu,"ClipPath");class J0 extends Jt{constructor(e,t=e){super(mt("foreignObject",e),t)}}Xe({Container:{foreignObject:ft((function(r,e){return this.put(new J0).size(r,e)}))}}),Ze(J0,"ForeignObject");var Kv=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach((t=>{let a;try{a=t.node instanceof zl().SVGSVGElement?new Tt(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const i=new Te(t),o=i.translate(r,e).transform(i.inverse()),c=new it(a.x,a.y).transform(o);t.move(c.x,c.y)})),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const a=r-t.x,i=e-t.y;return this.dmove(a,i)},size:function(r,e,t=this.bbox()){const a=hr(this,r,e,t),i=a.width/t.width,o=a.height/t.height;return this.children().forEach((c=>{const h=new it(t).transform(new Te(c).inverse());c.scale(i,o,h.x,h.y)})),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class pi extends ds{constructor(e,t=e){super(mt("g",e),t)}}Ee(pi,Kv),Xe({Container:{group:ft((function(){return this.put(new pi)}))}}),Ze(pi,"G");class rc extends ds{constructor(e,t=e){super(mt("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,ur)}}Ee(rc,Kv),Xe({Container:{link:ft((function(r){return this.put(new rc).to(r)}))},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new rc,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),Ze(rc,"A");class Mu extends ds{constructor(e,t=e){super(mt("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return rn("svg [mask*="+this.id()+"]")}}Xe({Container:{mask:ft((function(){return this.defs().put(new Mu)}))},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof Mu?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Ze(Mu,"Mask");class eb extends Jt{constructor(e,t=e){super(mt("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Oe)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Oe(e.offset)),this}}Xe({Gradient:{stop:function(r,e,t){return this.put(new eb).update(r,e,t)}}}),Ze(eb,"Stop");class Lu extends Jt{constructor(e,t=e){super(mt("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,a={}){return this.rule("@font-face",{fontFamily:e,src:t,...a})}rule(e,t){return this.addText((function(a,i){if(!a)return"";if(!i)return a;let o=a+"{";for(const c in i)o+=c.replace(/([A-Z])/g,(function(h,u){return"-"+u.toLowerCase()}))+":"+i[c]+";";return o+="}",o})(e,t))}}Xe("Dom",{style(r,e){return this.put(new Lu).rule(r,e)},fontface(r,e,t){return this.put(new Lu).font(r,e,t)}}),Ze(Lu,"Style");class zu extends Qs{constructor(e,t=e){super(mt("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let a=null;return t&&(a=t.plot(e)),e==null?a:this}track(){return this.reference("href")}}Xe({Container:{textPath:ft((function(r,e){return r instanceof Qs||(r=this.text(r)),r.path(e)}))},Text:{path:ft((function(r,e=!0){const t=new zu;let a;if(r instanceof tr||(r=this.defs().path(r)),t.attr("href","#"+r,ur),e)for(;a=this.node.firstChild;)t.node.appendChild(a);return this.put(t)})),textPath(){return this.findOne("textPath")}},Path:{text:ft((function(r){return r instanceof Qs||(r=new Qs().addTo(this.parent()).text(r)),r.path(this)})),targets(){return rn("svg textPath").filter((r=>(r.attr("href")||"").includes(this.id())))}}}),zu.prototype.MorphArray=Zs,Ze(zu,"TextPath");class tb extends Ts{constructor(e,t=e){super(mt("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,ur)}}Xe({Container:{use:ft((function(r,e){return this.put(new tb).use(r,e)}))}}),Ze(tb,"Use");const DA=ls;Ee([mx,px,xc,vl,gc],bs("viewbox")),Ee([$i,Zi,Ki,tr],bs("marker")),Ee(Qs,bs("Text")),Ee(tr,bs("Path")),Ee(Fc,bs("Defs")),Ee([Qs,mc],bs("Tspan")),Ee([fc,uc,ul,As],bs("radius")),Ee(Dl,bs("EventTarget")),Ee(ji,bs("Dom")),Ee(Jt,bs("Element")),Ee(Ts,bs("Shape")),Ee([ds,Yv],bs("Container")),Ee(ul,bs("Gradient")),Ee(As,bs("Runner")),sn.extend([...new Set(kv)]),(function(r=[]){fx.push(...[].concat(r))})([Oe,dt,Tt,Te,an,Ni,Zs,it]),Ee(fx,{to(r){return new qi().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,a,i){return this.fromArray(r.map((function(o,c){return a.step(o,e[c],t,i[c],i)})))}});class vt extends Jt{constructor(e){super(mt("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return rn('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class ag extends Jt{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Ys=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},RA={blend:Ys(["in","in2","mode"]),colorMatrix:Ys(["type","values"]),composite:Ys(["in","in2","operator"]),convolveMatrix:function(r){r=new an(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:Ys(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Ys(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Ys(["in","dx","dy","stdDeviation"]),flood:Ys(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,ur)},morphology:Ys(["operator","radius"]),offset:Ys(["dx","dy"]),specularLighting:Ys(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Ys([]),turbulence:Ys(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((r=>{const e=dr(r),t=RA[r];vt[e+"Effect"]=class extends ag{constructor(a){super(mt("fe"+e,a),a)}update(a){return t.apply(this,a),this}},vt.prototype[r]=ft((function(a,...i){const o=new vt[e+"Effect"];return a==null?this.put(o):(typeof a=="function"?a.call(o,o):i.unshift(a),this.put(o).update(i))}))})),Ee(vt,{merge(r){const e=this.put(new vt.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach((t=>{t instanceof vt.MergeNode?e.put(t):e.mergeNode(t)})),e)},componentTransfer(r={}){const e=this.put(new vt.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new vt["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((r=>{const e=dr(r);vt[e]=class extends ag{constructor(t){super(mt("fe"+e,t),t)}}}));["funcR","funcG","funcB","funcA"].forEach((function(r){const e=vt[dr(r)],t=ft((function(){return this.put(new e)}));vt.ComponentTransferEffect.prototype[r]=t}));["distantLight","pointLight","spotLight"].forEach((r=>{const e=vt[dr(r)],t=ft((function(){return this.put(new e)}));vt.DiffuseLightingEffect.prototype[r]=t,vt.SpecularLightingEffect.prototype[r]=t})),Ee(vt.MergeEffect,{mergeNode(r){return this.put(new vt.MergeNode).attr("in",r)}}),Ee(Fc,{filter:function(r){const e=this.put(new vt);return typeof r=="function"&&r.call(e,e),e}}),Ee(ds,{filter:function(r){return this.defs().filter(r)}}),Ee(Jt,{filterWith:function(r){const e=r instanceof vt?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const OA={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,a){return this.parent()&&this.parent().diffuseLighting(r,t,a).in(this)},displacementMap:function(r,e,t,a){return this.parent()&&this.parent().displacementMap(this,r,e,t,a)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,a,i){return this.parent()&&this.parent().specularLighting(r,t,a,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,a,i){return this.parent()&&this.parent().turbulence(r,e,t,a,i).in(this)}};Ee(ag,OA),Ee(vt.MergeEffect,{in:function(r){return r instanceof vt.MergeNode?this.add(r,0):this.add(new vt.MergeNode().in(r),0),this}}),Ee([vt.CompositeEffect,vt.BlendEffect,vt.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),vt.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Qt=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"getDefaultFilter",value:function(e,t){var a=this.w;e.unfilter(!0),new vt().size("120%","180%","-5%","-40%"),a.config.chart.dropShadow.enabled&&this.dropShadow(e,a.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,a){var i,o=this,c=this.w;if(e.unfilter(!0),a!=="none"){var h,u,x=c.config.chart.dropShadow,f=a==="lighten"?2:.3;e.filterWith((function(m){m.colorMatrix({type:"matrix",values:`
          `.concat(f,` 0 0 0 0
          0 `).concat(f,` 0 0 0
          0 0 `).concat(f,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),x.enabled&&o.addShadow(m,t,x,"brightness")})),!x.noUserSpaceOnUse&&((h=e.filterer())===null||h===void 0||(u=h.node)===null||u===void 0||u.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,a,i){var o,c=this.w,h=a.blur,u=a.top,x=a.left,f=a.color,m=a.opacity;if(f=Array.isArray(f)?f[t]:f,((o=c.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.length)>0&&c.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:i,dx:x,dy:u,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:h,result:"blur"}),e.flood({"flood-color":f,"flood-opacity":m,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",i])}},{key:"dropShadow",value:function(e,t){var a,i,o,c,h,u=this,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,f=this.w;return e.unfilter(!0),J.isMsEdge()&&f.config.chart.type==="radialBar"||((a=f.config.chart.dropShadow.enabledOnSeries)===null||a===void 0?void 0:a.length)>0&&((o=f.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.indexOf(x))===-1?e:(e.filterWith((function(m){u.addShadow(m,x,t,"SourceGraphic")})),t.noUserSpaceOnUse||(c=e.filterer())===null||c===void 0||(h=c.node)===null||h===void 0||h.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node),e)}},{key:"setSelectionFilter",value:function(e,t,a){var i=this.w;if(i.globals.selectedDataPoints[t]!==void 0&&i.globals.selectedDataPoints[t].indexOf(a)>-1){e.node.setAttribute("selected",!0);var o=i.config.states.active.filter;o!=="none"&&this.applyFilter(e,t,o.type)}}},{key:"_scaleFilterSize",value:function(e){e&&(function(t){for(var a in t)t.hasOwnProperty(a)&&e.setAttribute(a,t[a])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r})(),me=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"roundPathCorners",value:function(e,t){function a(D,H,z){var B=H.x-D.x,P=H.y-D.y,W=Math.sqrt(B*B+P*P);return i(D,H,Math.min(1,z/W))}function i(D,H,z){return{x:D.x+(H.x-D.x)*z,y:D.y+(H.y-D.y)*z}}function o(D,H){D.length>2&&(D[D.length-2]=H.x,D[D.length-1]=H.y)}function c(D){return{x:parseFloat(D[D.length-2]),y:parseFloat(D[D.length-1])}}e.indexOf("NaN")>-1&&(e="");var h=e.split(/[,\s]/).reduce((function(D,H){var z=H.match(/^([a-zA-Z])(.+)/);return z?(D.push(z[1]),D.push(z[2])):D.push(H),D}),[]).reduce((function(D,H){return parseFloat(H)==H&&D.length?D[D.length-1].push(H):D.push([H]),D}),[]),u=[];if(h.length>1){var x=c(h[0]),f=null;h[h.length-1][0]=="Z"&&h[0].length>2&&(f=["L",x.x,x.y],h[h.length-1]=f),u.push(h[0]);for(var m=1;m<h.length;m++){var p=u[u.length-1],b=h[m],y=b==f?h[1]:h[m+1];if(y&&p&&p.length>2&&b[0]=="L"&&y.length>2&&y[0]=="L"){var w,k,C=c(p),S=c(b),A=c(y);w=a(S,C,t),k=a(S,A,t),o(b,w),b.origPoint=S,u.push(b);var T=i(w,S,.5),L=i(S,k,.5),M=["C",T.x,T.y,L.x,L.y,k.x,k.y];M.origPoint=S,u.push(M)}else u.push(b)}if(f){var _=c(u[u.length-1]);u.push(["Z"]),o(u[0],_)}}else u=h;return u.reduce((function(D,H){return D+H.join(" ")+" "}),"")}},{key:"drawLine",value:function(e,t,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:a,y2:i,stroke:o,"stroke-dasharray":c,"stroke-width":h,"stroke-linecap":u})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,x=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,f=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,m=this.w.globals.dom.Paper.rect();return m.attr({x:e,y:t,width:a>0?a:0,height:i>0?i:0,rx:o,ry:o,opacity:h,"stroke-width":u!==null?u:0,stroke:x!==null?x:"none","stroke-dasharray":f}),m.node.setAttribute("fill",c),m}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":a})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var a=this.w.globals.dom.Paper.circle(2*e);return t!==null&&a.attr(t),a}},{key:"drawPath",value:function(e){var t=e.d,a=t===void 0?"":t,i=e.stroke,o=i===void 0?"#a8a8a8":i,c=e.strokeWidth,h=c===void 0?1:c,u=e.fill,x=e.fillOpacity,f=x===void 0?1:x,m=e.strokeOpacity,p=m===void 0?1:m,b=e.classes,y=e.strokeLinecap,w=y===void 0?null:y,k=e.strokeDashArray,C=k===void 0?0:k,S=this.w;return w===null&&(w=S.config.stroke.lineCap),(a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a="M 0 ".concat(S.globals.gridHeight)),S.globals.dom.Paper.path(a).attr({fill:u,"fill-opacity":f,stroke:o,"stroke-opacity":p,"stroke-linecap":w,"stroke-width":h,"stroke-dasharray":C,class:b})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var a=["M",e,t].join(" ");return a}},{key:"line",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=null;return a===null?i=[" L",e,t].join(" "):a==="H"?i=[" H",e].join(" "):a==="V"&&(i=[" V",t].join(" ")),i}},{key:"curve",value:function(e,t,a,i,o,c){var h=["C",e,t,a,i,o,c].join(" ");return h}},{key:"quadraticCurve",value:function(e,t,a,i){return["Q",e,t,a,i].join(" ")}},{key:"arc",value:function(e,t,a,i,o,c,h){var u="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(u="a");var x=[u,e,t,a,i,o,c,h].join(" ");return x}},{key:"renderPaths",value:function(e){var t,a=e.j,i=e.realIndex,o=e.pathFrom,c=e.pathTo,h=e.stroke,u=e.strokeWidth,x=e.strokeLinecap,f=e.fill,m=e.animationDelay,p=e.initialSpeed,b=e.dataChangeSpeed,y=e.className,w=e.chartType,k=e.shouldClipToGrid,C=k===void 0||k,S=e.bindEventsOnPaths,A=S===void 0||S,T=e.drawShadow,L=T===void 0||T,M=this.w,_=new Qt(this.ctx),D=new cr(this.ctx),H=this.w.config.chart.animations.enabled,z=H&&this.w.config.chart.animations.dynamicAnimation.enabled;if(o&&o.startsWith("M 0 0")&&c){var B=c.match(/^M\s+[\d.-]+\s+[\d.-]+/);B&&(o=o.replace(/^M\s+0\s+0/,B[0]))}var P=!!(H&&!M.globals.resized||z&&M.globals.dataChanged&&M.globals.shouldAnimate);P?t=o:(t=c,M.globals.animationEnded=!0);var W=M.config.stroke.dashArray,V=0;V=Array.isArray(W)?W[i]:M.config.stroke.dashArray;var Q=this.drawPath({d:t,stroke:h,strokeWidth:u,fill:f,fillOpacity:1,classes:y,strokeLinecap:x,strokeDashArray:V});Q.attr("index",i),C&&(w==="bar"&&!M.globals.isHorizontal||M.globals.comboCharts?Q.attr({"clip-path":"url(#gridRectBarMask".concat(M.globals.cuid,")")}):Q.attr({"clip-path":"url(#gridRectMask".concat(M.globals.cuid,")")})),M.config.chart.dropShadow.enabled&&L&&_.dropShadow(Q,M.config.chart.dropShadow,i),A&&(Q.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Q)),Q.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Q)),Q.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Q))),Q.attr({pathTo:c,pathFrom:o});var F={el:Q,j:a,realIndex:i,pathFrom:o,pathTo:c,fill:f,strokeWidth:u,delay:m};return!H||M.globals.resized||M.globals.dataChanged?!M.globals.resized&&M.globals.dataChanged||D.showDelayedElements():D.animatePathsGradually(be(be({},F),{},{speed:p})),M.globals.dataChanged&&z&&P&&D.animatePathsGradually(be(be({},F),{},{speed:b})),Q}},{key:"drawPattern",value:function(e,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,a,(function(c){e==="horizontalLines"?c.line(0,0,a,0).stroke({color:i,width:o+1}):e==="verticalLines"?c.line(0,0,0,t).stroke({color:i,width:o+1}):e==="slantedLines"?c.line(0,0,t,a).stroke({color:i,width:o}):e==="squares"?c.rect(t,a).fill("none").stroke({color:i,width:o}):e==="circles"&&c.circle(t).fill("none").stroke({color:i,width:o})}))}},{key:"drawGradient",value:function(e,t,a,i,o){var c,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,x=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,m=this.w;t.length<9&&t.indexOf("#")===0&&(t=J.hexToRgba(t,i)),a.length<9&&a.indexOf("#")===0&&(a=J.hexToRgba(a,o));var p=0,b=1,y=1,w=null;u!==null&&(p=u[0]!==void 0?u[0]/100:0,b=u[1]!==void 0?u[1]/100:1,y=u[2]!==void 0?u[2]/100:1,w=u[3]!==void 0?u[3]/100:null);var k=!(m.config.chart.type!=="donut"&&m.config.chart.type!=="pie"&&m.config.chart.type!=="polarArea"&&m.config.chart.type!=="bubble");if(c=x&&x.length!==0?m.globals.dom.Paper.gradient(k?"radial":"linear",(function(A){(Array.isArray(x[f])?x[f]:x).forEach((function(T){A.stop(T.offset/100,T.color,T.opacity)}))})):m.globals.dom.Paper.gradient(k?"radial":"linear",(function(A){A.stop(p,t,i),A.stop(b,a,o),A.stop(y,a,o),w!==null&&A.stop(w,t,i)})),k){var C=m.globals.gridWidth/2,S=m.globals.gridHeight/2;m.config.chart.type!=="bubble"?c.attr({gradientUnits:"userSpaceOnUse",cx:C,cy:S,r:h}):c.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?c.from(0,0).to(0,1):e==="diagonal"?c.from(0,0).to(1,1):e==="horizontal"?c.from(0,1).to(1,1):e==="diagonal2"&&c.from(1,0).to(0,1);return c}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,a=e.maxWidth,i=e.fontSize,o=e.fontFamily,c=this.getTextRects(t,i,o),h=c.width/t.length,u=Math.floor(a/h);return a<c.width?t.slice(0,u-3)+"...":t}},{key:"drawText",value:function(e){var t=this,a=e.x,i=e.y,o=e.text,c=e.textAnchor,h=e.fontSize,u=e.fontFamily,x=e.fontWeight,f=e.foreColor,m=e.opacity,p=e.maxWidth,b=e.cssClass,y=b===void 0?"":b,w=e.isPlainText,k=w===void 0||w,C=e.dominantBaseline,S=C===void 0?"auto":C,A=this.w;o===void 0&&(o="");var T=o;c||(c="start"),f&&f.length||(f=A.config.chart.foreColor),u=u||A.config.chart.fontFamily,x=x||"regular";var L,M={maxWidth:p,fontSize:h=h||"11px",fontFamily:u};return Array.isArray(o)?L=A.globals.dom.Paper.text((function(_){for(var D=0;D<o.length;D++)T=o[D],p&&(T=t.getTextBasedOnMaxWidth(be({text:o[D]},M))),D===0?_.tspan(T):_.tspan(T).newLine()})):(p&&(T=this.getTextBasedOnMaxWidth(be({text:o},M))),L=k?A.globals.dom.Paper.plain(o):A.globals.dom.Paper.text((function(_){return _.tspan(T)}))),L.attr({x:a,y:i,"text-anchor":c,"dominant-baseline":S,"font-size":h,"font-family":u,"font-weight":x,fill:f,class:"apexcharts-text "+y}),L.node.style.fontFamily=u,L.node.style.opacity=m,L}},{key:"getMarkerPath",value:function(e,t,a,i){var o="";switch(a){case"cross":o="M ".concat(e-(i/=1.4)," ").concat(t-i," L ").concat(e+i," ").concat(t+i,"  M ").concat(e-i," ").concat(t+i," L ").concat(e+i," ").concat(t-i);break;case"plus":o="M ".concat(e-(i/=1.12)," ").concat(t," L ").concat(e+i," ").concat(t,"  M ").concat(e," ").concat(t-i," L ").concat(e," ").concat(t+i);break;case"star":case"sparkle":var c=5;i*=1.15,a==="sparkle"&&(i/=1.1,c=4);for(var h=Math.PI/c,u=0;u<=2*c;u++){var x=u*h,f=u%2==0?i:i/2;o+=(u===0?"M":"L")+(e+f*Math.sin(x))+","+(t-f*Math.cos(x))}o+="Z";break;case"triangle":o="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t+i,` 
             Z`);break;case"square":case"rect":o="M ".concat(e-(i/=1.125)," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t+i,` 
           L `).concat(e-i," ").concat(t+i,` 
           Z`);break;case"diamond":i*=1.05,o="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t,` 
             L `).concat(e," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t,` 
            Z`);break;case"line":o="M ".concat(e-(i/=1.1)," ").concat(t,` 
           L `).concat(e+i," ").concat(t);break;default:i*=2,o="M ".concat(e,", ").concat(t,` 
           m -`).concat(i/2,`, 0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 ").concat(i,`,0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 -").concat(i,",0")}return o}},{key:"drawMarkerShape",value:function(e,t,a,i,o){var c=this.drawPath({d:this.getMarkerPath(e,t,a,i,o),stroke:o.pointStrokeColor,strokeDashArray:o.pointStrokeDashArray,strokeWidth:o.pointStrokeWidth,fill:o.pointFillColor,fillOpacity:o.pointFillOpacity,strokeOpacity:o.pointStrokeOpacity});return c.attr({cx:e,cy:t,shape:o.shape,class:o.class?o.class:""}),c}},{key:"drawMarker",value:function(e,t,a){e=e||0;var i=a.pSize||0;return J.isNumber(t)||(i=0,t=0),this.drawMarkerShape(e,t,a?.shape,i,be(be({},a),a.shape==="line"||a.shape==="plus"||a.shape==="cross"?{pointStrokeColor:a.pointFillColor,pointStrokeOpacity:a.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var a=this.w,i=new Qt(this.ctx),o=parseInt(e.node.getAttribute("index"),10),c=parseInt(e.node.getAttribute("j"),10);if(typeof a.config.chart.events.dataPointMouseEnter=="function"&&a.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:a}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:a}]),(a.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&a.config.states.hover.filter.type!=="none"&&!a.globals.isTouchDevice){var h=a.config.states.hover.filter;i.applyFilter(e,o,h.type)}}},{key:"pathMouseLeave",value:function(e,t){var a=this.w,i=new Qt(this.ctx),o=parseInt(e.node.getAttribute("index"),10),c=parseInt(e.node.getAttribute("j"),10);typeof a.config.chart.events.dataPointMouseLeave=="function"&&a.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:a}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:a}]),a.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||a.config.states.hover.filter.type!=="none"&&i.getDefaultFilter(e,o)}},{key:"pathMouseDown",value:function(e,t){var a=this.w,i=new Qt(this.ctx),o=parseInt(e.node.getAttribute("index"),10),c=parseInt(e.node.getAttribute("j"),10),h="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),a.globals.selectedDataPoints[o].indexOf(c)>-1){var u=a.globals.selectedDataPoints[o].indexOf(c);a.globals.selectedDataPoints[o].splice(u,1)}}else{if(!a.config.states.active.allowMultipleDataPointsSelection&&a.globals.selectedDataPoints.length>0){a.globals.selectedDataPoints=[];var x=a.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),f=a.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),m=function(y){Array.prototype.forEach.call(y,(function(w){w.node.setAttribute("selected","false"),i.getDefaultFilter(w,o)}))};m(x),m(f)}e.node.setAttribute("selected","true"),h="true",a.globals.selectedDataPoints[o]===void 0&&(a.globals.selectedDataPoints[o]=[]),a.globals.selectedDataPoints[o].push(c)}if(h==="true"){var p=a.config.states.active.filter;if(p!=="none")i.applyFilter(e,o,p.type);else if(a.config.states.hover.filter!=="none"&&!a.globals.isTouchDevice){var b=a.config.states.hover.filter;i.applyFilter(e,o,b.type)}}else a.config.states.active.filter.type!=="none"&&(a.config.states.hover.filter.type==="none"||a.globals.isTouchDevice?i.getDefaultFilter(e,o):(b=a.config.states.hover.filter,i.applyFilter(e,o,b.type)));typeof a.config.chart.events.dataPointSelection=="function"&&a.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:a.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:c,w:a}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:a.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:c,w:a}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,a,i){var o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],c=this.w,h=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:a,foreColor:"#fff",opacity:0});i&&h.attr("transform",i),c.globals.dom.Paper.add(h);var u=h.bbox();return o||(u=h.node.getBoundingClientRect()),h.remove(),{width:u.width,height:u.height}}},{key:"placeTextWithEllipsis",value:function(e,t,a){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=a/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=a/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var a in t)t.hasOwnProperty(a)&&e.setAttribute(a,t[a])}}]),r})(),_t=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,a=[];if(t.globals.series.length===0)return a;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var o=0,c=0;c<t.globals.series.length;c++)t.globals.series[c][i]!==void 0&&e.indexOf(c)===-1&&(o+=t.globals.series[c][i]);a.push(o)}return a}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce((function(t,a){return t+a}),0):this.w.globals.series[e].reduce((function(t,a){return t+a}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,a=[];return t.globals.seriesGroups.forEach((function(i){var o=[];t.config.series.forEach((function(h,u){i.indexOf(t.globals.seriesNames[u])>-1&&o.push(u)}));var c=t.globals.series.map((function(h,u){return o.indexOf(u)===-1?u:-1})).filter((function(h){return h!==-1}));a.push(e.getStackedSeriesTotals(c))})),a}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,a=[],i=[],o=[],c=e.series.length>t.yaxis.length||t.yaxis.some((function(m){return Array.isArray(m.seriesName)}));t.series.forEach((function(m,p){o.push(p),i.push(null)})),t.yaxis.forEach((function(m,p){a[p]=[]}));var h=[];t.yaxis.forEach((function(m,p){var b=!1;if(m.seriesName){var y=[];Array.isArray(m.seriesName)?y=m.seriesName:y.push(m.seriesName),y.forEach((function(w){t.series.forEach((function(k,C){if(k.name===w){var S=C;p===C||c?!c||o.indexOf(C)>-1?a[p].push([p,C]):console.warn("Series '"+k.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(a[C].push([C,p]),S=p),b=!0,(S=o.indexOf(S))!==-1&&o.splice(S,1)}}))}))}b||h.push(p)})),a=a.map((function(m,p){var b=[];return m.forEach((function(y){i[y[1]]=y[0],b.push(y[1])})),b}));for(var u=t.yaxis.length-1,x=0;x<h.length&&(u=h[x],a[u]=[],o);x++){var f=o[0];o.shift(),a[u].push(f),i[f]=u}o.forEach((function(m){a[u].push(m),i[m]=u})),e.seriesYAxisMap=a.map((function(m){return m})),e.seriesYAxisReverseMap=i.map((function(m){return m})),e.seriesYAxisMap.forEach((function(m,p){m.forEach((function(b){t.series[b]&&t.series[b].group===void 0&&(t.series[b].group="apexcharts-axis-".concat(p.toString()))}))}))}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter((function(t){return t!==null})):this.w.config.series[e].data.filter((function(t){return t!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(t,a,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,a=e.slice();return t.config.xaxis.convertedCatToNumeric&&(a=e.map((function(i,o){return t.config.xaxis.labels.formatter(i-t.globals.minX+1)}))),a}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(a){t=Math.max(t,a)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(a){t=Math.max(t,a.size)})),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(t,a){var i=0;if(Array.isArray(t))for(var o=0;o<t.length;o++)i+=t[o];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var a=this.w;return a.globals.series.map((function(i,o){for(var c=0,h=0;h<i.length;h++)a.globals.seriesX[o][h]>e&&a.globals.seriesX[o][h]<t&&(c+=i[h]);return c}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,a){var i=[];if(Array.isArray(t))for(var o=0;o<t.length;o++){var c=e.globals.stackedSeriesTotals[o],h=0;c&&(h=100*t[o]/c),i.push(h)}else{var u=100*t/e.globals.seriesTotals.reduce((function(x,f){return x+f}),0);i.push(u)}return i}))}},{key:"getCalculatedRatios",value:function(){var e,t,a,i=this,o=this.w,c=o.globals,h=[],u=0,x=[],f=.1,m=0;if(c.yRange=[],c.isMultipleYAxis)for(var p=0;p<c.minYArr.length;p++)c.yRange.push(Math.abs(c.minYArr[p]-c.maxYArr[p])),x.push(0);else c.yRange.push(Math.abs(c.minY-c.maxY));c.xRange=Math.abs(c.maxX-c.minX),c.zRange=Math.abs(c.maxZ-c.minZ);for(var b=0;b<c.yRange.length;b++)h.push(c.yRange[b]/c.gridHeight);if(t=c.xRange/c.gridWidth,e=c.yRange/c.gridWidth,a=c.xRange/c.gridHeight,(u=c.zRange/c.gridHeight*16)||(u=1),c.minY!==Number.MIN_VALUE&&Math.abs(c.minY)!==0&&(c.hasNegs=!0),o.globals.seriesYAxisReverseMap.length>0){var y=function(k,C){var S=o.config.yaxis[o.globals.seriesYAxisReverseMap[C]],A=k<0?-1:1;return k=Math.abs(k),S.logarithmic&&(k=i.getBaseLog(S.logBase,k)),-A*k/h[C]};if(c.isMultipleYAxis){x=[];for(var w=0;w<h.length;w++)x.push(y(c.minYArr[w],w))}else(x=[]).push(y(c.minY,0)),c.minY!==Number.MIN_VALUE&&Math.abs(c.minY)!==0&&(f=-c.minY/e,m=c.minX/t)}else(x=[]).push(0),f=0,m=0;return{yRatio:h,invertedYRatio:e,zRatio:u,xRatio:t,invertedXRatio:a,baseLineInvertedY:f,baseLineY:x,baseLineX:m}}},{key:"getLogSeries",value:function(e){var t=this,a=this.w;return a.globals.seriesLog=e.map((function(i,o){var c=a.globals.seriesYAxisReverseMap[o];return a.config.yaxis[c]&&a.config.yaxis[c].logarithmic?i.map((function(h){return h===null?null:t.getLogVal(a.config.yaxis[c].logBase,h,o)})):i})),a.globals.invalidLogScale?e:a.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var a=this.w,i=a.globals.seriesYAxisReverseMap[t];return a.config.yaxis[i]&&a.config.yaxis[i].logarithmic?this.getLogVal(a.config.yaxis[i].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,a){if(t<=0)return 0;var i=this.w,o=i.globals.minYArr[a]===0?-1:this.getBaseLog(e,i.globals.minYArr[a]),c=(i.globals.maxYArr[a]===0?0:this.getBaseLog(e,i.globals.maxYArr[a]))-o;return t<1?t/c:(this.getBaseLog(e,t)-o)/c}},{key:"getLogYRatios",value:function(e){var t=this,a=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map((function(o,c){var h=a.globals.seriesYAxisReverseMap[c];if(a.config.yaxis[h]&&t.w.config.yaxis[h].logarithmic){var u,x=-Number.MAX_VALUE,f=Number.MIN_VALUE;return i.seriesLog.forEach((function(m,p){m.forEach((function(b){a.config.yaxis[p]&&a.config.yaxis[p].logarithmic&&(x=Math.max(b,x),f=Math.min(b,f))}))})),u=Math.pow(i.yRange[c],Math.abs(f-x)/i.yRange[c]),i.yLogRatio[c]=u/i.gridHeight,u}})),i.invalidLogScale?e.slice():i.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,a,i){var o=this.w,c=[];return e.series.length>0&&t.forEach((function(h){var u=[],x=[];e.i.forEach((function(f,m){o.config.series[f].group===h&&(u.push(e.series[m]),x.push(f))})),u.length>0&&c.push(i.draw(u,a,x))})),c}}],[{key:"checkComboSeries",value:function(e,t){var a=!1,i=0,o=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach((function(c){c.type!=="bar"&&c.type!=="column"&&c.type!=="candlestick"&&c.type!=="boxPlot"||i++,c.type!==void 0&&c.type!==t&&o++})),o>0&&(a=!0),{comboBarCount:i,comboCharts:a}}},{key:"extendArrayProps",value:function(e,t,a){var i,o,c,h,u,x;return(i=t)!==null&&i!==void 0&&i.yaxis&&(t=e.extendYAxis(t,a)),(o=t)!==null&&o!==void 0&&o.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(h=c.annotations)!==null&&h!==void 0&&h.xaxis&&(t=e.extendXAxisAnnotations(t)),(u=t)!==null&&u!==void 0&&(x=u.annotations)!==null&&x!==void 0&&x.points&&(t=e.extendPointAnnotations(t))),t}}]),r})(),Ic=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e}return we(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=this.w;if(e.label.orientation==="vertical"){var i=t!==null?t:0,o=a.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(o!==null){var c=o.getBoundingClientRect();o.setAttribute("x",parseFloat(o.getAttribute("x"))-c.height+4);var h=e.label.position==="top"?c.width:-c.width;o.setAttribute("y",parseFloat(o.getAttribute("y"))+h);var u=this.annoCtx.graphics.rotateAroundCenter(o),x=u.x,f=u.y;o.setAttribute("transform","rotate(-90 ".concat(x," ").concat(f,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var a=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var i=a.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),o=e.getBoundingClientRect(),c=t.label.style.padding,h=c.left,u=c.right,x=c.top,f=c.bottom;if(t.label.orientation==="vertical"){var m=[h,u,x,f];x=m[0],f=m[1],h=m[2],u=m[3]}var p=o.left-i.left-h,b=o.top-i.top-x,y=this.annoCtx.graphics.drawRect(p-a.globals.barPadForNumericAxis,b,o.width+h+u,o.height+x+f,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&y.node.classList.add(t.id),y}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,a=function(i,o,c){var h=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(c,"-annotations .apexcharts-").concat(c,"-annotation-label[rel='").concat(o,"']"));if(h){var u=h.parentNode,x=e.addBackgroundToAnno(h,i);x&&(u.insertBefore(x.node,h),i.label.mouseEnter&&x.node.addEventListener("mouseenter",i.label.mouseEnter.bind(e,i)),i.label.mouseLeave&&x.node.addEventListener("mouseleave",i.label.mouseLeave.bind(e,i)),i.label.click&&x.node.addEventListener("click",i.label.click.bind(e,i)))}};t.config.annotations.xaxis.forEach((function(i,o){return a(i,o,"xaxis")})),t.config.annotations.yaxis.forEach((function(i,o){return a(i,o,"yaxis")})),t.config.annotations.points.forEach((function(i,o){return a(i,o,"point")}))}},{key:"getY1Y2",value:function(e,t){var a,i=this.w,o=e==="y1"?t.y:t.y2,c=!1;if(this.annoCtx.invertAxis){var h=i.config.xaxis.convertedCatToNumeric?i.globals.categoryLabels:i.globals.labels,u=h.indexOf(o),x=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(u+1,")"));a=x?parseFloat(x.getAttribute("y")):(i.globals.gridHeight/h.length-1)*(u+1)-i.globals.barHeight,t.seriesIndex!==void 0&&i.globals.barHeight&&(a-=i.globals.barHeight/2*(i.globals.series.length-1)-i.globals.barHeight*t.seriesIndex)}else{var f,m=i.globals.seriesYAxisMap[t.yAxisIndex][0],p=i.config.yaxis[t.yAxisIndex].logarithmic?new _t(this.annoCtx.ctx).getLogVal(i.config.yaxis[t.yAxisIndex].logBase,o,m)/i.globals.yLogRatio[m]:(o-i.globals.minYArr[m])/(i.globals.yRange[m]/i.globals.gridHeight);a=i.globals.gridHeight-Math.min(Math.max(p,0),i.globals.gridHeight),c=p>i.globals.gridHeight||p<0,!t.marker||t.y!==void 0&&t.y!==null||(a=0),(f=i.config.yaxis[t.yAxisIndex])!==null&&f!==void 0&&f.reversed&&(a=p)}return typeof o=="string"&&o.includes("px")&&(a=parseFloat(o)),{yP:a,clipped:c}}},{key:"getX1X2",value:function(e,t){var a=this.w,i=e==="x1"?t.x:t.x2,o=this.annoCtx.invertAxis?a.globals.minY:a.globals.minX,c=this.annoCtx.invertAxis?a.globals.maxY:a.globals.maxX,h=this.annoCtx.invertAxis?a.globals.yRange[0]:a.globals.xRange,u=!1,x=this.annoCtx.inversedReversedAxis?(c-i)/(h/a.globals.gridWidth):(i-o)/(h/a.globals.gridWidth);return a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||a.globals.dataFormatXNumeric||a.config.chart.sparkline.enabled||(x=this.getStringX(i)),typeof i=="string"&&i.includes("px")&&(x=parseFloat(i)),i==null&&t.marker&&(x=a.globals.gridWidth),t.seriesIndex!==void 0&&a.globals.barWidth&&!this.annoCtx.invertAxis&&(x-=a.globals.barWidth/2*(a.globals.series.length-1)-a.globals.barWidth*t.seriesIndex),typeof x!="number"&&(x=0,u=!0),parseFloat(x.toFixed(10))>parseFloat(a.globals.gridWidth.toFixed(10))?(x=a.globals.gridWidth,u=!0):x<0&&(x=0,u=!0),{x,clipped:u}}},{key:"getStringX",value:function(e){var t=this.w,a=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.map((function(c){return Array.isArray(c)?c.join(" "):c})).indexOf(e),o=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(i+1,")"));return o&&(a=parseFloat(o.getAttribute("x"))),a}}]),r})(),HA=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Ic(this.annoCtx)}return we(r,[{key:"addXaxisAnnotation",value:function(e,t,a){var i,o=this.w,c=this.helpers.getX1X2("x1",e),h=c.x,u=c.clipped,x=!0,f=e.label.text,m=e.strokeDashArray;if(J.isNumber(h)){if(e.x2===null||e.x2===void 0){if(!u){var p=this.annoCtx.graphics.drawLine(h+e.offsetX,0+e.offsetY,h+e.offsetX,o.globals.gridHeight+e.offsetY,e.borderColor,m,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{var b=this.helpers.getX1X2("x2",e);if(i=b.x,x=b.clipped,i<h){var y=h;h=i,i=y}var w=this.annoCtx.graphics.drawRect(h+e.offsetX,0+e.offsetY,i-h,o.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,m);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),t.appendChild(w.node),e.id&&w.node.classList.add(e.id)}if(!u||!x){var k=this.annoCtx.graphics.getTextRects(f,parseFloat(e.label.style.fontSize)),C=e.label.position==="top"?4:e.label.position==="center"?o.globals.gridHeight/2+(e.label.orientation==="vertical"?k.width/2:0):o.globals.gridHeight,S=this.annoCtx.graphics.drawText({x:h+e.label.offsetX,y:C+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?k.width/2-12:-k.width/2:0),text:f,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});S.attr({rel:a}),t.appendChild(S.node),this.annoCtx.helpers.setOrientations(e,a)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(i,o){e.addXaxisAnnotation(i,a.node,o)})),a}}]),r})(),Zt=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return we(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var a=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return a=this.getTimeStamp(a)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var a=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,o=["\0"].concat(Xt(a.months)),c=[""].concat(Xt(a.shortMonths)),h=[""].concat(Xt(a.days)),u=[""].concat(Xt(a.shortDays));function x(D,H){var z=D+"";for(H=H||2;z.length<H;)z="0"+z;return z}var f=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+f)).replace(/(^|[^\\])yy/g,"$1"+f.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+f);var m=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+o[0])).replace(/(^|[^\\])MMM/g,"$1"+c[0])).replace(/(^|[^\\])MM/g,"$1"+x(m))).replace(/(^|[^\\])M/g,"$1"+m);var p=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+h[0])).replace(/(^|[^\\])ddd/g,"$1"+u[0])).replace(/(^|[^\\])dd/g,"$1"+x(p))).replace(/(^|[^\\])d/g,"$1"+p);var b=i?e.getUTCHours():e.getHours(),y=b>12?b-12:b===0?12:b;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+x(b))).replace(/(^|[^\\])H/g,"$1"+b)).replace(/(^|[^\\])hh+/g,"$1"+x(y))).replace(/(^|[^\\])h/g,"$1"+y);var w=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+x(w))).replace(/(^|[^\\])m/g,"$1"+w);var k=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+x(k))).replace(/(^|[^\\])s/g,"$1"+k);var C=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+x(C,3)),C=Math.round(C/10),t=t.replace(/(^|[^\\])ff/g,"$1"+x(C)),C=Math.round(C/10);var S=b<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+C)).replace(/(^|[^\\])TT+/g,"$1"+S)).replace(/(^|[^\\])T/g,"$1"+S.charAt(0));var A=S.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+A)).replace(/(^|[^\\])t/g,"$1"+A.charAt(0));var T=-e.getTimezoneOffset(),L=i||!T?"Z":T>0?"+":"-";if(!i){var M=(T=Math.abs(T))%60;L+=x(Math.floor(T/60))+":"+x(M)}t=t.replace(/(^|[^\\])K/g,"$1"+L);var _=(i?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(h[0],"g"),h[_])).replace(new RegExp(u[0],"g"),u[_])).replace(new RegExp(o[0],"g"),o[m])).replace(new RegExp(c[0],"g"),c[m])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,a){var i=this.w;i.config.xaxis.min!==void 0&&(e=i.config.xaxis.min),i.config.xaxis.max!==void 0&&(t=i.config.xaxis.max);var o=this.getDate(e),c=this.getDate(t),h=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" "),u=this.formatDate(c,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(h[6],10),maxMillisecond:parseInt(u[6],10),minSecond:parseInt(h[5],10),maxSecond:parseInt(u[5],10),minMinute:parseInt(h[4],10),maxMinute:parseInt(u[4],10),minHour:parseInt(h[3],10),maxHour:parseInt(u[3],10),minDate:parseInt(h[2],10),maxDate:parseInt(u[2],10),minMonth:parseInt(h[1],10)-1,maxMonth:parseInt(u[1],10)-1,minYear:parseInt(h[0],10),maxYear:parseInt(u[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,a){return this.determineDaysOfMonths(e,t)-a}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,a){var i=this.daysCntOfYear[t]+a;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var a=30;switch(e=J.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(a=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:a=31}return a}}]),r})(),Ol=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return we(r,[{key:"xLabelFormat",value:function(e,t,a,i){var o=this.w;if(o.config.xaxis.type==="datetime"&&o.config.xaxis.labels.formatter===void 0&&o.config.tooltip.x.formatter===void 0){var c=new Zt(this.ctx);return c.formatDate(c.getDate(t),o.config.tooltip.x.format)}return e(t,a,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(t){return t})):e}},{key:"defaultYFormatter",value:function(e,t,a){var i=this.w;if(J.isNumber(e))if(i.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:i.globals.yValueDecimal);else{var o=e.toFixed(0);e=e==o?o:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(a){return e.defaultGeneralFormatter(a)},t.globals.ttKeyFormatter=function(a){return e.defaultGeneralFormatter(a)},t.globals.ttZFormatter=function(a){return a},t.globals.legendFormatter=function(a){return e.defaultGeneralFormatter(a)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(a){if(J.isNumber(a)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(J.isNumber(t.config.xaxis.decimalsInFloat))return a.toFixed(t.config.xaxis.decimalsInFloat);var i=t.globals.maxX-t.globals.minX;return i>0&&i<100?a.toFixed(1):a.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?a.toFixed(1):a.toFixed(0)}return a},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(a,i){a.labels.formatter!==void 0?t.globals.yLabelFormatters[i]=a.labels.formatter:t.globals.yLabelFormatters[i]=function(o){return t.globals.xyCharts?Array.isArray(o)?o.map((function(c){return e.defaultYFormatter(c,a,i)})):e.defaultYFormatter(o,a,i):o}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(a,i){return a.length>i.length?a:i}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r})(),Si=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"getLabel",value:function(e,t,a,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",h=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],u=this.w,x=e[i]===void 0?"":e[i],f=x,m=u.globals.xLabelFormatter,p=u.config.xaxis.labels.formatter,b=!1,y=new Ol(this.ctx),w=x;h&&(f=y.xLabelFormat(m,x,w,{i,dateFormatter:new Zt(this.ctx).formatDate,w:u}),p!==void 0&&(f=p(x,e[i],{i,dateFormatter:new Zt(this.ctx).formatDate,w:u})));var k,C;t.length>0?(k=t[i].unit,C=null,t.forEach((function(L){L.unit==="month"?C="year":L.unit==="day"?C="month":L.unit==="hour"?C="day":L.unit==="minute"&&(C="hour")})),b=C===k,a=t[i].position,f=t[i].value):u.config.xaxis.type==="datetime"&&p===void 0&&(f=""),f===void 0&&(f=""),f=Array.isArray(f)?f:f.toString();var S=new me(this.ctx),A={};A=u.globals.rotateXLabels&&h?S.getTextRects(f,parseInt(c,10),null,"rotate(".concat(u.config.xaxis.labels.rotate," 0 0)"),!1):S.getTextRects(f,parseInt(c,10));var T=!u.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(f)&&(String(f)==="NaN"||o.indexOf(f)>=0&&T)&&(f=""),{x:a,text:f,textRect:A,isBold:b}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,a){var i=this.w,o=i.config.xaxis.tickAmount;return o==="dataPoints"&&(o=Math.round(i.globals.gridWidth/120)),o>a||e%Math.round(a/(o+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,a,i,o){var c=this.w;if(e===0&&c.globals.skipFirstTimelinelabel&&(t.text=""),e===a-1&&c.globals.skipLastTimelinelabel&&(t.text=""),c.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var h=o[o.length-1];if(c.config.xaxis.labels.trim&&c.config.xaxis.type!=="datetime")return t;t.x<h.textRect.width/(c.globals.rotateXLabels?Math.abs(c.config.xaxis.labels.rotate)/12:1.01)+h.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var a=this.w;return a.config.yaxis[e]&&a.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some((function(a){return t.collapsedSeriesIndices.indexOf(a)===-1}))}},{key:"translateYAxisIndex",value:function(e){var t=this.w,a=t.globals,i=t.config.yaxis;return a.series.length>i.length||i.some((function(o){return Array.isArray(o.seriesName)}))?e:a.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,a=t.config.yaxis[e];if(!a.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!a.showForNullSeries){var i=t.globals.seriesYAxisMap[e],o=new _t(this.ctx);return i.every((function(c){return o.isSeriesNull(c)}))}return!1}},{key:"getYAxisForeColor",value:function(e,t){var a=this.w;return Array.isArray(e)&&a.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,a.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,a,i,o,c,h){var u=this.w,x=new me(this.ctx),f=u.globals.translateY+u.config.yaxis[o].labels.offsetY;if(u.globals.isBarHorizontal?f=0:u.config.chart.type==="heatmap"&&(f+=c/2),i.show&&t>0){u.config.yaxis[o].opposite===!0&&(e+=i.width);for(var m=t;m>=0;m--){var p=x.drawLine(e+a.offsetX-i.width+i.offsetX,f+i.offsetY,e+a.offsetX+i.offsetX,f+i.offsetY,i.color);h.add(p),f+=c}}}}]),r})(),PA=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Ic(this.annoCtx),this.axesUtils=new Si(this.annoCtx)}return we(r,[{key:"addYaxisAnnotation",value:function(e,t,a){var i,o=this.w,c=e.strokeDashArray,h=this.helpers.getY1Y2("y1",e),u=h.yP,x=h.clipped,f=!0,m=!1,p=e.label.text;if(e.y2===null||e.y2===void 0){if(!x){m=!0;var b=this.annoCtx.graphics.drawLine(0+e.offsetX,u+e.offsetY,this._getYAxisAnnotationWidth(e),u+e.offsetY,e.borderColor,c,e.borderWidth);t.appendChild(b.node),e.id&&b.node.classList.add(e.id)}}else{if(i=(h=this.helpers.getY1Y2("y2",e)).yP,f=h.clipped,i>u){var y=u;u=i,i=y}if(!x||!f){m=!0;var w=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),u-i,0,e.fillColor,e.opacity,1,e.borderColor,c);w.node.classList.add("apexcharts-annotation-rect"),w.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),t.appendChild(w.node),e.id&&w.node.classList.add(e.id)}}if(m){var k=e.label.position==="right"?o.globals.gridWidth:e.label.position==="center"?o.globals.gridWidth/2:0,C=this.annoCtx.graphics.drawText({x:k+e.label.offsetX,y:(i??u)+e.label.offsetY-3,text:p,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});C.attr({rel:a}),t.appendChild(C.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach((function(i,o){i.yAxisIndex=e.axesUtils.translateYAxisIndex(i.yAxisIndex),e.axesUtils.isYAxisHidden(i.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(i.yAxisIndex)||e.addYaxisAnnotation(i,a.node,o)})),a}}]),r})(),BA=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Ic(this.annoCtx)}return we(r,[{key:"addPointAnnotation",value:function(e,t,a){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var i=this.helpers.getX1X2("x1",e),o=i.x,c=i.clipped,h=(i=this.helpers.getY1Y2("y1",e)).yP,u=i.clipped;if(J.isNumber(o)&&!u&&!c){var x={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},f=this.annoCtx.graphics.drawMarker(o+e.marker.offsetX,h+e.marker.offsetY,x);t.appendChild(f.node);var m=e.label.text?e.label.text:"",p=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:h+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:m,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(p.attr({rel:a}),t.appendChild(p.node),e.customSVG.SVG){var b=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});b.attr({transform:"translate(".concat(o+e.customSVG.offsetX,", ").concat(h+e.customSVG.offsetY,")")}),b.node.innerHTML=e.customSVG.SVG,t.appendChild(b.node)}if(e.image.path){var y=e.image.width?e.image.width:20,w=e.image.height?e.image.height:20;f=this.annoCtx.addImage({x:o+e.image.offsetX-y/2,y:h+e.image.offsetY-w/2,width:y,height:w,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&f.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&f.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&f.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,a=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(i,o){e.addPointAnnotation(i,a.node,o)})),a}}]),r})(),Zv={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Gi=(function(){function r(){ye(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return we(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Zv],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,a){return t+a}),0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,a){return t+a}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r})(),XA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.graphics=new me(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Ic(this),this.xAxisAnnotations=new HA(this),this.yAxisAnnotations=new PA(this),this.pointsAnnotations=new BA(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return we(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),a=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),o=e.config.chart.animations.enabled,c=[t,a,i],h=[a.node,t.node,i.node],u=0;u<3;u++)e.globals.dom.elGraphical.add(c[u]),!o||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&h[u].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:h[u],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,a){e.addImage(t,a)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,a){e.addText(t,a)}))}},{key:"addXaxisAnnotation",value:function(e,t,a){this.xAxisAnnotations.addXaxisAnnotation(e,t,a)}},{key:"addYaxisAnnotation",value:function(e,t,a){this.yAxisAnnotations.addYaxisAnnotation(e,t,a)}},{key:"addPointAnnotation",value:function(e,t,a){this.pointsAnnotations.addPointAnnotation(e,t,a)}},{key:"addText",value:function(e,t){var a=e.x,i=e.y,o=e.text,c=e.textAnchor,h=e.foreColor,u=e.fontSize,x=e.fontFamily,f=e.fontWeight,m=e.cssClass,p=e.backgroundColor,b=e.borderWidth,y=e.strokeDashArray,w=e.borderRadius,k=e.borderColor,C=e.appendTo,S=C===void 0?".apexcharts-svg":C,A=e.paddingLeft,T=A===void 0?4:A,L=e.paddingRight,M=L===void 0?4:L,_=e.paddingBottom,D=_===void 0?2:_,H=e.paddingTop,z=H===void 0?2:H,B=this.w,P=this.graphics.drawText({x:a,y:i,text:o,textAnchor:c||"start",fontSize:u||"12px",fontWeight:f||"regular",fontFamily:x||B.config.chart.fontFamily,foreColor:h||B.config.chart.foreColor,cssClass:m}),W=B.globals.dom.baseEl.querySelector(S);W&&W.appendChild(P.node);var V=P.bbox();if(o){var Q=this.graphics.drawRect(V.x-T,V.y-z,V.width+T+M,V.height+D+z,w,p||"transparent",1,b,k,y);W.insertBefore(Q.node,P.node)}}},{key:"addImage",value:function(e,t){var a=this.w,i=e.path,o=e.x,c=o===void 0?0:o,h=e.y,u=h===void 0?0:h,x=e.width,f=x===void 0?20:x,m=e.height,p=m===void 0?20:m,b=e.appendTo,y=b===void 0?".apexcharts-svg":b,w=a.globals.dom.Paper.image(i);w.size(f,p).move(c,u);var k=a.globals.dom.baseEl.querySelector(y);return k&&k.appendChild(w.node),w}},{key:"addXaxisAnnotationExternal",value:function(e,t,a){return this.addAnnotationExternal({params:e,pushToMemory:t,context:a,type:"xaxis",contextMethod:a.addXaxisAnnotation}),a}},{key:"addYaxisAnnotationExternal",value:function(e,t,a){return this.addAnnotationExternal({params:e,pushToMemory:t,context:a,type:"yaxis",contextMethod:a.addYaxisAnnotation}),a}},{key:"addPointAnnotationExternal",value:function(e,t,a){return this.invertAxis===void 0&&(this.invertAxis=a.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:a,type:"point",contextMethod:a.addPointAnnotation}),a}},{key:"addAnnotationExternal",value:function(e){var t=e.params,a=e.pushToMemory,i=e.context,o=e.type,c=e.contextMethod,h=i,u=h.w,x=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations")),f=x.childNodes.length+1,m=new Gi,p=Object.assign({},o==="xaxis"?m.xAxisAnnotation:o==="yaxis"?m.yAxisAnnotation:m.pointAnnotation),b=J.extend(p,t);switch(o){case"xaxis":this.addXaxisAnnotation(b,x,f);break;case"yaxis":this.addYaxisAnnotation(b,x,f);break;case"point":this.addPointAnnotation(b,x,f)}var y=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(f,"']")),w=this.helpers.addBackgroundToAnno(y,b);return w&&x.insertBefore(w.node,y),a&&u.globals.memory.methodsToExec.push({context:h,id:b.id?b.id:J.randomId(),method:c,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){for(var t=e.w,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),i=t.globals.memory.methodsToExec.length-1;i>=0;i--)t.globals.memory.methodsToExec[i].label!=="addText"&&t.globals.memory.methodsToExec[i].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(i,1);a=J.listToArray(a),Array.prototype.forEach.call(a,(function(o){for(;o.firstChild;)o.removeChild(o.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var a=e.w,i=a.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(a.globals.memory.methodsToExec.map((function(o,c){o.id===t&&a.globals.memory.methodsToExec.splice(c,1)})),Object.keys(a.config.annotations).forEach((function(o){var c=a.config.annotations[o];Array.isArray(c)&&(a.config.annotations[o]=c.filter((function(h){return h.id!==t})))})),Array.prototype.forEach.call(i,(function(o){o.parentElement.removeChild(o)})))}}]),r})(),Du=function(r){var e,t=r.isTimeline,a=r.ctx,i=r.seriesIndex,o=r.dataPointIndex,c=r.y1,h=r.y2,u=r.w,x=u.globals.seriesRangeStart[i][o],f=u.globals.seriesRangeEnd[i][o],m=u.globals.labels[o],p=u.config.series[i].name?u.config.series[i].name:"",b=u.globals.ttKeyFormatter,y=u.config.tooltip.y.title.formatter,w={w:u,seriesIndex:i,dataPointIndex:o,start:x,end:f};typeof y=="function"&&(p=y(p,w)),(e=u.config.series[i].data[o])!==null&&e!==void 0&&e.x&&(m=u.config.series[i].data[o].x),t||u.config.xaxis.type==="datetime"&&(m=new Ol(a).xLabelFormat(u.globals.ttKeyFormatter,m,m,{i:void 0,dateFormatter:new Zt(a).formatDate,w:u})),typeof b=="function"&&(m=b(m,w)),Number.isFinite(c)&&Number.isFinite(h)&&(x=c,f=h);var k="",C="",S=u.globals.colors[i];if(u.config.tooltip.x.formatter===void 0)if(u.config.xaxis.type==="datetime"){var A=new Zt(a);k=A.formatDate(A.getDate(x),u.config.tooltip.x.format),C=A.formatDate(A.getDate(f),u.config.tooltip.x.format)}else k=x,C=f;else k=u.config.tooltip.x.formatter(x),C=u.config.tooltip.x.formatter(f);return{start:x,end:f,startVal:k,endVal:C,ylabel:m,color:S,seriesName:p}},Ru=function(r){var e=r.color,t=r.seriesName,a=r.ylabel,i=r.start,o=r.end,c=r.seriesIndex,h=r.dataPointIndex,u=r.ctx.tooltip.tooltipLabels.getFormatters(c);i=u.yLbFormatter(i),o=u.yLbFormatter(o);var x=u.yLbFormatter(r.w.globals.series[c][h]),f=`<span class="value start-value">
  `.concat(i,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(o,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+a+": </span> "+(r.w.globals.comboCharts?r.w.config.series[c].type==="rangeArea"||r.w.config.series[c].type==="rangeBar"?f:"<span>".concat(x,"</span>"):f)+" </div></div>"},wl=(function(){function r(e){ye(this,r),this.opts=e}return we(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),J.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var a=t.w.config.series[t.seriesIndex].name;return e!==null?a+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),be(be({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var a=t.seriesIndex,i=t.dataPointIndex,o=t.w;return e._getBoxTooltip(o,a,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var a=t.seriesIndex,i=t.dataPointIndex,o=t.w;return e._getBoxTooltip(o,a,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var a=t.seriesIndex,i=t.dataPointIndex,o=t.w,c=function(){var h=o.globals.seriesRangeStart[a][i];return o.globals.seriesRangeEnd[a][i]-h};return o.globals.comboCharts?o.config.series[a].type==="rangeBar"||o.config.series[a].type==="rangeArea"?c():e:c()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(function(t){var a=Du(be(be({},t),{},{isTimeline:!0})),i=a.color,o=a.seriesName,c=a.ylabel,h=a.startVal,u=a.endVal;return Ru(be(be({},t),{},{color:i,seriesName:o,ylabel:c,start:h,end:u}))})(e):(function(t){var a=Du(t),i=a.color,o=a.seriesName,c=a.ylabel,h=a.start,u=a.end;return Ru(be(be({},t),{},{color:i,seriesName:o,ylabel:c,start:h,end:u}))})(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,a;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(a=e.plotOptions.bar)!==null&&a!==void 0&&a.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return(function(t){var a=Du(t),i=a.color,o=a.seriesName,c=a.ylabel,h=a.start,u=a.end;return Ru(be(be({},t),{},{color:i,seriesName:o,ylabel:c,start:h,end:u}))})(e)}}}}},{key:"brush",value:function(e){return J.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(a,i){e.yaxis[i].min=0,e.yaxis[i].max=100})),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(a){return typeof a=="number"&&a?a.toFixed(0)+"%":a}),e}},{key:"stackedBars",value:function(){var e=this.bar();return be(be({},e),{},{plotOptions:be(be({},e.plotOptions),{},{bar:be(be({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,a){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(c){return J.isNumber(c)?Math.floor(c):c};var i=e.xaxis.labels.formatter,o=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return a&&a.length&&(o=a.map((function(c){return Array.isArray(c)?c:String(c)}))),o&&o.length&&(e.xaxis.labels.formatter=function(c){return J.isNumber(c)?i(o[Math.floor(c)-1]):i(c)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,a,i,o){var c=e.globals.seriesCandleO[t][a],h=e.globals.seriesCandleH[t][a],u=e.globals.seriesCandleM[t][a],x=e.globals.seriesCandleL[t][a],f=e.globals.seriesCandleC[t][a];return e.config.series[t].type&&e.config.series[t].type!==o?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][a],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+c+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+h+"</span></div>"+(u?"<div>".concat(i[2],': <span class="value">')+u+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+x+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+f+"</span></div></div>"}}]),r})(),jl=(function(){function r(e){ye(this,r),this.opts=e}return we(r,[{key:"init",value:function(e){var t=e.responsiveOverride,a=this.opts,i=new Gi,o=new wl(a);this.chartType=a.chart.type,a=this.extendYAxis(a),a=this.extendAnnotations(a);var c=i.init(),h={};if(a&&ns(a)==="object"){var u,x,f,m,p,b,y,w,k,C,S={};S=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(a.chart.type)!==-1?o[a.chart.type]():o.line(),(u=a.plotOptions)!==null&&u!==void 0&&(x=u.bar)!==null&&x!==void 0&&x.isFunnel&&(S=o.funnel()),a.chart.stacked&&a.chart.type==="bar"&&(S=o.stackedBars()),(f=a.chart.brush)!==null&&f!==void 0&&f.enabled&&(S=o.brush(S)),(m=a.plotOptions)!==null&&m!==void 0&&(p=m.line)!==null&&p!==void 0&&p.isSlopeChart&&(S=o.slope()),a.chart.stacked&&a.chart.stackType==="100%"&&(a=o.stacked100(a)),(b=a.plotOptions)!==null&&b!==void 0&&(y=b.bar)!==null&&y!==void 0&&y.isDumbbell&&(a=o.dumbbell(a)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(a),a.xaxis=a.xaxis||window.Apex.xaxis||{},t||(a.xaxis.convertedCatToNumeric=!1),((w=(a=this.checkForCatToNumericXAxis(this.chartType,S,a)).chart.sparkline)!==null&&w!==void 0&&w.enabled||(k=window.Apex.chart)!==null&&k!==void 0&&(C=k.sparkline)!==null&&C!==void 0&&C.enabled)&&(S=o.sparkline(S)),h=J.extend(c,S)}var A=J.extend(h,window.Apex);return c=J.extend(A,a),c=this.handleUserInputErrors(c)}},{key:"checkForCatToNumericXAxis",value:function(e,t,a){var i,o,c=new wl(a),h=(e==="bar"||e==="boxPlot")&&((i=a.plotOptions)===null||i===void 0||(o=i.bar)===null||o===void 0?void 0:o.horizontal),u=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",x=a.xaxis.type!=="datetime"&&a.xaxis.type!=="numeric",f=a.xaxis.tickPlacement?a.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return h||u||!x||f==="between"||(a=c.convertCatToNumeric(a)),a}},{key:"extendYAxis",value:function(e,t){var a=new Gi;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=J.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[J.extend(a.yAxis,e.yaxis)]:e.yaxis=J.extendArray(e.yaxis,a.yAxis);var i=!1;e.yaxis.forEach((function(c){c.logarithmic&&(i=!0)}));var o=e.series;return t&&!o&&(o=t.config.series),i&&o.length!==e.yaxis.length&&o.length&&(e.yaxis=o.map((function(c,h){if(c.name||(o[h].name="series-".concat(h+1)),e.yaxis[h])return e.yaxis[h].seriesName=o[h].name,e.yaxis[h];var u=J.extend(a.yAxis,e.yaxis[0]);return u.show=!1,u}))),i&&o.length>1&&o.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Gi;return e.annotations.yaxis=J.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Gi;return e.annotations.xaxis=J.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Gi;return e.annotations.points=J.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r})(),Qv=(function(){function r(){ye(this,r)}return we(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=J.extend({},e),t.initialSeries=J.clone(e.series),t.lastXAxis=J.clone(t.initialConfig.xaxis),t.lastYAxis=J.clone(t.initialConfig.yaxis),t}}]),r})(),YA=(function(){function r(e){ye(this,r),this.opts=e}return we(r,[{key:"init",value:function(){var e=new jl(this.opts).init({responsiveOverride:!1});return{config:e,globals:new Qv().init(e)}}}]),r})(),Js=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return we(r,[{key:"clippedImgArea",value:function(e){var t=this.w,a=t.config,i=parseInt(t.globals.gridWidth,10),o=parseInt(t.globals.gridHeight,10),c=i>o?i:o,h=e.image,u=0,x=0;e.width===void 0&&e.height===void 0?a.fill.image.width!==void 0&&a.fill.image.height!==void 0?(u=a.fill.image.width+1,x=a.fill.image.height):(u=c+1,x=c):(u=e.width,x=e.height);var f=document.createElementNS(t.globals.SVGNS,"pattern");me.setAttrs(f,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:u+"px",height:x+"px"});var m=document.createElementNS(t.globals.SVGNS,"image");f.appendChild(m),m.setAttributeNS(window.SVG.xlink,"href",h),me.setAttrs(m,{x:0,y:0,preserveAspectRatio:"none",width:u+"px",height:x+"px"}),m.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(f)}},{key:"getSeriesIndex",value:function(e){var t=this.w,a=t.config.chart.type;return(a==="bar"||a==="rangeBar")&&t.config.plotOptions.bar.distributed||a==="heatmap"||a==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var a,i=this.w,o=null,c=null,h=ol(e);try{for(h.s();!(a=h.n()).done;){var u=a.value;u>=t.threshold?(o===null||u>o)&&(o=u):(c===null||u<c)&&(c=u)}}catch(m){h.e(m)}finally{h.f()}o===null&&(o=t.threshold),c===null&&(c=t.threshold);var x=o-t.threshold+(t.threshold-c);x===0&&(x=1);var f=100-(t.threshold-c)/x*100;return[{offset:f=Math.max(0,Math.min(f,100)),color:t.colorAboveThreshold,opacity:i.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:i.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,a,i,o=this.w;this.opts=e;var c,h,u,x=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var f=x.plotOptions.line.colors.colorAboveThreshold&&x.plotOptions.line.colors.colorBelowThreshold,m=this.getFillColors()[this.seriesIndex];o.globals.seriesColors[this.seriesIndex]!==void 0&&(m=o.globals.seriesColors[this.seriesIndex]),typeof m=="function"&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:o}));var p,b,y,w=e.fillType?e.fillType:this.getFillType(this.seriesIndex),k=Array.isArray(x.fill.opacity)?x.fill.opacity[this.seriesIndex]:x.fill.opacity,C=w==="gradient"||f;e.color&&(m=e.color),(t=o.config.series[this.seriesIndex])!==null&&t!==void 0&&(a=t.data)!==null&&a!==void 0&&(i=a[e.dataPointIndex])!==null&&i!==void 0&&i.fillColor&&(m=(p=o.config.series[this.seriesIndex])===null||p===void 0||(b=p.data)===null||b===void 0||(y=b[e.dataPointIndex])===null||y===void 0?void 0:y.fillColor),m||(m="#fff",console.warn("undefined color - ApexCharts"));var S=m;if(m.indexOf("rgb")===-1?m.indexOf("#")===-1?S=m:m.length<9&&(S=J.hexToRgba(m,k)):m.indexOf("rgba")>-1?k=J.getOpacityFromRGBA(m):S=J.hexToRgba(J.rgb2hex(m),k),e.opacity&&(k=e.opacity),w==="pattern"&&(h=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:h,fillColor:m,fillOpacity:k,defaultColor:S})),C){var A=Xt(x.fill.gradient.colorStops)||[],T=x.fill.gradient.type;f&&(A[this.seriesIndex]=this.computeColorStops(o.globals.series[this.seriesIndex],x.plotOptions.line.colors),T="vertical"),u=this.handleGradientFill({type:T,fillConfig:e.fillConfig,fillColor:m,fillOpacity:k,colorStops:A,i:this.seriesIndex})}if(w==="image"){var L=x.fill.image.src,M=e.patternID?e.patternID:"",_="pattern".concat(o.globals.cuid).concat(e.seriesNumber+1).concat(M);this.patternIDs.indexOf(_)===-1&&(this.clippedImgArea({opacity:k,image:Array.isArray(L)?e.seriesNumber<L.length?L[e.seriesNumber]:L[0]:L,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:_}),this.patternIDs.push(_)),c="url(#".concat(_,")")}else c=C?u:w==="pattern"?h:S;return e.solid&&(c=S),c}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,a=this.opts,i=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),a.fillColors!==void 0&&(i=[],Array.isArray(a.fillColors)?i=a.fillColors.slice():i.push(a.fillColors)),i}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,a=e.patternFill,i=e.fillColor,o=e.fillOpacity,c=e.defaultColor,h=this.w.config.fill;t&&(h=t);var u=this.opts,x=new me(this.ctx),f=Array.isArray(h.pattern.strokeWidth)?h.pattern.strokeWidth[this.seriesIndex]:h.pattern.strokeWidth,m=i;return Array.isArray(h.pattern.style)?a=h.pattern.style[u.seriesNumber]!==void 0?x.drawPattern(h.pattern.style[u.seriesNumber],h.pattern.width,h.pattern.height,m,f,o):c:a=x.drawPattern(h.pattern.style,h.pattern.width,h.pattern.height,m,f,o),a}},{key:"handleGradientFill",value:function(e){var t=e.type,a=e.fillColor,i=e.fillOpacity,o=e.fillConfig,c=e.colorStops,h=e.i,u=this.w.config.fill;o&&(u=be(be({},u),o));var x=this.opts,f=new me(this.ctx),m=new J;t=t||u.gradient.type;var p,b=a,y=u.gradient.opacityFrom===void 0?i:Array.isArray(u.gradient.opacityFrom)?u.gradient.opacityFrom[h]:u.gradient.opacityFrom;b.indexOf("rgba")>-1&&(y=J.getOpacityFromRGBA(b));var w=u.gradient.opacityTo===void 0?i:Array.isArray(u.gradient.opacityTo)?u.gradient.opacityTo[h]:u.gradient.opacityTo;if(u.gradient.gradientToColors===void 0||u.gradient.gradientToColors.length===0)p=u.gradient.shade==="dark"?m.shadeColor(-1*parseFloat(u.gradient.shadeIntensity),a.indexOf("rgb")>-1?J.rgb2hex(a):a):m.shadeColor(parseFloat(u.gradient.shadeIntensity),a.indexOf("rgb")>-1?J.rgb2hex(a):a);else if(u.gradient.gradientToColors[x.seriesNumber]){var k=u.gradient.gradientToColors[x.seriesNumber];p=k,k.indexOf("rgba")>-1&&(w=J.getOpacityFromRGBA(k))}else p=a;if(u.gradient.gradientFrom&&(b=u.gradient.gradientFrom),u.gradient.gradientTo&&(p=u.gradient.gradientTo),u.gradient.inverseColors){var C=b;b=p,p=C}return b.indexOf("rgb")>-1&&(b=J.rgb2hex(b)),p.indexOf("rgb")>-1&&(p=J.rgb2hex(p)),f.drawGradient(t,b,p,y,w,x.size,u.gradient.stops,c,h)}}]),r})(),xr=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(a){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,a=e.seriesIndex,i=e.j,o=e.pSize,c=e.alwaysDrawMarker,h=c!==void 0&&c,u=e.isVirtualPoint,x=u!==void 0&&u,f=this.w,m=a,p=t,b=null,y=new me(this.ctx),w=f.config.markers.discrete&&f.config.markers.discrete.length;if(Array.isArray(p.x))for(var k=0;k<p.x.length;k++){var C=void 0,S=i,A=!J.isNumber(p.y[k]);f.globals.markers.largestSize===0&&f.globals.hasNullValues&&f.globals.series[m][i+1]!==null&&!x&&(A=!0),i===1&&k===0&&(S=0),i===1&&k===1&&(S=1);var T="apexcharts-marker";if(f.config.chart.type!=="line"&&f.config.chart.type!=="area"||f.globals.comboCharts||f.config.tooltip.intersect||(T+=" no-pointer-events"),(Array.isArray(f.config.markers.size)?f.globals.markers.size[a]>0:f.config.markers.size>0)||h||w){A||(T+=" w".concat(J.randomId()));var L=this.getMarkerConfig({cssClass:T,seriesIndex:a,dataPointIndex:S});f.config.series[m].data[S]&&(f.config.series[m].data[S].fillColor&&(L.pointFillColor=f.config.series[m].data[S].fillColor),f.config.series[m].data[S].strokeColor&&(L.pointStrokeColor=f.config.series[m].data[S].strokeColor)),o!==void 0&&(L.pSize=o),(p.x[k]<-f.globals.markers.largestSize||p.x[k]>f.globals.gridWidth+f.globals.markers.largestSize||p.y[k]<-f.globals.markers.largestSize||p.y[k]>f.globals.gridHeight+f.globals.markers.largestSize)&&(L.pSize=0),!A&&((f.globals.markers.size[a]>0||h||w)&&!b&&(b=y.group({class:h||w?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(f.globals.cuid,")")),(C=y.drawMarker(p.x[k],p.y[k],L)).attr("rel",S),C.attr("j",S),C.attr("index",a),C.node.setAttribute("default-marker-size",L.pSize),new Qt(this.ctx).setSelectionFilter(C,a,S),this.addEvents(C),b&&b.add(C))}else f.globals.pointsArray[a]===void 0&&(f.globals.pointsArray[a]=[]),f.globals.pointsArray[a].push([p.x[k],p.y[k]])}return b}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,a=e.seriesIndex,i=e.dataPointIndex,o=i===void 0?null:i,c=e.radius,h=c===void 0?null:c,u=e.size,x=u===void 0?null:u,f=e.strokeWidth,m=f===void 0?null:f,p=this.w,b=this.getMarkerStyle(a),y=x===null?p.globals.markers.size[a]:x,w=p.config.markers;return o!==null&&w.discrete.length&&w.discrete.map((function(k){k.seriesIndex===a&&k.dataPointIndex===o&&(b.pointStrokeColor=k.strokeColor,b.pointFillColor=k.fillColor,y=k.size,b.pointShape=k.shape)})),{pSize:h===null?y:h,pRadius:h!==null?h:w.radius,pointStrokeWidth:m!==null?m:Array.isArray(w.strokeWidth)?w.strokeWidth[a]:w.strokeWidth,pointStrokeColor:b.pointStrokeColor,pointFillColor:b.pointFillColor,shape:b.pointShape||(Array.isArray(w.shape)?w.shape[a]:w.shape),class:t,pointStrokeOpacity:Array.isArray(w.strokeOpacity)?w.strokeOpacity[a]:w.strokeOpacity,pointStrokeDashArray:Array.isArray(w.strokeDashArray)?w.strokeDashArray[a]:w.strokeDashArray,pointFillOpacity:Array.isArray(w.fillOpacity)?w.fillOpacity[a]:w.fillOpacity,seriesIndex:a}}},{key:"addEvents",value:function(e){var t=this.w,a=new me(this.ctx);e.node.addEventListener("mouseenter",a.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",a.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",a.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",a.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,a=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(a)?a[e]:a}}}]),r})(),Jv=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return we(r,[{key:"draw",value:function(e,t,a){var i=this.w,o=new me(this.ctx),c=a.realIndex,h=a.pointsPos,u=a.zRatio,x=a.elParent,f=o.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(f.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(h.x))for(var m=0;m<h.x.length;m++){var p=t+1,b=!0;t===0&&m===0&&(p=0),t===0&&m===1&&(p=1);var y=i.globals.markers.size[c];if(u!==1/0){var w=i.config.plotOptions.bubble;y=i.globals.seriesZ[c][p],w.zScaling&&(y/=u),w.minBubbleRadius&&y<w.minBubbleRadius&&(y=w.minBubbleRadius),w.maxBubbleRadius&&y>w.maxBubbleRadius&&(y=w.maxBubbleRadius)}var k=h.x[m],C=h.y[m];if(y=y||0,C!==null&&i.globals.series[c][p]!==void 0||(b=!1),b){var S=this.drawPoint(k,C,y,c,p,t);f.add(S)}x.add(f)}}},{key:"drawPoint",value:function(e,t,a,i,o,c){var h=this.w,u=i,x=new cr(this.ctx),f=new Qt(this.ctx),m=new Js(this.ctx),p=new xr(this.ctx),b=new me(this.ctx),y=p.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:u,dataPointIndex:o,radius:h.config.chart.type==="bubble"||h.globals.comboCharts&&h.config.series[i]&&h.config.series[i].type==="bubble"?a:null}),w=m.fillPath({seriesNumber:i,dataPointIndex:o,color:y.pointFillColor,patternUnits:"objectBoundingBox",value:h.globals.series[i][c]}),k=b.drawMarker(e,t,y);if(h.config.series[u].data[o]&&h.config.series[u].data[o].fillColor&&(w=h.config.series[u].data[o].fillColor),k.attr({fill:w}),h.config.chart.dropShadow.enabled){var C=h.config.chart.dropShadow;f.dropShadow(k,C,i)}if(!this.initialAnim||h.globals.dataChanged||h.globals.resized)h.globals.animationEnded=!0;else{var S=h.config.chart.animations.speed;x.animateMarker(k,S,h.globals.easing,(function(){window.setTimeout((function(){x.animationCompleted(k)}),100)}))}return k.attr({rel:o,j:o,index:i,"default-marker-size":y.pSize}),f.setSelectionFilter(k,i,o),p.addEvents(k),k.node.classList.add("apexcharts-marker"),k}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r})(),ir=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"dataLabelsCorrection",value:function(e,t,a,i,o,c,h){var u=this.w,x=!1,f=new me(this.ctx).getTextRects(a,h),m=f.width,p=f.height;t<0&&(t=0),t>u.globals.gridHeight+p&&(t=u.globals.gridHeight+p/2),u.globals.dataLabelsRects[i]===void 0&&(u.globals.dataLabelsRects[i]=[]),u.globals.dataLabelsRects[i].push({x:e,y:t,width:m,height:p});var b=u.globals.dataLabelsRects[i].length-2,y=u.globals.lastDrawnDataLabelsIndexes[i]!==void 0?u.globals.lastDrawnDataLabelsIndexes[i][u.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(u.globals.dataLabelsRects[i][b]!==void 0){var w=u.globals.dataLabelsRects[i][y];(e>w.x+w.width||t>w.y+w.height||t+p<w.y||e+m<w.x)&&(x=!0)}return(o===0||c)&&(x=!0),{x:e,y:t,textRects:f,drawnextLabel:x}}},{key:"drawDataLabel",value:function(e){var t=this,a=e.type,i=e.pos,o=e.i,c=e.j,h=e.isRangeStart,u=e.strokeWidth,x=u===void 0?2:u,f=this.w,m=new me(this.ctx),p=f.config.dataLabels,b=0,y=0,w=c,k=null;if(f.globals.collapsedSeriesIndices.indexOf(o)!==-1||!p.enabled||!Array.isArray(i.x))return k;k=m.group({class:"apexcharts-data-labels"});for(var C=0;C<i.x.length;C++)if(b=i.x[C]+p.offsetX,y=i.y[C]+p.offsetY+x,!isNaN(b)){c===1&&C===0&&(w=0),c===1&&C===1&&(w=1);var S=f.globals.series[o][w];a==="rangeArea"&&(S=h?f.globals.seriesRangeStart[o][w]:f.globals.seriesRangeEnd[o][w]);var A="",T=function(M){return f.config.dataLabels.formatter(M,{ctx:t.ctx,seriesIndex:o,dataPointIndex:w,w:f})};f.config.chart.type==="bubble"?(A=T(S=f.globals.seriesZ[o][w]),y=i.y[C],y=new Jv(this.ctx).centerTextInBubble(y,o,w).y):S!==void 0&&(A=T(S));var L=f.config.dataLabels.textAnchor;f.globals.isSlopeChart&&(L=w===0?"end":w===f.config.series[o].data.length-1?"start":"middle"),this.plotDataLabelsText({x:b,y,text:A,i:o,j:w,parent:k,offsetCorrection:!0,dataLabelsConfig:f.config.dataLabels,textAnchor:L})}return k}},{key:"plotDataLabelsText",value:function(e){var t=this.w,a=new me(this.ctx),i=e.x,o=e.y,c=e.i,h=e.j,u=e.text,x=e.textAnchor,f=e.fontSize,m=e.parent,p=e.dataLabelsConfig,b=e.color,y=e.alwaysDrawDataLabel,w=e.offsetCorrection,k=e.className,C=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(c)<0)return C;var S={x:i,y:o,drawnextLabel:!0,textRects:null};w&&(S=this.dataLabelsCorrection(i,o,u,c,h,y,parseInt(p.style.fontSize,10))),t.globals.zoomed||(i=S.x,o=S.y),S.textRects&&(i<-20-S.textRects.width||i>t.globals.gridWidth+S.textRects.width+30)&&(u="");var A=t.globals.dataLabels.style.colors[c];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(A=t.globals.dataLabels.style.colors[h]),typeof A=="function"&&(A=A({series:t.globals.series,seriesIndex:c,dataPointIndex:h,w:t})),b&&(A=b);var T=p.offsetX,L=p.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(T=0,L=0),t.globals.isSlopeChart&&(h!==0&&(T=-2*p.offsetX+5),h!==0&&h!==t.config.series[c].data.length-1&&(T=0)),S.drawnextLabel){if(x==="middle"&&i===t.globals.gridWidth&&(x="end"),(C=a.drawText({width:100,height:parseInt(p.style.fontSize,10),x:i+T,y:o+L,foreColor:A,textAnchor:x||p.textAnchor,text:u,fontSize:f||p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight||"normal"})).attr({class:k||"apexcharts-datalabel",cx:i,cy:o}),p.dropShadow.enabled){var M=p.dropShadow;new Qt(this.ctx).dropShadow(C,M)}m.add(C),t.globals.lastDrawnDataLabelsIndexes[c]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[c]=[]),t.globals.lastDrawnDataLabelsIndexes[c].push(h)}return C}},{key:"addBackgroundToDataLabel",value:function(e,t){var a=this.w,i=a.config.dataLabels.background,o=i.padding,c=i.padding/2,h=t.width,u=t.height,x=new me(this.ctx).drawRect(t.x-o,t.y-c/2,h+2*o,u+c,i.borderRadius,a.config.chart.background!=="transparent"&&a.config.chart.background?a.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new Qt(this.ctx).dropShadow(x,i.dropShadow),x}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),a=0;a<t.length;a++){var i=t[a],o=i.getBBox(),c=null;if(o.width&&o.height&&(c=this.addBackgroundToDataLabel(i,o)),c){i.parentNode.insertBefore(c.node,i);var h=e.config.dataLabels.background.backgroundColor||i.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?c.animate().attr({fill:h}):c.attr({fill:h}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),a=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)a&&a.insertBefore(t[i],a.nextSibling)}}]),r})(),ey=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,Ws=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return we(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(J.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),a=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:a}}},{key:"addCollapsedClassToSeries",value:function(e,t){var a=this.w;function i(o){for(var c=0;c<o.length;c++)o[c].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(a.globals.collapsedSeries),i(a.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w,o=J.clone(i.globals.initialSeries);i.globals.previousPaths=[],a?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):o=this.emptyCollapsedSeries(o),i.config.series=o,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,a=0;a<e.length;a++)t.globals.collapsedSeriesIndices.indexOf(a)>-1&&(e[a].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,a=this.getSeriesByName(e),i=parseInt(a?.getAttribute("data:realIndex"),10),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),c=null,h=null,u=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){c=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),h=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"));var x=t.globals.seriesYAxisReverseMap[i];u=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(x,"']"))}else c=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']"));else c=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var f=0;f<o.length;f++)o[f].classList.add(this.legendInactiveClass);if(c)t.globals.axisCharts||c.parentNode.classList.remove(this.legendInactiveClass),c.classList.remove(this.legendInactiveClass),h!==null&&h.classList.remove(this.legendInactiveClass),u!==null&&u.classList.remove(this.legendInactiveClass);else for(var m=0;m<o.length;m++)o[m].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var a=this.w;t||(t=e.target);var i=a.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(a.globals.seriesNames[o])}else if(e.type==="mouseout")for(var c=0;c<i.length;c++)i[c].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var a=this,i=this.w,o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),c=function(x){for(var f=0;f<o.length;f++)o[f].classList[x](a.legendInactiveClass)};if(e.type==="mousemove"){var h=parseInt(t.getAttribute("rel"),10)-1;c("add");var u=i.config.plotOptions.heatmap.colorScale.ranges;(function(x,f){for(var m=0;m<o.length;m++){var p=Number(o[m].getAttribute("val"));p>=x.from&&(p<x.to||x.to===f&&p===f)&&o[m].classList.remove(a.legendInactiveClass)}})(u[h],u.reduce((function(x,f){return Math.max(x,f.to)}),0))}else e.type==="mouseout"&&c("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=this.w,i=0;if(a.config.series.length>1){for(var o=a.config.series.map((function(h,u){return h.data&&h.data.length>0&&a.globals.collapsedSeriesIndices.indexOf(u)===-1&&(!a.globals.comboCharts||t.length===0||t.length&&t.indexOf(a.config.series[u].type)>-1)?u:-1})),c=e==="asc"?0:o.length-1;e==="asc"?c<o.length:c>=0;e==="asc"?c++:c--)if(o[c]!==-1){i=o[c];break}}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(e,t){return e.type==="bar"||e.type==="column"?t:-1})).filter((function(e){return e!==-1})):this.w.config.series.map((function(e,t){return t}))}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(c,h,u){for(var x=c[h].childNodes,f={type:u,paths:[],realIndex:c[h].getAttribute("data:realIndex")},m=0;m<x.length;m++)if(x[m].hasAttribute("pathTo")){var p=x[m].getAttribute("pathTo");f.paths.push({d:p})}e.globals.previousPaths.push(f)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(c){for(var h,u=(h=c,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series"))),x=0;x<u.length;x++)t(u,x,c)}));var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(a.length>0)for(var i=function(c){for(var h=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(c,"'] rect")),u=[],x=function(m){var p=function(y){return h[m].getAttribute(y)},b={x:parseFloat(p("x")),y:parseFloat(p("y")),width:parseFloat(p("width")),height:parseFloat(p("height"))};u.push({rect:b,color:h[m].getAttribute("color")})},f=0;f<h.length;f++)x(f);e.globals.previousPaths.push(u)},o=0;o<a.length;o++)i(o);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,a=new me(this.ctx),i=e.globals.svgWidth/2,o=e.globals.svgHeight/2,c="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(i=10,c="start"):t.align==="right"&&(i=e.globals.svgWidth-10,c="end"),t.verticalAlign==="top"?o=50:t.verticalAlign==="bottom"&&(o=e.globals.svgHeight-50),i+=t.offsetX,o=o+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var h=a.drawText({x:i,y:o,text:t.text,textAnchor:c,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(h)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,a=0;a<e.length;a++)if(e[a].length===0)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[a].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,a=this.filteredSeriesX(),i=0;i<a.length-1;i++)if(a[i][0]!==a[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return e}}]),r})(),ig=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new _t(this.ctx)}return we(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Ws(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Ws(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var a=this.w.config,i=this.w.globals,o=a.chart.type==="boxPlot"||a.series[t].type==="boxPlot",c=0;c<e[t].data.length;c++)if(e[t].data[c][1]!==void 0&&(Array.isArray(e[t].data[c][1])&&e[t].data[c][1].length===4&&!o?this.twoDSeries.push(J.parseNumber(e[t].data[c][1][3])):e[t].data[c].length>=5?this.twoDSeries.push(J.parseNumber(e[t].data[c][4])):this.twoDSeries.push(J.parseNumber(e[t].data[c][1])),i.dataFormatXNumeric=!0),a.xaxis.type==="datetime"){var h=new Date(e[t].data[c][0]);h=new Date(h).getTime(),this.twoDSeriesX.push(h)}else this.twoDSeriesX.push(e[t].data[c][0]);for(var u=0;u<e[t].data.length;u++)e[t].data[u][2]!==void 0&&(this.threeDSeries.push(e[t].data[u][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var a=this.w.config,i=this.w.globals,o=new Zt(this.ctx),c=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(c=this.activeSeriesIndex);for(var h=0;h<e[t].data.length;h++)e[t].data[h].y!==void 0&&(Array.isArray(e[t].data[h].y)?this.twoDSeries.push(J.parseNumber(e[t].data[h].y[e[t].data[h].y.length-1])):this.twoDSeries.push(J.parseNumber(e[t].data[h].y))),e[t].data[h].goals!==void 0&&Array.isArray(e[t].data[h].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[h].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var u=0;u<e[c].data.length;u++){var x=typeof e[c].data[u].x=="string",f=Array.isArray(e[c].data[u].x),m=!f&&!!o.isValidDate(e[c].data[u].x);if(x||m)if(x||a.xaxis.convertedCatToNumeric){var p=i.isBarHorizontal&&i.isRangeData;a.xaxis.type!=="datetime"||p?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[c].data[u].x),isNaN(e[c].data[u].x)||this.w.config.xaxis.type==="category"||typeof e[c].data[u].x=="string"||(i.isXNumeric=!0)):this.twoDSeriesX.push(o.parseDate(e[c].data[u].x))}else a.xaxis.type==="datetime"?this.twoDSeriesX.push(o.parseDate(e[c].data[u].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[c].data[u].x)));else f?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[c].data[u].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[c].data[u].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var b=0;b<e[t].data.length;b++)this.threeDSeries.push(e[t].data[b].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var a=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),a.seriesRangeStart[t]=i.start===void 0?[]:i.start,a.seriesRangeEnd[t]=i.end===void 0?[]:i.end,a.seriesRange[t]=i.rangeUniques,a.seriesRange.forEach((function(o,c){o&&o.forEach((function(h,u){h.y.forEach((function(x,f){for(var m=0;m<h.y.length;m++)if(f!==m){var p=x.y1,b=x.y2,y=h.y[m].y1;p<=h.y[m].y2&&y<=b&&(h.overlaps.indexOf(x.rangeName)<0&&h.overlaps.push(x.rangeName),h.overlaps.indexOf(h.y[m].rangeName)<0&&h.overlaps.push(h.y[m].rangeName))}}))}))})),i}},{key:"handleCandleStickBoxData",value:function(e,t){var a=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),a.seriesCandleO[t]=i.o,a.seriesCandleH[t]=i.h,a.seriesCandleM[t]=i.m,a.seriesCandleL[t]=i.l,a.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,a){var i=[],o=[],c=t[a].data.filter((function(f,m,p){return m===p.findIndex((function(b){return b.x===f.x}))})).map((function(f,m){return{x:f.x,overlaps:[],y:[]}}));if(e==="array")for(var h=0;h<t[a].data.length;h++)Array.isArray(t[a].data[h])?(i.push(t[a].data[h][1][0]),o.push(t[a].data[h][1][1])):(i.push(t[a].data[h]),o.push(t[a].data[h]));else if(e==="xy")for(var u=function(f){var m=Array.isArray(t[a].data[f].y),p=J.randomId(),b=t[a].data[f].x,y={y1:m?t[a].data[f].y[0]:t[a].data[f].y,y2:m?t[a].data[f].y[1]:t[a].data[f].y,rangeName:p};t[a].data[f].rangeName=p;var w=c.findIndex((function(k){return k.x===b}));c[w].y.push(y),i.push(y.y1),o.push(y.y2)},x=0;x<t[a].data.length;x++)u(x);return{start:i,end:o,rangeUniques:c}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,a){var i=this.w,o=i.config.chart.type==="boxPlot"||i.config.series[a].type==="boxPlot",c=[],h=[],u=[],x=[],f=[];if(e==="array")if(o&&t[a].data[0].length===6||!o&&t[a].data[0].length===5)for(var m=0;m<t[a].data.length;m++)c.push(t[a].data[m][1]),h.push(t[a].data[m][2]),o?(u.push(t[a].data[m][3]),x.push(t[a].data[m][4]),f.push(t[a].data[m][5])):(x.push(t[a].data[m][3]),f.push(t[a].data[m][4]));else for(var p=0;p<t[a].data.length;p++)Array.isArray(t[a].data[p][1])&&(c.push(t[a].data[p][1][0]),h.push(t[a].data[p][1][1]),o?(u.push(t[a].data[p][1][2]),x.push(t[a].data[p][1][3]),f.push(t[a].data[p][1][4])):(x.push(t[a].data[p][1][2]),f.push(t[a].data[p][1][3])));else if(e==="xy")for(var b=0;b<t[a].data.length;b++)Array.isArray(t[a].data[b].y)&&(c.push(t[a].data[b].y[0]),h.push(t[a].data[b].y[1]),o?(u.push(t[a].data[b].y[2]),x.push(t[a].data[b].y[3]),f.push(t[a].data[b].y[4])):(x.push(t[a].data[b].y[2]),f.push(t[a].data[b].y[3])));return{o:c,h,m:u,l:x,c:f}}},{key:"parseDataAxisCharts",value:function(e){var t=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,i=this.w.config,o=this.w.globals,c=new Zt(a),h=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();o.isRangeBar=i.chart.type==="rangeBar"&&o.isBarHorizontal,o.hasXaxisGroups=i.xaxis.type==="category"&&i.xaxis.group.groups.length>0,o.hasXaxisGroups&&(o.groups=i.xaxis.group.groups),e.forEach((function(b,y){b.name!==void 0?o.seriesNames.push(b.name):o.seriesNames.push("series-"+parseInt(y+1,10))})),this.coreUtils.setSeriesYAxisMappings();var u=[],x=Xt(new Set(i.series.map((function(b){return b.group}))));i.series.forEach((function(b,y){var w=x.indexOf(b.group);u[w]||(u[w]=[]),u[w].push(o.seriesNames[y])})),o.seriesGroups=u;for(var f=function(){for(var b=0;b<h.length;b++)if(typeof h[b]=="string"){if(!c.isValidDate(h[b]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(c.parseDate(h[b]))}else t.twoDSeriesX.push(h[b])},m=0;m<e.length;m++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[m].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"&&e[m].type!=="rangeBar"&&e[m].type!=="rangeArea"||(o.isRangeData=!0,this.handleRangeData(e,m)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,m):this.isFormatXY()&&this.handleFormatXY(e,m),i.chart.type!=="candlestick"&&e[m].type!=="candlestick"&&i.chart.type!=="boxPlot"&&e[m].type!=="boxPlot"||this.handleCandleStickBoxData(e,m),o.series.push(this.twoDSeries),o.labels.push(this.twoDSeriesX),o.seriesX.push(this.twoDSeriesX),o.seriesGoals=this.seriesGoals,m!==this.activeSeriesIndex||this.fallbackToCategory||(o.isXNumeric=!0);else{i.xaxis.type==="datetime"?(o.isXNumeric=!0,f(),o.seriesX.push(this.twoDSeriesX)):i.xaxis.type==="numeric"&&(o.isXNumeric=!0,h.length>0&&(this.twoDSeriesX=h,o.seriesX.push(this.twoDSeriesX))),o.labels.push(this.twoDSeriesX);var p=e[m].data.map((function(b){return J.parseNumber(b)}));o.series.push(p)}o.seriesZ.push(this.threeDSeries),e[m].color!==void 0?o.seriesColors.push(e[m].color):o.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,a=this.w.config,i=Array.isArray(e)&&e.every((function(f){return typeof f=="number"}))&&a.labels.length>0,o=Array.isArray(e)&&e.some((function(f){return f&&ns(f)==="object"&&f.data||f&&ns(f)==="object"&&f.parsing}));if(i&&o&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),i){t.series=e.slice(),t.seriesNames=a.labels.slice();for(var c=0;c<t.series.length;c++)t.seriesNames[c]===void 0&&t.seriesNames.push("series-"+(c+1));return this.w}if(Array.isArray(e)&&e.every((function(f){return typeof f=="number"}))){t.series=e.slice(),t.seriesNames=[];for(var h=0;h<t.series.length;h++)t.seriesNames.push(a.labels[h]||"series-".concat(h+1));return this.w}var u=this.extractPieDataFromSeries(e);t.series=u.values,t.seriesNames=u.labels,a.chart.type==="radialBar"&&(t.series=t.series.map((function(f){var m=J.parseNumber(f);return m>100&&console.warn("ApexCharts: RadialBar value ".concat(m," > 100, consider using percentage values (0-100)")),m})));for(var x=0;x<t.series.length;x++)t.seriesNames[x]===void 0&&t.seriesNames.push("series-"+(x+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach((function(t){t.__apexParsed&&delete t.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(e){var t=[],a=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var i=e[0];return ns(i)==="object"&&i!==null&&i.data?(this.extractPieDataFromSeriesObjects(e,t,a),{values:t,labels:a}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,a){e.forEach((function(i,o){i.data&&Array.isArray(i.data)?i.data.forEach((function(c){ns(c)==="object"&&c!==null?c.x!==void 0&&c.y!==void 0?(a.push(String(c.x)),t.push(J.parseNumber(c.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",c):console.warn("ApexCharts: Expected object data point, got:",ns(c))})):console.warn("ApexCharts: Series ".concat(o," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,a=this.w.globals;t.xaxis.categories.length>0?a.labels=t.xaxis.categories:t.labels.length>0?a.labels=t.labels.slice():this.fallbackToCategory?(a.labels=a.labels[0],a.seriesRange.length&&(a.seriesRange.map((function(i){i.forEach((function(o){a.labels.indexOf(o.x)<0&&o.x&&a.labels.push(o.x)}))})),a.labels=Array.from(new Set(a.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new wl(t).convertCatToNumericXaxis(t,this.ctx,a.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,a=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var o=a.series.map((function(m,p){return m.data.filter((function(b,y,w){return w.findIndex((function(k){return k.x===b.x}))===y}))})),c=o.reduce((function(m,p,b,y){return y[m].length>p.length?m:b}),0),h=0;h<o[c].length;h++)i.push(h+1);else for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++)i.push(u+1);t.seriesX=[];for(var x=0;x<e.length;x++)t.seriesX.push(i);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(i.length===0){i=t.axisCharts?[]:t.series.map((function(m,p){return p+1}));for(var f=0;f<e.length;f++)t.seriesX.push(i)}t.labels=i,a.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map((function(m){return a.xaxis.labels.formatter(m)}))),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,a=this.w.config,i=this.w.globals,o=a.parsing;if(i.dataWasParsed||!o&&!e.some((function(h){return h.parsing})))return e;var c=e.map((function(h,u){var x,f,m;if(!h.data||!Array.isArray(h.data)||h.data.length===0)return h;var p={x:((x=h.parsing)===null||x===void 0?void 0:x.x)||o?.x,y:((f=h.parsing)===null||f===void 0?void 0:f.y)||o?.y,z:((m=h.parsing)===null||m===void 0?void 0:m.z)||o?.z};if(!p.x&&!p.y)return h;var b=h.data[0];if(ns(b)==="object"&&b!==null&&(b.hasOwnProperty("x")||b.hasOwnProperty("y"))||Array.isArray(b))return h;if(!p.x||!p.y||Array.isArray(p.y)&&p.y.length===0)return console.warn("ApexCharts: Series ".concat(u," has parsing config but missing x or y field specification")),h;var y=h.data.map((function(w,k){if(ns(w)!=="object"||w===null)return console.warn("ApexCharts: Series ".concat(u,", data point ").concat(k," is not an object, skipping parsing")),w;var C,S=t.getNestedValue(w,p.x),A=void 0;if(Array.isArray(p.y)){var T=p.y.map((function(_){return t.getNestedValue(w,_)}));C=t.w.config.chart.type==="bubble"&&T.length===2?T[0]:T}else C=t.getNestedValue(w,p.y);p.z&&(A=t.getNestedValue(w,p.z)),S===void 0&&console.warn("ApexCharts: Series ".concat(u,", data point ").concat(k," missing field '").concat(p.x,"'")),C===void 0&&console.warn("ApexCharts: Series ".concat(u,", data point ").concat(k," missing field '").concat(p.y,"'"));var L={x:S,y:C};if(t.w.config.chart.type==="bubble"&&Array.isArray(p.y)&&p.y.length===2){var M=t.getNestedValue(w,p.y[1]);M!==void 0&&(L.z=M)}return A!==void 0&&(L.z=A),L}));return be(be({},h),{},{data:y,__apexParsed:!0})}));return i.dataWasParsed=!0,i.originalSeries||(i.originalSeries=J.clone(e)),c}},{key:"getNestedValue",value:function(e,t){if(e&&ns(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var a=t.split("."),i=e,o=0;o<a.length;o++){if(i==null||ns(i)!=="object")return;i=i[a[o]]}return i}}},{key:"parseData",value:function(e){var t=this.w,a=t.config,i=t.globals;if(e=this.parseRawDataIfNeeded(e),a.series=e,i.initialSeries=J.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),a.chart.stacked){var o=new Ws(this.ctx);i.series=o.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),i.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&(a.xaxis.type!=="numeric"||a.labels.length!==0||a.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var c=this.coreUtils.getCategoryLabels(i.labels),h=0;h<c.length;h++)if(Array.isArray(c[h])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach((function(a,i){var o=0;a.forEach((function(c){e.globals.collapsedSeriesIndices.indexOf(c)!==-1&&o++})),o>0&&o==a.length&&t.push(i)})),e.globals.ignoreYAxisIndexes=t.map((function(a){return a}))}}]),r})(),xl=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var a=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",a*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+a+" "+i)}},{key:"getSvgString",value:function(e){var t=this;return new Promise((function(a){var i=t.w,o=e||i.config.chart.toolbar.export.scale||i.config.chart.toolbar.export.width/i.globals.svgWidth;o||(o=1);var c=i.globals.svgWidth*o,h=i.globals.svgHeight*o,u=i.globals.dom.elWrap.cloneNode(!0);u.style.width=c+"px",u.style.height=h+"px";var x=new XMLSerializer().serializeToString(u),f=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;i.config.legend.show&&i.globals.dom.elLegendWrap&&i.globals.dom.elLegendWrap.children.length>0&&(f+=ey);var m=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(i.globals.svgWidth,'px" height="').concat(i.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(c,"px; height:").concat(h,`px;">
            <style type="text/css">
              `).concat(f,`
            </style>
              `).concat(x,`
            </div>
          </foreignObject>
        </svg>
      `),p=t.svgStringToNode(m);o!==1&&t.scaleSvgNode(p,o),t.convertImagesToBase64(p).then((function(){m=new XMLSerializer().serializeToString(p),a(m.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(e){var t=this,a=e.getElementsByTagName("image"),i=Array.from(a).map((function(o){var c=o.getAttributeNS("http://www.w3.org/1999/xlink","href");return c&&!c.startsWith("data:")?t.getBase64FromUrl(c).then((function(h){o.setAttributeNS("http://www.w3.org/1999/xlink","href",h)})).catch((function(h){console.error("Error converting image to base64:",h)})):Promise.resolve()}));return Promise.all(i)}},{key:"getBase64FromUrl",value:function(e){return new Promise((function(t,a){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0),t(o.toDataURL())},i.onerror=a,i.src=e}))}},{key:"svgUrl",value:function(){var e=this;return new Promise((function(t){e.getSvgString().then((function(a){var i=new Blob([a],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(i))}))}))}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(a){var i=t.w,o=e?e.scale||e.width/i.globals.svgWidth:1,c=document.createElement("canvas");c.width=i.globals.svgWidth*o,c.height=parseInt(i.globals.dom.elWrap.style.height,10)*o;var h=i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",u=c.getContext("2d");u.fillStyle=h,u.fillRect(0,0,c.width*o,c.height*o),t.getSvgString(o).then((function(x){var f="data:image/svg+xml,"+encodeURIComponent(x),m=new Image;m.crossOrigin="anonymous",m.onload=function(){if(u.drawImage(m,0,0),c.msToBlob){var p=c.msToBlob();a({blob:p})}else{var b=c.toDataURL("image/png");a({imgURI:b})}},m.src=f}))}))}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then((function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,a=this.w.config.chart.toolbar.export.width,i=t?{scale:t}:a?{width:a}:void 0;this.dataURI(i).then((function(o){var c=o.imgURI,h=o.blob;h?navigator.msSaveOrOpenBlob(h,e.w.globals.chartID+".png"):e.triggerDownload(c,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,a=e.series,i=e.fileName,o=e.columnDelimiter,c=o===void 0?",":o,h=e.lineDelimiter,u=h===void 0?`
`:h,x=this.w;a||(a=x.config.series);var f=[],m=[],p="",b=x.globals.series.map((function(L,M){return x.globals.collapsedSeriesIndices.indexOf(M)===-1?L:[]})),y=function(L){return typeof x.config.chart.toolbar.export.csv.categoryFormatter=="function"?x.config.chart.toolbar.export.csv.categoryFormatter(L):x.config.xaxis.type==="datetime"&&String(L).length>=10?new Date(L).toDateString():J.isNumber(L)?L:L.split(c).join("")},w=function(L){return typeof x.config.chart.toolbar.export.csv.valueFormatter=="function"?x.config.chart.toolbar.export.csv.valueFormatter(L):L},k=Math.max.apply(Math,Xt(a.map((function(L){return L.data?L.data.length:0})))),C=new ig(this.ctx),S=new Si(this.ctx),A=function(L){var M="";if(x.globals.axisCharts){if(x.config.xaxis.type==="category"||x.config.xaxis.convertedCatToNumeric)if(x.globals.isBarHorizontal){var _=x.globals.yLabelFormatters[0],D=new Ws(t.ctx).getActiveConfigSeriesIndex();M=_(x.globals.labels[L],{seriesIndex:D,dataPointIndex:L,w:x})}else M=S.getLabel(x.globals.labels,x.globals.timescaleLabels,0,L).text;x.config.xaxis.type==="datetime"&&(x.config.xaxis.categories.length?M=x.config.xaxis.categories[L]:x.config.labels.length&&(M=x.config.labels[L]))}else M=x.config.labels[L];return M===null?"nullvalue":(Array.isArray(M)&&(M=M.join(" ")),J.isNumber(M)?M:M.split(c).join(""))},T=function(L,M){if(f.length&&M===0&&m.push(f.join(c)),L.data){L.data=L.data.length&&L.data||Xt(Array(k)).map((function(){return""}));for(var _=0;_<L.data.length;_++){f=[];var D=A(_);if(D!=="nullvalue"){if(D||(C.isFormatXY()?D=a[M].data[_].x:C.isFormat2DArray()&&(D=a[M].data[_]?a[M].data[_][0]:"")),M===0){f.push(y(D));for(var H=0;H<x.globals.series.length;H++){var z,B=C.isFormatXY()?(z=a[H].data[_])===null||z===void 0?void 0:z.y:b[H][_];f.push(w(B))}}(x.config.chart.type==="candlestick"||L.type&&L.type==="candlestick")&&(f.pop(),f.push(x.globals.seriesCandleO[M][_]),f.push(x.globals.seriesCandleH[M][_]),f.push(x.globals.seriesCandleL[M][_]),f.push(x.globals.seriesCandleC[M][_])),(x.config.chart.type==="boxPlot"||L.type&&L.type==="boxPlot")&&(f.pop(),f.push(x.globals.seriesCandleO[M][_]),f.push(x.globals.seriesCandleH[M][_]),f.push(x.globals.seriesCandleM[M][_]),f.push(x.globals.seriesCandleL[M][_]),f.push(x.globals.seriesCandleC[M][_])),x.config.chart.type==="rangeBar"&&(f.pop(),f.push(x.globals.seriesRangeStart[M][_]),f.push(x.globals.seriesRangeEnd[M][_])),f.length&&m.push(f.join(c))}}}};f.push(x.config.chart.toolbar.export.csv.headerCategory),x.config.chart.type==="boxPlot"?(f.push("minimum"),f.push("q1"),f.push("median"),f.push("q3"),f.push("maximum")):x.config.chart.type==="candlestick"?(f.push("open"),f.push("high"),f.push("low"),f.push("close")):x.config.chart.type==="rangeBar"?(f.push("minimum"),f.push("maximum")):a.map((function(L,M){var _=(L.name?L.name:"series-".concat(M))+"";x.globals.axisCharts&&f.push(_.split(c).join("")?_.split(c).join(""):"series-".concat(M))})),x.globals.axisCharts||(f.push(x.config.chart.toolbar.export.csv.headerValue),m.push(f.join(c))),x.globals.allSeriesHasEqualX||!x.globals.axisCharts||x.config.xaxis.categories.length||x.config.labels.length?a.map((function(L,M){x.globals.axisCharts?T(L,M):((f=[]).push(y(x.globals.labels[M])),f.push(w(b[M])),m.push(f.join(c)))})):(function(){var L=new Set,M={};a.forEach((function(_,D){_?.data.forEach((function(H){var z,B;if(C.isFormatXY())z=H.x,B=H.y;else{if(!C.isFormat2DArray())return;z=H[0],B=H[1]}M[z]||(M[z]=Array(a.length).fill("")),M[z][D]=w(B),L.add(z)}))})),f.length&&m.push(f.join(c)),Array.from(L).sort().forEach((function(_){m.push([y(_),M[_].join(c)])}))})(),p+=m.join(u),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+p),i||x.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,a){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+a,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),r})(),Nl=(function(){function r(e,t){ye(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var a=this.w;this.axesUtils=new Si(e),this.xaxisLabels=a.globals.labels.slice(),a.globals.timescaleLabels.length>0&&!a.globals.isBarHorizontal&&(this.xaxisLabels=a.globals.timescaleLabels.slice()),a.config.xaxis.overwriteCategories&&(this.xaxisLabels=a.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],a.config.xaxis.position==="top"?this.offY=0:this.offY=a.globals.gridHeight,this.offY=this.offY+a.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=a.config.chart.type==="bar"&&a.config.plotOptions.bar.horizontal,this.xaxisFontSize=a.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=a.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=a.config.xaxis.labels.style.colors,this.xaxisBorderWidth=a.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=a.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=a.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=a.config.xaxis.axisBorder.height,this.yaxis=a.config.yaxis[0]}return we(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new me(this.ctx),a=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});a.add(i);for(var o=[],c=0;c<this.xaxisLabels.length;c++)o.push(this.xaxisLabels[c]);if(this.drawXAxisLabelAndGroup(!0,t,i,o,e.globals.isXNumeric,(function(y,w){return w})),e.globals.hasXaxisGroups){var h=e.globals.groups;o=[];for(var u=0;u<h.length;u++)o.push(h[u].title);var x={};e.config.xaxis.group.style&&(x.xaxisFontSize=e.config.xaxis.group.style.fontSize,x.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,x.xaxisForeColors=e.config.xaxis.group.style.colors,x.fontWeight=e.config.xaxis.group.style.fontWeight,x.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,o,!1,(function(y,w){return h[y].cols*w}),x)}if(e.config.xaxis.title.text!==void 0){var f=t.group({class:"apexcharts-xaxis-title"}),m=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});f.add(m),a.add(f)}if(e.config.xaxis.axisBorder.show){var p=e.globals.barPadForNumericAxis,b=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-p,this.offY,this.xaxisBorderWidth+p,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(b):a.add(b)}return a}},{key:"drawXAxisLabelAndGroup",value:function(e,t,a,i,o,c){var h,u=this,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},f=[],m=[],p=this.w,b=x.xaxisFontSize||this.xaxisFontSize,y=x.xaxisFontFamily||this.xaxisFontFamily,w=x.xaxisForeColors||this.xaxisForeColors,k=x.fontWeight||p.config.xaxis.labels.style.fontWeight,C=x.cssClass||p.config.xaxis.labels.style.cssClass,S=p.globals.padHorizontal,A=i.length,T=p.config.xaxis.type==="category"?p.globals.dataPoints:A;if(T===0&&A>T&&(T=A),o){var L=Math.max(Number(p.config.xaxis.tickAmount)||1,T>1?T-1:T);h=p.globals.gridWidth/Math.min(L,A-1),S=S+c(0,h)/2+p.config.xaxis.labels.offsetX}else h=p.globals.gridWidth/T,S=S+c(0,h)+p.config.xaxis.labels.offsetX;for(var M=function(D){var H=S-c(D,h)/2+p.config.xaxis.labels.offsetX;D===0&&A===1&&h/2===S&&T===1&&(H=p.globals.gridWidth/2);var z=u.axesUtils.getLabel(i,p.globals.timescaleLabels,H,D,f,b,e),B=28;if(p.globals.rotateXLabels&&e&&(B=22),p.config.xaxis.title.text&&p.config.xaxis.position==="top"&&(B+=parseFloat(p.config.xaxis.title.style.fontSize)+2),e||(B=B+parseFloat(b)+(p.globals.xAxisLabelsHeight-p.globals.xAxisGroupLabelsHeight)+(p.globals.rotateXLabels?10:0)),z=p.config.xaxis.tickAmount!==void 0&&p.config.xaxis.tickAmount!=="dataPoints"&&p.config.xaxis.type!=="datetime"?u.axesUtils.checkLabelBasedOnTickamount(D,z,A):u.axesUtils.checkForOverflowingLabels(D,z,A,f,m),p.config.xaxis.labels.show){var P=t.drawText({x:z.x,y:u.offY+p.config.xaxis.labels.offsetY+B-(p.config.xaxis.position==="top"?p.globals.xAxisHeight+p.config.xaxis.axisTicks.height-2:0),text:z.text,textAnchor:"middle",fontWeight:z.isBold?600:k,fontSize:b,fontFamily:y,foreColor:Array.isArray(w)?e&&p.config.xaxis.convertedCatToNumeric?w[p.globals.minX+D-1]:w[D]:w,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+C});if(a.add(P),P.on("click",(function(V){if(typeof p.config.chart.events.xAxisLabelClick=="function"){var Q=Object.assign({},p,{labelIndex:D});p.config.chart.events.xAxisLabelClick(V,u.ctx,Q)}})),e){var W=document.createElementNS(p.globals.SVGNS,"title");W.textContent=Array.isArray(z.text)?z.text.join(" "):z.text,P.node.appendChild(W),z.text!==""&&(f.push(z.text),m.push(z))}}D<A-1&&(S+=c(D+1,h))},_=0;_<=A-1;_++)M(_)}},{key:"drawXaxisInversed",value:function(e){var t,a,i=this,o=this.w,c=new me(this.ctx),h=o.config.yaxis[0].opposite?o.globals.translateYAxisX[e]:0,u=c.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),x=c.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+h+", 0)"});u.add(x);var f=[];if(o.config.yaxis[e].show)for(var m=0;m<this.xaxisLabels.length;m++)f.push(this.xaxisLabels[m]);t=o.globals.gridHeight/f.length,a=-t/2.2;var p=o.globals.yLabelFormatters[0],b=o.config.yaxis[0].labels;if(b.show)for(var y=function(L){var M=f[L]===void 0?"":f[L];M=p(M,{seriesIndex:e,dataPointIndex:L,w:o});var _=i.axesUtils.getYAxisForeColor(b.style.colors,e),D=0;Array.isArray(M)&&(D=M.length/2*parseInt(b.style.fontSize,10));var H=b.offsetX-15,z="end";i.yaxis.opposite&&(z="start"),o.config.yaxis[0].labels.align==="left"?(H=b.offsetX,z="start"):o.config.yaxis[0].labels.align==="center"?(H=b.offsetX,z="middle"):o.config.yaxis[0].labels.align==="right"&&(z="end");var B=c.drawText({x:H,y:a+t+b.offsetY-D,text:M,textAnchor:z,foreColor:Array.isArray(_)?_[L]:_,fontSize:b.style.fontSize,fontFamily:b.style.fontFamily,fontWeight:b.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+b.style.cssClass,maxWidth:b.maxWidth});x.add(B),B.on("click",(function(V){if(typeof o.config.chart.events.xAxisLabelClick=="function"){var Q=Object.assign({},o,{labelIndex:L});o.config.chart.events.xAxisLabelClick(V,i.ctx,Q)}}));var P=document.createElementNS(o.globals.SVGNS,"title");if(P.textContent=Array.isArray(M)?M.join(" "):M,B.node.appendChild(P),o.config.yaxis[e].labels.rotate!==0){var W=c.rotateAroundCenter(B.node);B.node.setAttribute("transform","rotate(".concat(o.config.yaxis[e].labels.rotate," 0 ").concat(W.y,")"))}a+=t},w=0;w<=f.length-1;w++)y(w);if(o.config.yaxis[0].title.text!==void 0){var k=c.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+h+", 0)"}),C=c.drawText({x:o.config.yaxis[0].title.offsetX,y:o.globals.gridHeight/2+o.config.yaxis[0].title.offsetY,text:o.config.yaxis[0].title.text,textAnchor:"middle",foreColor:o.config.yaxis[0].title.style.color,fontSize:o.config.yaxis[0].title.style.fontSize,fontWeight:o.config.yaxis[0].title.style.fontWeight,fontFamily:o.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[0].title.style.cssClass});k.add(C),u.add(k)}var S=0;this.isCategoryBarHorizontal&&o.config.yaxis[0].opposite&&(S=o.globals.gridWidth);var A=o.config.xaxis.axisBorder;if(A.show){var T=c.drawLine(o.globals.padHorizontal+A.offsetX+S,1+A.offsetY,o.globals.padHorizontal+A.offsetX+S,o.globals.gridHeight+A.offsetY,A.color,0);this.elgrid&&this.elgrid.elGridBorders&&o.config.grid.show?this.elgrid.elGridBorders.add(T):u.add(T)}return o.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,f.length,o.config.yaxis[0].axisBorder,o.config.yaxis[0].axisTicks,0,t,u),u}},{key:"drawXaxisTicks",value:function(e,t,a){var i=this.w,o=e;if(!(e<0||e-2>i.globals.gridWidth)){var c=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+c+i.config.xaxis.axisTicks.height,i.config.xaxis.position==="top"&&(t=c-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var h=new me(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,c+i.config.xaxis.offsetY,o+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);a.add(h),h.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],a=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var o=0;o<a;o++)i=this.xaxisLabels[o].position,t.push(i);else for(var c=a,h=0;h<c;h++){var u=c;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(u-=1),i+=e.globals.gridWidth/u,t.push(i)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new me(this.ctx),a=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var h=0;h<i.length;h++){var u=t.rotateAroundCenter(i[h]);u.y=u.y-1,u.x=u.x+1,i[h].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(u.x," ").concat(u.y,")")),i[h].setAttribute("text-anchor","end"),a.setAttribute("transform","translate(0, ".concat(-10,")"));var x=i[h].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(x,(function(b){t.placeTextWithEllipsis(b,b.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))}))}else(function(){for(var b=e.globals.gridWidth/(e.globals.labels.length+1),y=0;y<i.length;y++){var w=i[y].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(w,(function(k){t.placeTextWithEllipsis(k,k.textContent,b)}))}})();if(o.length>0){var f=o[o.length-1].getBBox(),m=o[0].getBBox();f.x<-20&&o[o.length-1].parentNode.removeChild(o[o.length-1]),m.x+m.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&o[0].parentNode.removeChild(o[0]);for(var p=0;p<c.length;p++)t.placeTextWithEllipsis(c[p],c[p].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r})(),ty=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Si(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return we(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,a=new me(this.ctx);e||(e=a.group({class:"apexcharts-grid"}));var i=a.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),o=a.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(o),e.add(i),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,a=new me(this.ctx),i=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Xt(e.config.stroke.width)):e.config.stroke.width,o=function(f){var m=document.createElementNS(t.SVGNS,"clipPath");return m.setAttribute("id",f),m};t.dom.elGridRectMask=o("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=o("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=o("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=o("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=o("nonForecastMask".concat(t.cuid));var c=0,h=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(c=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),h=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=a.drawRect(-i/2-2,-i/2-2,t.gridWidth+i+4,t.gridHeight+i+4,0,"#fff"),t.dom.elGridRectBar=a.drawRect(-i/2-c-2,-i/2-2,t.gridWidth+i+h+c+4,t.gridHeight+i+4,0,"#fff");var u=e.globals.markers.largestSize;t.dom.elGridRectMarker=a.drawRect(Math.min(-i/2-c-2,-u),-u,t.gridWidth+Math.max(i+h+c+4,2*u),t.gridHeight+2*u,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var x=t.dom.baseEl.querySelector("defs");x.appendChild(t.dom.elGridRectMask),x.appendChild(t.dom.elGridRectBarMask),x.appendChild(t.dom.elGridRectMarkerMask),x.appendChild(t.dom.elForecastMask),x.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,a=e.x1,i=e.y1,o=e.x2,c=e.y2,h=e.xCount,u=e.parent,x=this.w;if(!(t===0&&x.globals.skipFirstTimelinelabel||t===h-1&&x.globals.skipLastTimelinelabel&&!x.config.xaxis.labels.formatter||x.config.chart.type==="radar")){x.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:a,y1:i,x2:o,y2:c,xCount:h,parent:u});var f=0;if(x.globals.hasXaxisGroups&&x.config.xaxis.tickPlacement==="between"){var m=x.globals.groups;if(m){for(var p=0,b=0;p<t&&b<m.length;b++)p+=m[b].cols;p===t&&(f=.6*x.globals.xAxisLabelsHeight)}}new Nl(this.ctx).drawXaxisTicks(a,f,x.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,a=e.x1,i=e.y1,o=e.x2,c=e.y2,h=e.xCount,u=e.parent,x=this.w,f=u.node.classList.contains("apexcharts-gridlines-horizontal"),m=x.globals.barPadForNumericAxis,p=i===0&&c===0||a===0&&o===0||i===x.globals.gridHeight&&c===x.globals.gridHeight||x.globals.isBarHorizontal&&(t===0||t===h-1),b=new me(this).drawLine(a-(f?m:0),i,o+(f?m:0),c,x.config.grid.borderColor,x.config.grid.strokeDashArray);b.node.classList.add("apexcharts-gridline"),p&&x.config.grid.show?this.elGridBorders.add(b):u.add(b)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,a=e.x1,i=e.y1,o=e.x2,c=e.y2,h=e.type,u=this.w,x=new me(this.ctx),f=u.globals.barPadForNumericAxis,m=u.config.grid[h].colors[t],p=x.drawRect(a-(h==="row"?f:0),i,o+(h==="row"?2*f:0),c,0,m,u.config.grid[h].opacity);this.elg.add(p),p.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),p.node.classList.add("apexcharts-grid-".concat(h))}},{key:"_drawXYLines",value:function(e){var t=this,a=e.xCount,i=e.tickAmount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show){var c,h=o.globals.padHorizontal,u=o.globals.gridHeight;o.globals.timescaleLabels.length?(function(y){for(var w=y.xC,k=y.x1,C=y.y1,S=y.x2,A=y.y2,T=0;T<w;T++)k=t.xaxisLabels[T].position,S=t.xaxisLabels[T].position,t._drawGridLines({i:T,x1:k,y1:C,x2:S,y2:A,xCount:a,parent:t.elgridLinesV})})({xC:a,x1:h,y1:0,x2:c,y2:u}):(o.globals.isXNumeric&&(a=o.globals.xAxisScale.result.length),(function(y){for(var w=y.xC,k=y.x1,C=y.y1,S=y.x2,A=y.y2,T=0;T<w+(o.globals.isXNumeric?0:1);T++)T===0&&w===1&&o.globals.dataPoints===1&&(S=k=o.globals.gridWidth/2),t._drawGridLines({i:T,x1:k,y1:C,x2:S,y2:A,xCount:a,parent:t.elgridLinesV}),S=k+=o.globals.gridWidth/(o.globals.isXNumeric?w-1:w)})({xC:a,x1:h,y1:0,x2:c,y2:u}))}if(o.config.grid.yaxis.lines.show){var x=0,f=0,m=o.globals.gridWidth,p=i+1;this.isRangeBar&&(p=o.globals.labels.length);for(var b=0;b<p+(this.isRangeBar?1:0);b++)this._drawGridLine({i:b,xCount:p+(this.isRangeBar?1:0),x1:0,y1:x,x2:m,y2:f,parent:this.elgridLinesH}),f=x+=o.globals.gridHeight/(this.isRangeBar?p:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,a=this.w;if(a.config.grid.xaxis.lines.show||a.config.xaxis.axisTicks.show)for(var i,o=a.globals.padHorizontal,c=a.globals.gridHeight,h=0;h<t+1;h++)a.config.grid.xaxis.lines.show&&this._drawGridLine({i:h,xCount:t+1,x1:o,y1:0,x2:i,y2:c,parent:this.elgridLinesV}),new Nl(this.ctx).drawXaxisTicks(o,0,a.globals.dom.elGraphical),i=o+=a.globals.gridWidth/t;if(a.config.grid.yaxis.lines.show)for(var u=0,x=0,f=a.globals.gridWidth,m=0;m<a.globals.dataPoints+1;m++)this._drawGridLine({i:m,xCount:a.globals.dataPoints+1,x1:0,y1:u,x2:f,y2:x,parent:this.elgridLinesH}),x=u+=a.globals.gridHeight/a.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,a=new me(this.ctx);this.elg=a.group({class:"apexcharts-grid"}),this.elgridLinesH=a.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=a.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=a.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i=0;i<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(i);)i++;i===t.seriesYAxisMap.length&&(i=0);var o,c=t.yAxisScale[i].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var h,u,x;o=this.xaxisLabels.length,this.isRangeBar&&(c=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(o=e.config.xaxis.tickAmount),((h=t.yAxisScale)===null||h===void 0||(u=h[i])===null||u===void 0||(x=u.result)===null||x===void 0?void 0:x.length)>0&&e.config.xaxis.type!=="datetime"&&(o=t.yAxisScale[i].result.length-1)),this._drawXYLines({xCount:o,tickAmount:c})}else o=c,c=t.xTickAmount,this._drawInvertedXYLines({xCount:o,tickAmount:c});return this.drawGridBands(o,c),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/o}}},{key:"drawGridBands",value:function(e,t){var a,i,o=this,c=this.w;if(((a=c.config.grid.row.colors)===null||a===void 0?void 0:a.length)>0&&(function(y,w,k,C,S,A){for(var T=0,L=0;T<w;T++,L++)L>=c.config.grid[y].colors.length&&(L=0),o._drawGridBandRect({c:L,x1:k,y1:C,x2:S,y2:A,type:y}),C+=c.globals.gridHeight/t})("row",t,0,0,c.globals.gridWidth,c.globals.gridHeight/t),((i=c.config.grid.column.colors)===null||i===void 0?void 0:i.length)>0){var h=c.globals.isBarHorizontal||c.config.xaxis.tickPlacement!=="on"||c.config.xaxis.type!=="category"&&!c.config.xaxis.convertedCatToNumeric?e:e-1;c.globals.isXNumeric&&(h=c.globals.xAxisScale.result.length-1);for(var u=c.globals.padHorizontal,x=c.globals.padHorizontal+c.globals.gridWidth/h,f=c.globals.gridHeight,m=0,p=0;m<e;m++,p++){var b;p>=c.config.grid.column.colors.length&&(p=0),c.config.xaxis.type==="datetime"&&(u=this.xaxisLabels[m].position,x=(((b=this.xaxisLabels[m+1])===null||b===void 0?void 0:b.position)||c.globals.gridWidth)-this.xaxisLabels[m].position),this._drawGridBandRect({c:p,x1:u,y1:0,x2:x,y2:f,type:"column"}),u+=c.globals.gridWidth/h}}}}]),r})(),sy=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new _t(this.ctx)}return we(r,[{key:"niceScale",value:function(e,t){var a,i,o,c,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=1e-11,x=this.w,f=x.globals;f.isBarHorizontal?(a=x.config.xaxis,i=Math.max((f.svgWidth-100)/25,2)):(a=x.config.yaxis[h],i=Math.max((f.svgHeight-100)/15,2)),J.isNumber(i)||(i=10),o=a.min!==void 0&&a.min!==null,c=a.max!==void 0&&a.min!==null;var m=a.stepSize!==void 0&&a.stepSize!==null,p=a.tickAmount!==void 0&&a.tickAmount!==null,b=p?a.tickAmount:f.niceScaleDefaultTicks[Math.min(Math.round(i/2),f.niceScaleDefaultTicks.length-1)];if(f.isMultipleYAxis&&!p&&f.multiAxisTickAmount>0&&(b=f.multiAxisTickAmount,p=!0),b=b==="dataPoints"?f.dataPoints-1:Math.abs(Math.round(b)),(e===Number.MIN_VALUE&&t===0||!J.isNumber(e)&&!J.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=J.isNumber(a.min)?a.min:0,t=J.isNumber(a.max)?a.max:e+b,f.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var y=t;t=e,e=y}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var w=[];b<1&&(b=1);var k=b,C=Math.abs(t-e);!o&&e>0&&e/C<.15&&(e=0,o=!0),!c&&t<0&&-t/C<.15&&(t=0,c=!0);var S=(C=Math.abs(t-e))/k,A=S,T=Math.floor(Math.log10(A)),L=Math.pow(10,T),M=Math.ceil(A/L);if(S=A=(M=f.niceScaleAllowedMagMsd[f.yValueDecimal===0?0:1][M])*L,f.isBarHorizontal&&a.stepSize&&a.type!=="datetime"?(S=a.stepSize,m=!0):m&&(S=a.stepSize),m&&a.forceNiceScale){var _=Math.floor(Math.log10(S));S*=Math.pow(10,T-_)}if(o&&c){var D=C/k;if(p)if(m)if(J.mod(C,S)!=0){var H=J.getGCD(S,D);S=D/H<10?H:D}else J.mod(S,D)==0?S=D:(D=S,p=!1);else S=D;else if(m)J.mod(C,S)==0?D=S:S=D;else if(J.mod(C,S)==0)D=S;else{D=C/(k=Math.ceil(C/S));var z=J.getGCD(C,S);C/z<i&&(D=z),S=D}k=Math.round(C/S)}else{if(o||c){if(c)if(p)e=t-S*k;else{var B=e;e=S*Math.floor(e/S),Math.abs(t-e)/J.getGCD(C,S)>i&&(e=t-S*b,e+=S*Math.floor((B-e)/S))}else if(o)if(p)t=e+S*k;else{var P=t;t=S*Math.ceil(t/S),Math.abs(t-e)/J.getGCD(C,S)>i&&(t=e+S*b,t+=S*Math.ceil((P-t)/S))}}else if(f.isMultipleYAxis&&p){var W=S*Math.floor(e/S),V=W+S*k;V<t&&(S*=2),V=t,t=(e=W)+S*k,C=Math.abs(t-e),e>0&&e<Math.abs(V-t)&&(e=0,t=S*k),t<0&&-t<Math.abs(W-e)&&(t=0,e=-S*k)}else e=S*Math.floor(e/S),t=S*Math.ceil(t/S);C=Math.abs(t-e),S=J.getGCD(C,S),k=Math.round(C/S)}if(p||o||c||(k=Math.ceil((C-u)/(S+u)))>16&&J.getPrimeFactors(k).length<2&&k++,!p&&a.forceNiceScale&&f.yValueDecimal===0&&k>C&&(k=C,S=Math.round(C/k)),k>i&&(!p&&!m||a.forceNiceScale)){var Q=J.getPrimeFactors(k),F=Q.length-1,q=k;e:for(var I=0;I<F;I++)for(var G=0;G<=F-I;G++){for(var Y=Math.min(G+I,F),O=q,U=1,ne=G;ne<=Y;ne++)U*=Q[ne];if((O/=U)<i){q=O;break e}}S=q===k?C:C/q,k=Math.round(C/S)}f.isMultipleYAxis&&f.multiAxisTickAmount==0&&f.ignoreYAxisIndexes.indexOf(h)<0&&(f.multiAxisTickAmount=k);var K=e-S,ue=S*u;do K+=S,w.push(J.stripNumber(K,7));while(t-K>ue);return{result:w,niceMin:w[0],niceMax:w[w.length-1]}}},{key:"linearScale",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,c=Math.abs(t-e),h=[];if(e===t)return{result:h=[e],niceMin:h[0],niceMax:h[h.length-1]};(a=this._adjustTicksForSmallRange(a,i,c))==="dataPoints"&&(a=this.w.globals.dataPoints-1),o||(o=c/a),o=Math.round(100*(o+Number.EPSILON))/100,a===Number.MAX_VALUE&&(a=5,o=1);for(var u=e;a>=0;)h.push(u),u=J.preciseAddition(u,o),a-=1;return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,a){t<=0&&(t=Math.max(e,a)),e<=0&&(e=Math.min(t,a));for(var i=[],o=Math.ceil(Math.log(t)/Math.log(a)+1),c=Math.floor(Math.log(e)/Math.log(a));c<o;c++)i.push(Math.pow(a,c));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,a){t<=0&&(t=Math.max(e,a)),e<=0&&(e=Math.min(t,a));for(var i=[],o=Math.log(t)/Math.log(a),c=Math.log(e)/Math.log(a),h=o-c,u=Math.round(h),x=h/u,f=0,m=c;f<u;f++,m+=x)i.push(Math.pow(a,m));return i.push(Math.pow(a,o)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,a){var i=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var o=Number(this.w.config.yaxis[t].labels.formatter(1));J.isNumber(o)&&this.w.globals.yValueDecimal===0&&(i=Math.ceil(a))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,a){var i=this.w.globals,o=this.w.config,c=i.isBarHorizontal?o.xaxis:o.yaxis[e];i.yAxisScale[e]===void 0&&(i.yAxisScale[e]=[]);var h=Math.abs(a-t);c.logarithmic&&h<=5&&(i.invalidLogScale=!0),c.logarithmic&&h>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=c.forceNiceScale?this.logarithmicScaleNice(t,a,c.logBase):this.logarithmicScale(t,a,c.logBase)):a!==-Number.MAX_VALUE&&J.isNumber(a)&&t!==Number.MAX_VALUE&&J.isNumber(t)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(t,a,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var a=this.w,i=a.globals;if(t!==-Number.MAX_VALUE&&J.isNumber(t)){var o=i.xTickAmount;i.xAxisScale=this.linearScale(e,t,o,0,a.config.xaxis.max===void 0?a.config.xaxis.stepSize:void 0)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,a=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var i=a.seriesYAxisMap,o=a.minYArr,c=a.maxYArr;a.allSeriesCollapsed=!0,a.barGroups=[],i.forEach((function(h,u){var x=[];h.forEach((function(f){var m,p=(m=t.series[f])===null||m===void 0?void 0:m.group;x.indexOf(p)<0&&x.push(p)})),h.length>0?(function(){var f,m,p=Number.MAX_VALUE,b=-Number.MAX_VALUE,y=p,w=b;if(t.chart.stacked)(function(){var S=new Array(a.dataPoints).fill(0),A=[],T=[],L=[];x.forEach((function(){A.push(S.map((function(){return Number.MIN_VALUE}))),T.push(S.map((function(){return Number.MIN_VALUE}))),L.push(S.map((function(){return Number.MIN_VALUE})))}));for(var M=function(D){!f&&t.series[h[D]].type&&(f=t.series[h[D]].type);var H=h[D];m=t.series[H].group?t.series[H].group:"axis-".concat(u),!(a.collapsedSeriesIndices.indexOf(H)<0&&a.ancillaryCollapsedSeriesIndices.indexOf(H)<0)||(a.allSeriesCollapsed=!1,x.forEach((function(z,B){if(t.series[H].group===z)for(var P=0;P<a.series[H].length;P++){var W=a.series[H][P];W>=0?T[B][P]+=W:L[B][P]+=W,A[B][P]+=W,y=Math.min(y,W),w=Math.max(w,W)}}))),f!=="bar"&&f!=="column"||a.barGroups.push(m)},_=0;_<h.length;_++)M(_);f||(f=t.chart.type),f==="bar"||f==="column"?x.forEach((function(D,H){p=Math.min(p,Math.min.apply(null,L[H])),b=Math.max(b,Math.max.apply(null,T[H]))})):(x.forEach((function(D,H){y=Math.min(y,Math.min.apply(null,A[H])),w=Math.max(w,Math.max.apply(null,A[H]))})),p=y,b=w),p===Number.MIN_VALUE&&b===Number.MIN_VALUE&&(b=-Number.MAX_VALUE)})();else for(var k=0;k<h.length;k++){var C=h[k];p=Math.min(p,o[C]),b=Math.max(b,c[C]),!(a.collapsedSeriesIndices.indexOf(C)<0&&a.ancillaryCollapsedSeriesIndices.indexOf(C)<0)||(a.allSeriesCollapsed=!1)}t.yaxis[u].min!==void 0&&(p=typeof t.yaxis[u].min=="function"?t.yaxis[u].min(p):t.yaxis[u].min),t.yaxis[u].max!==void 0&&(b=typeof t.yaxis[u].max=="function"?t.yaxis[u].max(b):t.yaxis[u].max),a.barGroups=a.barGroups.filter((function(S,A,T){return T.indexOf(S)===A})),e.setYScaleForIndex(u,p,b),h.forEach((function(S){o[S]=a.yAxisScale[u].niceMin,c[S]=a.yAxisScale[u].niceMax}))})():e.setYScaleForIndex(u,0,-Number.MAX_VALUE)}))}}]),r})(),bx=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.scales=new sy(e)}return we(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.w.config,c=this.w.globals,h=-Number.MAX_VALUE,u=Number.MIN_VALUE;i===null&&(i=e+1);var x=c.series,f=x,m=x;o.chart.type==="candlestick"?(f=c.seriesCandleL,m=c.seriesCandleH):o.chart.type==="boxPlot"?(f=c.seriesCandleO,m=c.seriesCandleC):c.isRangeData&&(f=c.seriesRangeStart,m=c.seriesRangeEnd);var p=!1;if(c.seriesX.length>=i){var b,y=(b=c.brushSource)===null||b===void 0?void 0:b.w.config.chart.brush;(o.chart.zoom.enabled&&o.chart.zoom.autoScaleYaxis||y!=null&&y.enabled&&y!=null&&y.autoScaleYaxis)&&(p=!0)}for(var w=e;w<i;w++){c.dataPoints=Math.max(c.dataPoints,x[w].length);var k=o.series[w].type;c.categoryLabels.length&&(c.dataPoints=c.categoryLabels.filter((function(H){return H!==void 0})).length),c.labels.length&&o.xaxis.type!=="datetime"&&c.series.reduce((function(H,z){return H+z.length}),0)!==0&&(c.dataPoints=Math.max(c.dataPoints,c.labels.length));var C=0,S=x[w].length-1;if(p){if(o.xaxis.min)for(;C<S&&c.seriesX[w][C]<o.xaxis.min;C++);if(o.xaxis.max)for(;S>C&&c.seriesX[w][S]>o.xaxis.max;S--);}for(var A=C;A<=S&&A<c.series[w].length;A++){var T=x[w][A];if(T!==null&&J.isNumber(T)){var L,M,_,D;switch(((L=m[w])===null||L===void 0?void 0:L[A])!==void 0&&(h=Math.max(h,m[w][A]),t=Math.min(t,m[w][A])),((M=f[w])===null||M===void 0?void 0:M[A])!==void 0&&(t=Math.min(t,f[w][A]),a=Math.max(a,f[w][A])),k){case"candlestick":c.seriesCandleC[w][A]!==void 0&&(h=Math.max(h,c.seriesCandleH[w][A]),t=Math.min(t,c.seriesCandleL[w][A]));break;case"boxPlot":c.seriesCandleC[w][A]!==void 0&&(h=Math.max(h,c.seriesCandleC[w][A]),t=Math.min(t,c.seriesCandleO[w][A]))}k&&k!=="candlestick"&&k!=="boxPlot"&&k!=="rangeArea"&&k!=="rangeBar"&&(h=Math.max(h,c.series[w][A]),t=Math.min(t,c.series[w][A])),c.seriesGoals[w]&&c.seriesGoals[w][A]&&Array.isArray(c.seriesGoals[w][A])&&c.seriesGoals[w][A].forEach((function(H){h=Math.max(h,H.value),t=Math.min(t,H.value)})),a=h,T=J.noExponents(T),J.isFloat(T)&&(c.yValueDecimal=Math.max(c.yValueDecimal,T.toString().split(".")[1].length)),u>((_=f[w])===null||_===void 0?void 0:_[A])&&((D=f[w])===null||D===void 0?void 0:D[A])<0&&(u=f[w][A])}else c.hasNullValues=!0}k!=="bar"&&k!=="column"||(u<0&&h<0&&(h=0,a=Math.max(a,0)),u===Number.MIN_VALUE&&(u=0,t=Math.min(t,0)))}return o.chart.type==="rangeBar"&&c.seriesRangeStart.length&&c.isBarHorizontal&&(u=t),o.chart.type==="bar"&&(u<0&&h<0&&(h=0),u===Number.MIN_VALUE&&(u=0)),{minY:u,maxY:h,lowestY:t,highestY:a}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var a,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(var o=0;o<e.series.length;o++)a=this.getMinYMaxY(o),e.minYArr[o]=a.lowestY,e.maxYArr[o]=a.highestY,i=Math.min(i,a.lowestY)}return a=this.getMinYMaxY(0,i,null,e.series.length),t.chart.type==="bar"?(e.minY=a.minY,e.maxY=a.maxY):(e.minY=a.lowestY,e.maxY=a.highestY),i=a.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(a.minY,e.minY):a.minY,t.yaxis.forEach((function(c,h){c.max!==void 0&&(typeof c.max=="number"?e.maxYArr[h]=c.max:typeof c.max=="function"&&(e.maxYArr[h]=c.max(e.isMultipleYAxis?e.maxYArr[h]:e.maxY)),e.maxY=e.maxYArr[h]),c.min!==void 0&&(typeof c.min=="number"?e.minYArr[h]=c.min:typeof c.min=="function"&&(e.minYArr[h]=c.min(e.isMultipleYAxis?e.minYArr[h]===Number.MIN_VALUE?0:e.minYArr[h]:e.minY)),e.minY=e.minYArr[h])})),e.isBarHorizontal&&["min","max"].forEach((function(c){t.xaxis[c]!==void 0&&typeof t.xaxis[c]=="number"&&(c==="min"?e.minY=t.xaxis[c]:e.maxY=t.xaxis[c])})),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach((function(c){switch(c.type||t.chart.type){case"bar":case"column":e.barGroups.push(c.group);break;case"line":e.lineGroups.push(c.group);break;case"area":e.areaGroups.push(c.group)}})),e.barGroups=e.barGroups.filter((function(c,h,u){return u.indexOf(c)===h})),e.lineGroups=e.lineGroups.filter((function(c,h,u){return u.indexOf(c)===h})),e.areaGroups=e.areaGroups.filter((function(c,h,u){return u.indexOf(c)===h})),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,a=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&(function(){for(var u=0;u<e.series.length;u++)if(e.labels[u])for(var x=0;x<e.labels[u].length;x++)e.labels[u][x]!==null&&J.isNumber(e.labels[u][x])&&(e.maxX=Math.max(e.maxX,e.labels[u][x]),e.initialMaxX=Math.max(e.maxX,e.labels[u][x]),e.minX=Math.min(e.minX,e.labels[u][x]),e.initialMinX=Math.min(e.minX,e.labels[u][x]))})(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i=10;if(t.xaxis.tickAmount===void 0)i=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&e.dataPoints!==0&&(i=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var o=Math.round(e.maxX-e.minX);o<30&&(i=o)}}else i=t.xaxis.tickAmount;if(e.xTickAmount=i,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var c=[],h=e.minX-1;h<e.maxX;h++)c.push(h+1);e.xAxisScale={result:c,niceMin:c[0],niceMax:c[c.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());a&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var a=0;a<e.seriesZ[t].length;a++)e.seriesZ[t][a]!==null&&J.isNumber(e.seriesZ[t][a])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][a]),e.minZ=Math.min(e.minZ,e.seriesZ[t][a]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var a=new Zt(this.ctx);if(t.xaxis.type==="datetime"){var i=a.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var o=a.getDate(e.maxX);t.xaxis.labels.datetimeUTC?o.setUTCDate(o.getUTCDate()+2):o.setDate(o.getDate()+2),e.maxX=new Date(o).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,a){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort((function(o,c){return o-c})),i.forEach((function(o,c){if(c>0){var h=o-i[c-1];h>0&&(e.minXDiff=Math.min(h,e.minXDiff))}})),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var a=t.seriesGroups;a.length||(a=[this.w.globals.seriesNames.map((function(c){return c}))]);var i={},o={};a.forEach((function(c){i[c]=[],o[c]=[],e.w.config.series.map((function(h,u){return c.indexOf(t.seriesNames[u])>-1?u:null})).filter((function(h){return h!==null})).forEach((function(h){for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++){var x,f,m,p;i[c][u]===void 0&&(i[c][u]=0,o[c][u]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((x=e.w.config.series)===null||x===void 0||(f=x[h])===null||f===void 0?void 0:f.type)==="bar"||((m=e.w.config.series)===null||m===void 0||(p=m[h])===null||p===void 0?void 0:p.type)==="column"))&&t.series[h][u]!==null&&J.isNumber(t.series[h][u])&&(t.series[h][u]>0?i[c][u]+=parseFloat(t.series[h][u])+1e-4:o[c][u]+=parseFloat(t.series[h][u]))}}))})),Object.entries(i).forEach((function(c){var h=Nv(c,1)[0];i[h].forEach((function(u,x){t.maxY=Math.max(t.maxY,i[h][x]),t.minY=Math.min(t.minY,o[h][x])}))}))}}}]),r})(),ng=(function(){function r(e,t){ye(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var a=this.w;this.xaxisFontSize=a.config.xaxis.labels.style.fontSize,this.axisFontFamily=a.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=a.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=a.config.chart.type==="bar"&&a.config.plotOptions.bar.horizontal,this.xAxisoffX=a.config.xaxis.position==="bottom"?a.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Si(e)}return we(r,[{key:"drawYaxis",value:function(e){var t=this.w,a=new me(this.ctx),i=t.config.yaxis[e].labels.style,o=i.fontSize,c=i.fontFamily,h=i.fontWeight,u=a.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return u;var x=a.group({class:"apexcharts-yaxis-texts-g"});u.add(x);var f=t.globals.yAxisScale[e].result.length-1,m=t.globals.gridHeight/f,p=t.globals.yLabelFormatters[e],b=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var y=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?y=0:t.config.chart.type==="heatmap"&&(y-=m/2),y+=parseInt(o,10)/3;for(var w=f;w>=0;w--){var k=p(b[w],w,t),C=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(C*=-1);var S=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),A=this.axesUtils.getYAxisForeColor(i.colors,e),T=Array.isArray(A)?A[w]:A,L=J.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map((function(_){return _.textContent})),M=a.drawText({x:C,y,text:L.includes(k)&&!t.config.yaxis[e].labels.showDuplicates?"":k,textAnchor:S,fontSize:o,fontFamily:c,fontWeight:h,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:T,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(i.cssClass)});x.add(M),this.addTooltip(M,k),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(a,M,firstLabel,t.config.yaxis[e].labels.rotate),y+=m}}return this.addYAxisTitle(a,u,e),this.addAxisBorder(a,u,e,f,m),u}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var a=document.createElementNS(this.w.globals.SVGNS,"title");a.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(a)}},{key:"rotateLabel",value:function(e,t,a,i){var o=e.rotateAroundCenter(a.node),c=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(i," ").concat(o.x," ").concat(c.y,")"))}},{key:"addYAxisTitle",value:function(e,t,a){var i=this.w;if(i.config.yaxis[a].title.text!==void 0){var o=e.group({class:"apexcharts-yaxis-title"}),c=i.config.yaxis[a].opposite?i.globals.translateYAxisX[a]:0,h=e.drawText({x:c,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[a].title.offsetY,text:i.config.yaxis[a].title.text,textAnchor:"end",foreColor:i.config.yaxis[a].title.style.color,fontSize:i.config.yaxis[a].title.style.fontSize,fontWeight:i.config.yaxis[a].title.style.fontWeight,fontFamily:i.config.yaxis[a].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(i.config.yaxis[a].title.style.cssClass)});o.add(h),t.add(o)}}},{key:"addAxisBorder",value:function(e,t,a,i,o){var c=this.w,h=c.config.yaxis[a].axisBorder,u=31+h.offsetX;if(c.config.yaxis[a].opposite&&(u=-31-h.offsetX),h.show){var x=e.drawLine(u,c.globals.translateY+h.offsetY-2,u,c.globals.gridHeight+c.globals.translateY+h.offsetY+2,h.color,0,h.width);t.add(x)}c.config.yaxis[a].axisTicks.show&&this.axesUtils.drawYAxisTicks(u,i,h,c.config.yaxis[a].axisTicks,a,o,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,a=new me(this.ctx),i=a.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),o=a.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(o);var c=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridWidth/c+.1,u=h+t.config.xaxis.labels.offsetX,x=t.globals.xLabelFormatter,f=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),m=t.globals.timescaleLabels;if(m.length>0&&(this.xaxisLabels=m.slice(),c=(f=m.slice()).length),t.config.xaxis.labels.show)for(var p=m.length?0:c;m.length?p<m.length:p>=0;m.length?p++:p--){var b=x(f[p],p,t),y=t.globals.gridWidth+t.globals.padHorizontal-(u-h+t.config.xaxis.labels.offsetX);if(m.length){var w=this.axesUtils.getLabel(f,m,y,p,this.drawnLabels,this.xaxisFontSize);y=w.x,b=w.text,this.drawnLabels.push(w.text),p===0&&t.globals.skipFirstTimelinelabel&&(b=""),p===f.length-1&&t.globals.skipLastTimelinelabel&&(b="")}var k=a.drawText({x:y,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:b,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});o.add(k),k.tspan(b),this.addTooltip(k,b),u+=h}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,a=new me(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var o=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(o-=15);var c=a.drawLine(t.globals.padHorizontal+o+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(c):e.add(c)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,a=new me(this.ctx);if(t.config.xaxis.title.text!==void 0){var i=a.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),o=a.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});i.add(o),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var a=this.w,i=new me(this.ctx),o=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),c=o?o.getBoundingClientRect():{width:0,height:0},h=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),u=h?h.getBoundingClientRect():{width:0,height:0};if(h){var x=this.xPaddingForYAxisTitle(e,c,u,t);h.setAttribute("x",x.xPos-(t?10:0));var f=i.rotateAroundCenter(h);h.setAttribute("transform","rotate(".concat(t?-1*a.config.yaxis[e].title.rotate:a.config.yaxis[e].title.rotate," ").concat(f.x," ").concat(f.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,a,i){var o=this.w,c=0,h=10;return o.config.yaxis[e].title.text===void 0||e<0?{xPos:c,padd:0}:(i?c=t.width+o.config.yaxis[e].title.offsetX+a.width/2+h/2:(c=-1*t.width+o.config.yaxis[e].title.offsetX+h/2+a.width/2,o.globals.isBarHorizontal&&(h=25,c=-1*t.width-o.config.yaxis[e].title.offsetX-h)),{xPos:c,padd:h})}},{key:"setYAxisXPosition",value:function(e,t){var a=this.w,i=0,o=0,c=18,h=1;a.config.yaxis.length>1&&(this.multipleYs=!0),a.config.yaxis.forEach((function(u,x){var f=a.globals.ignoreYAxisIndexes.includes(x)||!u.show||u.floating||e[x].width===0,m=e[x].width+t[x].width;u.opposite?a.globals.isBarHorizontal?(o=a.globals.gridWidth+a.globals.translateX-1,a.globals.translateYAxisX[x]=o-u.labels.offsetX):(o=a.globals.gridWidth+a.globals.translateX+h,f||(h+=m+20),a.globals.translateYAxisX[x]=o-u.labels.offsetX+20):(i=a.globals.translateX-c,f||(c+=m+20),a.globals.translateYAxisX[x]=i+u.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;J.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(t,a){var i=e.config.yaxis[a];if(i&&!i.floating&&i.labels.align!==void 0){var o=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-texts-g")),c=J.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(a,"'] .apexcharts-yaxis-label"))),h=o.getBoundingClientRect();c.forEach((function(u){u.setAttribute("text-anchor",i.labels.align)})),i.labels.align!=="left"||i.opposite?i.labels.align==="center"?o.setAttribute("transform","translate(".concat(h.width/2*(i.opposite?1:-1),", 0)")):i.labels.align==="right"&&i.opposite&&o.setAttribute("transform","translate(".concat(h.width,", 0)")):o.setAttribute("transform","translate(-".concat(h.width,", 0)"))}}))}}]),r})(),FA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.documentEvent=J.bind(this.documentEvent,this)}return we(r,[{key:"addEventListener",value:function(e,t){var a=this.w;a.globals.events.hasOwnProperty(e)?a.globals.events[e].push(t):a.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var a=this.w;if(a.globals.events.hasOwnProperty(e)){var i=a.globals.events[e].indexOf(t);i!==-1&&a.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var a=this.w;if(a.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=a.globals.events[e],o=i.length,c=0;c<o;c++)i[c].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,a=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(o){i.addEventListener(o,(function(c){var h=c.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:c.target.getAttribute("i"),u=c.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:c.target.getAttribute("j"),x=Object.assign({},t,{seriesIndex:t.globals.axisCharts?h:0,dataPointIndex:u});c.type==="mousemove"||c.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(c,a,x):c.type==="mouseleave"||c.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(c,a,x):(c.type==="mouseup"&&c.which===1||c.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(c,a,x),a.ctx.events.fireEvent("click",[c,a,x]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(o){t.globals.dom.baseEl.addEventListener(o,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,a=e.target.className;if(e.type==="click"){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&a!=="apexcharts-menu-icon"&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r})(),IA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var a=t.filter((function(o){return o.name===e}))[0];if(!a)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=J.extend(Zv,a);this.w.globals.locale=i.options}}]),r})(),UA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"drawAxis",value:function(e,t){var a,i,o=this,c=this.w.globals,h=this.w.config,u=new Nl(this.ctx,t),x=new ng(this.ctx,t);c.axisCharts&&e!=="radar"&&(c.isBarHorizontal?(i=x.drawYaxisInversed(0),a=u.drawXaxisInversed(0),c.dom.elGraphical.add(a),c.dom.elGraphical.add(i)):(a=u.drawXaxis(),c.dom.elGraphical.add(a),h.yaxis.map((function(f,m){if(c.ignoreYAxisIndexes.indexOf(m)===-1&&(i=x.drawYaxis(m),c.dom.Paper.add(i),o.w.config.grid.position==="back")){var p=c.dom.Paper.children()[1];p.remove(),c.dom.Paper.add(p)}}))))}}]),r})(),vx=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new me(this.ctx),a=new Qt(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,o=e.config.xaxis.crosshairs.dropShadow,c=e.config.xaxis.crosshairs.fill.type,h=i.colorFrom,u=i.colorTo,x=i.opacityFrom,f=i.opacityTo,m=i.stops,p=o.enabled,b=o.left,y=o.top,w=o.blur,k=o.color,C=o.opacity,S=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){c==="gradient"&&(S=t.drawGradient("vertical",h,u,x,f,null,m,null));var A=t.drawRect();e.config.xaxis.crosshairs.width===1&&(A=t.drawLine());var T=e.globals.gridHeight;(!J.isNumber(T)||T<0)&&(T=0);var L=e.config.xaxis.crosshairs.width;(!J.isNumber(L)||L<0)&&(L=0),A.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:T,width:L,height:T,fill:S,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),p&&(A=a.dropShadow(A,{left:b,top:y,blur:w,color:k,opacity:C})),e.globals.dom.elGraphical.add(A)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new me(this.ctx),a=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var o=t.drawLine(-i,0,e.globals.gridWidth+i,0,a.stroke.color,a.stroke.dashArray,a.stroke.width);o.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(o)}var c=t.drawLine(-i,0,e.globals.gridWidth+i,0,a.stroke.color,0,0);c.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(c)}}]),r})(),WA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,a=this.w,i=a.config;if(i.responsive.length!==0){var o=i.responsive.slice();o.sort((function(x,f){return x.breakpoint>f.breakpoint?1:f.breakpoint>x.breakpoint?-1:0})).reverse();var c=new jl({}),h=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=o[0].breakpoint,m=window.innerWidth>0?window.innerWidth:screen.width;if(m>f){var p=J.clone(a.globals.initialConfig);p.series=J.clone(a.config.series);var b=_t.extendArrayProps(c,p,a);x=J.extend(b,x),x=J.extend(a.config,x),t.overrideResponsiveOptions(x)}else for(var y=0;y<o.length;y++)m<o[y].breakpoint&&(x=_t.extendArrayProps(c,o[y].options,a),x=J.extend(a.config,x),t.overrideResponsiveOptions(x))};if(e){var u=_t.extendArrayProps(c,e,a);u=J.extend(a.config,u),h(u=J.extend(u,e))}else h({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new jl(e).init({responsiveOverride:!0});this.w.config=t}}]),r})(),VA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return we(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,a=e.plotOptions;return t.type==="treemap"&&a.treemap&&a.treemap.distributed||t.type==="heatmap"&&a.heatmap&&a.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,a=e.plotOptions;return a.bar&&a.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new J;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var a=Xt(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(a),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}},{key:"getColors",value:function(e){var t=this,a=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,a.config.series.map((function(i,o){var c=e[o]||e[0];return typeof c=="function"?c({value:a.globals.axisCharts?a.globals.series[o][0]||0:a.globals.series[o],seriesIndex:o,dataPointIndex:o,w:t.w}):c}))):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach((function(a,i){a&&(t[i]=a)}))}},{key:"getMonochromeColors",value:function(e,t,a){var i=e.color,o=e.shadeIntensity,c=e.shadeTo,h=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,u=1/(h/o),x=0;return Array.from({length:h},(function(){var f=c==="dark"?a.shadeColor(-1*x,i):a.shadeColor(x,i);return x+=u,f}))}},{key:"applyColorTypes",value:function(e,t){var a=this,i=this.w;e.forEach((function(o){i.globals[o].colors=i.config[o].colors===void 0?a.isColorFn?i.config.colors:t:i.config[o].colors.slice(),a.pushExtraColors(i.globals[o].colors)}))}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,o=t||i.globals.series.length;if(a===null&&(a=this.isBarDistributed||this.isHeatmapDistributed||i.config.chart.type==="heatmap"&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),a&&i.globals.series.length&&(o=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<o)for(var c=o-e.length,h=0;h<c;h++)e.push(e[h])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,a=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",i=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=i,e.theme.palette=a,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),r})(),qA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,a=e==="title"?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,o=a.offsetY,c="middle";if(a.align==="left"?(i=10,c="start"):a.align==="right"&&(i=t.globals.svgWidth-10,c="end"),i+=a.offsetX,o=o+parseInt(a.style.fontSize,10)+a.margin/2,a.text!==void 0){var h=new me(this.ctx).drawText({x:i,y:o,text:a.text,textAnchor:c,fontSize:a.style.fontSize,fontFamily:a.style.fontFamily,fontWeight:a.style.fontWeight,foreColor:a.style.color,opacity:1});h.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(h)}}}]),r})(),GA=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,a=0,i=0,o=e==="title"?t.config.title.floating:t.config.subtitle.floating,c=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(c!==null&&!o){var h=c.getBoundingClientRect();a=h.width,i=t.globals.axisCharts?h.height+5:h.height}return{width:a,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var a=Object.assign({},J.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:a.x,y:a.y,height:a.height,width:a.height===0?0:a.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,a=[];t.config.series.forEach((function(u,x){u.data.forEach((function(f,m){var p;p=t.globals.series[x][m],i=t.config.dataLabels.formatter(p,{ctx:e.dCtx.ctx,seriesIndex:x,dataPointIndex:m,w:t}),a.push(i)}))}));var i=J.getLargestStringFromArr(a),o=new me(this.dCtx.ctx),c=t.config.dataLabels.style,h=o.getTextRects(i,parseInt(c.fontSize),c.fontFamily);return{width:1.05*h.width,height:h.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var a=e;if(this.w.globals.isMultiLineX){var i=t.map((function(c,h){return Array.isArray(c)?c.length:1})),o=Math.max.apply(Math,Xt(i));a=t[i.indexOf(o)]}return a}}]),r})(),$A=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,a=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&a.length===0&&(a=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var o=t.globals.xLabelFormatter,c=J.getLargestStringFromArr(a),h=this.dCtx.dimHelpers.getLargestStringFromMultiArr(c,a);t.globals.isBarHorizontal&&(h=c=t.globals.yAxisScale[0].result.reduce((function(y,w){return y.length>w.length?y:w}),0));var u=new Ol(this.dCtx.ctx),x=c;c=u.xLabelFormat(o,c,x,{i:void 0,dateFormatter:new Zt(this.dCtx.ctx).formatDate,w:t}),h=u.xLabelFormat(o,h,x,{i:void 0,dateFormatter:new Zt(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&c===void 0||String(c).trim()==="")&&(h=c="1");var f=new me(this.dCtx.ctx),m=f.getTextRects(c,t.config.xaxis.labels.style.fontSize),p=m;if(c!==h&&(p=f.getTextRects(h,t.config.xaxis.labels.style.fontSize)),(e={width:m.width>=p.width?m.width:p.width,height:m.height>=p.height?m.height:p.height}).width*a.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var b=function(y){return f.getTextRects(y,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};m=b(c),c!==h&&(p=b(h)),e.height=(m.height>p.height?m.height:p.height)/1.5,e.width=m.width>p.width?m.width:p.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var a,i=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,o=t.globals.groups.map((function(m){return m.title})),c=J.getLargestStringFromArr(o),h=this.dCtx.dimHelpers.getLargestStringFromMultiArr(c,o),u=new me(this.dCtx.ctx),x=u.getTextRects(c,i),f=x;return c!==h&&(f=u.getTextRects(h,i)),a={width:x.width>=f.width?x.width:f.width,height:x.height>=f.height?x.height:f.height},t.config.xaxis.labels.show||(a={width:0,height:0}),{width:a.width,height:a.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,a=0;if(e.config.xaxis.title.text!==void 0){var i=new me(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,a=i.height}return{width:t,height:a}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var a=this.dCtx.timescaleLabels.map((function(o){return o.value})),i=a.reduce((function(o,c){return o===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):o.length>c.length?o:c}),0);return 1.05*(e=new me(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*a.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,a=this.w,i=a.globals,o=a.config,c=o.xaxis.type,h=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var u=a.config.yaxis[0].opposite&&a.globals.isBarHorizontal,x=function(f,m){o.yaxis.length>1&&(function(p){return i.collapsedSeriesIndices.indexOf(p)!==-1})(m)||(function(p){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var b=t.dCtx.timescaleLabels[0],y=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+h/1.75-t.dCtx.yAxisWidthRight,w=b.position-h/1.75+t.dCtx.yAxisWidthLeft,k=a.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;y>i.svgWidth-i.translateX-k&&(i.skipLastTimelinelabel=!0),w<-(p.show&&!p.floating||o.chart.type!=="bar"&&o.chart.type!=="candlestick"&&o.chart.type!=="rangeBar"&&o.chart.type!=="boxPlot"?10:h/1.75)&&(i.skipFirstTimelinelabel=!0)}else c==="datetime"?t.dCtx.gridPad.right<h&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):c!=="datetime"&&t.dCtx.gridPad.right<h/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!a.config.xaxis.labels.trim&&(t.dCtx.xPadRight=h/2+1)})(f)};o.yaxis.forEach((function(f,m){u?(t.dCtx.gridPad.left<h&&(t.dCtx.xPadLeft=h/2+1),t.dCtx.xPadRight=h/2+1):x(f,m)}))}}]),r})(),KA=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,a=[],i=10,o=new Si(this.dCtx.ctx);return t.config.yaxis.map((function(c,h){var u={seriesIndex:h,dataPointIndex:-1,w:t},x=t.globals.yAxisScale[h],f=0;if(!o.isYAxisHidden(h)&&c.labels.show&&c.labels.minWidth!==void 0&&(f=c.labels.minWidth),!o.isYAxisHidden(h)&&c.labels.show&&x.result.length){var m=t.globals.yLabelFormatters[h],p=x.niceMin===Number.MIN_VALUE?0:x.niceMin,b=x.result.reduce((function(T,L){var M,_;return((M=String(m(T,u)))===null||M===void 0?void 0:M.length)>((_=String(m(L,u)))===null||_===void 0?void 0:_.length)?T:L}),p),y=b=m(b,u);if(b!==void 0&&b.length!==0||(b=x.niceMax),t.globals.isBarHorizontal){i=0;var w=t.globals.labels.slice();b=J.getLargestStringFromArr(w),b=m(b,{seriesIndex:h,dataPointIndex:-1,w:t}),y=e.dCtx.dimHelpers.getLargestStringFromMultiArr(b,w)}var k=new me(e.dCtx.ctx),C="rotate(".concat(c.labels.rotate," 0 0)"),S=k.getTextRects(b,c.labels.style.fontSize,c.labels.style.fontFamily,C,!1),A=S;b!==y&&(A=k.getTextRects(y,c.labels.style.fontSize,c.labels.style.fontFamily,C,!1)),a.push({width:(f>A.width||f>S.width?f:A.width>S.width?A.width:S.width)+i,height:A.height>S.height?A.height:S.height})}else a.push({width:0,height:0})})),a}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,a=[];return t.config.yaxis.map((function(i,o){if(i.show&&i.title.text!==void 0){var c=new me(e.dCtx.ctx),h="rotate(".concat(i.title.rotate," 0 0)"),u=c.getTextRects(i.title.text,i.title.style.fontSize,i.title.style.fontFamily,h,!1);a.push({width:u.width,height:u.height})}else a.push({width:0,height:0})})),a}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,a=0,i=0,o=e.globals.yAxisScale.length>1?10:0,c=new Si(this.dCtx.ctx),h=function(u,x){var f=e.config.yaxis[x].floating,m=0;u.width>0&&!f?(m=u.width+o,(function(p){return e.globals.ignoreYAxisIndexes.indexOf(p)>-1})(x)&&(m=m-u.width-o)):m=f||c.isYAxisHidden(x)?0:5,e.config.yaxis[x].opposite?i+=m:a+=m,t+=m};return e.globals.yLabelsCoords.map((function(u,x){h(u,x)})),e.globals.yTitleCoords.map((function(u,x){h(u,x)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=a,this.dCtx.yAxisWidthRight=i,t}}]),r})(),ZA=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,a=t.config,i=t.globals;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===a.series.length)return 0;var o=function(b){return["bar","rangeBar","candlestick","boxPlot"].includes(b)},c=a.chart.type,h=0,u=o(c)?a.series.length:1;i.comboBarCount>0&&(u=i.comboBarCount),i.collapsedSeries.forEach((function(b){o(b.type)&&(u-=1)})),a.chart.stacked&&(u=1);var x=o(c)||i.comboBarCount>0,f=Math.abs(i.initialMaxX-i.initialMinX);if(x&&i.isXNumeric&&!i.isBarHorizontal&&u>0&&f!==0){f<=3&&(f=i.dataPoints);var m=f/e,p=i.minXDiff&&i.minXDiff/m>0?i.minXDiff/m:0;p>e/2&&(p/=2),(h=p*parseInt(a.plotOptions.bar.columnWidth,10)/100)<1&&(h=1),i.barPadForNumericAxis=h}return h}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,a=t.globals,i=this.dCtx.isSparkline||!a.axisCharts?0:10;["title","subtitle"].forEach((function(h){t.config[h].text!==void 0?i+=t.config[h].margin:i+=e.dCtx.isSparkline||!a.axisCharts?0:5})),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||a.axisCharts||(i+=10);var o=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),c=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");a.gridHeight-=o.height+c.height+i,a.translateY+=o.height+c.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var a=this.w,i=new Si(this.dCtx.ctx);a.config.yaxis.forEach((function(o,c){a.globals.ignoreYAxisIndexes.indexOf(c)!==-1||o.floating||i.isYAxisHidden(c)||(o.opposite&&(a.globals.translateX-=t[c].width+e[c].width+parseInt(o.labels.style.fontSize,10)/1.2+12),a.globals.translateX<2&&(a.globals.translateX=2))}))}}]),r})(),_c=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new GA(this),this.dimYAxis=new KA(this),this.dimXAxis=new $A(this),this.dimGrid=new ZA(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return we(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,a=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var i=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Xt(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(c){var h=Nv(c,2),u=h[0],x=h[1];e.gridPad[u]=Math.max(x,e.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(i/2,this.gridPad.top),this.gridPad.bottom=Math.max(i/2,this.gridPad.bottom)),a.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),a.gridHeight=a.gridHeight-this.gridPad.top-this.gridPad.bottom,a.gridWidth=a.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var o=this.dimGrid.gridPadForColumnsInNumericAxis(a.gridWidth);a.gridWidth=a.gridWidth-2*o,a.translateX=a.translateX+this.gridPad.left+this.xPadLeft+(o>0?o:0),a.translateY=a.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,a=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),o=this.dimYAxis.getyAxisTitleCoords();a.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(b,y){t.globals.yLabelsCoords.push({width:i[y].width,index:y}),t.globals.yTitleCoords.push({width:o[y].width,index:y})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var c=this.dimXAxis.getxAxisLabelsCoords(),h=this.dimXAxis.getxAxisGroupLabelsCoords(),u=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(c,u,h),a.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,a.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(a.rotateXLabels=!1,a.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),a.translateXAxisY=a.translateXAxisY+t.config.xaxis.labels.offsetY,a.translateXAxisX=a.translateXAxisX+t.config.xaxis.labels.offsetX;var x=this.yAxisWidth,f=this.xAxisHeight;a.xAxisLabelsHeight=this.xAxisHeight-u.height,a.xAxisGroupLabelsHeight=a.xAxisLabelsHeight-c.height,a.xAxisLabelsWidth=this.xAxisWidth,a.xAxisHeight=this.xAxisHeight;var m=10;(t.config.chart.type==="radar"||this.isSparkline)&&(x=0,f=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(x=0,f=0,m=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(c);var p=function(){a.translateX=x+e.datalabelsCoords.width,a.gridHeight=a.svgHeight-e.lgRect.height-f-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),a.gridWidth=a.svgWidth-x-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(m=a.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":a.translateY=m,p();break;case"top":a.translateY=this.lgRect.height+m,p();break;case"left":a.translateY=m,a.translateX=this.lgRect.width+x+this.datalabelsCoords.width,a.gridHeight=a.svgHeight-f-12,a.gridWidth=a.svgWidth-this.lgRect.width-x-2*this.datalabelsCoords.width;break;case"right":a.translateY=m,a.translateX=x+this.datalabelsCoords.width,a.gridHeight=a.svgHeight-f-12,a.gridWidth=a.svgWidth-this.lgRect.width-x-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(o,i),new ng(this.ctx).setYAxisXPosition(i,o)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,a=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var o=a.chart.type==="pie"||a.chart.type==="polarArea"||a.chart.type==="donut"?"pie":"radialBar",c=a.plotOptions[o].offsetY,h=a.plotOptions[o].offsetX;if(!a.legend.show||a.legend.floating){t.gridHeight=t.svgHeight;var u=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(u,t.gridHeight),t.translateY=c,void(t.translateX=h+(t.svgWidth-t.gridWidth)/2)}switch(a.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=c-10,t.translateX=h+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+c+10,t.translateX=h+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight=a.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=c,t.translateX=h+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight=a.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=c,t.translateX=h+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,a){var i=this.w,o=i.globals.hasXaxisGroups?2:1,c=a.height+e.height+t.height,h=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,u=i.globals.rotateXLabels?22:10,x=i.globals.rotateXLabels&&i.config.legend.position==="bottom"?10:0;this.xAxisHeight=c*h+o*u+x,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var f=0,m=0;i.config.yaxis.forEach((function(p){f+=p.labels.minWidth,m+=p.labels.maxWidth})),this.yAxisWidth<f&&(this.yAxisWidth=f),this.yAxisWidth>m&&(this.yAxisWidth=m)}}]),r})(),QA=(function(){function r(e){ye(this,r),this.w=e.w,this.lgCtx=e}return we(r,[{key:"getLegendStyles",value:function(){var e,t,a,i=document.createElement("style");i.setAttribute("type","text/css");var o=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(a=t.chart)===null||a===void 0?void 0:a.nonce)||this.w.config.chart.nonce;o&&i.setAttribute("nonce",o);var c=document.createTextNode(ey);return i.appendChild(c),i}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var a=this,i=this.w;if(i.globals.axisCharts||i.config.chart.type==="radialBar"){i.globals.resized=!0;var o=null,c=null;i.globals.risingSeries=[],i.globals.axisCharts?(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),c=parseInt(o.getAttribute("data:realIndex"),10)):(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),c=parseInt(o.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach((function(f){a.riseCollapsedSeries(f.cs,f.csi,c)})):this.hideSeries({seriesEl:o,realIndex:c})}else{var h=i.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),u=i.config.chart.type;if(u==="pie"||u==="polarArea"||u==="donut"){var x=i.config.plotOptions.pie.donut.labels;new me(this.lgCtx.ctx).pathMouseDown(h,null),this.lgCtx.ctx.pie.printDataLabelsInner(h.node,x)}h.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,a=this.w,i=a.globals,o=J.clone(a.config.series);if(i.axisCharts){var c=a.config.yaxis[i.seriesYAxisReverseMap[t]],h={index:t,data:o[t].data.slice(),type:o[t].type||a.config.chart.type};if(c&&c.show&&c.showAlways)i.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(i.ancillaryCollapsedSeries.push(h),i.ancillaryCollapsedSeriesIndices.push(t));else if(i.collapsedSeriesIndices.indexOf(t)<0){i.collapsedSeries.push(h),i.collapsedSeriesIndices.push(t);var u=i.risingSeries.indexOf(t);i.risingSeries.splice(u,1)}}else i.collapsedSeries.push({index:t,data:o[t]}),i.collapsedSeriesIndices.push(t);return i.allSeriesCollapsed=i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===a.config.series.length,this._getSeriesBasedOnCollapsedState(o)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,a=e.realIndex,i=this.w,o=this.getSeriesAfterCollapsing({realIndex:a}),c=t.childNodes,h=0;h<c.length;h++)c[h].classList.contains("apexcharts-series-markers-wrap")&&(c[h].classList.contains("apexcharts-hide")?c[h].classList.remove("apexcharts-hide"):c[h].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,a){var i=this.w,o=J.clone(i.config.series);if(e.length>0){for(var c=0;c<e.length;c++)e[c].index===a&&(i.globals.axisCharts?o[a].data=e[c].data.slice():o[a]=e[c].data,typeof o[a]!="number"&&(o[a].hidden=!1),e.splice(c,1),t.splice(c,1),i.globals.risingSeries.push(a));o=this._getSeriesBasedOnCollapsedState(o),this.lgCtx.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,a=0;return t.globals.axisCharts?e.forEach((function(i,o){t.globals.collapsedSeriesIndices.indexOf(o)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(o)<0||(e[o].data=[],a++)})):e.forEach((function(i,o){!t.globals.collapsedSeriesIndices.indexOf(o)<0&&(e[o]=0,a++)})),t.globals.allSeriesCollapsed=a===e.length,e}}]),r})(),ay=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new QA(this)}return we(r,[{key:"init",value:function(){var e=this.w,t=e.globals,a=e.config,i=a.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!t.axisCharts)&&a.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),a.legend.position==="bottom"||a.legend.position==="top"?this.legendAlignHorizontal():a.legend.position!=="right"&&a.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,a=e.fillcolor,i=this.w,o=document.createElement("span");o.classList.add("apexcharts-legend-marker");var c=i.config.legend.markers.shape||i.config.markers.shape,h=c;Array.isArray(c)&&(h=c[t]);var u=Array.isArray(i.config.legend.markers.size)?parseFloat(i.config.legend.markers.size[t]):parseFloat(i.config.legend.markers.size),x=Array.isArray(i.config.legend.markers.offsetX)?parseFloat(i.config.legend.markers.offsetX[t]):parseFloat(i.config.legend.markers.offsetX),f=Array.isArray(i.config.legend.markers.offsetY)?parseFloat(i.config.legend.markers.offsetY[t]):parseFloat(i.config.legend.markers.offsetY),m=Array.isArray(i.config.legend.markers.strokeWidth)?parseFloat(i.config.legend.markers.strokeWidth[t]):parseFloat(i.config.legend.markers.strokeWidth),p=o.style;if(p.height=2*(u+m)+"px",p.width=2*(u+m)+"px",p.left=x+"px",p.top=f+"px",i.config.legend.markers.customHTML)p.background="transparent",p.color=a[t],Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[t]&&(o.innerHTML=i.config.legend.markers.customHTML[t]()):o.innerHTML=i.config.legend.markers.customHTML();else{var b=new xr(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(h),seriesIndex:t,strokeWidth:m,size:u}),y=window.SVG().addTo(o).size("100%","100%"),w=new me(this.ctx).drawMarker(0,0,be(be({},b),{},{pointFillColor:Array.isArray(a)?a[t]:b.pointFillColor,shape:h}));i.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(k){k.node.classList.contains("apexcharts-marker-triangle")?k.node.style.transform="translate(50%, 45%)":k.node.style.transform="translate(50%, 50%)"})),y.add(w)}return o}},{key:"drawLegends",value:function(){var e=this,t=this,a=this.w,i=a.config.legend.fontFamily,o=a.globals.seriesNames,c=a.config.legend.markers.fillColors?a.config.legend.markers.fillColors.slice():a.globals.colors.slice();if(a.config.chart.type==="heatmap"){var h=a.config.plotOptions.heatmap.colorScale.ranges;o=h.map((function(b){return b.name?b.name:b.from+" - "+b.to})),c=h.map((function(b){return b.color}))}else this.isBarsDistributed&&(o=a.globals.labels.slice());a.config.legend.customLegendItems.length&&(o=a.config.legend.customLegendItems);var u=a.globals.legendFormatter,x=a.config.legend.inverseOrder,f=[];a.globals.seriesGroups.length>1&&a.config.legend.clusterGroupedSeries&&a.globals.seriesGroups.forEach((function(b,y){f[y]=document.createElement("div"),f[y].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(y)),a.config.legend.clusterGroupedSeriesOrientation==="horizontal"?a.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):f[y].classList.add("apexcharts-legend-group-vertical")}));for(var m=function(b){var y,w=u(o[b],{seriesIndex:b,w:a}),k=!1,C=!1;if(a.globals.collapsedSeries.length>0)for(var S=0;S<a.globals.collapsedSeries.length;S++)a.globals.collapsedSeries[S].index===b&&(k=!0);if(a.globals.ancillaryCollapsedSeriesIndices.length>0)for(var A=0;A<a.globals.ancillaryCollapsedSeriesIndices.length;A++)a.globals.ancillaryCollapsedSeriesIndices[A]===b&&(C=!0);var T=e.createLegendMarker({i:b,fillcolor:c});me.setAttrs(T,{rel:b+1,"data:collapsed":k||C}),(k||C)&&T.classList.add("apexcharts-inactive-legend");var L=document.createElement("div"),M=document.createElement("span");M.classList.add("apexcharts-legend-text"),M.innerHTML=Array.isArray(w)?w.join(" "):w;var _=a.config.legend.labels.useSeriesColors?a.globals.colors[b]:Array.isArray(a.config.legend.labels.colors)?(y=a.config.legend.labels.colors)===null||y===void 0?void 0:y[b]:a.config.legend.labels.colors;_||(_=a.config.chart.foreColor),M.style.color=_,M.style.fontSize=parseFloat(a.config.legend.fontSize)+"px",M.style.fontWeight=a.config.legend.fontWeight,M.style.fontFamily=i||a.config.chart.fontFamily,me.setAttrs(M,{rel:b+1,i:b,"data:default-text":encodeURIComponent(w),"data:collapsed":k||C}),L.appendChild(T),L.appendChild(M);var D=new _t(e.ctx);a.config.legend.showForZeroSeries||D.getSeriesTotalByIndex(b)===0&&D.seriesHaveSameValues(b)&&!D.isSeriesNull(b)&&a.globals.collapsedSeriesIndices.indexOf(b)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&L.classList.add("apexcharts-hidden-zero-series"),a.config.legend.showForNullSeries||D.isSeriesNull(b)&&a.globals.collapsedSeriesIndices.indexOf(b)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&L.classList.add("apexcharts-hidden-null-series"),f.length?a.globals.seriesGroups.forEach((function(H,z){var B;H.includes((B=a.config.series[b])===null||B===void 0?void 0:B.name)&&(a.globals.dom.elLegendWrap.appendChild(f[z]),f[z].appendChild(L))})):a.globals.dom.elLegendWrap.appendChild(L),a.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(a.config.legend.horizontalAlign)),a.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+a.config.legend.position),L.classList.add("apexcharts-legend-series"),L.style.margin="".concat(a.config.legend.itemMargin.vertical,"px ").concat(a.config.legend.itemMargin.horizontal,"px"),a.globals.dom.elLegendWrap.style.width=a.config.legend.width?a.config.legend.width+"px":"",a.globals.dom.elLegendWrap.style.height=a.config.legend.height?a.config.legend.height+"px":"",me.setAttrs(L,{rel:b+1,seriesName:J.escapeString(o[b]),"data:collapsed":k||C}),(k||C)&&L.classList.add("apexcharts-inactive-legend"),a.config.legend.onItemClick.toggleDataSeries||L.classList.add("apexcharts-no-click")},p=x?o.length-1:0;x?p>=0:p<=o.length-1;x?p--:p++)m(p);a.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),a.config.legend.onItemHover.highlightDataSeries&&a.config.legend.customLegendItems.length===0&&(a.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),a.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var a=this.w,i=a.globals.dom.elLegendWrap,o=i.clientHeight,c=0,h=0;if(a.config.legend.position==="bottom")h=a.globals.svgHeight-Math.min(o,a.globals.svgHeight/2)-5;else if(a.config.legend.position==="top"){var u=new _c(this.ctx),x=u.dimHelpers.getTitleSubtitleCoords("title").height,f=u.dimHelpers.getTitleSubtitleCoords("subtitle").height;h=(x>0?x-10:0)+(f>0?f-10:0)}i.style.position="absolute",c=c+e+a.config.legend.offsetX,h=h+t+a.config.legend.offsetY,i.style.left=c+"px",i.style.top=h+"px",a.config.legend.position==="right"&&(i.style.left="auto",i.style.right=25+a.config.legend.offsetX+"px"),["width","height"].forEach((function(m){i.style[m]&&(i.style[m]=parseInt(a.config.legend[m],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new _c(this.ctx),a=t.dimHelpers.getTitleSubtitleCoords("title"),i=t.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;e.config.legend.position==="top"&&(o=a.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),a=0;e.config.legend.position==="left"&&(a=20),e.config.legend.position==="right"&&(a=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(a,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,a=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(a){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new Ws(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&a&&new Ws(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var a=parseInt(e.target.getAttribute("rel"),10)-1,i=e.target.getAttribute("data:collapsed")==="true",o=this.w.config.chart.events.legendClick;typeof o=="function"&&o(this.ctx,a,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,a,this.w]);var c=this.w.config.legend.markers.onClick;typeof c=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(c(this.ctx,a,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,a,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(a,i)}}}]),r})(),iy=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return we(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,a=function(){return document.createElement("div")},i=a();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=a(),this.elZoomIn=a(),this.elZoomOut=a(),this.elPan=a(),this.elSelection=a(),this.elZoomReset=a(),this.elMenuIcon=a(),this.elMenu=a(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var o=0;o<this.t.customIcons.length;o++)this.elCustomIcons.push(a());var c=[],h=function(m,p,b){var y=m.toLowerCase();e.t[y]&&t.config.chart.zoom.enabled&&c.push({el:p,icon:typeof e.t[y]=="string"?e.t[y]:b,title:e.localeValues[m],class:"apexcharts-".concat(y,"-icon")})};h("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),h("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var u=function(m){e.t[m]&&t.config.chart[m].enabled&&c.push({el:m==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[m]=="string"?e.t[m]:m==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[m==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(m,"-icon")})};u("zoom"),u("selection"),this.t.pan&&t.config.chart.zoom.enabled&&c.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),h("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&c.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var x=0;x<this.elCustomIcons.length;x++)c.push({el:this.elCustomIcons[x],icon:this.t.customIcons[x].icon,title:this.t.customIcons[x].title,index:this.t.customIcons[x].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[x].class});c.forEach((function(m,p){m.index&&J.moveIndexInArray(c,p,m.index)}));for(var f=0;f<c.length;f++)me.setAttrs(c[f].el,{class:c[f].class,title:c[f].title}),c[f].el.innerHTML=c[f].icon,i.appendChild(c[f].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),me.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],a=0;a<t.length;a++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[a].innerHTML=t[a].title,me.setAttrs(this.elMenuItems[a],{class:"apexcharts-menu-item ".concat(t[a].name),title:t[a].title}),this.elMenu.appendChild(this.elMenuItems[a])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(a){a.classList.contains("exportSVG")?a.addEventListener("click",e.handleDownload.bind(e,"svg")):a.classList.contains("exportPNG")?a.addEventListener("click",e.handleDownload.bind(e,"png")):a.classList.contains("exportCSV")&&a.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var a=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],a.classList.contains(t.ctx.toolbar.selectedClass)?a.classList.remove(t.ctx.toolbar.selectedClass):a.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,a=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),a&&a.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(a){a&&a.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,a=(this.minX+t)/2,i=(this.maxX+t)/2,o=this._getNewMinXMaxX(a,i);e.globals.disableZoomIn||this.zoomUpdateOptions(o.minX,o.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,a=this.minX-(t-this.minX),i=this.maxX-(t-this.maxX),o=this._getNewMinXMaxX(a,i);e.globals.disableZoomOut||this.zoomUpdateOptions(o.minX,o.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var a=this.w.config.xaxis.convertedCatToNumeric;return{minX:a?Math.floor(e):e,maxX:a?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var a=this.w;if(e!==void 0||t!==void 0){if(!(a.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=a.globals.dataPoints),t-e<2))){var i={min:e,max:t},o=this.getBeforeZoomRange(i);o&&(i=o.xaxis);var c={xaxis:i},h=J.clone(a.globals.initialConfig.yaxis);a.config.chart.group||(c.yaxis=h),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(c,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,h)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var a=null;return typeof this.ev.beforeZoom=="function"&&(a=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),a}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,a=new xl(this.ctx);switch(e){case"svg":a.exportToSVG(this.ctx);break;case"png":a.exportToPng(this.ctx);break;case"csv":a.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){var a=t.w;if(a.globals.lastXAxis.min=a.globals.initialConfig.xaxis.min,a.globals.lastXAxis.max=a.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof a.config.chart.events.beforeResetZoom=="function"){var i=a.config.chart.events.beforeResetZoom(t,a);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}typeof a.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:a.config.xaxis.min,max:a.config.xaxis.max}),a.globals.zoomed=!1;var o=t.ctx.series.emptyCollapsedSeries(J.clone(a.globals.initialSeries));t.updateHelpers._updateSeries(o,a.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r})(),JA=(function(r){Ll(t,iy);var e=Ml(t);function t(a){var i;return ye(this,t),(i=e.call(this,a)).ctx=a,i.w=a.w,i.dragged=!1,i.graphics=new me(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i.debounceTimer=null,i.debounceDelay=100,i.wheelDelay=400,i}return we(t,[{key:"init",value:function(a){var i=this,o=a.xyRatios,c=this.w,h=this;this.xyRatios=o,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=c.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Tt(0,0,c.globals.gridWidth,c.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),c.globals.dom.Paper.add(this.zoomRect),c.globals.dom.Paper.add(this.selectionRect),c.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:c.globals.gridWidth,maxY:c.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):c.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:c.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=c.globals.dom.baseEl.querySelector("".concat(c.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(u){i.hoverArea.addEventListener(u,h.svgMouseEvents.bind(h,o),{capture:!1,passive:!0})})),c.config.chart.zoom.enabled&&c.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",h.mouseWheelEvent.bind(h),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(a,i){var o=this.w,c=this.ctx.toolbar,h=o.globals.zoomEnabled?o.config.chart.zoom.type:o.config.chart.selection.type,u=o.config.chart.toolbar.autoSelected;if(i.shiftKey?(this.shiftWasPressed=!0,c.enableZoomPanFromToolbar(u==="pan"?"zoom":"pan")):this.shiftWasPressed&&(c.enableZoomPanFromToolbar(u),this.shiftWasPressed=!1),i.target){var x,f=i.target.classList;if(i.target.parentNode&&i.target.parentNode!==null&&(x=i.target.parentNode.classList),!(f.contains("apexcharts-legend-marker")||f.contains("apexcharts-legend-text")||x&&x.contains("apexcharts-toolbar"))){if(this.clientX=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientX:i.type==="touchend"?i.changedTouches[0].clientX:i.clientX,this.clientY=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientY:i.type==="touchend"?i.changedTouches[0].clientY:i.clientY,i.type==="mousedown"&&i.which===1||i.type==="touchstart"){var m=this.gridRect.getBoundingClientRect();this.startX=this.clientX-m.left-o.globals.barPadForNumericAxis,this.startY=this.clientY-m.top,this.dragged=!1,this.w.globals.mousedown=!0}(i.type==="mousemove"&&i.which===1||i.type==="touchmove")&&(this.dragged=!0,o.globals.panEnabled?(o.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:h,xyRatios:a})):(this.w.globals.mousedown&&o.globals.zoomEnabled||this.w.globals.mousedown&&o.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:h}))),i.type!=="mouseup"&&i.type!=="touchend"&&i.type!=="mouseleave"||this.handleMouseUp({zoomtype:h}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(a){var i,o=a.zoomtype,c=a.isResized,h=this.w,u=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();u&&(this.w.globals.mousedown||c)&&(this.endX=this.clientX-u.left-h.globals.barPadForNumericAxis,this.endY=this.clientY-u.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:o})),h.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(a){var i=this,o=this.w;a.preventDefault();var c=Date.now();c-o.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(a),o.globals.lastWheelExecution=c),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){c-o.globals.lastWheelExecution>i.wheelDelay&&(i.executeMouseWheelZoom(a),o.globals.lastWheelExecution=c)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(a){var i,o=this.w;this.minX=o.globals.isRangeBar?o.globals.minY:o.globals.minX,this.maxX=o.globals.isRangeBar?o.globals.maxY:o.globals.maxX;var c=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();if(c){var h,u,x,f=(a.clientX-c.left)/c.width,m=this.minX,p=this.maxX,b=p-m;if(a.deltaY<0){var y=m+f*b;u=y-(h=.5*b)/2,x=y+h/2}else u=m-(h=1.5*b)/2,x=p+h/2;if(!o.globals.isRangeBar){u=Math.max(u,o.globals.initialMinX),x=Math.min(x,o.globals.initialMaxX);var w=.01*(o.globals.initialMaxX-o.globals.initialMinX);if(x-u<w){var k=(u+x)/2;u=k-w/2,x=k+w/2}}var C=this._getNewMinXMaxX(u,x);isNaN(C.minX)||isNaN(C.maxX)||this.zoomUpdateOptions(C.minX,C.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var a=this,i=this.w;if(this.selectionRect){var o=this.selectionRect.node.getBoundingClientRect();o.width>0&&o.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(c,h,u,x,f){return f==="l"||f==="r"?c.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):c.circle(0)},updateHandle:function(c,h){return c.center(h[0],h[1])}}).resize().on("resize",(function(){var c=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type;a.handleMouseUp({zoomtype:c,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var a=this.w,i=this.xyRatios;if(!a.globals.zoomEnabled){if(a.globals.selection!==void 0&&a.globals.selection!==null)this.drawSelectionRect(be(be({},a.globals.selection),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}));else if(a.config.chart.selection.xaxis.min!==void 0&&a.config.chart.selection.xaxis.max!==void 0){var o=(a.config.chart.selection.xaxis.min-a.globals.minX)/i.xRatio,c=a.globals.gridWidth-(a.globals.maxX-a.config.chart.selection.xaxis.max)/i.xRatio-o;a.globals.isRangeBar&&(o=(a.config.chart.selection.xaxis.min-a.globals.yAxisScale[0].niceMin)/i.invertedYRatio,c=(a.config.chart.selection.xaxis.max-a.config.chart.selection.xaxis.min)/i.invertedYRatio);var h={x:o,y:0,width:c,height:a.globals.gridHeight,translateX:a.globals.translateX,translateY:a.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(h),this.makeSelectionRectDraggable(),typeof a.config.chart.events.selection=="function"&&a.config.chart.events.selection(this.ctx,{xaxis:{min:a.config.chart.selection.xaxis.min,max:a.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(a){var i=a.x,o=a.y,c=a.width,h=a.height,u=a.translateX,x=u===void 0?0:u,f=a.translateY,m=f===void 0?0:f,p=this.w,b=this.zoomRect,y=this.selectionRect;if(this.dragged||p.globals.selection!==null){var w={transform:"translate("+x+", "+m+")"};p.globals.zoomEnabled&&this.dragged&&(c<0&&(c=1),b.attr({x:i,y:o,width:c,height:h,fill:p.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":p.config.chart.zoom.zoomedArea.fill.opacity,stroke:p.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":p.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":p.config.chart.zoom.zoomedArea.stroke.opacity}),me.setAttrs(b.node,w)),p.globals.selectionEnabled&&(y.attr({x:i,y:o,width:c>0?c:0,height:h>0?h:0,fill:p.config.chart.selection.fill.color,"fill-opacity":p.config.chart.selection.fill.opacity,stroke:p.config.chart.selection.stroke.color,"stroke-width":p.config.chart.selection.stroke.width,"stroke-dasharray":p.config.chart.selection.stroke.dashArray,"stroke-opacity":p.config.chart.selection.stroke.opacity}),me.setAttrs(y.node,w))}}},{key:"hideSelectionRect",value:function(a){a&&a.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(a){var i=a.context,o=a.zoomtype,c=this.w,h=i,u=this.gridRect.getBoundingClientRect(),x=h.startX-1,f=h.startY,m=!1,p=!1,b=h.clientX-u.left-c.globals.barPadForNumericAxis,y=h.clientY-u.top,w=b-x,k=y-f,C={translateX:c.globals.translateX,translateY:c.globals.translateY};return Math.abs(w+x)>c.globals.gridWidth?w=c.globals.gridWidth-x:b<0&&(w=x),x>b&&(m=!0,w=Math.abs(w)),f>y&&(p=!0,k=Math.abs(k)),C=be(be({},C=o==="x"?{x:m?x-w:x,y:0,width:w,height:c.globals.gridHeight}:o==="y"?{x:0,y:p?f-k:f,width:c.globals.gridWidth,height:k}:{x:m?x-w:x,y:p?f-k:f,width:w,height:k}),{},{translateX:c.globals.translateX,translateY:c.globals.translateY}),h.drawSelectionRect(C),h.selectionDragging("resizing"),C}},{key:"selectionDragging",value:function(a,i){var o=this,c=this.w;if(i){i.preventDefault();var h=i.detail,u=h.handler,x=h.box,f=x.x,m=x.y;f<this.constraints.x&&(f=this.constraints.x),m<this.constraints.y&&(m=this.constraints.y),x.x2>this.constraints.x2&&(f=this.constraints.x2-x.w),x.y2>this.constraints.y2&&(m=this.constraints.y2-x.h),u.move(f,m);var p=this.xyRatios,b=this.selectionRect,y=0;a==="resizing"&&(y=30);var w=function(C){return parseFloat(b.node.getAttribute(C))},k={x:w("x"),y:w("y"),width:w("width"),height:w("height")};c.globals.selection=k,typeof c.config.chart.events.selection=="function"&&c.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var C,S,A,T,L=o.gridRect.getBoundingClientRect(),M=b.node.getBoundingClientRect();c.globals.isRangeBar?(C=c.globals.yAxisScale[0].niceMin+(M.left-L.left)*p.invertedYRatio,S=c.globals.yAxisScale[0].niceMin+(M.right-L.left)*p.invertedYRatio,A=0,T=1):(C=c.globals.xAxisScale.niceMin+(M.left-L.left)*p.xRatio,S=c.globals.xAxisScale.niceMin+(M.right-L.left)*p.xRatio,A=c.globals.yAxisScale[0].niceMin+(L.bottom-M.bottom)*p.yRatio[0],T=c.globals.yAxisScale[0].niceMax-(M.top-L.top)*p.yRatio[0]);var _={xaxis:{min:C,max:S},yaxis:{min:A,max:T}};c.config.chart.events.selection(o.ctx,_),c.config.chart.brush.enabled&&c.config.chart.events.brushScrolled!==void 0&&c.config.chart.events.brushScrolled(o.ctx,_)}),y))}}},{key:"selectionDrawn",value:function(a){var i,o,c=a.context,h=a.zoomtype,u=this.w,x=c,f=this.xyRatios,m=this.ctx.toolbar,p=u.globals.zoomEnabled?x.zoomRect.node.getBoundingClientRect():x.selectionRect.node.getBoundingClientRect(),b=x.gridRect.getBoundingClientRect(),y=p.left-b.left-u.globals.barPadForNumericAxis,w=p.right-b.left-u.globals.barPadForNumericAxis,k=p.top-b.top,C=p.bottom-b.top;u.globals.isRangeBar?(i=u.globals.yAxisScale[0].niceMin+y*f.invertedYRatio,o=u.globals.yAxisScale[0].niceMin+w*f.invertedYRatio):(i=u.globals.xAxisScale.niceMin+y*f.xRatio,o=u.globals.xAxisScale.niceMin+w*f.xRatio);var S=[],A=[];if(u.config.yaxis.forEach((function(z,B){var P=u.globals.seriesYAxisMap[B][0],W=u.globals.yAxisScale[B].niceMax-f.yRatio[P]*k,V=u.globals.yAxisScale[B].niceMax-f.yRatio[P]*C;S.push(W),A.push(V)})),x.dragged&&(x.dragX>10||x.dragY>10)&&i!==o){if(u.globals.zoomEnabled){var T=J.clone(u.globals.initialConfig.yaxis),L=J.clone(u.globals.initialConfig.xaxis);if(u.globals.zoomed=!0,u.config.xaxis.convertedCatToNumeric&&(i=Math.floor(i),o=Math.floor(o),i<1&&(i=1,o=u.globals.dataPoints),o-i<2&&(o=i+1)),h!=="xy"&&h!=="x"||(L={min:i,max:o}),h!=="xy"&&h!=="y"||T.forEach((function(z,B){T[B].min=A[B],T[B].max=S[B]})),m){var M=m.getBeforeZoomRange(L,T);M&&(L=M.xaxis?M.xaxis:L,T=M.yaxis?M.yaxis:T)}var _={xaxis:L};u.config.chart.group||(_.yaxis=T),x.ctx.updateHelpers._updateOptions(_,!1,x.w.config.chart.animations.dynamicAnimation.enabled),typeof u.config.chart.events.zoomed=="function"&&m.zoomCallback(L,T)}else if(u.globals.selectionEnabled){var D,H=null;D={min:i,max:o},h!=="xy"&&h!=="y"||(H=J.clone(u.config.yaxis)).forEach((function(z,B){H[B].min=A[B],H[B].max=S[B]})),u.globals.selection=x.selection,typeof u.config.chart.events.selection=="function"&&u.config.chart.events.selection(x.ctx,{xaxis:D,yaxis:H})}}}},{key:"panDragging",value:function(a){var i=a.context,o=this.w,c=i;if(o.globals.lastClientPosition.x!==void 0){var h=o.globals.lastClientPosition.x-c.clientX,u=o.globals.lastClientPosition.y-c.clientY;Math.abs(h)>Math.abs(u)&&h>0?this.moveDirection="left":Math.abs(h)>Math.abs(u)&&h<0?this.moveDirection="right":Math.abs(u)>Math.abs(h)&&u>0?this.moveDirection="up":Math.abs(u)>Math.abs(h)&&u<0&&(this.moveDirection="down")}o.globals.lastClientPosition={x:c.clientX,y:c.clientY};var x=o.globals.isRangeBar?o.globals.minY:o.globals.minX,f=o.globals.isRangeBar?o.globals.maxY:o.globals.maxX;c.panScrolled(x,f)}},{key:"panScrolled",value:function(a,i){var o=this.w,c=this.xyRatios,h=J.clone(o.globals.initialConfig.yaxis),u=c.xRatio,x=o.globals.minX,f=o.globals.maxX;o.globals.isRangeBar&&(u=c.invertedYRatio,x=o.globals.minY,f=o.globals.maxY),this.moveDirection==="left"?(a=x+o.globals.gridWidth/15*u,i=f+o.globals.gridWidth/15*u):this.moveDirection==="right"&&(a=x-o.globals.gridWidth/15*u,i=f-o.globals.gridWidth/15*u),o.globals.isRangeBar||(a<o.globals.initialMinX||i>o.globals.initialMaxX)&&(a=x,i=f);var m={xaxis:{min:a,max:i}};o.config.chart.group||(m.yaxis=h),this.updateScrolledChart(m,a,i)}},{key:"updateScrolledChart",value:function(a,i,o){var c=this.w;if(this.ctx.updateHelpers._updateOptions(a,!1,!1),typeof c.config.chart.events.scrolled=="function"){var h={xaxis:{min:i,max:o}};c.config.chart.events.scrolled(this.ctx,h),this.ctx.events.fireEvent("scrolled",h)}}}]),t})(),ny=(function(){function r(e){ye(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return we(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,a=e.elGrid,i=e.clientX,o=e.clientY,c=this.w,h=a.getBoundingClientRect(),u=h.width,x=h.height,f=u/(c.globals.dataPoints-1),m=x/c.globals.dataPoints,p=this.hasBars();!c.globals.comboCharts&&!p||c.config.xaxis.convertedCatToNumeric||(f=u/c.globals.dataPoints);var b=i-h.left-c.globals.barPadForNumericAxis,y=o-h.top;b<0||y<0||b>u||y>x?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):c.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):c.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var w=Math.round(b/f),k=Math.floor(y/m);p&&!c.config.xaxis.convertedCatToNumeric&&(w=Math.ceil(b/f),w-=1);var C=null,S=null,A=c.globals.seriesXvalues.map((function(D){return D.filter((function(H){return J.isNumber(H)}))})),T=c.globals.seriesYvalues.map((function(D){return D.filter((function(H){return J.isNumber(H)}))}));if(c.globals.isXNumeric){var L=this.ttCtx.getElGrid().getBoundingClientRect(),M=b*(L.width/u),_=y*(L.height/x);C=(S=this.closestInMultiArray(M,_,A,T)).index,w=S.j,C!==null&&c.globals.hasNullValues&&(A=c.globals.seriesXvalues[C],w=(S=this.closestInArray(M,A)).j)}return c.globals.capturedSeriesIndex=C===null?-1:C,(!w||w<1)&&(w=0),c.globals.isBarHorizontal?c.globals.capturedDataPointIndex=k:c.globals.capturedDataPointIndex=w,{capturedSeries:C,j:c.globals.isBarHorizontal?k:w,hoverX:b,hoverY:y}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,a=0,i=e.map((function(c,h){return c.length>0?h:-1})),o=0;o<i.length;o++)if(i[o]!==-1&&t.globals.collapsedSeriesIndices.indexOf(o)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(o)===-1){a=i[o];break}return a}},{key:"closestInMultiArray",value:function(e,t,a,i){for(var o,c=this.w,h=1/0,u=null,x=null,f=0;f<a.length;f++)if(o=f,c.globals.collapsedSeriesIndices.indexOf(o)===-1&&c.globals.ancillaryCollapsedSeriesIndices.indexOf(o)===-1)for(var m=a[f],p=i[f],b=Math.min(m.length,p.length),y=0;y<b;y++){var w=e-m[y],k=Math.sqrt(w*w);if(!c.globals.allSeriesHasEqualX){var C=t-p[y];k=Math.sqrt(w*w+C*C)}k<h&&(h=k,u=f,x=y)}return{index:u,j:x}}},{key:"closestInArray",value:function(e,t){for(var a=t[0],i=null,o=Math.abs(e-a),c=0;c<t.length;c++){var h=Math.abs(e-t[c]);h<o&&(o=h,i=c)}return{j:i}}},{key:"isXoverlap",value:function(e){var t=[],a=this.w.globals.seriesX.filter((function(o){return o[0]!==void 0}));if(a.length>0)for(var i=0;i<a.length-1;i++)a[i][e]!==void 0&&a[i+1][e]!==void 0&&a[i][e]!==a[i+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,a=0;a<t.length-1;a++)if(t[a].data.length!==t[a+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Xt(e).reduce((function(t,a){return t+a.getBBox().height}),0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");a=Xt(a),t&&(a=a.filter((function(o){var c=Number(o.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(c)===-1}))),a.sort((function(o,c){var h=Number(o.getAttribute("data:realIndex")),u=Number(c.getAttribute("data:realIndex"));return u<h?1:u>h?-1:0}));var i=[];return a.forEach((function(o){i.push(o.querySelector(".apexcharts-marker"))})),i}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var a=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),o=e.getAttribute("shape");return new me(this.ctx).getMarkerPath(a,i,o,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,a=t.config.markers.hover.size;return a===void 0&&(a=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),a}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,a=this.ttCtx;a.allTooltipSeriesGroups.length===0&&(a.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=a.allTooltipSeriesGroups,o=0;o<i.length;o++)e==="enable"?(i[o].classList.add("apexcharts-active"),i[o].style.display=t.config.tooltip.items.display):(i[o].classList.remove("apexcharts-active"),i[o].style.display="none")}}]),r})(),e4=(function(){function r(e){ye(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new ny(e)}return we(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,a=t===void 0||t,i=e.ttItems,o=e.i,c=o===void 0?0:o,h=e.j,u=h===void 0?null:h,x=e.y1,f=e.y2,m=e.e,p=this.w;p.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:c,j:u,y1:x,y2:f,w:p}):this.toggleActiveInactiveSeries(a,c);var b=this.getValuesToPrint({i:c,j:u});this.printLabels({i:c,j:u,values:b,ttItems:i,shared:a,e:m});var y=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=y.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=y.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,a=this,i=e.i,o=e.j,c=e.values,h=e.ttItems,u=e.shared,x=e.e,f=this.w,m=[],p=function(L){return f.globals.seriesGoals[L]&&f.globals.seriesGoals[L][o]&&Array.isArray(f.globals.seriesGoals[L][o])},b=c.xVal,y=c.zVal,w=c.xAxisTTVal,k="",C=f.globals.colors[i];o!==null&&f.config.plotOptions.bar.distributed&&(C=f.globals.colors[o]);for(var S=function(L,M){var _=a.getFormatters(i);k=a.getSeriesName({fn:_.yLbTitleFormatter,index:i,seriesIndex:i,j:o}),f.config.chart.type==="treemap"&&(k=_.yLbTitleFormatter(String(f.config.series[i].data[o].x),{series:f.globals.series,seriesIndex:i,dataPointIndex:o,w:f}));var D=f.config.tooltip.inverseOrder?M:L;if(f.globals.axisCharts){var H=function(P){var W,V,Q,F;return f.globals.isRangeData?_.yLbFormatter((W=f.globals.seriesRangeStart)===null||W===void 0||(V=W[P])===null||V===void 0?void 0:V[o],{series:f.globals.seriesRangeStart,seriesIndex:P,dataPointIndex:o,w:f})+" - "+_.yLbFormatter((Q=f.globals.seriesRangeEnd)===null||Q===void 0||(F=Q[P])===null||F===void 0?void 0:F[o],{series:f.globals.seriesRangeEnd,seriesIndex:P,dataPointIndex:o,w:f}):_.yLbFormatter(f.globals.series[P][o],{series:f.globals.series,seriesIndex:P,dataPointIndex:o,w:f})};if(u)_=a.getFormatters(D),k=a.getSeriesName({fn:_.yLbTitleFormatter,index:D,seriesIndex:i,j:o}),C=f.globals.colors[D],t=H(D),p(D)&&(m=f.globals.seriesGoals[D][o].map((function(P){return{attrs:P,val:_.yLbFormatter(P.value,{seriesIndex:D,dataPointIndex:o,w:f})}})));else{var z,B=x==null||(z=x.target)===null||z===void 0?void 0:z.getAttribute("fill");B&&(B.indexOf("url")!==-1?B.indexOf("Pattern")!==-1&&(C=f.globals.dom.baseEl.querySelector(B.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):C=B),t=H(i),p(i)&&Array.isArray(f.globals.seriesGoals[i][o])&&(m=f.globals.seriesGoals[i][o].map((function(P){return{attrs:P,val:_.yLbFormatter(P.value,{seriesIndex:i,dataPointIndex:o,w:f})}})))}}o===null&&(t=_.yLbFormatter(f.globals.series[i],be(be({},f),{},{seriesIndex:i,dataPointIndex:i}))),a.DOMHandling({i,t:D,j:o,ttItems:h,values:{val:t,goalVals:m,xVal:b,xAxisTTVal:w,zVal:y},seriesName:k,shared:u,pColor:C})},A=0,T=f.globals.series.length-1;A<f.globals.series.length;A++,T--)S(A,T)}},{key:"getFormatters",value:function(e){var t,a=this.w,i=a.globals.yLabelFormatters[e];return a.globals.ttVal!==void 0?Array.isArray(a.globals.ttVal)?(i=a.globals.ttVal[e]&&a.globals.ttVal[e].formatter,t=a.globals.ttVal[e]&&a.globals.ttVal[e].title&&a.globals.ttVal[e].title.formatter):(i=a.globals.ttVal.formatter,typeof a.globals.ttVal.title.formatter=="function"&&(t=a.globals.ttVal.title.formatter)):t=a.config.tooltip.y.title.formatter,typeof i!="function"&&(i=a.globals.yLabelFormatters[0]?a.globals.yLabelFormatters[0]:function(o){return o}),typeof t!="function"&&(t=function(o){return o?o+": ":""}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,a=e.index,i=e.seriesIndex,o=e.j,c=this.w;return t(String(c.globals.seriesNames[a]),{series:c.globals.series,seriesIndex:i,dataPointIndex:o,w:c})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,a=e.j,i=e.ttItems,o=e.values,c=e.seriesName,h=e.shared,u=e.pColor,x=this.w,f=this.ttCtx,m=o.val,p=o.goalVals,b=o.xVal,y=o.xAxisTTVal,w=o.zVal,k=null;k=i[t].children,x.config.tooltip.fillSeriesColor&&(i[t].style.backgroundColor=u,k[0].style.display="none"),f.showTooltipTitle&&(f.tooltipTitle===null&&(f.tooltipTitle=x.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),f.tooltipTitle.innerHTML=b),f.isXAxisTooltipEnabled&&(f.xaxisTooltipText.innerHTML=y!==""?y:b);var C=i[t].querySelector(".apexcharts-tooltip-text-y-label");C&&(C.innerHTML=c||"");var S=i[t].querySelector(".apexcharts-tooltip-text-y-value");S&&(S.innerHTML=m!==void 0?m:""),k[0]&&k[0].classList.contains("apexcharts-tooltip-marker")&&(x.config.tooltip.marker.fillColors&&Array.isArray(x.config.tooltip.marker.fillColors)&&(u=x.config.tooltip.marker.fillColors[t]),x.config.tooltip.fillSeriesColor?k[0].style.backgroundColor=u:k[0].style.color=u),x.config.tooltip.marker.show||(k[0].style.display="none");var A=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),T=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(p.length&&x.globals.seriesGoals[t]){var L=function(){var D="<div>",H="<div>";p.forEach((function(z,B){D+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(z.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(z.attrs.name,"</div>"),H+="<div>".concat(z.val,"</div>")})),A.innerHTML=D+"</div>",T.innerHTML=H+"</div>"};h?x.globals.seriesGoals[t][a]&&Array.isArray(x.globals.seriesGoals[t][a])?L():(A.innerHTML="",T.innerHTML=""):L()}else A.innerHTML="",T.innerHTML="";if(w!==null&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=x.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=w!==void 0?w:""),h&&k[0]){if(x.config.tooltip.hideEmptySeries){var M=i[t].querySelector(".apexcharts-tooltip-marker"),_=i[t].querySelector(".apexcharts-tooltip-text");parseFloat(m)==0?(M.style.display="none",_.style.display="none"):(M.style.display="block",_.style.display="block")}m==null||x.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||x.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(t)===-1?k[0].parentNode.style.display="none":k[0].parentNode.style.display=x.config.tooltip.items.display}else Array.isArray(f.tConfig.enabledOnSeries)&&f.tConfig.enabledOnSeries.indexOf(t)===-1&&(k[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var a=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));i&&(i.classList.add("apexcharts-active"),i.style.display=a.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,a=e.j,i=this.w,o=this.ctx.series.filteredSeriesX(),c="",h="",u=null,x=null,f={series:i.globals.series,seriesIndex:t,dataPointIndex:a,w:i},m=i.globals.ttZFormatter;a===null?x=i.globals.series[t]:i.globals.isXNumeric&&i.config.chart.type!=="treemap"?(c=o[t][a],o[t].length===0&&(c=o[this.tooltipUtil.getFirstActiveXArray(o)][a])):c=new ig(this.ctx).isFormatXY()?i.config.series[t].data[a]!==void 0?i.config.series[t].data[a].x:"":i.globals.labels[a]!==void 0?i.globals.labels[a]:"";var p=c;return i.globals.isXNumeric&&i.config.xaxis.type==="datetime"?c=new Ol(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,p,p,{i:void 0,dateFormatter:new Zt(this.ctx).formatDate,w:this.w}):c=i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](p,f):i.globals.xLabelFormatter(p,f),i.config.tooltip.x.formatter!==void 0&&(c=i.globals.ttKeyFormatter(p,f)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(u=m(i.globals.seriesZ[t][a],i)),h=typeof i.config.xaxis.tooltip.formatter=="function"?i.globals.xaxisTooltipFormatter(p,f):c,{val:Array.isArray(x)?x.join(" "):x,xVal:Array.isArray(c)?c.join(" "):c,xAxisTTVal:Array.isArray(h)?h.join(" "):h,zVal:u}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,a=e.j,i=e.y1,o=e.y2,c=e.w,h=this.ttCtx.getElTooltip(),u=c.config.tooltip.custom;Array.isArray(u)&&u[t]&&(u=u[t]);var x=u({ctx:this.ctx,series:c.globals.series,seriesIndex:t,dataPointIndex:a,y1:i,y2:o,w:c});typeof x=="string"||typeof x=="number"?h.innerHTML=x:(x instanceof Element||typeof x.nodeName=="string")&&(h.innerHTML="",h.appendChild(x.cloneNode(!0)))}}]),r})(),ry=(function(){function r(e){ye(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return we(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=this.ttCtx,i=this.w,o=a.getElXCrosshairs(),c=e-a.xcrosshairsWidth/2,h=i.globals.labels.slice().length;if(t!==null&&(c=i.globals.gridWidth/h*t),o===null||i.globals.isBarHorizontal||(o.setAttribute("x",c),o.setAttribute("x1",c),o.setAttribute("x2",c),o.setAttribute("y2",i.globals.gridHeight),o.classList.add("apexcharts-active")),c<0&&(c=0),c>i.globals.gridWidth&&(c=i.globals.gridWidth),a.isXAxisTooltipEnabled){var u=c;i.config.xaxis.crosshairs.width!=="tickWidth"&&i.config.xaxis.crosshairs.width!=="barWidth"||(u=c+a.xcrosshairsWidth/2),this.moveXAxisTooltip(u)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&me.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&me.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,a=this.ttCtx;if(a.xaxisTooltip!==null&&a.xcrosshairsWidth!==0){a.xaxisTooltip.classList.add("apexcharts-active");var i=a.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=a.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var o;o=new me(this.ctx).getTextRects(a.xaxisTooltipText.innerHTML),a.xaxisTooltipText.style.minWidth=o.width+"px",a.xaxisTooltip.style.left=e+"px",a.xaxisTooltip.style.top=i+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,a=this.ttCtx;a.yaxisTTEls===null&&(a.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(a.ycrosshairsHidden.getAttribute("y1"),10),o=t.globals.translateY+i,c=a.yaxisTTEls[e].getBoundingClientRect(),h=c.height,u=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(u-=c.width),o-=h/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&o>0&&o<t.globals.gridHeight?(a.yaxisTTEls[e].classList.add("apexcharts-active"),a.yaxisTTEls[e].style.top=o+"px",a.yaxisTTEls[e].style.left=u+t.config.yaxis[e].tooltip.offsetX+"px"):a.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,o=this.ttCtx,c=o.getElTooltip(),h=o.tooltipRect,u=a!==null?parseFloat(a):1,x=parseFloat(e)+u+5,f=parseFloat(t)+u/2;if(x>i.globals.gridWidth/2&&(x=x-h.ttWidth-u-10),x>i.globals.gridWidth-h.ttWidth-10&&(x=i.globals.gridWidth-h.ttWidth),x<-20&&(x=-20),i.config.tooltip.followCursor){var m=o.getElGrid().getBoundingClientRect();(x=o.e.clientX-m.left)>i.globals.gridWidth/2&&(x-=o.tooltipRect.ttWidth),(f=o.e.clientY+i.globals.translateY-m.top)>i.globals.gridHeight/2&&(f-=o.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||h.ttHeight/2+f>i.globals.gridHeight&&(f=i.globals.gridHeight-h.ttHeight+i.globals.translateY);isNaN(x)||(x+=i.globals.translateX,c.style.left=x+"px",c.style.top=f+"px")}},{key:"moveMarkers",value:function(e,t){var a=this.w,i=this.ttCtx;if(a.globals.markers.size[e]>0)for(var o=a.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),c=0;c<o.length;c++)parseInt(o[c].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,o[c]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var a,i,o,c,h=this.w,u=this.ttCtx,x=new me(this.ctx),f=h.globals.pointsArray,m=u.tooltipUtil.getHoverMarkerSize(t),p=h.config.series[t].type;if(!p||p!=="column"&&p!=="candlestick"&&p!=="boxPlot"){o=(a=f[t][e])===null||a===void 0?void 0:a[0],c=((i=f[t][e])===null||i===void 0?void 0:i[1])||0;var b=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(b&&c<h.globals.gridHeight&&c>0){var y=b.getAttribute("shape"),w=x.getMarkerPath(o,c,y,1.5*m);b.setAttribute("d",w)}this.moveXCrosshairs(o),u.fixedTooltip||this.moveTooltip(o,c,m)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,a=this.ttCtx,i=a.w,o=0,c=0,h=i.globals.pointsArray,u=new Ws(this.ctx),x=new me(this.ctx);t=u.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var f=a.tooltipUtil.getHoverMarkerSize(t);if(h[t]&&(o=h[t][e][0],c=h[t][e][1]),!isNaN(o)){var m=a.tooltipUtil.getAllMarkers();if(m.length)for(var p=0;p<i.globals.series.length;p++){var b=h[p];if(i.globals.comboCharts&&b===void 0&&m.splice(p,0,null),b&&b.length){var y=h[p][e][1],w=void 0;m[p].setAttribute("cx",o);var k=m[p].getAttribute("shape");if(i.config.chart.type==="rangeArea"&&!i.globals.comboCharts){var C=e+i.globals.series[p].length;w=h[p][C][1],y-=Math.abs(y-w)/2}if(y!==null&&!isNaN(y)&&y<i.globals.gridHeight+f&&y+f>0){var S=x.getMarkerPath(o,y,k,f);m[p].setAttribute("d",S)}else m[p].setAttribute("d","")}}this.moveXCrosshairs(o),a.fixedTooltip||this.moveTooltip(o,c||i.globals.gridHeight,f)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var a=this.w,i=this.ttCtx,o=a.globals.columnSeries?a.globals.columnSeries.length:a.globals.series.length;a.config.chart.stacked&&(o=a.globals.barGroups.length);var c=o>=2&&o%2==0?Math.floor(o/2):Math.floor(o/2)+1;a.globals.isBarHorizontal&&(c=new Ws(this.ctx).getActiveConfigSeriesIndex("desc")+1);var h=a.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(c,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(e,"']"));h||typeof t!="number"||(h=a.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var u=h?parseFloat(h.getAttribute("cx")):0,x=h?parseFloat(h.getAttribute("cy")):0,f=h?parseFloat(h.getAttribute("barWidth")):0,m=i.getElGrid().getBoundingClientRect(),p=h&&(h.classList.contains("apexcharts-candlestick-area")||h.classList.contains("apexcharts-boxPlot-area"));a.globals.isXNumeric?(h&&!p&&(u-=o%2!=0?f/2:0),h&&p&&(u-=f/2)):a.globals.isBarHorizontal||(u=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(u)&&(u=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),a.globals.isBarHorizontal?x-=i.tooltipRect.ttHeight:a.config.tooltip.followCursor?x=i.e.clientY-m.top-i.tooltipRect.ttHeight/2:x+i.tooltipRect.ttHeight+15>a.globals.gridHeight&&(x=a.globals.gridHeight),a.globals.isBarHorizontal||this.moveXCrosshairs(u),i.fixedTooltip||this.moveTooltip(u,x||a.globals.gridHeight)}}]),r})(),t4=(function(){function r(e){ye(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new ry(e)}return we(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new me(this.ctx),a=new xr(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=Xt(i),e.config.chart.stacked&&i.sort((function(m,p){return parseFloat(m.getAttribute("data:realIndex"))-parseFloat(p.getAttribute("data:realIndex"))}));for(var o=0;o<i.length;o++){var c=i[o].querySelector(".apexcharts-series-markers-wrap");if(c!==null){var h=void 0,u="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(u+=" no-pointer-events");var x=a.getMarkerConfig({cssClass:u,seriesIndex:Number(c.getAttribute("data:realIndex"))});(h=t.drawMarker(0,0,x)).node.setAttribute("default-marker-size",0);var f=document.createElementNS(e.globals.SVGNS,"g");f.classList.add("apexcharts-series-markers"),f.appendChild(h.node),c.appendChild(f)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.w;o.config.chart.type!=="bubble"&&this.newPointSize(e,t);var c=t.getAttribute("cx"),h=t.getAttribute("cy");if(a!==null&&i!==null&&(c=a,h=i),this.tooltipPosition.moveXCrosshairs(c),!this.fixedTooltip){if(o.config.chart.type==="radar"){var u=this.ttCtx.getElGrid().getBoundingClientRect();c=this.ttCtx.e.clientX-u.left}this.tooltipPosition.moveTooltip(c,h,o.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,a=this,i=this.ttCtx,o=e,c=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),h=t.config.markers.hover.size,u=0;u<c.length;u++){var x=c[u].getAttribute("rel"),f=c[u].getAttribute("index");if(h===void 0&&(h=t.globals.markers.size[f]+t.config.markers.hover.sizeOffset),o===parseInt(x,10)){a.newPointSize(o,c[u]);var m=c[u].getAttribute("cx"),p=c[u].getAttribute("cy");a.tooltipPosition.moveXCrosshairs(m),i.fixedTooltip||a.tooltipPosition.moveTooltip(m,p,h)}else a.oldPointSize(c[u])}}},{key:"newPointSize",value:function(e,t){var a=this.w,i=a.config.markers.hover.size,o=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(o.getAttribute("default-marker-size")!=="0"){var c=parseInt(o.getAttribute("index"),10);i===void 0&&(i=a.globals.markers.size[c]+a.config.markers.hover.sizeOffset),i<0&&(i=0);var h=this.ttCtx.tooltipUtil.getPathFromPoint(t,i);t.setAttribute("d",h)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),a=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",a)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var a=parseFloat(e[t].getAttribute("default-marker-size"));if(J.isNumber(a)&&a>0){var i=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],a);e[t].setAttribute("d",i)}else e[t].setAttribute("d","M0,0")}}}]),r})(),s4=(function(){function r(e){ye(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return we(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,a=e.opt,i=e.x,o=e.y,c=e.type,h=this.ttCtx,u=this.w;if(t.target.classList.contains("apexcharts-".concat(c,"-rect"))){var x=this.getAttr(t,"i"),f=this.getAttr(t,"j"),m=this.getAttr(t,"cx"),p=this.getAttr(t,"cy"),b=this.getAttr(t,"width"),y=this.getAttr(t,"height");if(h.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:x,j:f,shared:!1,e:t}),u.globals.capturedSeriesIndex=x,u.globals.capturedDataPointIndex=f,i=m+h.tooltipRect.ttWidth/2+b,o=p+h.tooltipRect.ttHeight/2-y/2,h.tooltipPosition.moveXCrosshairs(m+b/2),i>u.globals.gridWidth/2&&(i=m-h.tooltipRect.ttWidth/2+b),h.w.config.tooltip.followCursor){var w=u.globals.dom.elWrap.getBoundingClientRect();i=u.globals.clientX-w.left-(i>u.globals.gridWidth/2?h.tooltipRect.ttWidth:0),o=u.globals.clientY-w.top-(o>u.globals.gridHeight/2?h.tooltipRect.ttHeight:0)}}return{x:i,y:o}}},{key:"handleMarkerTooltip",value:function(e){var t,a,i=e.e,o=e.opt,c=e.x,h=e.y,u=this.w,x=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var f=parseInt(o.paths.getAttribute("cx"),10),m=parseInt(o.paths.getAttribute("cy"),10),p=parseFloat(o.paths.getAttribute("val"));if(a=parseInt(o.paths.getAttribute("rel"),10),t=parseInt(o.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,x.intersect){var b=J.findAncestor(o.paths,"apexcharts-series");b&&(t=parseInt(b.getAttribute("data:realIndex"),10))}if(x.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:t,j:a,shared:!x.showOnIntersect&&u.config.tooltip.shared,e:i}),i.type==="mouseup"&&x.markerClick(i,t,a),u.globals.capturedSeriesIndex=t,u.globals.capturedDataPointIndex=a,c=f,h=m+u.globals.translateY-1.4*x.tooltipRect.ttHeight,x.w.config.tooltip.followCursor){var y=x.getElGrid().getBoundingClientRect();h=x.e.clientY+u.globals.translateY-y.top}p<0&&(h=m),x.marker.enlargeCurrentPoint(a,o.paths,c,h)}return{x:c,y:h}}},{key:"handleBarTooltip",value:function(e){var t,a,i=e.e,o=e.opt,c=this.w,h=this.ttCtx,u=h.getElTooltip(),x=0,f=0,m=0,p=this.getBarTooltipXY({e:i,opt:o});if(p.j!==null||p.barHeight!==0||p.barWidth!==0){t=p.i;var b=p.j;if(c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=b,c.globals.isBarHorizontal&&h.tooltipUtil.hasBars()||!c.config.tooltip.shared?(f=p.x,m=p.y,a=Array.isArray(c.config.stroke.width)?c.config.stroke.width[t]:c.config.stroke.width,x=f):c.globals.comboCharts||c.config.tooltip.shared||(x/=2),isNaN(m)&&(m=c.globals.svgHeight-h.tooltipRect.ttHeight),parseInt(o.paths.parentNode.getAttribute("data:realIndex"),10),f+h.tooltipRect.ttWidth>c.globals.gridWidth?f-=h.tooltipRect.ttWidth:f<0&&(f=0),h.w.config.tooltip.followCursor){var y=h.getElGrid().getBoundingClientRect();m=h.e.clientY-y.top}h.tooltip===null&&(h.tooltip=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),c.config.tooltip.shared||(c.globals.comboBarCount>0?h.tooltipPosition.moveXCrosshairs(x+a/2):h.tooltipPosition.moveXCrosshairs(x)),!h.fixedTooltip&&(!c.config.tooltip.shared||c.globals.isBarHorizontal&&h.tooltipUtil.hasBars())&&(m=m+c.globals.translateY-h.tooltipRect.ttHeight/2,u.style.left=f+c.globals.translateX+"px",u.style.top=m+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,a=e.e,i=e.opt,o=this.w,c=null,h=this.ttCtx,u=0,x=0,f=0,m=0,p=0,b=a.target.classList;if(b.contains("apexcharts-bar-area")||b.contains("apexcharts-candlestick-area")||b.contains("apexcharts-boxPlot-area")||b.contains("apexcharts-rangebar-area")){var y=a.target,w=y.getBoundingClientRect(),k=i.elGrid.getBoundingClientRect(),C=w.height;p=w.height;var S=w.width,A=parseInt(y.getAttribute("cx"),10),T=parseInt(y.getAttribute("cy"),10);m=parseFloat(y.getAttribute("barWidth"));var L=a.type==="touchmove"?a.touches[0].clientX:a.clientX;c=parseInt(y.getAttribute("j"),10),u=parseInt(y.parentNode.getAttribute("rel"),10)-1;var M=y.getAttribute("data-range-y1"),_=y.getAttribute("data-range-y2");o.globals.comboCharts&&(u=parseInt(y.parentNode.getAttribute("data:realIndex"),10));var D=function(z){return o.globals.isXNumeric?A-S/2:t.isVerticalGroupedRangeBar?A+S/2:A-h.dataPointsDividedWidth+S/2},H=function(){return T-h.dataPointsDividedHeight+C/2-h.tooltipRect.ttHeight/2};h.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:u,j:c,y1:M?parseInt(M,10):null,y2:_?parseInt(_,10):null,shared:!h.showOnIntersect&&o.config.tooltip.shared,e:a}),o.config.tooltip.followCursor?o.globals.isBarHorizontal?(x=L-k.left+15,f=H()):(x=D(),f=a.clientY-k.top-h.tooltipRect.ttHeight/2-15):o.globals.isBarHorizontal?((x=A)<h.xyRatios.baseLineInvertedY&&(x=A-h.tooltipRect.ttWidth),f=H()):(x=D(),f=T)}return{x,y:f,barHeight:p,barWidth:m,i:u,j:c}}}]),r})(),a4=(function(){function r(e){ye(this,r),this.w=e.w,this.ttCtx=e}return we(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,a=e.config.xaxis.position==="bottom";t.xaxisOffY=a?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=a?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",o=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,a=0;a<e.config.yaxis.length;a++){var i=e.config.yaxis[a].opposite||e.config.yaxis[a].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var o="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),c=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(a))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",o+" apexcharts-theme-"+e.config.tooltip.theme),c.appendChild(t.yaxisTooltip),a===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[a]=document.createElement("div"),t.yaxisTooltipText[a].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[a]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,a=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(i!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var o=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=o}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var c=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/c}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var h=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/h}else if(e.config.xaxis.crosshairs.width==="barWidth"){var u=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(u!==null){var x=parseFloat(u.getAttribute("barWidth"));t.xcrosshairsWidth=x}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),a!==null&&t.xcrosshairsWidth>0&&a.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,a){var i=this.ttCtx,o=this.w,c=o.globals,h=c.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&h.length>0){var u=c.yLabelFormatters[e],x=i.getElGrid().getBoundingClientRect(),f=h[0],m=0;a.yRatio.length>1&&(m=f);var p=(t-x.top)*a.yRatio[m],b=c.maxYArr[f]-c.minYArr[f],y=c.minYArr[f]+(b-p);o.config.yaxis[e].reversed&&(y=c.maxYArr[f]-(b-p)),i.tooltipPosition.moveYCrosshairs(t-x.top),i.yaxisTooltipText[e].innerHTML=u(y),i.tooltipPosition.moveYAxisTooltip(e)}}}]),r})(),sb=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new ny(this),this.tooltipLabels=new e4(this),this.tooltipPosition=new ry(this),this.marker=new t4(this),this.intersect=new s4(this),this.axesTooltip=new a4(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return we(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(c,h){return!!(c.show&&c.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var a=document.createElement("div");if(a.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&a.classList.add(t.config.tooltip.cssClass),a.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(a),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new Nl(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,a.appendChild(this.tooltipTitle));var o=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(o=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(o),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,a=this.w,i=[],o=this.getElTooltip(),c=function(u){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(u)),x.style.order=a.config.tooltip.inverseOrder?e-u:u+1;var f=document.createElement("span");f.classList.add("apexcharts-tooltip-marker"),a.config.tooltip.fillSeriesColor?f.style.backgroundColor=a.globals.colors[u]:f.style.color=a.globals.colors[u];var m=a.config.markers.shape,p=m;Array.isArray(m)&&(p=m[u]),f.setAttribute("shape",p),x.appendChild(f);var b=document.createElement("div");b.classList.add("apexcharts-tooltip-text"),b.style.fontFamily=t.tConfig.style.fontFamily||a.config.chart.fontFamily,b.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(y){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-".concat(y,"-group"));var k=document.createElement("span");k.classList.add("apexcharts-tooltip-text-".concat(y,"-label")),w.appendChild(k);var C=document.createElement("span");C.classList.add("apexcharts-tooltip-text-".concat(y,"-value")),w.appendChild(C),b.appendChild(w)})),x.appendChild(b),o.appendChild(x),i.push(x)},h=0;h<e;h++)c(h);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,a=this.getElTooltip(),i=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),o=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",c=e.globals.dom.Paper.node,h=this.getElGrid();h&&(this.seriesBound=h.getBoundingClientRect());var u,x=[],f=[],m={hoverArea:c,elGrid:h,tooltipEl:a,tooltipY:x,tooltipX:f,ttItems:this.ttItems};if(e.globals.axisCharts&&(o?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),u&&u.length))for(var p=0;p<u.length;p++)x.push(u[p].getAttribute("cy")),f.push(u[p].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([c],m);else if(i&&!e.globals.comboCharts||o&&this.showOnIntersect)this.addDatapointEventsListeners(m);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var b=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(b,m)}if(this.showOnIntersect){var y=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");y.length>0&&this.addPathsEventListeners(y,m),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(m)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),a=t.getBoundingClientRect(),i=a.width+10,o=a.height+10,c=this.tConfig.fixed.offsetX,h=this.tConfig.fixed.offsetY,u=this.tConfig.fixed.position.toLowerCase();return u.indexOf("right")>-1&&(c=c+e.globals.svgWidth-i+10),u.indexOf("bottom")>-1&&(h=h+e.globals.svgHeight-o-10),t.style.left=c+"px",t.style.top=h+"px",{x:c,y:h,ttWidth:i,ttHeight:o}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var a=this,i=function(c){var h={paths:e[c],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(u){return e[c].addEventListener(u,a.onSeriesHover.bind(a,h),{capture:!1,passive:!0})}))},o=0;o<e.length;o++)i(o)}},{key:"onSeriesHover",value:function(e,t){var a=this,i=Date.now()-this.lastHoverTime;i>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){a.seriesHover(e,t)}),20-i))}},{key:"seriesHover",value:function(e,t){var a=this;this.lastHoverTime=Date.now();var i=[],o=this.w;o.config.chart.group&&(i=this.ctx.getGroupedCharts()),o.globals.axisCharts&&(o.globals.minX===-1/0&&o.globals.maxX===1/0||o.globals.dataPoints===0)||(i.length?i.forEach((function(c){var h=a.getElTooltip(c),u={paths:e.paths,tooltipEl:h,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:c.w.globals.tooltip.ttItems};c.w.globals.minX===a.w.globals.minX&&c.w.globals.maxX===a.w.globals.maxX&&c.w.globals.tooltip.seriesHoverByContext({chartCtx:c,ttCtx:c.w.globals.tooltip,opt:u,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,a=e.ttCtx,i=e.opt,o=e.e,c=t.w,h=this.getElTooltip(t);h&&(a.tooltipRect={x:0,y:0,ttWidth:h.getBoundingClientRect().width,ttHeight:h.getBoundingClientRect().height},a.e=o,a.tooltipUtil.hasBars()&&!c.globals.comboCharts&&!a.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ws(t).toggleSeriesOnHover(o,o.target.parentNode),c.globals.axisCharts?a.axisChartsTooltips({e:o,opt:i,tooltipRect:a.tooltipRect}):a.nonAxisChartsTooltips({e:o,opt:i,tooltipRect:a.tooltipRect}),a.fixedTooltip&&a.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,a,i=e.e,o=e.opt,c=this.w,h=o.elGrid.getBoundingClientRect(),u=i.type==="touchmove"?i.touches[0].clientX:i.clientX,x=i.type==="touchmove"?i.touches[0].clientY:i.clientY;if(this.clientY=x,this.clientX=u,c.globals.capturedSeriesIndex=-1,c.globals.capturedDataPointIndex=-1,x<h.top||x>h.top+h.height)this.handleMouseOut(o);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!c.config.tooltip.shared){var f=parseInt(o.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(f)<0)return void this.handleMouseOut(o)}var m=this.getElTooltip(),p=this.getElXCrosshairs(),b=[];c.config.chart.group&&(b=this.ctx.getSyncedCharts());var y=c.globals.xyCharts||c.config.chart.type==="bar"&&!c.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||c.globals.comboCharts&&this.tooltipUtil.hasBars();if(i.type==="mousemove"||i.type==="touchmove"||i.type==="mouseup"){if(c.globals.collapsedSeries.length+c.globals.ancillaryCollapsedSeries.length===c.globals.series.length)return;p!==null&&p.classList.add("apexcharts-active");var w=this.yaxisTooltips.filter((function(S){return S===!0}));if(this.ycrosshairs!==null&&w.length&&this.ycrosshairs.classList.add("apexcharts-active"),y&&!this.showOnIntersect||b.length>1)this.handleStickyTooltip(i,u,x,o);else if(c.config.chart.type==="heatmap"||c.config.chart.type==="treemap"){var k=this.intersect.handleHeatTreeTooltip({e:i,opt:o,x:t,y:a,type:c.config.chart.type});t=k.x,a=k.y,m.style.left=t+"px",m.style.top=a+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:o}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:o,x:t,y:a});if(this.yaxisTooltips.length)for(var C=0;C<c.config.yaxis.length;C++)this.axesTooltip.drawYaxisTooltipText(C,x,this.xyRatios);c.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.tooltipEl.classList.add("apexcharts-active")}else i.type!=="mouseout"&&i.type!=="touchend"||this.handleMouseOut(o)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,a=e.opt,i=e.tooltipRect,o=this.w,c=a.paths.getAttribute("rel"),h=this.getElTooltip(),u=o.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),h.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:parseInt(c,10)-1,shared:!1});var x=o.globals.clientX-u.left-i.ttWidth/2,f=o.globals.clientY-u.top-i.ttHeight-10;if(h.style.left=x+"px",h.style.top=f+"px",o.config.legend.tooltipHoverFormatter){var m=c-1,p=(0,o.config.legend.tooltipHoverFormatter)(this.legendLabels[m].getAttribute("data:default-text"),{seriesIndex:m,dataPointIndex:m,w:o});this.legendLabels[m].innerHTML=p}}else t.type!=="mouseout"&&t.type!=="touchend"||(h.classList.remove("apexcharts-active"),o.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),o.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(b){var y=b.getAttribute("data:default-text");b.innerHTML=decodeURIComponent(y)})))}},{key:"handleStickyTooltip",value:function(e,t,a,i){var o=this.w,c=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:a}),h=c.j,u=c.capturedSeries;o.globals.collapsedSeriesIndices.includes(u)&&(u=null);var x=i.elGrid.getBoundingClientRect();if(c.hoverX<0||c.hoverX>x.width)this.handleMouseOut(i);else if(u!==null)this.handleStickyCapturedSeries(e,u,i,h);else if(this.tooltipUtil.isXoverlap(h)||o.globals.isBarHorizontal){var f=o.globals.series.findIndex((function(m,p){return!o.globals.collapsedSeriesIndices.includes(p)}));this.create(e,this,f,h,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,a,i){var o=this.w;if(!this.tConfig.shared&&o.globals.series[t][i]===null)return void this.handleMouseOut(a);if(o.globals.series[t][i]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,a.ttItems):this.create(e,this,t,i,a.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var c=o.globals.series.findIndex((function(h,u){return!o.globals.collapsedSeriesIndices.includes(u)}));this.create(e,this,c,i,a.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new me(this.ctx),a=e.globals.dom.Paper.find(".apexcharts-bar-area"),i=0;i<a.length;i++)t.pathMouseLeave(a[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,a=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),a!==null&&a.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(o){var c=o.getAttribute("data:default-text");o.innerHTML=decodeURIComponent(c)}))}},{key:"markerClick",value:function(e,t,a){var i=this.w;typeof i.config.chart.events.markerClick=="function"&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:a,w:i}])}},{key:"create",value:function(e,t,a,i,o){var c,h,u,x,f,m,p,b,y,w,k,C,S,A,T,L,M=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,_=this.w,D=t;e.type==="mouseup"&&this.markerClick(e,a,i),M===null&&(M=this.tConfig.shared);var H=this.tooltipUtil.hasMarkers(a),z=this.tooltipUtil.getElBars(),B=function(){_.globals.markers.largestSize>0?D.marker.enlargePoints(i):D.tooltipPosition.moveDynamicPointsOnHover(i)};if(_.config.legend.tooltipHoverFormatter){var P=_.config.legend.tooltipHoverFormatter,W=Array.from(this.legendLabels);W.forEach((function(ne){var K=ne.getAttribute("data:default-text");ne.innerHTML=decodeURIComponent(K)}));for(var V=0;V<W.length;V++){var Q=W[V],F=parseInt(Q.getAttribute("i"),10),q=decodeURIComponent(Q.getAttribute("data:default-text")),I=P(q,{seriesIndex:M?F:a,dataPointIndex:i,w:_});if(M)Q.innerHTML=_.globals.collapsedSeriesIndices.indexOf(F)<0?I:q;else if(Q.innerHTML=F===a?I:q,a===F)break}}var G=be(be({ttItems:o,i:a,j:i},((c=_.globals.seriesRange)===null||c===void 0||(h=c[a])===null||h===void 0||(u=h[i])===null||u===void 0||(x=u.y[0])===null||x===void 0?void 0:x.y1)!==void 0&&{y1:(f=_.globals.seriesRange)===null||f===void 0||(m=f[a])===null||m===void 0||(p=m[i])===null||p===void 0||(b=p.y[0])===null||b===void 0?void 0:b.y1}),((y=_.globals.seriesRange)===null||y===void 0||(w=y[a])===null||w===void 0||(k=w[i])===null||k===void 0||(C=k.y[0])===null||C===void 0?void 0:C.y2)!==void 0&&{y2:(S=_.globals.seriesRange)===null||S===void 0||(A=S[a])===null||A===void 0||(T=A[i])===null||T===void 0||(L=T.y[0])===null||L===void 0?void 0:L.y2});if(M){if(D.tooltipLabels.drawSeriesTexts(be(be({},G),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),H)B();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(z),this.barSeriesHeight>0)){var Y=new me(this.ctx),O=_.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),D.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&B(),D.tooltipPosition.moveStickyTooltipOverBars(i,a);for(var U=0;U<O.length;U++)Y.pathMouseEnter(O[U])}}else D.tooltipLabels.drawSeriesTexts(be({shared:!1},G)),this.tooltipUtil.hasBars()&&D.tooltipPosition.moveStickyTooltipOverBars(i,a),H&&D.tooltipPosition.moveMarkers(a,i)}}]),r})(),i4=(function(){function r(e){ye(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return we(r,[{key:"handleBarDataLabels",value:function(e){var t,a,i=e.x,o=e.y,c=e.y1,h=e.y2,u=e.i,x=e.j,f=e.realIndex,m=e.columnGroupIndex,p=e.series,b=e.barHeight,y=e.barWidth,w=e.barXPosition,k=e.barYPosition,C=e.visibleSeries,S=this.w,A=new me(this.barCtx.ctx),T=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[f]:this.barCtx.strokeWidth;S.globals.isXNumeric&&!S.globals.isBarHorizontal?(t=i+parseFloat(y*(C+1)),a=o+parseFloat(b*(C+1))-T):(t=i+parseFloat(y*C),a=o+parseFloat(b*C));var L,M=null,_=i,D=o,H={},z=S.config.dataLabels,B=this.barCtx.barOptions.dataLabels,P=this.barCtx.barOptions.dataLabels.total;k!==void 0&&this.barCtx.isRangeBar&&(a=k,D=k),w!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=w,_=w);var W=z.offsetX,V=z.offsetY,Q={width:0,height:0};if(S.config.dataLabels.enabled){var F=S.globals.series[u][x];Q=A.getTextRects(S.config.dataLabels.formatter?S.config.dataLabels.formatter(F,be(be({},S),{},{seriesIndex:u,dataPointIndex:x,w:S})):S.globals.yLabelFormatters[0](F),parseFloat(z.style.fontSize))}var q={x:i,y:o,i:u,j:x,realIndex:f,columnGroupIndex:m,bcx:t,bcy:a,barHeight:b,barWidth:y,textRects:Q,strokeWidth:T,dataLabelsX:_,dataLabelsY:D,dataLabelsConfig:z,barDataLabelsConfig:B,barTotalDataLabelsConfig:P,offX:W,offY:V};return H=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(q):this.calculateColumnsDataLabelsPosition(q),L=this.drawCalculatedDataLabels({x:H.dataLabelsX,y:H.dataLabelsY,val:this.barCtx.isRangeBar?[c,h]:S.config.chart.stackType==="100%"?p[f][x]:S.globals.series[f][x],i:f,j:x,barWidth:y,barHeight:b,textRects:Q,dataLabelsConfig:z}),S.config.chart.stacked&&P.enabled&&(M=this.drawTotalDataLabels({x:H.totalDataLabelsX,y:H.totalDataLabelsY,barWidth:y,barHeight:b,realIndex:f,textAnchor:H.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:f,j:x}),dataLabelsConfig:z,barTotalDataLabelsConfig:P})),{dataLabelsPos:H,dataLabels:L,totalDataLabels:M}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,a=e.j,i=this.w,o=this.barCtx.stackedSeriesTotals[a];return this.totalFormatter&&(o=this.totalFormatter(o,be(be({},i),{},{seriesIndex:t,dataPointIndex:a,w:i}))),o}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,a=this.w,i=e.i,o=e.j,c=e.realIndex;e.columnGroupIndex;var h,u,x=e.y,f=e.bcx,m=e.barWidth,p=e.barHeight,b=e.textRects,y=e.dataLabelsX,w=e.dataLabelsY,k=e.dataLabelsConfig,C=e.barDataLabelsConfig,S=e.barTotalDataLabelsConfig,A=e.strokeWidth,T=e.offX,L=e.offY,M=f;p=Math.abs(p);var _=a.config.plotOptions.bar.dataLabels.orientation==="vertical",D=this.barCtx.barHelpers.getZeroValueEncounters({i,j:o}).zeroEncounters;f-=A/2;var H=a.globals.gridWidth/a.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?y+=m/2:(y=a.globals.isXNumeric?f-m/2+T:f-H+m/2+T,!a.config.chart.stacked&&D>0&&a.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y-=m*D)),_&&(y=y+b.height/2-A/2-2);var z=a.globals.series[i][o]<0,B=x;switch(this.barCtx.isReversed&&(B=x+(z?p:-p)),C.position){case"center":w=_?z?B-p/2+L:B+p/2-L:z?B-p/2+b.height/2+L:B+p/2+b.height/2-L;break;case"bottom":w=_?z?B-p+L:B+p-L:z?B-p+b.height+A+L:B+p-b.height/2+A-L;break;case"top":w=_?z?B+L:B-L:z?B-b.height/2-L:B+b.height+L}var P=B;if(a.globals.seriesGroups.forEach((function(Q){var F;(F=t.barCtx[Q.join(",")])===null||F===void 0||F.prevY.forEach((function(q){P=z?Math.max(q[o],P):Math.min(q[o],P)}))})),this.barCtx.lastActiveBarSerieIndex===c&&S.enabled){var W=new me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:c,j:o}),k.fontSize);h=z?P-W.height/2-L-S.offsetY+18:P+W.height+L+S.offsetY-18;var V=H;u=M+(a.globals.isXNumeric?-m*a.globals.barGroups.length/2:a.globals.barGroups.length*m/2-(a.globals.barGroups.length-1)*m-V)+S.offsetX}return a.config.chart.stacked||(w<0?w=0+A:w+b.height/3>a.globals.gridHeight&&(w=a.globals.gridHeight-A)),{bcx:f,bcy:x,dataLabelsX:y,dataLabelsY:w,totalDataLabelsX:u,totalDataLabelsY:h,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,a=this.w,i=e.x,o=e.i,c=e.j,h=e.realIndex,u=e.bcy,x=e.barHeight,f=e.barWidth,m=e.textRects,p=e.dataLabelsX,b=e.strokeWidth,y=e.dataLabelsConfig,w=e.barDataLabelsConfig,k=e.barTotalDataLabelsConfig,C=e.offX,S=e.offY,A=a.globals.gridHeight/a.globals.dataPoints,T=this.barCtx.barHelpers.getZeroValueEncounters({i:o,j:c}).zeroEncounters;f=Math.abs(f);var L,M,_=u-(this.barCtx.isRangeBar?0:A)+x/2+m.height/2+S-3;!a.config.chart.stacked&&T>0&&a.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(_-=x*T);var D="start",H=a.globals.series[o][c]<0,z=i;switch(this.barCtx.isReversed&&(z=i+(H?-f:f),D=H?"start":"end"),w.position){case"center":p=H?z+f/2-C:Math.max(m.width/2,z-f/2)+C;break;case"bottom":p=H?z+f-b-C:z-f+b+C;break;case"top":p=H?z-b-C:z-b+C}var B=z;if(a.globals.seriesGroups.forEach((function(W){var V;(V=t.barCtx[W.join(",")])===null||V===void 0||V.prevX.forEach((function(Q){B=H?Math.min(Q[c],B):Math.max(Q[c],B)}))})),this.barCtx.lastActiveBarSerieIndex===h&&k.enabled){var P=new me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:h,j:c}),y.fontSize);H?(L=B-b-C-k.offsetX,D="end"):L=B+C+k.offsetX+(this.barCtx.isReversed?-(f+b):b),M=_-m.height/2+P.height/2+k.offsetY+b,a.globals.barGroups.length>1&&(M-=a.globals.barGroups.length/2*(x/2))}return a.config.chart.stacked||(y.textAnchor==="start"?p-m.width<0?p=H?m.width+b:b:p+m.width>a.globals.gridWidth&&(p=H?a.globals.gridWidth-b:a.globals.gridWidth-m.width-b):y.textAnchor==="middle"?p-m.width/2<0?p=m.width/2+b:p+m.width/2>a.globals.gridWidth&&(p=a.globals.gridWidth-m.width/2-b):y.textAnchor==="end"&&(p<1?p=m.width+b:p+1>a.globals.gridWidth&&(p=a.globals.gridWidth-m.width-b))),{bcx:i,bcy:u,dataLabelsX:p,dataLabelsY:_,totalDataLabelsX:L,totalDataLabelsY:M,totalDataLabelsAnchor:D}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,a=e.y,i=e.val,o=e.i,c=e.j,h=e.textRects,u=e.barHeight,x=e.barWidth,f=e.dataLabelsConfig,m=this.w,p="rotate(0)";m.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(p="rotate(-90, ".concat(t,", ").concat(a,")"));var b=new ir(this.barCtx.ctx),y=new me(this.barCtx.ctx),w=f.formatter,k=null,C=m.globals.collapsedSeriesIndices.indexOf(o)>-1;if(f.enabled&&!C){k=y.group({class:"apexcharts-data-labels",transform:p});var S="";i!==void 0&&(S=w(i,be(be({},m),{},{seriesIndex:o,dataPointIndex:c,w:m}))),!i&&m.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(S="");var A=m.globals.series[o][c]<0,T=m.config.plotOptions.bar.dataLabels.position;m.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(T==="top"&&(f.textAnchor=A?"end":"start"),T==="center"&&(f.textAnchor="middle"),T==="bottom"&&(f.textAnchor=A?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&x<y.getTextRects(S,parseFloat(f.style.fontSize)).width&&(S=""),m.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?h.width/1.6>Math.abs(x)&&(S=""):h.height/1.6>Math.abs(u)&&(S=""));var L=be({},f);this.barCtx.isHorizontal&&i<0&&(f.textAnchor==="start"?L.textAnchor="end":f.textAnchor==="end"&&(L.textAnchor="start")),b.plotDataLabelsText({x:t,y:a,text:S,i:o,j:c,parent:k,dataLabelsConfig:L,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return k}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,a=e.y,i=e.val,o=e.realIndex,c=e.textAnchor,h=e.barTotalDataLabelsConfig;this.w;var u,x=new me(this.barCtx.ctx);return h.enabled&&t!==void 0&&a!==void 0&&this.barCtx.lastActiveBarSerieIndex===o&&(u=x.drawText({x:t,y:a,foreColor:h.style.color,text:i,textAnchor:c,fontFamily:h.style.fontFamily,fontSize:h.style.fontSize,fontWeight:h.style.fontWeight})),u}}]),r})(),n4=(function(){function r(e){ye(this,r),this.w=e.w,this.barCtx=e}return we(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var a=0;a<e.length;a++)if(e[a].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[a].length),t.globals.isXNumeric)for(var i=0;i<e[a].length;i++)t.globals.seriesX[a][i]>t.globals.minX&&t.globals.seriesX[a][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),J.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(o){return o.map((function(c){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,a,i,o,c,h,u,x,f=this.w,m=f.globals.dataPoints;this.barCtx.isRangeBar&&(m=f.globals.labels.length);var p=this.barCtx.seriesLen;if(f.config.plotOptions.bar.rangeBarGroupRows&&(p=1),this.barCtx.isHorizontal)c=(i=f.globals.gridHeight/m)/p,f.globals.isXNumeric&&(c=(i=f.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),c=c*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(c=parseInt(this.barCtx.barOptions.barHeight,10)),x=this.barCtx.baseLineInvertedY+f.globals.padHorizontal+(this.barCtx.isReversed?f.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(x=f.globals.gridWidth/2),a=(i-c*this.barCtx.seriesLen)/2;else{if(o=f.globals.gridWidth/this.barCtx.visibleItems,f.config.xaxis.convertedCatToNumeric&&(o=f.globals.gridWidth/f.globals.dataPoints),h=o/p*parseInt(this.barCtx.barOptions.columnWidth,10)/100,f.globals.isXNumeric){var b=this.barCtx.xRatio;f.globals.minXDiff&&f.globals.minXDiff!==.5&&f.globals.minXDiff/b>0&&(o=f.globals.minXDiff/b),(h=o/p*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(h=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.columnWidth,10)),u=f.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?f.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),f.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:h}).x:t=f.globals.padHorizontal+J.noExponents(o-h*this.barCtx.seriesLen)/2}return f.globals.barHeight=c,f.globals.barWidth=h,{x:t,y:a,yDivision:i,xDivision:o,barHeight:c,barWidth:h,zeroH:u,zeroW:x}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(e,t,a,i){var o,c,h,u,x=this.w,f=this.barCtx.ctx.fill,m=null,p=this.barCtx.barOptions.distributed?a:t,b=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(y){e[t][a]>=y.from&&e[t][a]<=y.to&&(m=y.color,b=!0)})),{color:f.fillPath({seriesNumber:this.barCtx.barOptions.distributed?p:i,dataPointIndex:a,color:m,value:e[t][a],fillConfig:(o=x.config.series[t].data[a])===null||o===void 0?void 0:o.fill,fillType:(c=x.config.series[t].data[a])!==null&&c!==void 0&&(h=c.fill)!==null&&h!==void 0&&h.type?(u=x.config.series[t].data[a])===null||u===void 0?void 0:u.fill.type:Array.isArray(x.config.fill.type)?x.config.fill.type[i]:x.config.fill.type}),useRangeColor:b}}},{key:"getStrokeWidth",value:function(e,t,a){var i=0,o=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||o.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,o.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[a]:this.barCtx.strokeWidth)),i}},{key:"createBorderRadiusArr",value:function(e){var t,a=this.w,i=!this.w.config.chart.stacked||a.config.plotOptions.bar.borderRadius<=0,o=e.length,c=0|((t=e[0])===null||t===void 0?void 0:t.length),h=Array.from({length:o},(function(){return Array(c).fill(i?"top":"none")}));if(i)return h;for(var u=0;u<c;u++){for(var x=[],f=[],m=0,p=0;p<o;p++){var b=e[p][u];b>0?(x.push(p),m++):b<0&&(f.push(p),m++)}if(x.length>0&&f.length===0)if(x.length===1)h[x[0]][u]="both";else{var y,w=x[0],k=x[x.length-1],C=ol(x);try{for(C.s();!(y=C.n()).done;){var S=y.value;h[S][u]=S===w?"bottom":S===k?"top":"none"}}catch(F){C.e(F)}finally{C.f()}}else if(f.length>0&&x.length===0)if(f.length===1)h[f[0]][u]="both";else{var A,T=Math.max.apply(Math,f),L=Math.min.apply(Math,f),M=ol(f);try{for(M.s();!(A=M.n()).done;){var _=A.value;h[_][u]=_===T?"bottom":_===L?"top":"none"}}catch(F){M.e(F)}finally{M.f()}}else if(x.length>0&&f.length>0){var D,H=x[x.length-1],z=ol(x);try{for(z.s();!(D=z.n()).done;){var B=D.value;h[B][u]=B===H?"top":"none"}}catch(F){z.e(F)}finally{z.f()}var P,W=Math.max.apply(Math,f),V=ol(f);try{for(V.s();!(P=V.n()).done;){var Q=P.value;h[Q][u]=Q===W?"bottom":"none"}}catch(F){V.e(F)}finally{V.f()}}else m===1&&(h[x[0]||f[0]][u]="both")}return h}},{key:"barBackground",value:function(e){var t=e.j,a=e.i,i=e.x1,o=e.x2,c=e.y1,h=e.y2,u=e.elSeries,x=this.w,f=new me(this.barCtx.ctx),m=new Ws(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&m===a){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var p=this.barCtx.barOptions.colors.backgroundBarColors[t],b=f.drawRect(i!==void 0?i:0,c!==void 0?c:0,o!==void 0?o:x.globals.gridWidth,h!==void 0?h:x.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,p,this.barCtx.barOptions.colors.backgroundBarOpacity);u.add(b),b.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,a=e.barWidth,i=e.barXPosition,o=e.y1,c=e.y2,h=e.strokeWidth,u=e.isReversed,x=e.series,f=e.seriesGroup,m=e.realIndex,p=e.i,b=e.j,y=e.w,w=new me(this.barCtx.ctx);(h=Array.isArray(h)?h[m]:h)||(h=0);var k=a,C=i;(t=y.config.series[m].data[b])!==null&&t!==void 0&&t.columnWidthOffset&&(C=i-y.config.series[m].data[b].columnWidthOffset/2,k=a+y.config.series[m].data[b].columnWidthOffset);var S=h/2,A=C+S,T=C+k-S,L=(x[p][b]>=0?1:-1)*(u?-1:1);o+=.001-S*L,c+=.001+S*L;var M=w.move(A,o),_=w.move(A,o),D=w.line(T,o);if(y.globals.previousPaths.length>0&&(_=this.barCtx.getPreviousPath(m,b,!1)),M=M+w.line(A,c)+w.line(T,c)+D+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),_=_+w.line(A,o)+D+D+D+D+D+w.line(A,o)+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),this.arrBorderRadius[m][b]!=="none"&&(M=w.roundPathCorners(M,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var H=this.barCtx;(H=this.barCtx[f]).yArrj.push(c-S*L),H.yArrjF.push(Math.abs(o-c+h*L)),H.yArrjVal.push(this.barCtx.series[p][b])}return{pathTo:M,pathFrom:_}}},{key:"getBarpaths",value:function(e){var t,a=e.barYPosition,i=e.barHeight,o=e.x1,c=e.x2,h=e.strokeWidth,u=e.isReversed,x=e.series,f=e.seriesGroup,m=e.realIndex,p=e.i,b=e.j,y=e.w,w=new me(this.barCtx.ctx);(h=Array.isArray(h)?h[m]:h)||(h=0);var k=a,C=i;(t=y.config.series[m].data[b])!==null&&t!==void 0&&t.barHeightOffset&&(k=a-y.config.series[m].data[b].barHeightOffset/2,C=i+y.config.series[m].data[b].barHeightOffset);var S=h/2,A=k+S,T=k+C-S,L=(x[p][b]>=0?1:-1)*(u?-1:1);o+=.001+S*L,c+=.001-S*L;var M=w.move(o,A),_=w.move(o,A);y.globals.previousPaths.length>0&&(_=this.barCtx.getPreviousPath(m,b,!1));var D=w.line(o,T);if(M=M+w.line(c,A)+w.line(c,T)+D+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),_=_+w.line(o,A)+D+D+D+D+D+w.line(o,A)+(y.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),this.arrBorderRadius[m][b]!=="none"&&(M=w.roundPathCorners(M,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var H=this.barCtx;(H=this.barCtx[f]).xArrj.push(c+S*L),H.xArrjF.push(Math.abs(o-c-h*L)),H.xArrjVal.push(this.barCtx.series[p][b])}return{pathTo:M,pathFrom:_}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,a=this.w,i=0;i<t.length;i++){for(var o=0,c=0;c<t[a.globals.maxValsInArrayIndex].length;c++)o+=t[i][c];o===0&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,t){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(a=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),a}},{key:"getYForValue",value:function(e,t,a){var i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(i=t-e/this.barCtx.yRatio[a]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[a]:0)),i}},{key:"getGoalValues",value:function(e,t,a,i,o,c){var h=this,u=this.w,x=[],f=function(b,y){var w;x.push((kc(w={},e,e==="x"?h.getXForValue(b,t,!1):h.getYForValue(b,a,c,!1)),kc(w,"attrs",y),w))};if(u.globals.seriesGoals[i]&&u.globals.seriesGoals[i][o]&&Array.isArray(u.globals.seriesGoals[i][o])&&u.globals.seriesGoals[i][o].forEach((function(b){f(b.value,b)})),this.barCtx.barOptions.isDumbbell&&u.globals.seriesRange.length){var m=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:u.globals.colors,p={strokeHeight:e==="x"?0:u.globals.markers.size[i],strokeWidth:e==="x"?u.globals.markers.size[i]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(m[i])?m[i][0]:m[i]};f(u.globals.seriesRangeStart[i][o],p),f(u.globals.seriesRangeEnd[i][o],be(be({},p),{},{strokeColor:Array.isArray(m[i])?m[i][1]:m[i]}))}return x}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,a=e.barYPosition,i=e.goalX,o=e.goalY,c=e.barWidth,h=e.barHeight,u=new me(this.barCtx.ctx),x=u.group({className:"apexcharts-bar-goals-groups"});x.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:x.node}),x.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var f=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach((function(m){if(m.x>=-1&&m.x<=u.w.globals.gridWidth+1){var p=m.attrs.strokeHeight!==void 0?m.attrs.strokeHeight:h/2,b=a+p+h/2;f=u.drawLine(m.x,b-2*p,m.x,b,m.attrs.strokeColor?m.attrs.strokeColor:void 0,m.attrs.strokeDashArray,m.attrs.strokeWidth?m.attrs.strokeWidth:2,m.attrs.strokeLineCap),x.add(f)}})):Array.isArray(o)&&o.forEach((function(m){if(m.y>=-1&&m.y<=u.w.globals.gridHeight+1){var p=m.attrs.strokeWidth!==void 0?m.attrs.strokeWidth:c/2,b=t+p+c/2;f=u.drawLine(b-2*p,m.y,b,m.y,m.attrs.strokeColor?m.attrs.strokeColor:void 0,m.attrs.strokeDashArray,m.attrs.strokeHeight?m.attrs.strokeHeight:2,m.attrs.strokeLineCap),x.add(f)}})),x}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,a=e.currPaths,i=e.color,o=this.w,c=t.x,h=t.x1,u=t.barYPosition,x=a.x,f=a.x1,m=a.barYPosition,p=u+a.barHeight,b=new me(this.barCtx.ctx),y=new J,w=b.move(h,p)+b.line(c,p)+b.line(x,m)+b.line(f,m)+b.line(h,p)+(o.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return b.drawPath({d:w,fill:y.shadeColor(.5,J.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,a=e.i,i=e.j,o=this.w,c=0,h=0;return(o.config.plotOptions.bar.horizontal?o.globals.series.map((function(u,x){return x})):((t=o.globals.columnSeries)===null||t===void 0?void 0:t.i.map((function(u){return u})))||[]).forEach((function(u){var x=o.globals.seriesPercent[u][i];x&&c++,u<a&&x===0&&h++})),{nonZeroColumns:c,zeroEncounters:h}}},{key:"getGroupIndex",value:function(e){var t=this.w,a=t.globals.seriesGroups.findIndex((function(c){return c.indexOf(t.globals.seriesNames[e])>-1})),i=this.barCtx.columnGroupIndices,o=i.indexOf(a);return o<0&&(i.push(a),o=i.length-1),{groupIndex:a,columnGroupIndex:o}}}]),r})(),nr=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w;var a=this.w;this.barOptions=a.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=a.config.stroke.width,this.isNullValue=!1,this.isRangeBar=a.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!a.globals.isBarHorizontal&&a.globals.seriesRange.length&&a.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var i=new Ws(this.ctx);this.lastActiveBarSerieIndex=i.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var o=i.getBarSeriesIndices(),c=new _t(this.ctx);this.stackedSeriesTotals=c.getStackedSeriesTotals(this.w.config.series.map((function(h,u){return o.indexOf(u)===-1?u:-1})).filter((function(h){return h!==-1}))),this.barHelpers=new n4(this)}return we(r,[{key:"draw",value:function(e,t){var a=this.w,i=new me(this.ctx),o=new _t(this.ctx,a);e=o.getLogSeries(e),this.series=e,this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var c=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});a.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var h=0,u=0;h<e.length;h++,u++){var x,f,m,p,b=void 0,y=void 0,w=[],k=[],C=a.globals.comboCharts?t[h]:h,S=this.barHelpers.getGroupIndex(C).columnGroupIndex,A=i.group({class:"apexcharts-series",rel:h+1,seriesName:J.escapeString(a.globals.seriesNames[C]),"data:realIndex":C});this.ctx.series.addCollapsedClassToSeries(A,C),e[h].length>0&&(this.visibleI=this.visibleI+1);var T=0,L=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[C],this.translationsIndex=C);var M=this.translationsIndex;this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed;var _=this.barHelpers.initialPositions(C);y=_.y,T=_.barHeight,f=_.yDivision,p=_.zeroW,b=_.x,L=_.barWidth,x=_.xDivision,m=_.zeroH,this.isHorizontal||k.push(b+L/2);var D=i.group({class:"apexcharts-datalabels","data:realIndex":C});a.globals.delayedElements.push({el:D.node}),D.node.classList.add("apexcharts-element-hidden");var H=i.group({class:"apexcharts-bar-goals-markers"}),z=i.group({class:"apexcharts-bar-shadows"});a.globals.delayedElements.push({el:z.node}),z.node.classList.add("apexcharts-element-hidden");for(var B=0;B<e[h].length;B++){var P=this.barHelpers.getStrokeWidth(h,B,C),W=null,V={indexes:{i:h,j:B,realIndex:C,translationsIndex:M,bc:u},x:b,y,strokeWidth:P,elSeries:A};this.isHorizontal?(W=this.drawBarPaths(be(be({},V),{},{barHeight:T,zeroW:p,yDivision:f})),L=this.series[h][B]/this.invertedYRatio):(W=this.drawColumnPaths(be(be({},V),{},{xDivision:x,barWidth:L,zeroH:m})),T=this.series[h][B]/this.yRatio[M]);var Q=this.barHelpers.getPathFillColor(e,h,B,C);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&B>0){var F,q=this.barHelpers.drawBarShadow({color:typeof Q.color=="string"&&((F=Q.color)===null||F===void 0?void 0:F.indexOf("url"))===-1?Q.color:J.hexToRgba(a.globals.colors[h]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:W});z.add(q),a.config.chart.dropShadow.enabled&&new Qt(this.ctx).dropShadow(q,a.config.chart.dropShadow,C)}this.pathArr.push(W);var I=this.barHelpers.drawGoalLine({barXPosition:W.barXPosition,barYPosition:W.barYPosition,goalX:W.goalX,goalY:W.goalY,barHeight:T,barWidth:L});I&&H.add(I),y=W.y,b=W.x,B>0&&k.push(b+L/2),w.push(y),this.renderSeries(be(be({realIndex:C,pathFill:Q.color},Q.useRangeColor?{lineFill:Q.color}:{}),{},{j:B,i:h,columnGroupIndex:S,pathFrom:W.pathFrom,pathTo:W.pathTo,strokeWidth:P,elSeries:A,x:b,y,series:e,barHeight:Math.abs(W.barHeight?W.barHeight:T),barWidth:Math.abs(W.barWidth?W.barWidth:L),elDataLabelsWrap:D,elGoalsMarkers:H,elBarShadows:z,visibleSeries:this.visibleI,type:"bar"}))}a.globals.seriesXvalues[C]=k,a.globals.seriesYvalues[C]=w,c.add(A)}return c}},{key:"renderSeries",value:function(e){var t=e.realIndex,a=e.pathFill,i=e.lineFill,o=e.j,c=e.i,h=e.columnGroupIndex,u=e.pathFrom,x=e.pathTo,f=e.strokeWidth,m=e.elSeries,p=e.x,b=e.y,y=e.y1,w=e.y2,k=e.series,C=e.barHeight,S=e.barWidth,A=e.barXPosition,T=e.barYPosition,L=e.elDataLabelsWrap,M=e.elGoalsMarkers,_=e.elBarShadows,D=e.visibleSeries,H=e.type,z=e.classes,B=this.w,P=new me(this.ctx),W=!1;if(!i){var V=typeof B.globals.stroke.colors[t]=="function"?(function(G){var Y,O=B.config.stroke.colors;return Array.isArray(O)&&O.length>0&&((Y=O[G])||(Y=""),typeof Y=="function")?Y({value:B.globals.series[G][o],dataPointIndex:o,w:B}):Y})(t):B.globals.stroke.colors[t];i=this.barOptions.distributed?B.globals.stroke.colors[o]:V}var Q=new i4(this).handleBarDataLabels({x:p,y:b,y1:y,y2:w,i:c,j:o,series:k,realIndex:t,columnGroupIndex:h,barHeight:C,barWidth:S,barXPosition:A,barYPosition:T,visibleSeries:D});B.globals.isBarHorizontal||(Q.dataLabelsPos.dataLabelsX+Math.max(S,B.globals.barPadForNumericAxis)<0||Q.dataLabelsPos.dataLabelsX-Math.max(S,B.globals.barPadForNumericAxis)>B.globals.gridWidth)&&(W=!0),B.config.series[c].data[o]&&B.config.series[c].data[o].strokeColor&&(i=B.config.series[c].data[o].strokeColor),this.isNullValue&&(a="none");var F=o/B.config.chart.animations.animateGradually.delay*(B.config.chart.animations.speed/B.globals.dataPoints)/2.4;if(!W){var q=P.renderPaths({i:c,j:o,realIndex:t,pathFrom:u,pathTo:x,stroke:i,strokeWidth:f,strokeLineCap:B.config.stroke.lineCap,fill:a,animationDelay:F,initialSpeed:B.config.chart.animations.speed,dataChangeSpeed:B.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(H,"-area ").concat(z),chartType:H});q.attr("clip-path","url(#gridRectBarMask".concat(B.globals.cuid,")"));var I=B.config.forecastDataPoints;I.count>0&&o>=B.globals.dataPoints-I.count&&(q.node.setAttribute("stroke-dasharray",I.dashArray),q.node.setAttribute("stroke-width",I.strokeWidth),q.node.setAttribute("fill-opacity",I.fillOpacity)),y!==void 0&&w!==void 0&&(q.attr("data-range-y1",y),q.attr("data-range-y2",w)),new Qt(this.ctx).setSelectionFilter(q,t,o),m.add(q),q.attr({cy:Q.dataLabelsPos.bcy,cx:Q.dataLabelsPos.bcx,j:o,val:B.globals.series[c][o],barHeight:C,barWidth:S}),Q.dataLabels!==null&&L.add(Q.dataLabels),Q.totalDataLabels&&L.add(Q.totalDataLabels),m.add(L),M&&m.add(M),_&&m.add(_)}return m}},{key:"drawBarPaths",value:function(e){var t,a=e.indexes,i=e.barHeight,o=e.strokeWidth,c=e.zeroW,h=e.x,u=e.y,x=e.yDivision,f=e.elSeries,m=this.w,p=a.i,b=a.j;if(m.globals.isXNumeric)t=(u=(m.globals.seriesX[p][b]-m.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(m.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:p,j:b}),w=y.nonZeroColumns,k=y.zeroEncounters;w>0&&(i=this.seriesLen*i/w),t=u+i*this.visibleI,t-=i*k}else t=u+i*this.visibleI;this.isFunnel&&(c-=(this.barHelpers.getXForValue(this.series[p][b],c)-c)/2),h=this.barHelpers.getXForValue(this.series[p][b],c);var C=this.barHelpers.getBarpaths({barYPosition:t,barHeight:i,x1:c,x2:h,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:a.realIndex,i:p,j:b,w:m});return m.globals.isXNumeric||(u+=x),this.barHelpers.barBackground({j:b,i:p,y1:t-i*this.visibleI,y2:i*this.seriesLen,elSeries:f}),{pathTo:C.pathTo,pathFrom:C.pathFrom,x1:c,x:h,y:u,goalX:this.barHelpers.getGoalValues("x",c,null,p,b),barYPosition:t,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var t,a=e.indexes,i=e.x,o=e.y,c=e.xDivision,h=e.barWidth,u=e.zeroH,x=e.strokeWidth,f=e.elSeries,m=this.w,p=a.realIndex,b=a.translationsIndex,y=a.i,w=a.j,k=a.bc;if(m.globals.isXNumeric){var C=this.getBarXForNumericXAxis({x:i,j:w,realIndex:p,barWidth:h});i=C.x,t=C.barXPosition}else if(m.config.plotOptions.bar.hideZeroBarsWhenGrouped){var S=this.barHelpers.getZeroValueEncounters({i:y,j:w}),A=S.nonZeroColumns,T=S.zeroEncounters;A>0&&(h=this.seriesLen*h/A),t=i+h*this.visibleI,t-=h*T}else t=i+h*this.visibleI;o=this.barHelpers.getYForValue(this.series[y][w],u,b);var L=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:h,y1:u,y2:o,strokeWidth:x,isReversed:this.isReversed,series:this.series,realIndex:p,i:y,j:w,w:m});return m.globals.isXNumeric||(i+=c),this.barHelpers.barBackground({bc:k,j:w,i:y,x1:t-x/2-h*this.visibleI,x2:h*this.seriesLen+x/2,elSeries:f}),{pathTo:L.pathTo,pathFrom:L.pathFrom,x:i,y:o,goalY:this.barHelpers.getGoalValues("y",null,u,y,w,b),barXPosition:t,barWidth:h}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,a=e.barWidth,i=e.realIndex,o=e.j,c=this.w,h=i;return c.globals.seriesX[i].length||(h=c.globals.maxValsInArrayIndex),J.isNumber(c.globals.seriesX[h][o])&&(t=(c.globals.seriesX[h][o]-c.globals.minX)/this.xRatio-a*this.seriesLen/2),{barXPosition:t+a*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var a=this.w,i="M 0 0",o=0;o<a.globals.previousPaths.length;o++){var c=a.globals.previousPaths[o];c.paths&&c.paths.length>0&&parseInt(c.realIndex,10)===parseInt(e,10)&&a.globals.previousPaths[o].paths[t]!==void 0&&(i=a.globals.previousPaths[o].paths[t].d)}return i}}]),r})(),ab=(function(r){Ll(t,nr);var e=Ml(t);function t(){return ye(this,t),e.apply(this,arguments)}return we(t,[{key:"draw",value:function(a,i){var o=this,c=this.w;this.graphics=new me(this.ctx),this.bar=new nr(this.ctx,this.xyRatios);var h=new _t(this.ctx,c);a=h.getLogSeries(a),this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a),c.config.chart.stackType==="100%"&&(a=c.globals.comboCharts?i.map((function(y){return c.globals.seriesPercent[y]})):c.globals.seriesPercent.slice()),this.series=a,this.barHelpers.initializeStackedPrevVars(this);for(var u=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),x=0,f=0,m=function(y,w){var k=void 0,C=void 0,S=void 0,A=void 0,T=c.globals.comboCharts?i[y]:y,L=o.barHelpers.getGroupIndex(T),M=L.groupIndex,_=L.columnGroupIndex;o.groupCtx=o[c.globals.seriesGroups[M]];var D=[],H=[],z=0;o.yRatio.length>1&&(o.yaxisIndex=c.globals.seriesYAxisReverseMap[T][0],z=T),o.isReversed=c.config.yaxis[o.yaxisIndex]&&c.config.yaxis[o.yaxisIndex].reversed;var B=o.graphics.group({class:"apexcharts-series",seriesName:J.escapeString(c.globals.seriesNames[T]),rel:y+1,"data:realIndex":T});o.ctx.series.addCollapsedClassToSeries(B,T);var P=o.graphics.group({class:"apexcharts-datalabels","data:realIndex":T}),W=o.graphics.group({class:"apexcharts-bar-goals-markers"}),V=0,Q=0,F=o.initialPositions(x,f,k,C,S,A,z);f=F.y,V=F.barHeight,C=F.yDivision,A=F.zeroW,x=F.x,Q=F.barWidth,k=F.xDivision,S=F.zeroH,c.globals.barHeight=V,c.globals.barWidth=Q,o.barHelpers.initializeStackedXYVars(o),o.groupCtx.prevY.length===1&&o.groupCtx.prevY[0].every((function(ue){return isNaN(ue)}))&&(o.groupCtx.prevY[0]=o.groupCtx.prevY[0].map((function(){return S})),o.groupCtx.prevYF[0]=o.groupCtx.prevYF[0].map((function(){return 0})));for(var q=0;q<c.globals.dataPoints;q++){var I=o.barHelpers.getStrokeWidth(y,q,T),G={indexes:{i:y,j:q,realIndex:T,translationsIndex:z,bc:w},strokeWidth:I,x,y:f,elSeries:B,columnGroupIndex:_,seriesGroup:c.globals.seriesGroups[M]},Y=null;o.isHorizontal?(Y=o.drawStackedBarPaths(be(be({},G),{},{zeroW:A,barHeight:V,yDivision:C})),Q=o.series[y][q]/o.invertedYRatio):(Y=o.drawStackedColumnPaths(be(be({},G),{},{xDivision:k,barWidth:Q,zeroH:S})),V=o.series[y][q]/o.yRatio[z]);var O=o.barHelpers.drawGoalLine({barXPosition:Y.barXPosition,barYPosition:Y.barYPosition,goalX:Y.goalX,goalY:Y.goalY,barHeight:V,barWidth:Q});O&&W.add(O),f=Y.y,x=Y.x,D.push(x),H.push(f);var U=o.barHelpers.getPathFillColor(a,y,q,T),ne="",K=c.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(o.barHelpers.arrBorderRadius[T][q]==="bottom"&&c.globals.series[T][q]>0||o.barHelpers.arrBorderRadius[T][q]==="top"&&c.globals.series[T][q]<0)&&(ne=K),B=o.renderSeries(be(be({realIndex:T,pathFill:U.color},U.useRangeColor?{lineFill:U.color}:{}),{},{j:q,i:y,columnGroupIndex:_,pathFrom:Y.pathFrom,pathTo:Y.pathTo,strokeWidth:I,elSeries:B,x,y:f,series:a,barHeight:V,barWidth:Q,elDataLabelsWrap:P,elGoalsMarkers:W,type:"bar",visibleSeries:_,classes:ne}))}c.globals.seriesXvalues[T]=D,c.globals.seriesYvalues[T]=H,o.groupCtx.prevY.push(o.groupCtx.yArrj),o.groupCtx.prevYF.push(o.groupCtx.yArrjF),o.groupCtx.prevYVal.push(o.groupCtx.yArrjVal),o.groupCtx.prevX.push(o.groupCtx.xArrj),o.groupCtx.prevXF.push(o.groupCtx.xArrjF),o.groupCtx.prevXVal.push(o.groupCtx.xArrjVal),u.add(B)},p=0,b=0;p<a.length;p++,b++)m(p,b);return u}},{key:"initialPositions",value:function(a,i,o,c,h,u,x){var f,m,p=this.w;if(this.isHorizontal){c=p.globals.gridHeight/p.globals.dataPoints;var b=p.config.plotOptions.bar.barHeight;f=String(b).indexOf("%")===-1?parseInt(b,10):c*parseInt(b,10)/100,u=p.globals.padHorizontal+(this.isReversed?p.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),i=(c-f)/2}else{m=o=p.globals.gridWidth/p.globals.dataPoints;var y=p.config.plotOptions.bar.columnWidth;p.globals.isXNumeric&&p.globals.dataPoints>1?m=(o=p.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(y).indexOf("%")===-1?m=parseInt(y,10):m*=parseInt(y,10)/100,h=this.isReversed?this.baseLineY[x]:p.globals.gridHeight-this.baseLineY[x],a=p.globals.padHorizontal+(o-m)/2}var w=p.globals.barGroups.length||1;return{x:a,y:i,yDivision:c,xDivision:o,barHeight:f/w,barWidth:m/w,zeroH:h,zeroW:u}}},{key:"drawStackedBarPaths",value:function(a){for(var i,o=a.indexes,c=a.barHeight,h=a.strokeWidth,u=a.zeroW,x=a.x,f=a.y,m=a.columnGroupIndex,p=a.seriesGroup,b=a.yDivision,y=a.elSeries,w=this.w,k=f+m*c,C=o.i,S=o.j,A=o.realIndex,T=o.translationsIndex,L=0,M=0;M<this.groupCtx.prevXF.length;M++)L+=this.groupCtx.prevXF[M][S];var _=C;if(w.config.series[A].name&&(_=p.indexOf(w.config.series[A].name)),_>0){var D=u;this.groupCtx.prevXVal[_-1][S]<0?D=this.series[C][S]>=0?this.groupCtx.prevX[_-1][S]+L-2*(this.isReversed?L:0):this.groupCtx.prevX[_-1][S]:this.groupCtx.prevXVal[_-1][S]>=0&&(D=this.series[C][S]>=0?this.groupCtx.prevX[_-1][S]:this.groupCtx.prevX[_-1][S]-L+2*(this.isReversed?L:0)),i=D}else i=u;x=this.series[C][S]===null?i:i+this.series[C][S]/this.invertedYRatio-2*(this.isReversed?this.series[C][S]/this.invertedYRatio:0);var H=this.barHelpers.getBarpaths({barYPosition:k,barHeight:c,x1:i,x2:x,strokeWidth:h,isReversed:this.isReversed,series:this.series,realIndex:o.realIndex,seriesGroup:p,i:C,j:S,w});return this.barHelpers.barBackground({j:S,i:C,y1:k,y2:c,elSeries:y}),f+=b,{pathTo:H.pathTo,pathFrom:H.pathFrom,goalX:this.barHelpers.getGoalValues("x",u,null,C,S,T),barXPosition:i,barYPosition:k,x,y:f}}},{key:"drawStackedColumnPaths",value:function(a){var i=a.indexes,o=a.x,c=a.y,h=a.xDivision,u=a.barWidth,x=a.zeroH,f=a.columnGroupIndex,m=a.seriesGroup,p=a.elSeries,b=this.w,y=i.i,w=i.j,k=i.bc,C=i.realIndex,S=i.translationsIndex;if(b.globals.isXNumeric){var A=b.globals.seriesX[C][w];A||(A=0),o=(A-b.globals.minX)/this.xRatio-u/2*b.globals.barGroups.length}for(var T,L=o+f*u,M=0,_=0;_<this.groupCtx.prevYF.length;_++)M+=isNaN(this.groupCtx.prevYF[_][w])?0:this.groupCtx.prevYF[_][w];var D=y;if(m&&(D=m.indexOf(b.globals.seriesNames[C])),D>0&&!b.globals.isXNumeric||D>0&&b.globals.isXNumeric&&b.globals.seriesX[C-1][w]===b.globals.seriesX[C][w]){var H,z,B,P=Math.min(this.yRatio.length+1,C+1);if(this.groupCtx.prevY[D-1]!==void 0&&this.groupCtx.prevY[D-1].length)for(var W=1;W<P;W++){var V;if(!isNaN((V=this.groupCtx.prevY[D-W])===null||V===void 0?void 0:V[w])){B=this.groupCtx.prevY[D-W][w];break}}for(var Q=1;Q<P;Q++){var F,q;if(((F=this.groupCtx.prevYVal[D-Q])===null||F===void 0?void 0:F[w])<0){z=this.series[y][w]>=0?B-M+2*(this.isReversed?M:0):B;break}if(((q=this.groupCtx.prevYVal[D-Q])===null||q===void 0?void 0:q[w])>=0){z=this.series[y][w]>=0?B:B+M-2*(this.isReversed?M:0);break}}z===void 0&&(z=b.globals.gridHeight),T=(H=this.groupCtx.prevYF[0])!==null&&H!==void 0&&H.every((function(G){return G===0}))&&this.groupCtx.prevYF.slice(1,D).every((function(G){return G.every((function(Y){return isNaN(Y)}))}))?x:z}else T=x;c=this.series[y][w]?T-this.series[y][w]/this.yRatio[S]+2*(this.isReversed?this.series[y][w]/this.yRatio[S]:0):T;var I=this.barHelpers.getColumnPaths({barXPosition:L,barWidth:u,y1:T,y2:c,yRatio:this.yRatio[S],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:m,realIndex:i.realIndex,i:y,j:w,w:b});return this.barHelpers.barBackground({bc:k,j:w,i:y,x1:L,x2:u,elSeries:p}),{pathTo:I.pathTo,pathFrom:I.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,x,y,w),barXPosition:L,x:b.globals.isXNumeric?o:o+h,y:c}}}]),t})(),Ou=(function(r){Ll(t,nr);var e=Ml(t);function t(){return ye(this,t),e.apply(this,arguments)}return we(t,[{key:"draw",value:function(a,i,o){var c=this,h=this.w,u=new me(this.ctx),x=h.globals.comboCharts?i:h.config.chart.type,f=new Js(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=h.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var m=new _t(this.ctx,h);a=m.getLogSeries(a),this.series=a,this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(a);for(var p=u.group({class:"apexcharts-".concat(x,"-series apexcharts-plot-series")}),b=function(w){c.isBoxPlot=h.config.chart.type==="boxPlot"||h.config.series[w].type==="boxPlot";var k,C,S,A,T=void 0,L=void 0,M=[],_=[],D=h.globals.comboCharts?o[w]:w,H=c.barHelpers.getGroupIndex(D).columnGroupIndex,z=u.group({class:"apexcharts-series",seriesName:J.escapeString(h.globals.seriesNames[D]),rel:w+1,"data:realIndex":D});c.ctx.series.addCollapsedClassToSeries(z,D),a[w].length>0&&(c.visibleI=c.visibleI+1);var B,P,W=0;c.yRatio.length>1&&(c.yaxisIndex=h.globals.seriesYAxisReverseMap[D][0],W=D);var V=c.barHelpers.initialPositions(D);L=V.y,B=V.barHeight,C=V.yDivision,A=V.zeroW,T=V.x,P=V.barWidth,k=V.xDivision,S=V.zeroH,_.push(T+P/2);for(var Q=u.group({class:"apexcharts-datalabels","data:realIndex":D}),F=u.group({class:"apexcharts-bar-goals-markers"}),q=function(G){var Y=c.barHelpers.getStrokeWidth(w,G,D),O=null,U={indexes:{i:w,j:G,realIndex:D,translationsIndex:W},x:T,y:L,strokeWidth:Y,elSeries:z};O=c.isHorizontal?c.drawHorizontalBoxPaths(be(be({},U),{},{yDivision:C,barHeight:B,zeroW:A})):c.drawVerticalBoxPaths(be(be({},U),{},{xDivision:k,barWidth:P,zeroH:S})),L=O.y,T=O.x;var ne=c.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:B,barWidth:P});ne&&F.add(ne),G>0&&_.push(T+P/2),M.push(L),O.pathTo.forEach((function(K,ue){var ie=!c.isBoxPlot&&c.candlestickOptions.wick.useFillColor?O.color[ue]:h.globals.stroke.colors[w],te=f.fillPath({seriesNumber:D,dataPointIndex:G,color:O.color[ue],value:a[w][G]});c.renderSeries({realIndex:D,pathFill:te,lineFill:ie,j:G,i:w,pathFrom:O.pathFrom,pathTo:K,strokeWidth:Y,elSeries:z,x:T,y:L,series:a,columnGroupIndex:H,barHeight:B,barWidth:P,elDataLabelsWrap:Q,elGoalsMarkers:F,visibleSeries:c.visibleI,type:h.config.chart.type})}))},I=0;I<h.globals.dataPoints;I++)q(I);h.globals.seriesXvalues[D]=_,h.globals.seriesYvalues[D]=M,p.add(z)},y=0;y<a.length;y++)b(y);return p}},{key:"drawVerticalBoxPaths",value:function(a){var i=a.indexes,o=a.x;a.y;var c=a.xDivision,h=a.barWidth,u=a.zeroH,x=a.strokeWidth,f=this.w,m=new me(this.ctx),p=i.i,b=i.j,y=f.config.plotOptions.candlestick.colors,w=this.boxOptions.colors,k=i.realIndex,C=function(I){return Array.isArray(I)?I[k]:I},S=C(y.upward),A=C(y.downward),T=this.yRatio[i.translationsIndex],L=this.getOHLCValue(k,b),M=u,_=u,D=L.o<L.c?[S]:[A];this.isBoxPlot&&(D=[C(w.lower),C(w.upper)]);var H=Math.min(L.o,L.c),z=Math.max(L.o,L.c),B=L.m;f.globals.isXNumeric&&(o=(f.globals.seriesX[k][b]-f.globals.minX)/this.xRatio-h/2);var P=o+h*this.visibleI;this.series[p][b]===void 0||this.series[p][b]===null?(H=u,z=u):(H=u-H/T,z=u-z/T,M=u-L.h/T,_=u-L.l/T,B=u-L.m/T);var W=m.move(P,u),V=m.move(P+h/2,H);if(f.globals.previousPaths.length>0&&(V=this.getPreviousPath(k,b,!0)),this.isOHLC){var Q=P+h/2,F=u-L.o/T,q=u-L.c/T;W=[m.move(Q,M)+m.line(Q,_)+m.move(Q,F)+m.line(P,F)+m.move(Q,q)+m.line(P+h,q)]}else W=this.isBoxPlot?[m.move(P,H)+m.line(P+h/2,H)+m.line(P+h/2,M)+m.line(P+h/4,M)+m.line(P+h-h/4,M)+m.line(P+h/2,M)+m.line(P+h/2,H)+m.line(P+h,H)+m.line(P+h,B)+m.line(P,B)+m.line(P,H+x/2),m.move(P,B)+m.line(P+h,B)+m.line(P+h,z)+m.line(P+h/2,z)+m.line(P+h/2,_)+m.line(P+h-h/4,_)+m.line(P+h/4,_)+m.line(P+h/2,_)+m.line(P+h/2,z)+m.line(P,z)+m.line(P,B)+"z"]:[m.move(P,z)+m.line(P+h/2,z)+m.line(P+h/2,M)+m.line(P+h/2,z)+m.line(P+h,z)+m.line(P+h,H)+m.line(P+h/2,H)+m.line(P+h/2,_)+m.line(P+h/2,H)+m.line(P,H)+m.line(P,z-x/2)];return V+=m.move(P,H),f.globals.isXNumeric||(o+=c),{pathTo:W,pathFrom:V,x:o,y:z,goalY:this.barHelpers.getGoalValues("y",null,u,p,b,i.translationsIndex),barXPosition:P,color:D}}},{key:"drawHorizontalBoxPaths",value:function(a){var i=a.indexes;a.x;var o=a.y,c=a.yDivision,h=a.barHeight,u=a.zeroW,x=a.strokeWidth,f=this.w,m=new me(this.ctx),p=i.i,b=i.j,y=this.boxOptions.colors.lower;this.isBoxPlot&&(y=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var w=this.invertedYRatio,k=i.realIndex,C=this.getOHLCValue(k,b),S=u,A=u,T=Math.min(C.o,C.c),L=Math.max(C.o,C.c),M=C.m;f.globals.isXNumeric&&(o=(f.globals.seriesX[k][b]-f.globals.minX)/this.invertedXRatio-h/2);var _=o+h*this.visibleI;this.series[p][b]===void 0||this.series[p][b]===null?(T=u,L=u):(T=u+T/w,L=u+L/w,S=u+C.h/w,A=u+C.l/w,M=u+C.m/w);var D=m.move(u,_),H=m.move(T,_+h/2);return f.globals.previousPaths.length>0&&(H=this.getPreviousPath(k,b,!0)),D=[m.move(T,_)+m.line(T,_+h/2)+m.line(S,_+h/2)+m.line(S,_+h/2-h/4)+m.line(S,_+h/2+h/4)+m.line(S,_+h/2)+m.line(T,_+h/2)+m.line(T,_+h)+m.line(M,_+h)+m.line(M,_)+m.line(T+x/2,_),m.move(M,_)+m.line(M,_+h)+m.line(L,_+h)+m.line(L,_+h/2)+m.line(A,_+h/2)+m.line(A,_+h-h/4)+m.line(A,_+h/4)+m.line(A,_+h/2)+m.line(L,_+h/2)+m.line(L,_)+m.line(M,_)+"z"],H+=m.move(T,_),f.globals.isXNumeric||(o+=c),{pathTo:D,pathFrom:H,x:L,y:o,goalX:this.barHelpers.getGoalValues("x",u,null,p,b),barYPosition:_,color:y}}},{key:"getOHLCValue",value:function(a,i){var o=this.w,c=new _t(this.ctx,o),h=c.getLogValAtSeriesIndex(o.globals.seriesCandleH[a][i],a),u=c.getLogValAtSeriesIndex(o.globals.seriesCandleO[a][i],a),x=c.getLogValAtSeriesIndex(o.globals.seriesCandleM[a][i],a),f=c.getLogValAtSeriesIndex(o.globals.seriesCandleC[a][i],a),m=c.getLogValAtSeriesIndex(o.globals.seriesCandleL[a][i],a);return{o:this.isBoxPlot?h:u,h:this.isBoxPlot?u:h,m:x,l:this.isBoxPlot?f:m,c:this.isBoxPlot?m:f}}}]),t})(),ly=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,a=e.config.plotOptions[e.config.chart.type];return a.colorScale.ranges.length>0&&a.colorScale.ranges.map((function(i,o){i.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,a,i){var o=this.w,c=1,h=o.config.plotOptions[e].shadeIntensity,u=this.determineColor(e,t,a);o.globals.hasNegs||i?c=o.config.plotOptions[e].reverseNegativeShade?u.percent<0?u.percent/100*(1.25*h):(1-u.percent/100)*(1.25*h):u.percent<=0?1-(1+u.percent/100)*h:(1-u.percent/100)*h:(c=1-u.percent/100,e==="treemap"&&(c=(1-u.percent/100)*(1.25*h)));var x=u.color,f=new J;if(o.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var m=f.shadeColor(-1*c,u.color);x=J.hexToRgba(J.isColorHex(m)?m:J.rgb2hex(m),o.config.fill.opacity)}else{var p=f.shadeColor(c,u.color);x=J.hexToRgba(J.isColorHex(p)?p:J.rgb2hex(p),o.config.fill.opacity)}return{color:x,colorProps:u}}},{key:"determineColor",value:function(e,t,a){var i=this.w,o=i.globals.series[t][a],c=i.config.plotOptions[e],h=c.colorScale.inverse?a:t;c.distributed&&i.config.chart.type==="treemap"&&(h=a);var u=i.globals.colors[h],x=null,f=Math.min.apply(Math,Xt(i.globals.series[t])),m=Math.max.apply(Math,Xt(i.globals.series[t]));c.distributed||e!=="heatmap"||(f=i.globals.minY,m=i.globals.maxY),c.colorScale.min!==void 0&&(f=c.colorScale.min<i.globals.minY?c.colorScale.min:i.globals.minY,m=c.colorScale.max>i.globals.maxY?c.colorScale.max:i.globals.maxY);var p=Math.abs(m)+Math.abs(f),b=100*o/(p===0?p-1e-6:p);return c.colorScale.ranges.length>0&&c.colorScale.ranges.map((function(y,w){if(o>=y.from&&o<=y.to){u=y.color,x=y.foreColor?y.foreColor:null,f=y.from,m=y.to;var k=Math.abs(m)+Math.abs(f);b=100*o/(k===0?k-1e-6:k)}})),{color:u,foreColor:x,percent:b}}},{key:"calculateDataLabels",value:function(e){var t=e.text,a=e.x,i=e.y,o=e.i,c=e.j,h=e.colorProps,u=e.fontSize,x=this.w.config.dataLabels,f=new me(this.ctx),m=new ir(this.ctx),p=null;if(x.enabled){p=f.group({class:"apexcharts-data-labels"});var b=x.offsetX,y=x.offsetY,w=a+b,k=i+parseFloat(x.style.fontSize)/3+y;m.plotDataLabelsText({x:w,y:k,text:t,i:o,j:c,color:h.foreColor,parent:p,fontSize:u,dataLabelsConfig:x})}return p}},{key:"addListeners",value:function(e){var t=new me(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r})(),r4=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ly(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return we(r,[{key:"draw",value:function(e){var t=this.w,a=new me(this.ctx),i=a.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var o=t.globals.gridWidth/t.globals.dataPoints,c=t.globals.gridHeight/t.globals.series.length,h=0,u=!1;this.negRange=this.helpers.checkColorRange();var x=e.slice();t.config.yaxis[0].reversed&&(u=!0,x.reverse());for(var f=u?0:x.length-1;u?f<x.length:f>=0;u?f++:f--){var m=a.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:J.escapeString(t.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});if(this.ctx.series.addCollapsedClassToSeries(m,f),t.config.chart.dropShadow.enabled){var p=t.config.chart.dropShadow;new Qt(this.ctx).dropShadow(m,p,f)}for(var b=0,y=t.config.plotOptions.heatmap.shadeIntensity,w=0,k=0;k<t.globals.dataPoints;k++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*k<t.globals.seriesX[f][w])b+=o;else{if(w>=x[f].length)break;var C=this.helpers.getShadeColor(t.config.chart.type,f,w,this.negRange),S=C.color,A=C.colorProps;t.config.fill.type==="image"&&(S=new Js(this.ctx).fillPath({seriesNumber:f,dataPointIndex:w,opacity:t.globals.hasNegs?A.percent<0?1-(1+A.percent/100):y+A.percent/100:A.percent/100,patternID:J.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:o,height:t.config.fill.image.height?t.config.fill.image.height:c}));var T=this.rectRadius,L=a.drawRect(b,h,o,c,T);if(L.attr({cx:b,cy:h}),L.node.classList.add("apexcharts-heatmap-rect"),m.add(L),L.attr({fill:S,i:f,index:f,j:w,val:e[f][w],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?S:t.globals.stroke.colors[0],color:S}),this.helpers.addListeners(L),t.config.chart.animations.enabled&&!t.globals.dataChanged){var M=1;t.globals.resized||(M=t.config.chart.animations.speed),this.animateHeatMap(L,b,h,o,c,M)}if(t.globals.dataChanged){var _=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){_=this.dynamicAnim.speed;var D=t.globals.previousPaths[f]&&t.globals.previousPaths[f][w]&&t.globals.previousPaths[f][w].color;D||(D="rgba(255, 255, 255, 0)"),this.animateHeatColor(L,J.isColorHex(D)?D:J.rgb2hex(D),J.isColorHex(S)?S:J.rgb2hex(S),_)}}var H=(0,t.config.dataLabels.formatter)(t.globals.series[f][w],{value:t.globals.series[f][w],seriesIndex:f,dataPointIndex:w,w:t}),z=this.helpers.calculateDataLabels({text:H,x:b+o/2,y:h+c/2,i:f,j:w,colorProps:A,series:x});z!==null&&m.add(z),b+=o,w++}h+=c,i.add(m)}var B=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?B.unshift(""):B.push(""),t.globals.yAxisScale[0].result=B,i}},{key:"animateHeatMap",value:function(e,t,a,i,o,c){var h=new cr(this.ctx);h.animateRect(e,{x:t+i/2,y:a+o/2,width:0,height:0},{x:t,y:a,width:i,height:o},c,(function(){h.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,a,i){e.attr({fill:t}).animate(i).attr({fill:a})}}]),r})(),oy=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"drawYAxisTexts",value:function(e,t,a,i){var o=this.w,c=o.config.yaxis[0],h=o.globals.yLabelFormatters[0];return new me(this.ctx).drawText({x:e+c.labels.offsetX,y:t+c.labels.offsetY,text:h(i,a),textAnchor:"middle",fontSize:c.labels.style.fontSize,fontFamily:c.labels.style.fontFamily,foreColor:Array.isArray(c.labels.style.colors)?c.labels.style.colors[a]:c.labels.style.colors})}}]),r})(),cy=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var a=t.config.plotOptions.pie.customScale,i=t.globals.gridWidth/2,o=t.globals.gridHeight/2;this.translateX=i-i*a,this.translateY=o-o*a,this.dataLabelsGroup=new me(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(a,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return we(r,[{key:"draw",value:function(e){var t=this,a=this.w,i=new me(this.ctx),o=i.group({class:"apexcharts-pie"});if(a.globals.noData)return o;for(var c=0,h=0;h<e.length;h++)c+=J.negToZero(e[h]);var u=[],x=i.group();c===0&&(c=1e-5),e.forEach((function(A){t.maxY=Math.max(t.maxY,A)})),a.config.yaxis[0].max&&(this.maxY=a.config.yaxis[0].max),a.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(o);for(var f=0;f<e.length;f++){var m=this.fullAngle*J.negToZero(e[f])/c;u.push(m),this.chartType==="polarArea"?(u[f]=this.fullAngle/e.length,this.sliceSizes.push(a.globals.radialSize*e[f]/this.maxY)):this.sliceSizes.push(a.globals.radialSize)}if(a.globals.dataChanged){for(var p,b=0,y=0;y<a.globals.previousPaths.length;y++)b+=J.negToZero(a.globals.previousPaths[y]);for(var w=0;w<a.globals.previousPaths.length;w++)p=this.fullAngle*J.negToZero(a.globals.previousPaths[w])/b,this.prevSectorAngleArr.push(p)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var k=i.drawCircle(this.donutSize);k.attr({cx:this.centerX,cy:this.centerY,fill:a.config.plotOptions.pie.donut.background?a.config.plotOptions.pie.donut.background:"transparent"}),x.add(k)}var C=this.drawArcs(u,e);if(this.sliceLabels.forEach((function(A){C.add(A)})),x.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(a.config.plotOptions.pie.customScale,")")}),x.add(C),o.add(x),this.donutDataLabels.show){var S=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});o.add(S)}return a.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(o),o}},{key:"drawArcs",value:function(e,t){var a=this.w,i=new Qt(this.ctx),o=new me(this.ctx),c=new Js(this.ctx),h=o.group({class:"apexcharts-slices"}),u=this.initialAngle,x=this.initialAngle,f=this.initialAngle,m=this.initialAngle;this.strokeWidth=a.config.stroke.show?a.config.stroke.width:0;for(var p=0;p<e.length;p++){var b=o.group({class:"apexcharts-series apexcharts-pie-series",seriesName:J.escapeString(a.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});h.add(b),x=m,f=(u=f)+e[p],m=x+this.prevSectorAngleArr[p];var y=f<u?this.fullAngle+f-u:f-u,w=c.fillPath({seriesNumber:p,size:this.sliceSizes[p],value:t[p]}),k=this.getChangedPath(x,m),C=o.drawPath({d:k,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[p]:this.lineColorArr,strokeWidth:0,fill:w,fillOpacity:a.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(p)});if(C.attr({index:0,j:p}),i.setSelectionFilter(C,0,p),a.config.chart.dropShadow.enabled){var S=a.config.chart.dropShadow;i.dropShadow(C,S,p)}this.addListeners(C,this.donutDataLabels),me.setAttrs(C.node,{"data:angle":y,"data:startAngle":u,"data:strokeWidth":this.strokeWidth,"data:value":t[p]});var A={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?A=J.polarToCartesian(this.centerX,this.centerY,a.globals.radialSize/1.25+a.config.plotOptions.pie.dataLabels.offset,(u+y/2)%this.fullAngle):this.chartType==="donut"&&(A=J.polarToCartesian(this.centerX,this.centerY,(a.globals.radialSize+this.donutSize)/2+a.config.plotOptions.pie.dataLabels.offset,(u+y/2)%this.fullAngle)),b.add(C);var T=0;if(!this.initialAnim||a.globals.resized||a.globals.dataChanged?this.animBeginArr.push(0):((T=y/this.fullAngle*a.config.chart.animations.speed)===0&&(T=1),this.animDur=T+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&a.globals.dataChanged?this.animatePaths(C,{size:this.sliceSizes[p],endAngle:f,startAngle:u,prevStartAngle:x,prevEndAngle:m,animateStartingPos:!0,i:p,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:a.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(C,{size:this.sliceSizes[p],endAngle:f,startAngle:u,i:p,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:T}),a.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&C.node.addEventListener("mouseup",this.pieClicked.bind(this,p)),a.globals.selectedDataPoints[0]!==void 0&&a.globals.selectedDataPoints[0].indexOf(p)>-1&&this.pieClicked(p),a.config.dataLabels.enabled){var L=A.x,M=A.y,_=100*y/this.fullAngle+"%";if(y!==0&&a.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[p]){var D=a.config.dataLabels.formatter;D!==void 0&&(_=D(a.globals.seriesPercent[p][0],{seriesIndex:p,w:a}));var H=a.globals.dataLabels.style.colors[p],z=o.group({class:"apexcharts-datalabels"}),B=o.drawText({x:L,y:M,text:_,textAnchor:"middle",fontSize:a.config.dataLabels.style.fontSize,fontFamily:a.config.dataLabels.style.fontFamily,fontWeight:a.config.dataLabels.style.fontWeight,foreColor:H});if(z.add(B),a.config.dataLabels.dropShadow.enabled){var P=a.config.dataLabels.dropShadow;i.dropShadow(B,P)}B.node.classList.add("apexcharts-pie-label"),a.config.chart.animations.animate&&a.globals.resized===!1&&(B.node.classList.add("apexcharts-pie-label-delay"),B.node.style.animationDelay=a.config.chart.animations.speed/940+"s"),this.sliceLabels.push(z)}}}return h}},{key:"addListeners",value:function(e,t){var a=new me(this.ctx);e.node.addEventListener("mouseenter",a.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",a.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",a.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var a=this.w,i=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,o=i,c=t.startAngle,h=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(c=t.prevEndAngle,o=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===a.config.series.length-1&&(i+h>this.fullAngle?t.endAngle=t.endAngle-(i+h):i+h<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(i+h)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,c,h,i,o,t)}},{key:"animateArc",value:function(e,t,a,i,o,c){var h,u=this,x=this.w,f=new cr(this.ctx),m=c.size;(isNaN(t)||isNaN(o))&&(t=a,o=i,c.dur=0);var p=i,b=a,y=t<a?this.fullAngle+t-a:t-a;x.globals.dataChanged&&c.shouldSetPrevPaths&&c.prevEndAngle&&(h=u.getPiePath({me:u,startAngle:c.prevStartAngle,angle:c.prevEndAngle<c.prevStartAngle?this.fullAngle+c.prevEndAngle-c.prevStartAngle:c.prevEndAngle-c.prevStartAngle,size:m}),e.attr({d:h})),c.dur!==0?e.animate(c.dur,c.animBeginArr[c.i]).after((function(){u.chartType!=="pie"&&u.chartType!=="donut"&&u.chartType!=="polarArea"||this.animate(x.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":u.strokeWidth}),c.i===x.config.series.length-1&&f.animationCompleted(e)})).during((function(w){p=y+(i-y)*w,c.animateStartingPos&&(p=o+(i-o)*w,b=t-o+(a-(t-o))*w),h=u.getPiePath({me:u,startAngle:b,angle:p,size:m}),e.node.setAttribute("data:pathOrig",h),e.attr({d:h})})):(h=u.getPiePath({me:u,startAngle:b,angle:i,size:m}),c.isTrack||(x.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",h),e.attr({d:h,"stroke-width":u.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,a=this.w,i=this,o=i.sliceSizes[e]+(a.config.plotOptions.pie.expandOnClick?4:0),c=a.globals.dom.Paper.findOne(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e));if(c.attr("data:pieClicked")!=="true"){var h=a.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(h,(function(m){m.setAttribute("data:pieClicked","false");var p=m.getAttribute("data:pathOrig");p&&m.setAttribute("d",p)})),a.globals.capturedDataPointIndex=e,c.attr("data:pieClicked","true");var u=parseInt(c.attr("data:startAngle"),10),x=parseInt(c.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:u,angle:x,size:o}),x!==360&&c.plot(t)}else{c.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(c.node,this.donutDataLabels);var f=c.attr("data:pathOrig");c.attr({d:f})}}},{key:"getChangedPath",value:function(e,t){var a="";return this.dynamicAnim&&this.w.globals.dataChanged&&(a=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),a}},{key:"getPiePath",value:function(e){var t,a=e.me,i=e.startAngle,o=e.angle,c=e.size,h=new me(this.ctx),u=i,x=Math.PI*(u-90)/180,f=o+i;Math.ceil(f)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(f=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(f)>this.fullAngle&&(f-=this.fullAngle);var m=Math.PI*(f-90)/180,p=a.centerX+c*Math.cos(x),b=a.centerY+c*Math.sin(x),y=a.centerX+c*Math.cos(m),w=a.centerY+c*Math.sin(m),k=J.polarToCartesian(a.centerX,a.centerY,a.donutSize,f),C=J.polarToCartesian(a.centerX,a.centerY,a.donutSize,u),S=o>180?1:0,A=["M",p,b,"A",c,c,0,S,1,y,w];return t=a.chartType==="donut"?[].concat(A,["L",k.x,k.y,"A",a.donutSize,a.donutSize,0,S,0,C.x,C.y,"L",p,b,"z"]).join(" "):a.chartType==="pie"||a.chartType==="polarArea"?[].concat(A,["L",a.centerX,a.centerY,"L",p,b]).join(" "):[].concat(A).join(" "),h.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,a=new sy(this.ctx),i=new me(this.ctx),o=new oy(this.ctx),c=i.group(),h=i.group(),u=a.niceScale(0,Math.ceil(this.maxY),0),x=u.result.reverse(),f=u.result.length;this.maxY=u.niceMax;for(var m=t.globals.radialSize,p=m/(f-1),b=0;b<f-1;b++){var y=i.drawCircle(m);if(y.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var w=o.drawYAxisTexts(this.centerX,this.centerY-m+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,b,x[b]);h.add(w)}c.add(y),m-=p}this.drawSpokes(e),e.add(c),e.add(h)}},{key:"renderInnerDataLabels",value:function(e,t,a){var i=this.w,o=new me(this.ctx),c=t.total.show;e.node.innerHTML="",e.node.style.opacity=a.opacity;var h,u,x=a.centerX,f=this.donutDataLabels.total.label?a.centerY:a.centerY-a.centerY/6;h=t.name.color===void 0?i.globals.colors[0]:t.name.color;var m=t.name.fontSize,p=t.name.fontFamily,b=t.name.fontWeight;u=t.value.color===void 0?i.config.chart.foreColor:t.value.color;var y=t.value.formatter,w="",k="";if(c?(h=t.total.color,m=t.total.fontSize,p=t.total.fontFamily,b=t.total.fontWeight,k=this.donutDataLabels.total.label?t.total.label:"",w=t.total.formatter(i)):i.globals.series.length===1&&(w=y(i.globals.series[0],i),k=i.globals.seriesNames[0]),k&&(k=t.name.formatter(k,t.total.show,i)),t.name.show){var C=o.drawText({x,y:f+parseFloat(t.name.offsetY),text:k,textAnchor:"middle",foreColor:h,fontSize:m,fontWeight:b,fontFamily:p});C.node.classList.add("apexcharts-datalabel-label"),e.add(C)}if(t.value.show){var S=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,A=o.drawText({x,y:f+S,text:w,textAnchor:"middle",foreColor:u,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});A.node.classList.add("apexcharts-datalabel-value"),e.add(A)}return e}},{key:"printInnerLabels",value:function(e,t,a,i){var o,c=this.w;i?o=e.name.color===void 0?c.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:c.globals.series.length>1&&e.total.show&&(o=e.total.color);var h=c.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),u=c.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");a=(0,e.value.formatter)(a,c),i||typeof e.total.formatter!="function"||(a=e.total.formatter(c));var x=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,x,c):"",h!==null&&(h.textContent=t),u!==null&&(u.textContent=a),h!==null&&(h.style.fill=o)}},{key:"printDataLabelsInner",value:function(e,t){var a=this.w,i=e.getAttribute("data:value"),o=a.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];a.globals.series.length>1&&this.printInnerLabels(t,o,i,e);var c=a.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");c!==null&&(c.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,a=this.w,i=new me(this.ctx),o=a.config.plotOptions.polarArea.spokes;if(o.strokeWidth!==0){for(var c=[],h=360/a.globals.series.length,u=0;u<a.globals.series.length;u++)c.push(J.polarToCartesian(this.centerX,this.centerY,a.globals.radialSize,a.config.plotOptions.pie.startAngle+h*u));c.forEach((function(x,f){var m=i.drawLine(x.x,x.y,t.centerX,t.centerY,Array.isArray(o.connectorColors)?o.connectorColors[f]:o.connectorColors);e.add(m)}))}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),a=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(a)}}}]),r})(),l4=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new me(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new _t(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return we(r,[{key:"draw",value:function(e){var t=this,a=this.w,i=new Js(this.ctx),o=[],c=new ir(this.ctx);e.length&&(this.dataPointsLen=e[a.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var h=a.globals.gridWidth/2,u=a.globals.gridHeight/2,x=h+a.config.plotOptions.radar.offsetX,f=u+a.config.plotOptions.radar.offsetY,m=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(x||0,", ").concat(f||0,")")}),p=[],b=null,y=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(k,C){var S=k.length===a.globals.dataPoints,A=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":S,seriesName:J.escapeString(a.globals.seriesNames[C]),rel:C+1,"data:realIndex":C});t.dataRadiusOfPercent[C]=[],t.dataRadius[C]=[],t.angleArr[C]=[],k.forEach((function(W,V){var Q=Math.abs(t.maxValue-t.minValue);W-=t.minValue,t.isLog&&(W=t.coreUtils.getLogVal(t.logBase,W,0)),t.dataRadiusOfPercent[C][V]=W/Q,t.dataRadius[C][V]=t.dataRadiusOfPercent[C][V]*t.size,t.angleArr[C][V]=V*t.disAngle})),p=t.getDataPointsPos(t.dataRadius[C],t.angleArr[C]);var T=t.createPaths(p,{x:0,y:0});b=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),y=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":C}),a.globals.delayedElements.push({el:b.node,index:C});var L={i:C,realIndex:C,animationDelay:C,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:a.globals.stroke.colors[C],strokeLineCap:a.config.stroke.lineCap},M=null;a.globals.previousPaths.length>0&&(M=t.getPreviousPath(C));for(var _=0;_<T.linePathsTo.length;_++){var D=t.graphics.renderPaths(be(be({},L),{},{pathFrom:M===null?T.linePathsFrom[_]:M,pathTo:T.linePathsTo[_],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[C]:t.strokeWidth,fill:"none",drawShadow:!1}));A.add(D);var H=i.fillPath({seriesNumber:C}),z=t.graphics.renderPaths(be(be({},L),{},{pathFrom:M===null?T.areaPathsFrom[_]:M,pathTo:T.areaPathsTo[_],strokeWidth:0,fill:H,drawShadow:!1}));if(a.config.chart.dropShadow.enabled){var B=new Qt(t.ctx),P=a.config.chart.dropShadow;B.dropShadow(z,Object.assign({},P,{noUserSpaceOnUse:!0}),C)}A.add(z)}k.forEach((function(W,V){var Q=new xr(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:C,dataPointIndex:V}),F=t.graphics.drawMarker(p[V].x,p[V].y,Q);F.attr("rel",V),F.attr("j",V),F.attr("index",C),F.node.setAttribute("default-marker-size",Q.pSize);var q=t.graphics.group({class:"apexcharts-series-markers"});q&&q.add(F),b.add(q),A.add(b);var I=a.config.dataLabels;if(I.enabled){var G=I.formatter(a.globals.series[C][V],{seriesIndex:C,dataPointIndex:V,w:a});c.plotDataLabelsText({x:p[V].x,y:p[V].y,text:G,textAnchor:"middle",i:C,j:C,parent:y,offsetCorrection:!1,dataLabelsConfig:be({},I)})}A.add(y)})),o.push(A)})),this.drawPolygons({parent:m}),a.config.xaxis.labels.show){var w=this.drawXAxisTexts();m.add(w)}return o.forEach((function(k){m.add(k)})),m.add(this.yaxisLabels),m}},{key:"drawPolygons",value:function(e){for(var t=this,a=this.w,i=e.parent,o=new oy(this.ctx),c=a.globals.yAxisScale[0].result.reverse(),h=c.length,u=[],x=this.size/(h-1),f=0;f<h;f++)u[f]=x*f;u.reverse();var m=[],p=[];u.forEach((function(b,y){var w=J.getPolygonPos(b,t.dataPointsLen),k="";w.forEach((function(C,S){if(y===0){var A=t.graphics.drawLine(C.x,C.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[S]:t.polygons.connectorColors);p.push(A)}S===0&&t.yaxisLabelsTextsPos.push({x:C.x,y:C.y}),k+=C.x+","+C.y+" "})),m.push(k)})),m.forEach((function(b,y){var w=t.polygons.strokeColors,k=t.polygons.strokeWidth,C=t.graphics.drawPolygon(b,Array.isArray(w)?w[y]:w,Array.isArray(k)?k[y]:k,a.globals.radarPolygons.fill.colors[y]);i.add(C)})),p.forEach((function(b){i.add(b)})),a.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(b,y){var w=o.drawYAxisTexts(b.x,b.y,y,c[y]);t.yaxisLabels.add(w)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,a=t.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),o=J.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(c,h){var u=t.config.xaxis.labels.formatter,x=new ir(e.ctx);if(o[h]){var f=e.getTextPos(o[h],e.size),m=u(c,{seriesIndex:-1,dataPointIndex:h,w:t});x.plotDataLabelsText({x:f.newX,y:f.newY,text:m,textAnchor:f.textAnchor,i:h,j:h,parent:i,className:"apexcharts-xaxis-label",color:Array.isArray(a.style.colors)&&a.style.colors[h]?a.style.colors[h]:"#a8a8a8",dataLabelsConfig:be({textAnchor:f.textAnchor,dropShadow:{enabled:!1}},a),offsetCorrection:!1}).on("click",(function(p){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var b=Object.assign({},t,{labelIndex:h});t.config.chart.events.xAxisLabelClick(p,e.ctx,b)}}))}})),i}},{key:"createPaths",value:function(e,t){var a=this,i=[],o=[],c=[],h=[];if(e.length){o=[this.graphics.move(t.x,t.y)],h=[this.graphics.move(t.x,t.y)];var u=this.graphics.move(e[0].x,e[0].y),x=this.graphics.move(e[0].x,e[0].y);e.forEach((function(f,m){u+=a.graphics.line(f.x,f.y),x+=a.graphics.line(f.x,f.y),m===e.length-1&&(u+="Z",x+="Z")})),i.push(u),c.push(x)}return{linePathsFrom:o,linePathsTo:i,areaPathsFrom:h,areaPathsTo:c}}},{key:"getTextPos",value:function(e,t){var a="middle",i=e.x,o=e.y;return Math.abs(e.x)>=10?e.x>0?(a="start",i+=10):e.x<0&&(a="end",i-=10):a="middle",Math.abs(e.y)>=t-10&&(e.y<0?o-=10:e.y>0&&(o+=10)),{textAnchor:a,newX:i,newY:o}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,a=null,i=0;i<t.globals.previousPaths.length;i++){var o=t.globals.previousPaths[i];o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[i].paths[0]!==void 0&&(a=t.globals.previousPaths[i].paths[0].d)}return a}},{key:"getDataPointsPos",value:function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],o=0;o<a;o++){var c={};c.x=e[o]*Math.sin(t[o]),c.y=-e[o]*Math.cos(t[o]),i.push(c)}return i}}]),r})(),o4=(function(r){Ll(t,cy);var e=Ml(t);function t(a){var i;ye(this,t),(i=e.call(this,a)).ctx=a,i.w=a.w,i.animBeginArr=[0],i.animDur=0;var o=i.w;return i.startAngle=o.config.plotOptions.radialBar.startAngle,i.endAngle=o.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(o.config.plotOptions.radialBar.endAngle-o.config.plotOptions.radialBar.startAngle),i.trackStartAngle=o.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=o.config.plotOptions.radialBar.track.endAngle,i.barLabels=i.w.config.plotOptions.radialBar.barLabels,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),i.endAngle===360&&(i.endAngle=359.99),i.margin=parseInt(o.config.plotOptions.radialBar.track.margin,10),i.onBarLabelClick=i.onBarLabelClick.bind(wv(i)),i}return we(t,[{key:"draw",value:function(a){var i=this.w,o=new me(this.ctx),c=o.group({class:"apexcharts-radialbar"});if(i.globals.noData)return c;var h=o.group(),u=this.defaultSize/2,x=i.globals.gridWidth/2,f=this.defaultSize/2.05;i.config.chart.sparkline.enabled||(f=f-i.config.stroke.width-i.config.chart.dropShadow.blur);var m=i.globals.fill.colors;if(i.config.plotOptions.radialBar.track.show){var p=this.drawTracks({size:f,centerX:x,centerY:u,colorArr:m,series:a});h.add(p)}var b=this.drawArcs({size:f,centerX:x,centerY:u,colorArr:m,series:a}),y=360;i.config.plotOptions.radialBar.startAngle<0&&(y=this.totalAngle);var w=(360-y)/360;if(i.globals.radialSize=f-f*w,this.radialDataLabels.value.show){var k=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);i.globals.radialSize+=k*w}return h.add(b.g),i.config.plotOptions.radialBar.hollow.position==="front"&&(b.g.add(b.elHollow),b.dataLabels&&b.g.add(b.dataLabels)),c.add(h),c}},{key:"drawTracks",value:function(a){var i=this.w,o=new me(this.ctx),c=o.group({class:"apexcharts-tracks"}),h=new Qt(this.ctx),u=new Js(this.ctx),x=this.getStrokeWidth(a);a.size=a.size-x/2;for(var f=0;f<a.series.length;f++){var m=o.group({class:"apexcharts-radialbar-track apexcharts-track"});c.add(m),m.attr({rel:f+1}),a.size=a.size-x-this.margin;var p=i.config.plotOptions.radialBar.track,b=u.fillPath({seriesNumber:0,size:a.size,fillColors:Array.isArray(p.background)?p.background[f]:p.background,solid:!0}),y=this.trackStartAngle,w=this.trackEndAngle;Math.abs(w)+Math.abs(y)>=360&&(w=360-Math.abs(this.startAngle)-.1);var k=o.drawPath({d:"",stroke:b,strokeWidth:x*parseInt(p.strokeWidth,10)/100,fill:"none",strokeOpacity:p.opacity,classes:"apexcharts-radialbar-area"});if(p.dropShadow.enabled){var C=p.dropShadow;h.dropShadow(k,C)}m.add(k),k.attr("id","apexcharts-radialbarTrack-"+f),this.animatePaths(k,{centerX:a.centerX,centerY:a.centerY,endAngle:w,startAngle:y,size:a.size,i:f,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return c}},{key:"drawArcs",value:function(a){var i=this.w,o=new me(this.ctx),c=new Js(this.ctx),h=new Qt(this.ctx),u=o.group(),x=this.getStrokeWidth(a);a.size=a.size-x/2;var f=i.config.plotOptions.radialBar.hollow.background,m=a.size-x*a.series.length-this.margin*a.series.length-x*parseInt(i.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,p=m-i.config.plotOptions.radialBar.hollow.margin;i.config.plotOptions.radialBar.hollow.image!==void 0&&(f=this.drawHollowImage(a,u,m,f));var b=this.drawHollow({size:p,centerX:a.centerX,centerY:a.centerY,fill:f||"transparent"});if(i.config.plotOptions.radialBar.hollow.dropShadow.enabled){var y=i.config.plotOptions.radialBar.hollow.dropShadow;h.dropShadow(b,y)}var w=1;!this.radialDataLabels.total.show&&i.globals.series.length>1&&(w=0);var k=null;if(this.radialDataLabels.show){var C=i.globals.dom.Paper.findOne(".apexcharts-datalabels-group");k=this.renderInnerDataLabels(C,this.radialDataLabels,{hollowSize:m,centerX:a.centerX,centerY:a.centerY,opacity:w})}i.config.plotOptions.radialBar.hollow.position==="back"&&(u.add(b),k&&u.add(k));var S=!1;i.config.plotOptions.radialBar.inverseOrder&&(S=!0);for(var A=S?a.series.length-1:0;S?A>=0:A<a.series.length;S?A--:A++){var T=o.group({class:"apexcharts-series apexcharts-radial-series",seriesName:J.escapeString(i.globals.seriesNames[A])});u.add(T),T.attr({rel:A+1,"data:realIndex":A}),this.ctx.series.addCollapsedClassToSeries(T,A),a.size=a.size-x-this.margin;var L=c.fillPath({seriesNumber:A,size:a.size,value:a.series[A]}),M=this.startAngle,_=void 0,D=J.negToZero(a.series[A]>100?100:a.series[A])/100,H=Math.round(this.totalAngle*D)+this.startAngle,z=void 0;i.globals.dataChanged&&(_=this.startAngle,z=Math.round(this.totalAngle*J.negToZero(i.globals.previousPaths[A])/100)+_),Math.abs(H)+Math.abs(M)>360&&(H-=.01),Math.abs(z)+Math.abs(_)>360&&(z-=.01);var B=H-M,P=Array.isArray(i.config.stroke.dashArray)?i.config.stroke.dashArray[A]:i.config.stroke.dashArray,W=o.drawPath({d:"",stroke:L,strokeWidth:x,fill:"none",fillOpacity:i.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+A,strokeDashArray:P});if(me.setAttrs(W.node,{"data:angle":B,"data:value":a.series[A]}),i.config.chart.dropShadow.enabled){var V=i.config.chart.dropShadow;h.dropShadow(W,V,A)}if(h.setSelectionFilter(W,0,A),this.addListeners(W,this.radialDataLabels),T.add(W),W.attr({index:0,j:A}),this.barLabels.enabled){var Q=J.polarToCartesian(a.centerX,a.centerY,a.size,M),F=this.barLabels.formatter(i.globals.seriesNames[A],{seriesIndex:A,w:i}),q=["apexcharts-radialbar-label"];this.barLabels.onClick||q.push("apexcharts-no-click");var I=this.barLabels.useSeriesColors?i.globals.colors[A]:i.config.chart.foreColor;I||(I=i.config.chart.foreColor);var G=Q.x+this.barLabels.offsetX,Y=Q.y+this.barLabels.offsetY,O=o.drawText({x:G,y:Y,text:F,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:I,cssClass:q.join(" ")});O.on("click",this.onBarLabelClick),O.attr({rel:A+1}),M!==0&&O.attr({"transform-origin":"".concat(G," ").concat(Y),transform:"rotate(".concat(M," 0 0)")}),T.add(O)}var U=0;!this.initialAnim||i.globals.resized||i.globals.dataChanged||(U=i.config.chart.animations.speed),i.globals.dataChanged&&(U=i.config.chart.animations.dynamicAnimation.speed),this.animDur=U/(1.2*a.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(W,{centerX:a.centerX,centerY:a.centerY,endAngle:H,startAngle:M,prevEndAngle:z,prevStartAngle:_,size:a.size,i:A,totalItems:2,animBeginArr:this.animBeginArr,dur:U,shouldSetPrevPaths:!0})}return{g:u,elHollow:b,dataLabels:k}}},{key:"drawHollow",value:function(a){var i=new me(this.ctx).drawCircle(2*a.size);return i.attr({class:"apexcharts-radialbar-hollow",cx:a.centerX,cy:a.centerY,r:a.size,fill:a.fill}),i}},{key:"drawHollowImage",value:function(a,i,o,c){var h=this.w,u=new Js(this.ctx),x=J.randomId(),f=h.config.plotOptions.radialBar.hollow.image;if(h.config.plotOptions.radialBar.hollow.imageClipped)u.clippedImgArea({width:o,height:o,image:f,patternID:"pattern".concat(h.globals.cuid).concat(x)}),c="url(#pattern".concat(h.globals.cuid).concat(x,")");else{var m=h.config.plotOptions.radialBar.hollow.imageWidth,p=h.config.plotOptions.radialBar.hollow.imageHeight;if(m===void 0&&p===void 0){var b=h.globals.dom.Paper.image(f,(function(w){this.move(a.centerX-w.width/2+h.config.plotOptions.radialBar.hollow.imageOffsetX,a.centerY-w.height/2+h.config.plotOptions.radialBar.hollow.imageOffsetY)}));i.add(b)}else{var y=h.globals.dom.Paper.image(f,(function(w){this.move(a.centerX-m/2+h.config.plotOptions.radialBar.hollow.imageOffsetX,a.centerY-p/2+h.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(m,p)}));i.add(y)}}return c}},{key:"getStrokeWidth",value:function(a){var i=this.w;return a.size*(100-parseInt(i.config.plotOptions.radialBar.hollow.size,10))/100/(a.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(a){var i=parseInt(a.target.getAttribute("rel"),10)-1,o=this.barLabels.onClick,c=this.w;o&&o(c.globals.seriesNames[i],{w:c,seriesIndex:i})}}]),t})(),c4=(function(r){Ll(t,nr);var e=Ml(t);function t(){return ye(this,t),e.apply(this,arguments)}return we(t,[{key:"draw",value:function(a,i){var o=this.w,c=new me(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=a,this.seriesRangeStart=o.globals.seriesRangeStart,this.seriesRangeEnd=o.globals.seriesRangeEnd,this.barHelpers.initVariables(a);for(var h=c.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),u=0;u<a.length;u++){var x,f,m,p,b=void 0,y=void 0,w=o.globals.comboCharts?i[u]:u,k=this.barHelpers.getGroupIndex(w).columnGroupIndex,C=c.group({class:"apexcharts-series",seriesName:J.escapeString(o.globals.seriesNames[w]),rel:u+1,"data:realIndex":w});this.ctx.series.addCollapsedClassToSeries(C,w),a[u].length>0&&(this.visibleI=this.visibleI+1);var S=0,A=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=o.globals.seriesYAxisReverseMap[w][0],T=w);var L=this.barHelpers.initialPositions(w);y=L.y,p=L.zeroW,b=L.x,A=L.barWidth,S=L.barHeight,x=L.xDivision,f=L.yDivision,m=L.zeroH;for(var M=c.group({class:"apexcharts-datalabels","data:realIndex":w}),_=c.group({class:"apexcharts-rangebar-goals-markers"}),D=0;D<o.globals.dataPoints;D++){var H=this.barHelpers.getStrokeWidth(u,D,w),z=this.seriesRangeStart[u][D],B=this.seriesRangeEnd[u][D],P=null,W=null,V=null,Q={x:b,y,strokeWidth:H,elSeries:C},F=this.seriesLen;if(o.config.plotOptions.bar.rangeBarGroupRows&&(F=1),o.config.series[u].data[D]===void 0)break;if(this.isHorizontal){V=y+S*this.visibleI;var q=(f-S*F)/2;if(o.config.series[u].data[D].x){var I=this.detectOverlappingBars({i:u,j:D,barYPosition:V,srty:q,barHeight:S,yDivision:f,initPositions:L});S=I.barHeight,V=I.barYPosition}A=(P=this.drawRangeBarPaths(be({indexes:{i:u,j:D,realIndex:w},barHeight:S,barYPosition:V,zeroW:p,yDivision:f,y1:z,y2:B},Q))).barWidth}else{o.globals.isXNumeric&&(b=(o.globals.seriesX[u][D]-o.globals.minX)/this.xRatio-A/2),W=b+A*this.visibleI;var G=(x-A*F)/2;if(o.config.series[u].data[D].x){var Y=this.detectOverlappingBars({i:u,j:D,barXPosition:W,srtx:G,barWidth:A,xDivision:x,initPositions:L});A=Y.barWidth,W=Y.barXPosition}S=(P=this.drawRangeColumnPaths(be({indexes:{i:u,j:D,realIndex:w,translationsIndex:T},barWidth:A,barXPosition:W,zeroH:m,xDivision:x},Q))).barHeight}var O=this.barHelpers.drawGoalLine({barXPosition:P.barXPosition,barYPosition:V,goalX:P.goalX,goalY:P.goalY,barHeight:S,barWidth:A});O&&_.add(O),y=P.y,b=P.x;var U=this.barHelpers.getPathFillColor(a,u,D,w);this.renderSeries({realIndex:w,pathFill:U.color,lineFill:U.useRangeColor?U.color:o.globals.stroke.colors[w],j:D,i:u,x:b,y,y1:z,y2:B,pathFrom:P.pathFrom,pathTo:P.pathTo,strokeWidth:H,elSeries:C,series:a,barHeight:S,barWidth:A,barXPosition:W,barYPosition:V,columnGroupIndex:k,elDataLabelsWrap:M,elGoalsMarkers:_,visibleSeries:this.visibleI,type:"rangebar"})}h.add(C)}return h}},{key:"detectOverlappingBars",value:function(a){var i=a.i,o=a.j,c=a.barYPosition,h=a.barXPosition,u=a.srty,x=a.srtx,f=a.barHeight,m=a.barWidth,p=a.yDivision,b=a.xDivision,y=a.initPositions,w=this.w,k=[],C=w.config.series[i].data[o].rangeName,S=w.config.series[i].data[o].x,A=Array.isArray(S)?S.join(" "):S,T=w.globals.labels.map((function(M){return Array.isArray(M)?M.join(" "):M})).indexOf(A),L=w.globals.seriesRange[i].findIndex((function(M){return M.x===A&&M.overlaps.length>0}));return this.isHorizontal?(c=w.config.plotOptions.bar.rangeBarGroupRows?u+p*T:u+f*this.visibleI+p*T,L>-1&&!w.config.plotOptions.bar.rangeBarOverlap&&(k=w.globals.seriesRange[i][L].overlaps).indexOf(C)>-1&&(c=(f=y.barHeight/k.length)*this.visibleI+p*(100-parseInt(this.barOptions.barHeight,10))/100/2+f*(this.visibleI+k.indexOf(C))+p*T)):(T>-1&&!w.globals.timescaleLabels.length&&(h=w.config.plotOptions.bar.rangeBarGroupRows?x+b*T:x+m*this.visibleI+b*T),L>-1&&!w.config.plotOptions.bar.rangeBarOverlap&&(k=w.globals.seriesRange[i][L].overlaps).indexOf(C)>-1&&(h=(m=y.barWidth/k.length)*this.visibleI+b*(100-parseInt(this.barOptions.barWidth,10))/100/2+m*(this.visibleI+k.indexOf(C))+b*T)),{barYPosition:c,barXPosition:h,barHeight:f,barWidth:m}}},{key:"drawRangeColumnPaths",value:function(a){var i=a.indexes,o=a.x,c=a.xDivision,h=a.barWidth,u=a.barXPosition,x=a.zeroH,f=this.w,m=i.i,p=i.j,b=i.realIndex,y=i.translationsIndex,w=this.yRatio[y],k=this.getRangeValue(b,p),C=Math.min(k.start,k.end),S=Math.max(k.start,k.end);this.series[m][p]===void 0||this.series[m][p]===null?C=x:(C=x-C/w,S=x-S/w);var A=Math.abs(S-C),T=this.barHelpers.getColumnPaths({barXPosition:u,barWidth:h,y1:C,y2:S,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:b,i:b,j:p,w:f});if(f.globals.isXNumeric){var L=this.getBarXForNumericXAxis({x:o,j:p,realIndex:b,barWidth:h});o=L.x,u=L.barXPosition}else o+=c;return{pathTo:T.pathTo,pathFrom:T.pathFrom,barHeight:A,x:o,y:k.start<0&&k.end<0?C:S,goalY:this.barHelpers.getGoalValues("y",null,x,m,p,y),barXPosition:u}}},{key:"preventBarOverflow",value:function(a){var i=this.w;return a<0&&(a=0),a>i.globals.gridWidth&&(a=i.globals.gridWidth),a}},{key:"drawRangeBarPaths",value:function(a){var i=a.indexes,o=a.y,c=a.y1,h=a.y2,u=a.yDivision,x=a.barHeight,f=a.barYPosition,m=a.zeroW,p=this.w,b=i.realIndex,y=i.j,w=this.preventBarOverflow(m+c/this.invertedYRatio),k=this.preventBarOverflow(m+h/this.invertedYRatio),C=this.getRangeValue(b,y),S=Math.abs(k-w),A=this.barHelpers.getBarpaths({barYPosition:f,barHeight:x,x1:w,x2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:b,realIndex:b,j:y,w:p});return p.globals.isXNumeric||(o+=u),{pathTo:A.pathTo,pathFrom:A.pathFrom,barWidth:S,x:C.start<0&&C.end<0?w:k,goalX:this.barHelpers.getGoalValues("x",m,null,b,y),y:o}}},{key:"getRangeValue",value:function(a,i){var o=this.w;return{start:o.globals.seriesRangeStart[a][i],end:o.globals.seriesRangeEnd[a][i]}}}]),t})(),d4=(function(){function r(e){ye(this,r),this.w=e.w,this.lineCtx=e}return we(r,[{key:"sameValueSeriesFix",value:function(e,t){var a=this.w;if((a.config.fill.type==="gradient"||a.config.fill.type[e]==="gradient")&&new _t(this.lineCtx.ctx,a).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,a=e.realIndex,i=e.x,o=e.y,c=e.i,h=e.j,u=e.prevY,x=this.w,f=[],m=[],p=this.lineCtx.categoryAxisCorrection+x.config.markers.offsetX;return x.globals.isXNumeric&&(p=(x.globals.seriesX[a][0]-x.globals.minX)/this.lineCtx.xRatio+x.config.markers.offsetX),h===0&&(f.push(p),m.push(J.isNumber(t[c][0])?u+x.config.markers.offsetY:null)),f.push(i+x.config.markers.offsetX),m.push(J.isNumber(t[c][h+1])?o+x.config.markers.offsetY:null),{x:f,y:m}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,a=e.pathFromArea,i=e.realIndex,o=this.w,c=0;c<o.globals.previousPaths.length;c++){var h=o.globals.previousPaths[c];(h.type==="line"||h.type==="area")&&h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(i,10)&&(h.type==="line"?(this.lineCtx.appendPathFrom=!1,t=o.globals.previousPaths[c].paths[0].d):h.type==="area"&&(this.lineCtx.appendPathFrom=!1,a=o.globals.previousPaths[c].paths[0].d,o.config.stroke.show&&o.globals.previousPaths[c].paths[1]&&(t=o.globals.previousPaths[c].paths[1].d)))}return{pathFromLine:t,pathFromArea:a}}},{key:"determineFirstPrevY",value:function(e){var t,a,i,o=e.i,c=e.realIndex,h=e.series,u=e.prevY,x=e.lineYPosition,f=e.translationsIndex,m=this.w,p=m.config.chart.stacked&&!m.globals.comboCharts||m.config.chart.stacked&&m.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((a=this.w.config.series[c])===null||a===void 0?void 0:a.type)==="column");if(((i=h[o])===null||i===void 0?void 0:i[0])!==void 0)u=(x=p&&o>0?this.lineCtx.prevSeriesY[o-1][0]:this.lineCtx.zeroY)-h[o][0]/this.lineCtx.yRatio[f]+2*(this.lineCtx.isReversed?h[o][0]/this.lineCtx.yRatio[f]:0);else if(p&&o>0&&h[o][0]===void 0){for(var b=o-1;b>=0;b--)if(h[b][0]!==null&&h[b][0]!==void 0){u=x=this.lineCtx.prevSeriesY[b][0];break}}return{prevY:u,lineYPosition:x}}}]),r})(),h4=function(r){for(var e,t,a,i,o=(function(f){for(var m=[],p=f[0],b=f[1],y=m[0]=Hu(p,b),w=1,k=f.length-1;w<k;w++)p=b,b=f[w+1],m[w]=.5*(y+(y=Hu(p,b)));return m[w]=y,m})(r),c=r.length-1,h=[],u=0;u<c;u++)a=Hu(r[u],r[u+1]),Math.abs(a)<1e-6?o[u]=o[u+1]=0:(i=(e=o[u]/a)*e+(t=o[u+1]/a)*t)>9&&(i=3*a/Math.sqrt(i),o[u]=i*e,o[u+1]=i*t);for(var x=0;x<=c;x++)i=(r[Math.min(c,x+1)][0]-r[Math.max(0,x-1)][0])/(6*(1+o[x]*o[x])),h.push([i||0,o[x]*i||0]);return h},u4=function(r){var e=h4(r),t=r[1],a=r[0],i=[],o=e[1],c=e[0];i.push(a,[a[0]+c[0],a[1]+c[1],t[0]-o[0],t[1]-o[1],t[0],t[1]]);for(var h=2,u=e.length;h<u;h++){var x=r[h],f=e[h];i.push([x[0]-f[0],x[1]-f[1],x[0],x[1]])}return i},x4=function(r,e,t){var a=r.slice(e,t);if(e){if(t-e>1&&a[1].length<6){var i=a[0].length;a[1]=[2*a[0][i-2]-a[0][i-4],2*a[0][i-1]-a[0][i-3]].concat(a[1])}a[0]=a[0].slice(-2)}return a};function Hu(r,e){return(e[1]-r[1])/(e[0]-r[0])}var Pu=(function(){function r(e,t,a){ye(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||a,this.scatter=new Jv(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new d4(this),this.markers=new xr(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return we(r,[{key:"draw",value:function(e,t,a,i){var o,c=this.w,h=new me(this.ctx),u=c.globals.comboCharts?t:c.config.chart.type,x=h.group({class:"apexcharts-".concat(u,"-series apexcharts-plot-series")}),f=new _t(this.ctx,c);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=f.getLogSeries(e),this.yRatio=f.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var m=[],p=0;p<e.length;p++){e=this.lineHelpers.sameValueSeriesFix(p,e);var b=c.globals.comboCharts?a[p]:p,y=this.yRatio.length>1?b:0;this._initSerieVariables(e,p,b);var w=[],k=[],C=[],S=c.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,b),c.globals.isXNumeric&&c.globals.seriesX.length>0&&(S=(c.globals.seriesX[b][0]-c.globals.minX)/this.xRatio),C.push(S);var A,T=S,L=void 0,M=T,_=this.zeroY,D=this.zeroY;_=this.lineHelpers.determineFirstPrevY({i:p,realIndex:b,series:e,prevY:_,lineYPosition:0,translationsIndex:y}).prevY,c.config.stroke.curve==="monotoneCubic"&&e[p][0]===null?w.push(null):w.push(_),A=_,u==="rangeArea"&&(L=D=this.lineHelpers.determineFirstPrevY({i:p,realIndex:b,series:i,prevY:D,lineYPosition:0,translationsIndex:y}).prevY,k.push(w[0]!==null?D:null));var H=this._calculatePathsFrom({type:u,series:e,i:p,realIndex:b,translationsIndex:y,prevX:M,prevY:_,prevY2:D}),z=[w[0]],B=[k[0]],P={type:u,series:e,realIndex:b,translationsIndex:y,i:p,x:S,y:1,pX:T,pY:A,pathsFrom:H,linePaths:[],areaPaths:[],seriesIndex:a,lineYPosition:0,xArrj:C,yArrj:w,y2Arrj:k,seriesRangeEnd:i},W=this._iterateOverDataPoints(be(be({},P),{},{iterations:u==="rangeArea"?e[p].length-1:void 0,isRangeStart:!0}));if(u==="rangeArea"){for(var V=this._calculatePathsFrom({series:i,i:p,realIndex:b,prevX:M,prevY:D}),Q=this._iterateOverDataPoints(be(be({},P),{},{series:i,xArrj:[S],yArrj:z,y2Arrj:B,pY:L,areaPaths:W.areaPaths,pathsFrom:V,iterations:i[p].length-1,isRangeStart:!1})),F=W.linePaths.length/2,q=0;q<F;q++)W.linePaths[q]=Q.linePaths[q+F]+W.linePaths[q];W.linePaths.splice(F),W.pathFromLine=Q.pathFromLine+W.pathFromLine}else W.pathFromArea+="z";this._handlePaths({type:u,realIndex:b,i:p,paths:W}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),m.push(this.elSeries)}if(((o=c.config.series[0])===null||o===void 0?void 0:o.zIndex)!==void 0&&m.sort((function(Y,O){return Number(Y.node.getAttribute("zIndex"))-Number(O.node.getAttribute("zIndex"))})),c.config.chart.stacked)for(var I=m.length-1;I>=0;I--)x.add(m[I]);else for(var G=0;G<m.length;G++)x.add(m[G]);return x}},{key:"_initSerieVariables",value:function(e,t,a){var i=this.w,o=new me(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-(i.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[a]:i.config.stroke.width;var c=0;if(this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[a],c=a),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[c]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[c]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||i.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=o.group({class:"apexcharts-series",zIndex:i.config.series[a].zIndex!==void 0?i.config.series[a].zIndex:a,seriesName:J.escapeString(i.globals.seriesNames[a])}),this.elPointsMain=o.group({class:"apexcharts-series-markers-wrap","data:realIndex":a}),i.globals.hasNullValues){var h=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[i.globals.gridHeight+i.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});h!==null&&this.elPointsMain.add(h)}this.elDataLabelsWrap=o.group({class:"apexcharts-datalabels","data:realIndex":a});var u=e[t].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":u,rel:t+1,"data:realIndex":a}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,a,i,o,c=e.type,h=e.series,u=e.i,x=e.realIndex,f=e.translationsIndex,m=e.prevX,p=e.prevY,b=e.prevY2,y=this.w,w=new me(this.ctx);if(h[u][0]===null){for(var k=0;k<h[u].length;k++)if(h[u][k]!==null){m=this.xDivision*k,p=this.zeroY-h[u][k]/this.yRatio[f],t=w.move(m,p),a=w.move(m,this.areaBottomY);break}}else t=w.move(m,p),c==="rangeArea"&&(t=w.move(m,b)+w.line(m,p)),a=w.move(m,this.areaBottomY)+w.line(m,p);if(i=w.move(0,this.areaBottomY)+w.line(0,this.areaBottomY),o=w.move(0,this.areaBottomY)+w.line(0,this.areaBottomY),y.globals.previousPaths.length>0){var C=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:o,realIndex:x});i=C.pathFromLine,o=C.pathFromArea}return{prevX:m,prevY:p,linePath:t,areaPath:a,pathFromLine:i,pathFromArea:o}}},{key:"_handlePaths",value:function(e){var t=e.type,a=e.realIndex,i=e.i,o=e.paths,c=this.w,h=new me(this.ctx),u=new Js(this.ctx);this.prevSeriesY.push(o.yArrj),c.globals.seriesXvalues[a]=o.xArrj,c.globals.seriesYvalues[a]=o.yArrj;var x=c.config.forecastDataPoints;if(x.count>0&&t!=="rangeArea"){var f=c.globals.seriesXvalues[a][c.globals.seriesXvalues[a].length-x.count-1],m=h.drawRect(f,0,c.globals.gridWidth,c.globals.gridHeight,0);c.globals.dom.elForecastMask.appendChild(m.node);var p=h.drawRect(0,0,f,c.globals.gridHeight,0);c.globals.dom.elNonForecastMask.appendChild(p.node)}this.pointsChart||c.globals.delayedElements.push({el:this.elPointsMain.node,index:a});var b={i,realIndex:a,animationDelay:i,initialSpeed:c.config.chart.animations.speed,dataChangeSpeed:c.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var y=u.fillPath({seriesNumber:a}),w=0;w<o.areaPaths.length;w++){var k=h.renderPaths(be(be({},b),{},{pathFrom:o.pathFromArea,pathTo:o.areaPaths[w],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:y}));this.elSeries.add(k)}if(c.config.stroke.show&&!this.pointsChart){var C=null;if(t==="line")C=u.fillPath({seriesNumber:a,i});else if(c.config.stroke.fill.type==="solid")C=c.globals.stroke.colors[a];else{var S=c.config.fill;c.config.fill=c.config.stroke.fill,C=u.fillPath({seriesNumber:a,i}),c.config.fill=S}for(var A=0;A<o.linePaths.length;A++){var T=C;t==="rangeArea"&&(T=u.fillPath({seriesNumber:a}));var L=be(be({},b),{},{pathFrom:o.pathFromLine,pathTo:o.linePaths[A],stroke:C,strokeWidth:this.strokeWidth,strokeLineCap:c.config.stroke.lineCap,fill:t==="rangeArea"?T:"none"}),M=h.renderPaths(L);if(this.elSeries.add(M),M.attr("fill-rule","evenodd"),x.count>0&&t!=="rangeArea"){var _=h.renderPaths(L);_.node.setAttribute("stroke-dasharray",x.dashArray),x.strokeWidth&&_.node.setAttribute("stroke-width",x.strokeWidth),this.elSeries.add(_),_.attr("clip-path","url(#forecastMask".concat(c.globals.cuid,")")),M.attr("clip-path","url(#nonForecastMask".concat(c.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,a,i=this,o=e.type,c=e.series,h=e.iterations,u=e.realIndex,x=e.translationsIndex,f=e.i,m=e.x,p=e.y,b=e.pX,y=e.pY,w=e.pathsFrom,k=e.linePaths,C=e.areaPaths,S=e.seriesIndex,A=e.lineYPosition,T=e.xArrj,L=e.yArrj,M=e.y2Arrj,_=e.isRangeStart,D=e.seriesRangeEnd,H=this.w,z=new me(this.ctx),B=this.yRatio,P=w.prevY,W=w.linePath,V=w.areaPath,Q=w.pathFromLine,F=w.pathFromArea,q=J.isNumber(H.globals.minYArr[u])?H.globals.minYArr[u]:H.globals.minY;h||(h=H.globals.dataPoints>1?H.globals.dataPoints-1:H.globals.dataPoints);var I=function(ae,je){return je-ae/B[x]+2*(i.isReversed?ae/B[x]:0)},G=p,Y=H.config.chart.stacked&&!H.globals.comboCharts||H.config.chart.stacked&&H.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[u])===null||t===void 0?void 0:t.type)==="bar"||((a=this.w.config.series[u])===null||a===void 0?void 0:a.type)==="column"),O=H.config.stroke.curve;Array.isArray(O)&&(O=Array.isArray(S)?O[S[f]]:O[f]);for(var U,ne=0,K=0;K<h&&c[f].length!==0;K++){var ue=c[f][K+1]===void 0||c[f][K+1]===null;if(H.globals.isXNumeric){var ie=H.globals.seriesX[u][K+1];H.globals.seriesX[u][K+1]===void 0&&(ie=H.globals.seriesX[u][h-1]),m=(ie-H.globals.minX)/this.xRatio}else m+=this.xDivision;Y?f>0&&H.globals.collapsedSeries.length<H.config.series.length-1?A=this.prevSeriesY[(function(ae){for(var je=ae;je>0;je--){if(!(H.globals.collapsedSeriesIndices.indexOf(S?.[je]||je)>-1))return je;je--}return 0})(f-1)][K+1]:A=this.zeroY:A=this.zeroY,ue?p=I(q,A):(p=I(c[f][K+1],A),o==="rangeArea"&&(G=I(D[f][K+1],A))),T.push(c[f][K+1]===null?null:m),!ue||H.config.stroke.curve!=="smooth"&&H.config.stroke.curve!=="monotoneCubic"?(L.push(p),M.push(G)):(L.push(null),M.push(null));var te=this.lineHelpers.calculatePoints({series:c,x:m,y:p,realIndex:u,i:f,j:K,prevY:P}),ve=this._createPaths({type:o,series:c,i:f,realIndex:u,j:K,x:m,y:p,y2:G,xArrj:T,yArrj:L,y2Arrj:M,pX:b,pY:y,pathState:ne,segmentStartX:U,linePath:W,areaPath:V,linePaths:k,areaPaths:C,curve:O,isRangeStart:_});C=ve.areaPaths,k=ve.linePaths,b=ve.pX,y=ve.pY,ne=ve.pathState,U=ve.segmentStartX,V=ve.areaPath,W=ve.linePath,!this.appendPathFrom||H.globals.hasNullValues||O==="monotoneCubic"&&o==="rangeArea"||(Q+=z.line(m,this.areaBottomY),F+=z.line(m,this.areaBottomY)),this.handleNullDataPoints(c,te,f,K,u),this._handleMarkersAndLabels({type:o,pointsPos:te,i:f,j:K,realIndex:u,isRangeStart:_})}return{yArrj:L,xArrj:T,pathFromArea:F,areaPaths:C,pathFromLine:Q,linePaths:k,linePath:W,areaPath:V}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,a=e.pointsPos,i=e.isRangeStart,o=e.i,c=e.j,h=e.realIndex,u=this.w,x=new ir(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,c,{realIndex:h,pointsPos:a,zRatio:this.zRatio,elParent:this.elPointsMain});else{u.globals.series[o].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var f=this.markers.plotChartMarkers({pointsPos:a,seriesIndex:h,j:c+1});f!==null&&this.elPointsMain.add(f)}var m=x.drawDataLabel({type:t,isRangeStart:i,pos:a,i:h,j:c+1});m!==null&&this.elDataLabelsWrap.add(m)}},{key:"_createPaths",value:function(e){var t=e.type,a=e.series,i=e.i;e.realIndex;var o,c=e.j,h=e.x,u=e.y,x=e.xArrj,f=e.yArrj,m=e.y2,p=e.y2Arrj,b=e.pX,y=e.pY,w=e.pathState,k=e.segmentStartX,C=e.linePath,S=e.areaPath,A=e.linePaths,T=e.areaPaths,L=e.curve,M=e.isRangeStart,_=new me(this.ctx),D=this.areaBottomY,H=t==="rangeArea",z=t==="rangeArea"&&M;switch(L){case"monotoneCubic":var B=M?f:p;switch(w){case 0:if(B[c+1]===null)break;w=1;case 1:if(!(H?x.length===a[i].length:c===a[i].length-2))break;case 2:var P=M?x:x.slice().reverse(),W=M?B:B.slice().reverse(),V=(o=W,P.map((function(ie,te){return[ie,o[te]]})).filter((function(ie){return ie[1]!==null}))),Q=V.length>1?u4(V):V,F=[];H&&(z?T=V:F=T.reverse());var q=0,I=0;if((function(ie,te){for(var ve=(function(Ae){var bt=[],We=0;return Ae.forEach((function(_s){_s!==null?We++:We>0&&(bt.push(We),We=0)})),We>0&&bt.push(We),bt})(ie),ae=[],je=0,Le=0;je<ve.length;Le+=ve[je++])ae[je]=x4(te,Le,Le+ve[je]);return ae})(W,Q).forEach((function(ie){q++;var te=(function(je){for(var Le="",Ae=0;Ae<je.length;Ae++){var bt=je[Ae],We=bt.length;We>4?(Le+="C".concat(bt[0],", ").concat(bt[1]),Le+=", ".concat(bt[2],", ").concat(bt[3]),Le+=", ".concat(bt[4],", ").concat(bt[5])):We>2&&(Le+="S".concat(bt[0],", ").concat(bt[1]),Le+=", ".concat(bt[2],", ").concat(bt[3]))}return Le})(ie),ve=I,ae=(I+=ie.length)-1;z?C=_.move(V[ve][0],V[ve][1])+te:H?C=_.move(F[ve][0],F[ve][1])+_.line(V[ve][0],V[ve][1])+te+_.line(F[ae][0],F[ae][1]):(C=_.move(V[ve][0],V[ve][1])+te,S=C+_.line(V[ae][0],D)+_.line(V[ve][0],D)+"z",T.push(S)),A.push(C)})),H&&q>1&&!z){var G=A.slice(q).reverse();A.splice(q),G.forEach((function(ie){return A.push(ie)}))}w=0}break;case"smooth":var Y=.35*(h-b);if(a[i][c]===null)w=0;else switch(w){case 0:if(k=b,C=z?_.move(b,p[c])+_.line(b,y):_.move(b,y),S=_.move(b,y),a[i][c+1]===null||a[i][c+1]===void 0){A.push(C),T.push(S);break}if(w=1,c<a[i].length-2){var O=_.curve(b+Y,y,h-Y,u,h,u);C+=O,S+=O;break}case 1:if(a[i][c+1]===null)C+=z?_.line(b,m):_.move(b,y),S+=_.line(b,D)+_.line(k,D)+"z",A.push(C),T.push(S),w=-1;else{var U=_.curve(b+Y,y,h-Y,u,h,u);C+=U,S+=U,c>=a[i].length-2&&(z&&(C+=_.curve(h,u,h,u,h,m)+_.move(h,m)),S+=_.curve(h,u,h,u,h,D)+_.line(k,D)+"z",A.push(C),T.push(S),w=-1)}}b=h,y=u;break;default:var ne=function(ie,te,ve){var ae=[];switch(ie){case"stepline":ae=_.line(te,null,"H")+_.line(null,ve,"V");break;case"linestep":ae=_.line(null,ve,"V")+_.line(te,null,"H");break;case"straight":ae=_.line(te,ve)}return ae};if(a[i][c]===null)w=0;else switch(w){case 0:if(k=b,C=z?_.move(b,p[c])+_.line(b,y):_.move(b,y),S=_.move(b,y),a[i][c+1]===null||a[i][c+1]===void 0){A.push(C),T.push(S);break}if(w=1,c<a[i].length-2){var K=ne(L,h,u);C+=K,S+=K;break}case 1:if(a[i][c+1]===null)C+=z?_.line(b,m):_.move(b,y),S+=_.line(b,D)+_.line(k,D)+"z",A.push(C),T.push(S),w=-1;else{var ue=ne(L,h,u);C+=ue,S+=ue,c>=a[i].length-2&&(z&&(C+=_.line(h,m)),S+=_.line(h,D)+_.line(k,D)+"z",A.push(C),T.push(S),w=-1)}}b=h,y=u}return{linePaths:A,areaPaths:T,pX:b,pY:y,pathState:w,segmentStartX:k,linePath:C,areaPath:S}}},{key:"handleNullDataPoints",value:function(e,t,a,i,o){var c=this.w;if(e[a][i]===null&&c.config.markers.showNullDataPoints||e[a].length===1){var h=this.strokeWidth-c.config.markers.strokeWidth/2;h>0||(h=0);var u=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:o,j:i+1,pSize:h,alwaysDrawMarker:!0});u!==null&&this.elPointsMain.add(u)}}}]),r})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function r(h,u,x,f){this.xoffset=h,this.yoffset=u,this.height=f,this.width=x,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(m){var p,b=[],y=this.xoffset,w=this.yoffset,k=o(m)/this.height,C=o(m)/this.width;if(this.width>=this.height)for(p=0;p<m.length;p++)b.push([y,w,y+k,w+m[p]/k]),w+=m[p]/k;else for(p=0;p<m.length;p++)b.push([y,w,y+m[p]/C,w+C]),y+=m[p]/C;return b},this.cutArea=function(m){var p;if(this.width>=this.height){var b=m/this.height,y=this.width-b;p=new r(this.xoffset+b,this.yoffset,y,this.height)}else{var w=m/this.width,k=this.height-w;p=new r(this.xoffset,this.yoffset+w,this.width,k)}return p}}function e(h,u,x,f,m){f=f===void 0?0:f,m=m===void 0?0:m;var p=t((function(b,y){var w,k=[],C=y/o(b);for(w=0;w<b.length;w++)k[w]=b[w]*C;return k})(h,u*x),[],new r(f,m,u,x),[]);return(function(b){var y,w,k=[];for(y=0;y<b.length;y++)for(w=0;w<b[y].length;w++)k.push(b[y][w]);return k})(p)}function t(h,u,x,f){var m,p,b;if(h.length!==0)return m=x.shortestEdge(),(function(y,w,k){var C;if(y.length===0)return!0;(C=y.slice()).push(w);var S=a(y,k),A=a(C,k);return S>=A})(u,p=h[0],m)?(u.push(p),t(h.slice(1),u,x,f)):(b=x.cutArea(o(u),f),f.push(x.getCoordinates(u)),t(h,[],b,f)),f;f.push(x.getCoordinates(u))}function a(h,u){var x=Math.min.apply(Math,h),f=Math.max.apply(Math,h),m=o(h);return Math.max(Math.pow(u,2)*f/Math.pow(m,2),Math.pow(m,2)/(Math.pow(u,2)*x))}function i(h){return h&&h.constructor===Array}function o(h){var u,x=0;for(u=0;u<h.length;u++)x+=h[u];return x}function c(h){var u,x=0;if(i(h[0]))for(u=0;u<h.length;u++)x+=c(h[u]);else x=o(h);return x}return function h(u,x,f,m,p){m=m===void 0?0:m,p=p===void 0?0:p;var b,y,w=[],k=[];if(i(u[0])){for(y=0;y<u.length;y++)w[y]=c(u[y]);for(b=e(w,x,f,m,p),y=0;y<u.length;y++)k.push(h(u[y],b[y][2]-b[y][0],b[y][3]-b[y][1],b[y][0],b[y][1]))}else k=e(u,x,f,m,p);return k}})();var g4=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ly(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return we(r,[{key:"draw",value:function(e){var t=this,a=this.w,i=new me(this.ctx),o=new Js(this.ctx),c=i.group({class:"apexcharts-treemap"});if(a.globals.noData)return c;var h=[];return e.forEach((function(u){var x=u.map((function(f){return Math.abs(f)}));h.push(x)})),this.negRange=this.helpers.checkColorRange(),a.config.series.forEach((function(u,x){u.data.forEach((function(f){Array.isArray(t.labels[x])||(t.labels[x]=[]),t.labels[x].push(f.x)}))})),window.TreemapSquared.generate(h,a.globals.gridWidth,a.globals.gridHeight).forEach((function(u,x){var f=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:J.escapeString(a.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(a.config.chart.dropShadow.enabled){var m=a.config.chart.dropShadow;new Qt(t.ctx).dropShadow(c,m,x)}var p=i.group({class:"apexcharts-data-labels"}),b={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};u.forEach((function(Q,F){var q=Q[0],I=Q[1],G=Q[2],Y=Q[3];b.xMin=Math.min(b.xMin,q),b.yMin=Math.min(b.yMin,I),b.xMax=Math.max(b.xMax,G),b.yMax=Math.max(b.yMax,Y);var O=t.helpers.getShadeColor(a.config.chart.type,x,F,t.negRange),U=O.color,ne=o.fillPath({color:U,seriesNumber:x,dataPointIndex:F}),K=i.drawRect(q,I,G-q,Y-I,a.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,a.config.plotOptions.treemap.useFillColorAsStroke?U:a.globals.stroke.colors[x]);K.attr({cx:q,cy:I,index:x,i:x,j:F,width:G-q,height:Y-I,fill:ne}),K.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(K);var ue={x:q+(G-q)/2,y:I+(Y-I)/2,width:0,height:0},ie={x:q,y:I,width:G-q,height:Y-I};if(a.config.chart.animations.enabled&&!a.globals.dataChanged){var te=1;a.globals.resized||(te=a.config.chart.animations.speed),t.animateTreemap(K,ue,ie,te)}if(a.globals.dataChanged){var ve=1;t.dynamicAnim.enabled&&a.globals.shouldAnimate&&(ve=t.dynamicAnim.speed,a.globals.previousPaths[x]&&a.globals.previousPaths[x][F]&&a.globals.previousPaths[x][F].rect&&(ue=a.globals.previousPaths[x][F].rect),t.animateTreemap(K,ue,ie,ve))}var ae=t.getFontSize(Q),je=a.config.dataLabels.formatter(t.labels[x][F],{value:a.globals.series[x][F],seriesIndex:x,dataPointIndex:F,w:a});a.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ae=parseInt(a.config.dataLabels.style.fontSize,10),je=t.truncateLabels(je,ae,q,I,G,Y));var Le=null;a.globals.series[x][F]&&(Le=t.helpers.calculateDataLabels({text:je,x:(q+G)/2,y:(I+Y)/2+t.strokeWidth/2+ae/3,i:x,j:F,colorProps:O,fontSize:ae,series:e})),a.config.dataLabels.enabled&&Le&&t.rotateToFitLabel(Le,ae,je,q,I,G,Y),f.add(K),Le!==null&&f.add(Le)}));var y=a.config.plotOptions.treemap.seriesTitle;if(a.config.series.length>1&&y&&y.show){var w=a.config.series[x].name||"";if(w&&b.xMin<1/0&&b.yMin<1/0){var k=y.offsetX,C=y.offsetY,S=y.borderColor,A=y.borderWidth,T=y.borderRadius,L=y.style,M=L.color||a.config.chart.foreColor,_={left:L.padding.left,right:L.padding.right,top:L.padding.top,bottom:L.padding.bottom},D=i.getTextRects(w,L.fontSize,L.fontFamily),H=D.width+_.left+_.right,z=D.height+_.top+_.bottom,B=b.xMin+(k||0),P=b.yMin+(C||0),W=i.drawRect(B,P,H,z,T,L.background,1,A,S),V=i.drawText({x:B+_.left,y:P+_.top+.75*D.height,text:w,fontSize:L.fontSize,fontFamily:L.fontFamily,fontWeight:L.fontWeight,foreColor:M,cssClass:L.cssClass||""});f.add(W),f.add(V)}}f.add(p),c.add(f)})),c}},{key:"getFontSize",value:function(e){var t=this.w,a=(function i(o){var c,h=0;if(Array.isArray(o[0]))for(c=0;c<o.length;c++)h+=i(o[c]);else for(c=0;c<o.length;c++)h+=o[c].length;return h})(this.labels)/(function i(o){var c,h=0;if(Array.isArray(o[0]))for(c=0;c<o.length;c++)h+=i(o[c]);else for(c=0;c<o.length;c++)h+=1;return h})(this.labels);return(function(i,o){var c=i*o,h=Math.pow(c,.5);return Math.min(h/a,parseInt(t.config.dataLabels.style.fontSize,10))})(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,a,i,o,c,h){var u=new me(this.ctx),x=u.getTextRects(a,t);if(x.width+this.w.config.stroke.width+5>c-i&&x.width<=h-o){var f=u.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(f.x," ").concat(f.y,") translate(").concat(x.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,a,i,o,c){var h=new me(this.ctx),u=h.getTextRects(e,t).width+this.w.config.stroke.width+5>o-a&&c-i>o-a?c-i:o-a,x=h.getTextBasedOnMaxWidth({text:e,maxWidth:u,fontSize:t});return e.length!==x.length&&u/t<5?"":x}},{key:"animateTreemap",value:function(e,t,a,i){var o=new cr(this.ctx);o.animateRect(e,t,a,i,(function(){o.animationCompleted(e)}))}}]),r})(),dy=86400,f4=10/dy,m4=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return we(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var a=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var o=new Zt(this.ctx),c=(t-e)/864e5;this.determineInterval(c),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,c<f4?i.globals.disableZoomIn=!0:c>5e4&&(i.globals.disableZoomOut=!0);var h=o.getTimeUnitsfromTimestamp(e,t,this.utc),u=i.globals.gridWidth/c,x=u/24,f=x/60,m=f/60,p=Math.floor(24*c),b=Math.floor(1440*c),y=Math.floor(c*dy),w=Math.floor(c),k=Math.floor(c/30),C=Math.floor(c/365),S={minMillisecond:h.minMillisecond,minSecond:h.minSecond,minMinute:h.minMinute,minHour:h.minHour,minDate:h.minDate,minMonth:h.minMonth,minYear:h.minYear},A={firstVal:S,currentMillisecond:S.minMillisecond,currentSecond:S.minSecond,currentMinute:S.minMinute,currentHour:S.minHour,currentMonthDate:S.minDate,currentDate:S.minDate,currentMonth:S.minMonth,currentYear:S.minYear,daysWidthOnXAxis:u,hoursWidthOnXAxis:x,minutesWidthOnXAxis:f,secondsWidthOnXAxis:m,numberOfSeconds:y,numberOfMinutes:b,numberOfHours:p,numberOfDays:w,numberOfMonths:k,numberOfYears:C};switch(this.tickInterval){case"years":this.generateYearScale(A);break;case"months":case"half_year":this.generateMonthScale(A);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(A);break;case"hours":this.generateHourScale(A);break;case"minutes_fives":case"minutes":this.generateMinuteScale(A);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(A)}var T=this.timeScaleArray.map((function(L){var M={position:L.position,unit:L.unit,year:L.year,day:L.day?L.day:1,hour:L.hour?L.hour:0,month:L.month+1};return L.unit==="month"?be(be({},M),{},{day:1,value:L.value+1}):L.unit==="day"||L.unit==="hour"?be(be({},M),{},{value:L.value}):L.unit==="minute"?be(be({},M),{},{value:L.value,minute:L.value}):L.unit==="second"?be(be({},M),{},{value:L.value,minute:L.minute,second:L.second}):L}));return T.filter((function(L){var M=1,_=Math.ceil(i.globals.gridWidth/120),D=L.value;i.config.xaxis.tickAmount!==void 0&&(_=i.config.xaxis.tickAmount),T.length>_&&(M=Math.floor(T.length/_));var H=!1,z=!1;switch(a.tickInterval){case"years":L.unit==="year"&&(H=!0);break;case"half_year":M=7,L.unit==="year"&&(H=!0);break;case"months":M=1,L.unit==="year"&&(H=!0);break;case"months_fortnight":M=15,L.unit!=="year"&&L.unit!=="month"||(H=!0),D===30&&(z=!0);break;case"months_days":M=10,L.unit==="month"&&(H=!0),D===30&&(z=!0);break;case"week_days":M=8,L.unit==="month"&&(H=!0);break;case"days":M=1,L.unit==="month"&&(H=!0);break;case"hours":L.unit==="day"&&(H=!0);break;case"minutes_fives":case"seconds_fives":D%5!=0&&(z=!0);break;case"seconds_tens":D%10!=0&&(z=!0)}if(a.tickInterval==="hours"||a.tickInterval==="minutes_fives"||a.tickInterval==="seconds_tens"||a.tickInterval==="seconds_fives"){if(!z)return!0}else if((D%M==0||H)&&!z)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var a=this.w,i=this.formatDates(e),o=this.removeOverlappingTS(i);a.globals.timescaleLabels=o.slice(),new _c(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,a=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case a>15:this.tickInterval="minutes_fives";break;case a>5:this.tickInterval="minutes";break;case a>1:this.tickInterval="seconds_tens";break;case 60*a>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,a=e.currentMonth,i=e.currentYear,o=e.daysWidthOnXAxis,c=e.numberOfYears,h=t.minYear,u=0,x=new Zt(this.ctx),f="year";if(t.minDate>1||t.minMonth>0){var m=x.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);u=(x.determineDaysOfYear(t.minYear)-m+1)*o,h=t.minYear+1,this.timeScaleArray.push({position:u,value:h,unit:f,year:h,month:J.monthMod(a+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:u,value:h,unit:f,year:i,month:J.monthMod(a+1)});for(var p=h,b=u,y=0;y<c;y++)p++,b=x.determineDaysOfYear(p-1)*o+b,this.timeScaleArray.push({position:b,value:p,unit:f,year:p,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,a=e.currentMonthDate,i=e.currentMonth,o=e.currentYear,c=e.daysWidthOnXAxis,h=e.numberOfMonths,u=i,x=0,f=new Zt(this.ctx),m="month",p=0;if(t.minDate>1){x=(f.determineDaysOfMonths(i+1,t.minYear)-a+1)*c,u=J.monthMod(i+1);var b=o+p,y=J.monthMod(u),w=u;u===0&&(m="year",w=b,y=1,b+=p+=1),this.timeScaleArray.push({position:x,value:w,unit:m,year:b,month:y})}else this.timeScaleArray.push({position:x,value:u,unit:m,year:o,month:J.monthMod(i)});for(var k=u+1,C=x,S=0,A=1;S<h;S++,A++){(k=J.monthMod(k))===0?(m="year",p+=1):m="month";var T=this._getYear(o,k,p);C=f.determineDaysOfMonths(k,T)*c+C;var L=k===0?T:k;this.timeScaleArray.push({position:C,value:L,unit:m,year:T,month:k===0?1:k}),k++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,a=e.currentMonth,i=e.currentYear,o=e.hoursWidthOnXAxis,c=e.numberOfDays,h=new Zt(this.ctx),u="day",x=t.minDate+1,f=x,m=function(A,T,L){return A>h.determineDaysOfMonths(T+1,L)&&(f=1,u="month",b=T+=1),T},p=(24-t.minHour)*o,b=x,y=m(f,a,i);t.minHour===0&&t.minDate===1?(p=0,b=J.monthMod(t.minMonth),u="month",f=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(p=0,x=t.minDate,b=x,y=m(f=x,a,i),b!==1&&(u="day")),this.timeScaleArray.push({position:p,value:b,unit:u,year:this._getYear(i,y,0),month:J.monthMod(y),day:f});for(var w=p,k=0;k<c;k++){u="day",y=m(f+=1,y,this._getYear(i,y,0));var C=this._getYear(i,y,0);w=24*o+w;var S=f===1?J.monthMod(y):f;this.timeScaleArray.push({position:w,value:S,unit:u,year:C,month:J.monthMod(y),day:S})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,a=e.currentDate,i=e.currentMonth,o=e.currentYear,c=e.minutesWidthOnXAxis,h=e.numberOfHours,u=new Zt(this.ctx),x="hour",f=function(M,_){return M>u.determineDaysOfMonths(_+1,o)&&(k=1,_+=1),{month:_,date:k}},m=function(M,_){return M>u.determineDaysOfMonths(_+1,o)?_+=1:_},p=60-(t.minMinute+t.minSecond/60),b=p*c,y=t.minHour+1,w=y;p===60&&(b=0,w=y=t.minHour);var k=a;w>=24&&(w=0,x="day",y=k+=1);var C=f(k,i).month;C=m(k,C),y>31&&(y=k=1),this.timeScaleArray.push({position:b,value:y,unit:x,day:k,hour:w,year:o,month:J.monthMod(C)}),w++;for(var S=b,A=0;A<h;A++){x="hour",w>=24&&(w=0,x="day",C=f(k+=1,C).month,C=m(k,C));var T=this._getYear(o,C,0);S=60*c+S;var L=w===0?k:w;this.timeScaleArray.push({position:S,value:L,unit:x,hour:w,day:k,year:T,month:J.monthMod(C)}),w++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,a=e.currentSecond,i=e.currentMinute,o=e.currentHour,c=e.currentDate,h=e.currentMonth,u=e.currentYear,x=e.minutesWidthOnXAxis,f=e.secondsWidthOnXAxis,m=e.numberOfMinutes,p=i+1,b=c,y=h,w=u,k=o,C=(60-a-t/1e3)*f,S=0;S<m;S++)p>=60&&(p=0,(k+=1)===24&&(k=0)),this.timeScaleArray.push({position:C,value:p,unit:"minute",hour:k,minute:p,day:b,year:this._getYear(w,y,0),month:J.monthMod(y)}),C+=x,p++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,a=e.currentSecond,i=e.currentMinute,o=e.currentHour,c=e.currentDate,h=e.currentMonth,u=e.currentYear,x=e.secondsWidthOnXAxis,f=e.numberOfSeconds,m=a+1,p=i,b=c,y=h,w=u,k=o,C=(1e3-t)/1e3*x,S=0;S<f;S++)m>=60&&(m=0,++p>=60&&(p=0,++k===24&&(k=0))),this.timeScaleArray.push({position:C,value:m,unit:"second",hour:k,minute:p,second:m,day:b,year:this._getYear(w,y,0),month:J.monthMod(y)}),C+=x,m++}},{key:"createRawDateString",value:function(e,t){var a=e.year;return e.month===0&&(e.month=1),a+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?a+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":a+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?a+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":a+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?a+=":"+("0"+t).slice(-2):a+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?a+=":"+("0"+t).slice(-2):a+=":00",this.utc&&(a+=".000Z"),a}},{key:"formatDates",value:function(e){var t=this,a=this.w;return e.map((function(i){var o=i.value.toString(),c=new Zt(t.ctx),h=t.createRawDateString(i,o),u=c.getDate(c.parseDate(h));if(t.utc||(u=c.getDate(c.parseDateWithTimezone(h))),a.config.xaxis.labels.format===void 0){var x="dd MMM",f=a.config.xaxis.labels.datetimeFormatter;i.unit==="year"&&(x=f.year),i.unit==="month"&&(x=f.month),i.unit==="day"&&(x=f.day),i.unit==="hour"&&(x=f.hour),i.unit==="minute"&&(x=f.minute),i.unit==="second"&&(x=f.second),o=c.formatDate(u,x)}else o=c.formatDate(u,a.config.xaxis.labels.format);return{dateString:h,position:i.position,value:o,unit:i.unit,year:i.year,month:i.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,a=this,i=new me(this.ctx),o=!1;e.length>0&&e[0].value&&e.every((function(u){return u.value.length===e[0].value.length}))&&(o=!0,t=i.getTextRects(e[0].value).width);var c=0,h=e.map((function(u,x){if(x>0&&a.w.config.xaxis.labels.hideOverlappingLabels){var f=o?t:i.getTextRects(e[c].value).width,m=e[c].position;return u.position>m+f+10?(c=x,u):null}return u}));return h=h.filter((function(u){return u!==null}))}},{key:"_getYear",value:function(e,t,a){return e+Math.floor(t/12)+a}}]),r})(),p4=(function(){function r(e,t){ye(this,r),this.ctx=t,this.w=t.w,this.el=e}return we(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,a=e.config,i=a.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(i),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(i),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(i)&&a.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),me.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(a.chart.offsetX,", ").concat(a.chart.offsetY,")")}),t.dom.Paper.node.style.background=a.theme.mode!=="dark"||a.chart.background?a.theme.mode!=="light"||a.chart.background?a.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),me.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var a=this.w,i=this.ctx,o=a.config,c=a.globals,h={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},u=o.chart.type||"line",x=null,f=0;c.series.forEach((function(M,_){var D,H,z=((D=e[_])===null||D===void 0?void 0:D.type)==="column"?"bar":((H=e[_])===null||H===void 0?void 0:H.type)||(u==="column"?"bar":u);h[z]?(z==="rangeArea"?(h[z].series.push(c.seriesRangeStart[_]),h[z].seriesRangeEnd.push(c.seriesRangeEnd[_])):h[z].series.push(M),h[z].i.push(_),z==="bar"&&(a.globals.columnSeries=h.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(z)?x=z:console.warn("You have specified an unrecognized series type (".concat(z,").")),u!==z&&z!=="scatter"&&f++})),f>0&&(x&&console.warn("Chart or series type ".concat(x," cannot appear with other chart or series types.")),h.bar.series.length>0&&o.plotOptions.bar.horizontal&&(f-=h.bar.series.length,h.bar={series:[],i:[]},a.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),c.comboCharts||(c.comboCharts=f>0);var m=new Pu(i,t),p=new Ou(i,t);i.pie=new cy(i);var b=new o4(i);i.rangeBar=new c4(i,t);var y=new l4(i),w=[];if(c.comboCharts){var k,C,S=new _t(i);if(h.area.series.length>0&&(k=w).push.apply(k,Xt(S.drawSeriesByGroup(h.area,c.areaGroups,"area",m))),h.bar.series.length>0)if(o.chart.stacked){var A=new ab(i,t);w.push(A.draw(h.bar.series,h.bar.i))}else i.bar=new nr(i,t),w.push(i.bar.draw(h.bar.series,h.bar.i));if(h.rangeArea.series.length>0&&w.push(m.draw(h.rangeArea.series,"rangeArea",h.rangeArea.i,h.rangeArea.seriesRangeEnd)),h.line.series.length>0&&(C=w).push.apply(C,Xt(S.drawSeriesByGroup(h.line,c.lineGroups,"line",m))),h.candlestick.series.length>0&&w.push(p.draw(h.candlestick.series,"candlestick",h.candlestick.i)),h.boxPlot.series.length>0&&w.push(p.draw(h.boxPlot.series,"boxPlot",h.boxPlot.i)),h.rangeBar.series.length>0&&w.push(i.rangeBar.draw(h.rangeBar.series,h.rangeBar.i)),h.scatter.series.length>0){var T=new Pu(i,t,!0);w.push(T.draw(h.scatter.series,"scatter",h.scatter.i))}if(h.bubble.series.length>0){var L=new Pu(i,t,!0);w.push(L.draw(h.bubble.series,"bubble",h.bubble.i))}}else switch(o.chart.type){case"line":w=m.draw(c.series,"line");break;case"area":w=m.draw(c.series,"area");break;case"bar":o.chart.stacked?w=new ab(i,t).draw(c.series):(i.bar=new nr(i,t),w=i.bar.draw(c.series));break;case"candlestick":w=new Ou(i,t).draw(c.series,"candlestick");break;case"boxPlot":w=new Ou(i,t).draw(c.series,o.chart.type);break;case"rangeBar":w=i.rangeBar.draw(c.series);break;case"rangeArea":w=m.draw(c.seriesRangeStart,"rangeArea",void 0,c.seriesRangeEnd);break;case"heatmap":w=new r4(i,t).draw(c.series);break;case"treemap":w=new g4(i,t).draw(c.series);break;case"pie":case"donut":case"polarArea":w=i.pie.draw(c.series);break;case"radialBar":w=b.draw(c.series);break;case"radar":w=y.draw(c.series);break;default:w=m.draw(c.series)}return w}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,a=e.config;a.chart.width=a.chart.width||"100%",a.chart.height=a.chart.height||"auto",t.svgWidth=a.chart.width,t.svgHeight=a.chart.height;var i=J.getDimensions(this.el),o=a.chart.width.toString().split(/[0-9]+/g).pop();o==="%"?J.isNumber(i[0])&&(i[0].width===0&&(i=J.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(a.chart.width,10)/100):o!=="px"&&o!==""||(t.svgWidth=parseInt(a.chart.width,10));var c=String(a.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(c==="%"){var h=J.getDimensions(this.el.parentNode);t.svgHeight=h[1]*parseInt(a.chart.height,10)/100}else t.svgHeight=parseInt(a.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),me.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),c!=="%"){var u=a.chart.sparkline.enabled?0:t.axisCharts?a.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+u,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,a=e.translateX;me.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(a,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,a=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(a=new ay(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var o=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),c=2.05*e.globals.radialSize;if(o&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var h=J.getBoundingClientRect(o);c=h.bottom;var u=h.bottom-h.top;c=Math.max(2.05*e.globals.radialSize,u)}var x=Math.ceil(c+t.translateY+a+i);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",x),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(x,"px"),me.setAttrs(t.dom.Paper.node,{height:x}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(x,"px"))}},{key:"coreCalculations",value:function(){new bx(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(){return[]}))},a=new Qv,i=this.w.globals,o={dataWasParsed:i.dataWasParsed,originalSeries:i.originalSeries};a.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t(),o.dataWasParsed&&(i.dataWasParsed=o.dataWasParsed,i.originalSeries=o.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new vx(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new vx(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new m4(this.ctx);var a=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?a=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(a=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(a)}t=new _t(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,a=this.w;if(a.config.chart.brush.enabled&&typeof a.config.chart.events.selection!="function"){var i=Array.isArray(a.config.chart.brush.targets)?a.config.chart.brush.targets:[a.config.chart.brush.target];i.forEach((function(o){var c=t.constructor.getChartByID(o);c.w.globals.brushSource=e.ctx,typeof c.w.config.chart.events.zoomed!="function"&&(c.w.config.chart.events.zoomed=function(){return e.updateSourceChart(c)}),typeof c.w.config.chart.events.scrolled!="function"&&(c.w.config.chart.events.scrolled=function(){return e.updateSourceChart(c)})})),a.config.chart.events.selection=function(o,c){i.forEach((function(h){t.constructor.getChartByID(h).ctx.updateHelpers._updateOptions({xaxis:{min:c.xaxis.min,max:c.xaxis.max}},!1,!1,!1,!1)}))}}}}]),r})(),b4=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"_updateOptions",value:function(e){var t=this,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],c=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(h){var u=[t.ctx];o&&(u=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(u=[t.ctx],t.ctx.w.globals.isExecCalled=!1),u.forEach((function(x,f){var m=x.w;if(m.globals.shouldAnimate=i,a||(m.globals.resized=!0,m.globals.dataChanged=!0,i&&x.series.getPreviousPaths()),e&&ns(e)==="object"&&(x.config=new jl(e),e=_t.extendArrayProps(x.config,e,m),x.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,m.config=J.extend(m.config,e),c&&(m.globals.lastXAxis=e.xaxis?J.clone(e.xaxis):[],m.globals.lastYAxis=e.yaxis?J.clone(e.yaxis):[],m.globals.initialConfig=J.extend({},m.config),m.globals.initialSeries=J.clone(m.config.series),e.series))){for(var p=0;p<m.globals.collapsedSeriesIndices.length;p++){var b=m.config.series[m.globals.collapsedSeriesIndices[p]];m.globals.collapsedSeries[p].data=m.globals.axisCharts?b.data.slice():b}for(var y=0;y<m.globals.ancillaryCollapsedSeriesIndices.length;y++){var w=m.config.series[m.globals.ancillaryCollapsedSeriesIndices[y]];m.globals.ancillaryCollapsedSeries[y].data=m.globals.axisCharts?w.data.slice():w}x.series.emptyCollapsedSeries(m.config.series)}return x.update(e).then((function(){f===u.length-1&&h(x)}))}))}))}},{key:"_updateSeries",value:function(e,t){var a=this,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(o){var c=a.w;return c.globals.shouldAnimate=t,c.globals.dataChanged=!0,t&&a.ctx.series.getPreviousPaths(),a.ctx.data.resetParsingFlags(),a.ctx.data.parseData(e),i&&(c.globals.initialConfig.series=J.clone(c.config.series),c.globals.initialSeries=J.clone(c.config.series)),a.ctx.update().then((function(){o(a.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var a=this.w,i=a.config.series[t];return be(be({},a.config.series[t]),{},{name:e.name?e.name:i?.name,color:e.color?e.color:i?.color,type:e.type?e.type:i?.type,group:e.group?e.group:i?.group,hidden:e.hidden!==void 0?e.hidden:i?.hidden,data:e.data?e.data:i?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var a=this.w,i=null,o=".apexcharts-series[data\\:realIndex='".concat(e,"']");return a.globals.axisCharts?i=a.globals.dom.Paper.findOne("".concat(o," path[j='").concat(t,"'], ").concat(o," circle[j='").concat(t,"'], ").concat(o," rect[j='").concat(t,"']")):t===void 0&&(i=a.globals.dom.Paper.findOne("".concat(o," path[j='").concat(e,"']")),a.config.chart.type!=="pie"&&a.config.chart.type!=="polarArea"&&a.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),i?(new me(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(i){e.xaxis[i]!==void 0&&(t.config.xaxis[i]=e.xaxis[i],t.globals.lastXAxis[i]=e.xaxis[i])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var a=new wl(e);e=a.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,a){e.yaxis[a].min=0,e.yaxis[a].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,a=this.w,i=a.globals.lastXAxis,o=a.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(o=e.yaxis),a.config.xaxis.min=i.min,a.config.xaxis.max=i.max;var c=function(h){o[h]!==void 0&&(a.config.yaxis[h].min=o[h].min,a.config.yaxis[h].max=o[h].max)};a.config.yaxis.map((function(h,u){a.globals.zoomed||o[u]!==void 0?c(u):t.ctx.opts.yaxis[u]!==void 0&&(h.min=t.ctx.opts.yaxis[u].min,h.max=t.ctx.opts.yaxis[u].max)}))}}]),r})();(function(){function r(){for(var o=arguments.length>0&&arguments[0]!==m?arguments[0]:[],c=arguments.length>1?arguments[1]:m,h=arguments.length>2?arguments[2]:m,u=arguments.length>3?arguments[3]:m,x=arguments.length>4?arguments[4]:m,f=arguments.length>5?arguments[5]:m,m=arguments.length>6?arguments[6]:m,p=o.slice(c,h||m),b=u.slice(x,f||m),y=0,w={pos:[0,0],start:[0,0]},k={pos:[0,0],start:[0,0]};p[y]=e.call(w,p[y]),b[y]=e.call(k,b[y]),p[y][0]!=b[y][0]||p[y][0]=="M"||p[y][0]=="A"&&(p[y][4]!=b[y][4]||p[y][5]!=b[y][5])?(Array.prototype.splice.apply(p,[y,1].concat(a.call(w,p[y]))),Array.prototype.splice.apply(b,[y,1].concat(a.call(k,b[y])))):(p[y]=t.call(w,p[y]),b[y]=t.call(k,b[y])),!(++y==p.length&&y==b.length);)y==p.length&&p.push(["C",w.pos[0],w.pos[1],w.pos[0],w.pos[1],w.pos[0],w.pos[1]]),y==b.length&&b.push(["C",k.pos[0],k.pos[1],k.pos[0],k.pos[1],k.pos[0],k.pos[1]]);return{start:p,dest:b}}function e(o){switch(o[0]){case"z":case"Z":o[0]="L",o[1]=this.start[0],o[2]=this.start[1];break;case"H":o[0]="L",o[2]=this.pos[1];break;case"V":o[0]="L",o[2]=o[1],o[1]=this.pos[0];break;case"T":o[0]="Q",o[3]=o[1],o[4]=o[2],o[1]=this.reflection[1],o[2]=this.reflection[0];break;case"S":o[0]="C",o[6]=o[4],o[5]=o[3],o[4]=o[2],o[3]=o[1],o[2]=this.reflection[1],o[1]=this.reflection[0]}return o}function t(o){var c=o.length;return this.pos=[o[c-2],o[c-1]],"SCQT".indexOf(o[0])!=-1&&(this.reflection=[2*this.pos[0]-o[c-4],2*this.pos[1]-o[c-3]]),o}function a(o){var c=[o];switch(o[0]){case"M":return this.pos=this.start=[o[1],o[2]],c;case"L":o[5]=o[3]=o[1],o[6]=o[4]=o[2],o[1]=this.pos[0],o[2]=this.pos[1];break;case"Q":o[6]=o[4],o[5]=o[3],o[4]=1*o[4]/3+2*o[2]/3,o[3]=1*o[3]/3+2*o[1]/3,o[2]=1*this.pos[1]/3+2*o[2]/3,o[1]=1*this.pos[0]/3+2*o[1]/3;break;case"A":c=(function(h,u){var x,f,m,p,b,y,w,k,C,S,A,T,L,M,_,D,H,z,B,P,W,V,Q,F,q,I,G=Math.abs(u[1]),Y=Math.abs(u[2]),O=u[3]%360,U=u[4],ne=u[5],K=u[6],ue=u[7],ie=new it(h),te=new it(K,ue),ve=[];if(G===0||Y===0||ie.x===te.x&&ie.y===te.y)return[["C",ie.x,ie.y,te.x,te.y,te.x,te.y]];for(x=new it((ie.x-te.x)/2,(ie.y-te.y)/2).transform(new Te().rotate(O)),f=x.x*x.x/(G*G)+x.y*x.y/(Y*Y),f>1&&(G*=f=Math.sqrt(f),Y*=f),m=new Te().rotate(O).scale(1/G,1/Y).rotate(-O),ie=ie.transform(m),te=te.transform(m),p=[te.x-ie.x,te.y-ie.y],y=p[0]*p[0]+p[1]*p[1],b=Math.sqrt(y),p[0]/=b,p[1]/=b,w=y<4?Math.sqrt(1-y/4):0,U===ne&&(w*=-1),k=new it((te.x+ie.x)/2+w*-p[1],(te.y+ie.y)/2+w*p[0]),C=new it(ie.x-k.x,ie.y-k.y),S=new it(te.x-k.x,te.y-k.y),A=Math.acos(C.x/Math.sqrt(C.x*C.x+C.y*C.y)),C.y<0&&(A*=-1),T=Math.acos(S.x/Math.sqrt(S.x*S.x+S.y*S.y)),S.y<0&&(T*=-1),ne&&A>T&&(T+=2*Math.PI),!ne&&A<T&&(T-=2*Math.PI),M=Math.ceil(2*Math.abs(A-T)/Math.PI),D=[],H=A,L=(T-A)/M,_=4*Math.tan(L/4)/3,W=0;W<=M;W++)B=Math.cos(H),z=Math.sin(H),P=new it(k.x+B,k.y+z),D[W]=[new it(P.x+_*z,P.y-_*B),P,new it(P.x-_*z,P.y+_*B)],H+=L;for(D[0][0]=D[0][1].clone(),D[D.length-1][2]=D[D.length-1][1].clone(),m=new Te().rotate(O).scale(G,Y).rotate(-O),W=0,V=D.length;W<V;W++)D[W][0]=D[W][0].transform(m),D[W][1]=D[W][1].transform(m),D[W][2]=D[W][2].transform(m);for(W=1,V=D.length;W<V;W++)Q=(P=D[W-1][2]).x,F=P.y,q=(P=D[W][0]).x,I=P.y,K=(P=D[W][1]).x,ue=P.y,ve.push(["C",Q,F,q,I,K,ue]);return ve})(this.pos,o),o=c[0]}return o[0]="C",this.pos=[o[5],o[6]],this.reflection=[2*o[5]-o[3],2*o[6]-o[4]],c}function i(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;if(c===!1)return!1;for(var h=c,u=o.length;h<u;++h)if(o[h][0]=="M")return h;return!1}Ee(Zs,{morph:function(o,c,h,u,x){for(var f=this.parse(o),m=this.parse(c),p=0,b=0,y=!1,w=!1;p!==!1||b!==!1;){var k;y=i(f,p!==!1&&p+1),w=i(m,b!==!1&&b+1),p===!1&&(p=(k=new Zs(C.start).bbox()).height==0||k.width==0?f.push(f[0])-1:f.push(["M",k.x+k.width/2,k.y+k.height/2])-1),b===!1&&(b=(k=new Zs(C.dest).bbox()).height==0||k.width==0?m.push(m[0])-1:m.push(["M",k.x+k.width/2,k.y+k.height/2])-1);var C=r(f,p,y,m,b,w);f=f.slice(0,p).concat(C.start,y===!1?[]:f.slice(y)),m=m.slice(0,b).concat(C.dest,w===!1?[]:m.slice(w)),p=y!==!1&&p+C.start.length,b=w!==!1&&b+C.dest.length}this._array=f,this.destination=new Zs,this.destination._array=m;var S=this.fromArray(f.map((function(A,T){var L=m[T].map((function(M,_){return _===0?M:u.step(A[_],m[T][_],h,x[T],x)}));return L})));return S}})})();const ib=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class v4{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(ib(e));const a=(t?"mouseup":"touchend")+".drag";Da(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Da(window,a,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:a}=this,i=this.el.point(ib(e)),o=i.x-a.x,c=i.y-a.y;if(!o&&!c)return t;const h=t.x+o,u=t.y+c;this.box=new Tt(h,u,t.w,t.h),this.lastClick=i,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(h,u)}move(e,t){this.el.type==="svg"?pi.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Us(window,"mousemove.drag"),Us(window,"touchmove.drag"),Us(window,"mouseup.drag"),Us(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function yx(r,e,t,a=null){return function(i){i.preventDefault(),i.stopPropagation();var o=i.pageX||i.touches[0].pageX,c=i.pageY||i.touches[0].pageY;e.fire(r,{x:o,y:c,event:i,index:a,points:t})}}function wx([r,e],{a:t,b:a,c:i,d:o,e:c,f:h}){return[r*t+e*i+c,r*a+e*o+h]}Ee(Jt,{draggable(r=!0){return(this.remember("_draggable")||new v4(this)).init(r),this}});let hy=class{constructor(r){this.el=r,r.remember("_selectHandler",this),this.selection=new pi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=zl();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.createRot=r.createRot||this.createRotFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.updateRot=r.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const a=this.order[e];this.createHandle.call(this,this.selection,r,e,t,a),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+a).on("mousedown.selection touchstart.selection",yx(a,this.el,this.handlePoints,e))}))}createHandleFn(r){r.polyline()}updateHandleFn(r,e,t,a){const i=a.at(t-1),o=a[(t+1)%a.length],c=e,h=[c[0]-i[0],c[1]-i[1]],u=[c[0]-o[0],c[1]-o[1]],x=Math.sqrt(h[0]*h[0]+h[1]*h[1]),f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),m=[h[0]/x,h[1]/x],p=[u[0]/f,u[1]/f],b=[c[0]-10*m[0],c[1]-10*m[1]],y=[c[0]-10*p[0],c[1]-10*p[1]];r.plot([b,c,y])}updateResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const a=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),r,e,t,a)}))}createRotFn(r){r.line(),r.circle(5)}getPoint(r){return this.handlePoints[this.order.indexOf(r)]}getPointHandle(r){return this.selection.get(this.order.indexOf(r)+1)}updateRotFn(r,e){const t=this.getPoint("t");r.get(0).plot(t[0],t[1],e[0],e[1]),r.get(1).center(e[0],e[1])}createRotationHandle(){const r=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",yx("rot",this.el,this.handlePoints));this.createRot.call(this,r)}updateRotationHandle(){const r=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(r,this.rotationPoint,this.handlePoints)}updatePoints(){const r=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(r).map((t=>wx(t,e))),this.rotationPoint=wx(this.getRotationPoint(r),e)}getHandlePoints({x:r,x2:e,y:t,y2:a,cx:i,cy:o}=this.el.bbox()){return[[r,t],[i,t],[e,t],[e,o],[e,a],[i,a],[r,a],[r,o]]}getRotationPoint({y:r,cx:e}=this.el.bbox()){return[e,r-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const nb=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let a=this.remember("_"+r.name);return a||(e.prototype instanceof hy?(a=new e(this),e=!0):a=new r(this),this.remember("_"+r.name,a)),a.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function jx(r,e,t,a=null){return function(i){i.preventDefault(),i.stopPropagation();var o=i.pageX||i.touches[0].pageX,c=i.pageY||i.touches[0].pageY;e.fire(r,{x:o,y:c,event:i,index:a,points:t})}}function Nx([r,e],{a:t,b:a,c:i,d:o,e:c,f:h}){return[r*t+e*i+c,r*a+e*o+h]}Ee(Jt,{select:nb(hy)}),Ee([Ki,Zi,$i],{pointSelect:nb(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new pi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=zl();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",yx("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>wx(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class uy{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new pi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=zl();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((e,t,a)=>{const i=this.order[t];this.createHandle.call(this,this.selection,e,t,a,i),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",jx(i,this.el,this.handlePoints,t))}))}createHandleFn(e){e.polyline()}updateHandleFn(e,t,a,i){const o=i.at(a-1),c=i[(a+1)%i.length],h=t,u=[h[0]-o[0],h[1]-o[1]],x=[h[0]-c[0],h[1]-c[1]],f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),m=Math.sqrt(x[0]*x[0]+x[1]*x[1]),p=[u[0]/f,u[1]/f],b=[x[0]/m,x[1]/m],y=[h[0]-10*p[0],h[1]-10*p[1]],w=[h[0]-10*b[0],h[1]-10*b[1]];e.plot([y,h,w])}updateResizeHandles(){this.handlePoints.forEach(((e,t,a)=>{const i=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,a,i)}))}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const a=this.getPoint("t");e.get(0).plot(a[0],a[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",jx("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map((a=>Nx(a,t))),this.rotationPoint=Nx(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:a,y2:i,cx:o,cy:c}=this.el.bbox()){return[[e,a],[o,a],[t,a],[t,c],[t,i],[o,i],[e,i],[e,c]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const rb=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let a=this.remember("_"+r.name);return a||(e.prototype instanceof uy?(a=new e(this),e=!0):a=new r(this),this.remember("_"+r.name,a)),a.active(e,t),this};Ee(Jt,{select:rb(uy)}),Ee([Ki,Zi,$i],{pointSelect:rb(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new pi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=zl();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",jx("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>Nx(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const lc=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),lb=r=>{let e=1/0,t=1/0,a=-1/0,i=-1/0;for(let o=0;o<r.length;o++){const c=r[o];e=Math.min(e,c[0]),t=Math.min(t,c[1]),a=Math.max(a,c[0]),i=Math.max(i,c[1])}return new Tt(e,t,a-e,i-t)};class ob{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:a,points:i}=e.detail,o=!t.type.indexOf("mouse");if(o&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(lc(t)),this.index=a,this.points=i.slice();const c=(o?"mousemove":"touchmove")+".resize",h=(o?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Da(window,c,this.movePoint):e.type==="rot"?Da(window,c,this.rotate):Da(window,c,this.resize),Da(window,h,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(lc(e)));let a=t.x-this.startPoint.x,i=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(a*=2,i*=2);const o=this.box.x+a,c=this.box.y+i,h=this.box.x2+a,u=this.box.y2+i;let x=new Tt(this.box);if(this.eventType.includes("l")&&(x.x=Math.min(o,this.box.x2),x.x2=Math.max(o,this.box.x2)),this.eventType.includes("r")&&(x.x=Math.min(h,this.box.x),x.x2=Math.max(h,this.box.x)),this.eventType.includes("t")&&(x.y=Math.min(c,this.box.y2),x.y2=Math.max(c,this.box.y2)),this.eventType.includes("b")&&(x.y=Math.min(u,this.box.y),x.y2=Math.max(u,this.box.y)),x.width=x.x2-x.x,x.height=x.y2-x.y,this.preserveAspectRatio){const f=x.width/this.box.width,m=x.height/this.box.height,p=["lt","t","rt","r","rb","b","lb","l"],b=(p.indexOf(this.eventType)+4)%p.length,y=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[b];let w=this.eventType.includes("t")||this.eventType.includes("b")?m:f;w=this.eventType.length===2?Math.max(f,m):w,x=(function(k,C,S){const A=[[k.x,k.y],[k.x+k.width,k.y],[k.x+k.width,k.y+k.height],[k.x,k.y+k.height]].map((([T,L])=>{const M=T-C[0],_=(L-C[1])*S;return[M*S+C[0],_+C[1]]}));return lb(A)})(this.box,y,w)}this.el.dispatch("resize",{box:new Tt(x),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(x.width,x.height).move(x.x,x.y)}movePoint(e){this.lastEvent=e;const{x:t,y:a}=this.snapToGrid(this.el.point(lc(e))),i=this.el.array().slice();i[this.index]=[t,a],this.el.dispatch("resize",{box:lb(i),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(i)}rotate(e){this.lastEvent=e;const t=this.startPoint,a=this.el.point(lc(e)),{cx:i,cy:o}=this.box,c=t.x-i,h=t.y-o,u=a.x-i,x=a.y-o,f=Math.sqrt(c*c+h*h)*Math.sqrt(u*u+x*x);if(f===0)return;let m=Math.acos((c*u+h*x)/f)/Math.PI*180;if(!m)return;a.x<t.x&&(m=-m);const p=new Te(this.el),{x:b,y}=new it(i,o).transformO(p),{rotate:w}=p.decompose(),k=this.snapToAngle(w+m)-w;this.el.dispatch("resize",{box:this.box,angle:k,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(p.rotateO(k,b,y))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Us(window,"mousemove.resize touchmove.resize"),Us(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Ee(Jt,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof ob?(t=new r(this),r=!0):t=new ob(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=DA),window.Apex===void 0&&(window.Apex={});var cb=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new cr(this.ctx),this.ctx.axes=new UA(this.ctx),this.ctx.core=new p4(this.ctx.el,this.ctx),this.ctx.config=new jl({}),this.ctx.data=new ig(this.ctx),this.ctx.grid=new ty(this.ctx),this.ctx.graphics=new me(this.ctx),this.ctx.coreUtils=new _t(this.ctx),this.ctx.crosshairs=new vx(this.ctx),this.ctx.events=new FA(this.ctx),this.ctx.exports=new xl(this.ctx),this.ctx.fill=new Js(this.ctx),this.ctx.localization=new IA(this.ctx),this.ctx.options=new Gi,this.ctx.responsive=new WA(this.ctx),this.ctx.series=new Ws(this.ctx),this.ctx.theme=new VA(this.ctx),this.ctx.formatters=new Ol(this.ctx),this.ctx.titleSubtitle=new qA(this.ctx),this.ctx.legend=new ay(this.ctx),this.ctx.toolbar=new iy(this.ctx),this.ctx.tooltip=new sb(this.ctx),this.ctx.dimensions=new _c(this.ctx),this.ctx.updateHelpers=new b4(this.ctx),this.ctx.zoomPanSelection=new JA(this.ctx),this.ctx.w.globals.tooltip=new sb(this.ctx)}}]),r})(),db=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(){this.removeClass("*"),this.off()}),!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,a=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!a&&(i.parentNode.parentNode.style.minHeight="unset");var o=this.w.globals.dom.baseEl;o&&this.ctx.eventList.forEach((function(h){o.removeEventListener(h,t.ctx.events.documentEvent)}));var c=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(c.Paper),c.Paper.remove(),c.elWrap=null,c.elGraphical=null,c.elLegendWrap=null,c.elLegendForeign=null,c.baseEl=null,c.elGridRect=null,c.elGridRectMask=null,c.elGridRectBarMask=null,c.elGridRectMarkerMask=null,c.elForecastMask=null,c.elNonForecastMask=null,c.elDefs=null}}]),r})(),Bu=new WeakMap,y4=(function(){function r(e,t){ye(this,r),this.opts=t,this.ctx=this,this.w=new YA(t).init(),this.el=e,this.w.globals.cuid=J.randomId(),this.w.globals.chartID=this.w.config.chart.id?J.escapeString(this.w.config.chart.id):this.w.globals.cuid,new cb(this).initModules(),this.lastUpdateOptions=null,this.create=J.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return we(r,[{key:"render",value:function(){var e=this;return new Promise((function(t,a){if(J.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;typeof i=="function"&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),(function(p,b){var y=!1;if(p.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var w=p.getBoundingClientRect();p.style.display!=="none"&&w.width!==0||(y=!0)}var k=new ResizeObserver((function(C){y&&b.call(p,C),y=!0}));p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(p.children).forEach((function(C){return k.observe(C)})):k.observe(p),Bu.set(b,k)})(e.el.parentNode,e.parentResizeHandler);var o=e.el.getRootNode&&e.el.getRootNode(),c=J.is("ShadowRoot",o),h=e.el.ownerDocument,u=c?o.getElementById("apexcharts-css"):h.getElementById("apexcharts-css");if(!u){var x;(u=document.createElement("style")).id="apexcharts-css",u.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var f=((x=e.opts.chart)===null||x===void 0?void 0:x.nonce)||e.w.config.chart.nonce;f&&u.setAttribute("nonce",f),c?o.prepend(u):e.w.config.chart.injectStyleSheet!==!1&&h.head.appendChild(u)}var m=e.create(e.w.config.series,{});if(!m)return t(e);e.mount(m).then((function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(m)})).catch((function(p){a(p)}))}else a(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var a=this,i=this.w;new cb(this).initModules();var o=this.w.globals;if(o.noData=!1,o.animationEnded=!1,!J.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),i.config.xaxis.convertedCatToNumeric&&new wl(i.config).convertCatToNumericXaxis(i.config,this.ctx),this.core.setupElements(),i.config.chart.type==="treemap"&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),o.svgWidth===0))return o.animationEnded=!0,null;var c=e;e.forEach((function(p,b){p.hidden&&(c=a.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:b}))}));var h=_t.checkComboSeries(c,i.config.chart.type);o.comboCharts=h.comboCharts,o.comboBarCount=h.comboBarCount;var u=c.every((function(p){return p.data&&p.data.length===0}));(c.length===0||u&&o.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(c),this.theme.init(),new xr(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),o.noData&&o.collapsedSeries.length!==o.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),o.axisCharts&&(this.core.coreCalculations(),i.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new _t(this).getLargestMarkerSize(),this.dimensions.plotCoords();var x=this.core.xySettings();this.grid.createGridMask();var f=this.core.plotChartType(c,x),m=new ir(this);return m.bringForward(),i.config.dataLabels.background.enabled&&m.dataLabelsBackground(),this.core.shiftGraphPosition(),i.globals.dataPoints>50&&i.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:f,xyRatios:x,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=this,i=a.w;return new Promise((function(o,c){if(a.el===null)return c(new Error("Not enough data to display or target element not found"));(t===null||i.globals.allSeriesCollapsed)&&a.series.handleNoData(),a.grid=new ty(a);var h,u,x=a.grid.drawGrid();if(a.annotations=new XA(a),a.annotations.drawImageAnnos(),a.annotations.drawTextAnnos(),i.config.grid.position==="back"&&(x&&i.globals.dom.elGraphical.add(x.el),x!=null&&(h=x.elGridBorders)!==null&&h!==void 0&&h.node&&i.globals.dom.elGraphical.add(x.elGridBorders)),Array.isArray(t.elGraph))for(var f=0;f<t.elGraph.length;f++)i.globals.dom.elGraphical.add(t.elGraph[f]);else i.globals.dom.elGraphical.add(t.elGraph);i.config.grid.position==="front"&&(x&&i.globals.dom.elGraphical.add(x.el),x!=null&&(u=x.elGridBorders)!==null&&u!==void 0&&u.node&&i.globals.dom.elGraphical.add(x.elGridBorders)),i.config.xaxis.crosshairs.position==="front"&&a.crosshairs.drawXCrosshairs(),i.config.yaxis[0].crosshairs.position==="front"&&a.crosshairs.drawYCrosshairs(),i.config.chart.type!=="treemap"&&a.axes.drawAxis(i.config.chart.type,x);var m=new Nl(e.ctx,x),p=new ng(e.ctx,x);if(x!==null&&(m.xAxisLabelCorrections(x.xAxisTickWidth),p.setYAxisTextAlignments(),i.config.yaxis.map((function(y,w){i.globals.ignoreYAxisIndexes.indexOf(w)===-1&&p.yAxisTitleRotate(w,y.opposite)}))),a.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&a.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&a.zoomPanSelection.init({xyRatios:t.xyRatios});else{var b=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(y){b[y]=!1}))}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&a.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach((function(y){y.method(y.params,!1,y.context)})),i.globals.axisCharts||i.globals.noData||a.core.resizeNonAxisCharts(),o(a)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(t,a){var i=Bu.get(a);i&&(i.disconnect(),Bu.delete(a))})(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach((function(t,a){t.id===J.escapeString(e)&&Apex._chartInstances.splice(a,1)})),new db(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],c=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],h=this.w;return h.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(u,x){return t.updateHelpers._extendSeries(u,x)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),h.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,a,i,o,c))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,a)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,a)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=this;a.data.resetParsingFlags(),a.w.globals.dataChanged=!0,a.series.getPreviousPaths();for(var i=a.w.config.series.slice(),o=0;o<i.length;o++)if(e[o]!==null&&e[o]!==void 0)for(var c=0;c<e[o].data.length;c++)i[o].data.push(e[o].data[c]);return a.w.config.series=i,t&&(a.w.globals.initialSeries=J.clone(a.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(a,i){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return a(t);t.lastUpdateOptions=J.clone(e),new db(t.ctx).clear({isUpdating:!0});var o=t.create(t.w.config.series,e);if(!o)return a(t);t.mount(o).then((function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,a(t)})).catch((function(c){i(c)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(a){t.push(a)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;a&&(i=a),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;a&&(i=a),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;a&&(i=a),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,a=this;t&&(a=t),a.annotations.removeAnnotation(a,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new bx(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new bx(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new xl(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new xl(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new xl(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=J.escapeString(e);if(Apex._chartInstances){var a=Apex._chartInstances.filter((function(i){return i.id===t}))[0];return a&&a.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var a=this.getChartByID(e);if(a){a.w.globals.isExecCalled=!0;var i=null;if(a.publicMethods.indexOf(t)!==-1){for(var o=arguments.length,c=new Array(o>2?o-2:0),h=2;h<o;h++)c[h-2]=arguments[h];i=a[t].apply(a,c)}return i}}},{key:"merge",value:function(e,t){return J.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),r})(),Xu={exports:{}},Yu,hb;function w4(){if(hb)return Yu;hb=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yu=r,Yu}var Fu,ub;function j4(){if(ub)return Fu;ub=1;var r=w4();function e(){}function t(){}return t.resetWarningCache=e,Fu=function(){function a(c,h,u,x,f,m){if(m!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}a.isRequired=a;function i(){return a}var o={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Fu}var xb;function N4(){return xb||(xb=1,Xu.exports=j4()()),Xu.exports}var S4=N4();const Ks=Cx(S4);function k4(r,e,t){return(e=(function(a){var i=(function(o,c){if(typeof o!="object"||!o)return o;var h=o[Symbol.toPrimitive];if(h!==void 0){var u=h.call(o,c);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(o)})(a,"string");return typeof i=="symbol"?i:i+""})(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Sx(){return Sx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)({}).hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},Sx.apply(null,arguments)}function gb(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),t.push.apply(t,a)}return t}function xy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(t),!0).forEach((function(a){k4(r,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gb(Object(t)).forEach((function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))}))}return r}function Sl(r){return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(r)}var C4=["type","width","height","series","options","chartRef"];function Iu(r){return r&&Sl(r)==="object"&&!Array.isArray(r)}function gy(r,e){var t=xy({},r);return Iu(r)&&Iu(e)&&Object.keys(e).forEach((function(a){Iu(e[a])?t[a]=a in r?gy(r[a],e[a]):e[a]:t[a]=e[a]})),t}function kx(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(r===e)return!0;if(Sl(r)!=="object"||r===null||Sl(e)!=="object"||e===null)return!1;if(t.has(r)||t.has(e))return!0;t.add(r),t.add(e);var a=Object.keys(r),i=Object.keys(e);if(a.length!==i.length)return!1;for(var o=0,c=a;o<c.length;o++){var h=c[o];if(!i.includes(h)||!kx(r[h],e[h],t))return!1}return!0}var A4=["type","series","options","width","height","chartRef"];function fy(r){var e=r.type,t=e===void 0?"line":e,a=r.width,i=a===void 0?"100%":a,o=r.height,c=o===void 0?"auto":o,h=r.series,u=r.options,x=r.chartRef,f=(function(A,T){if(A==null)return{};var L,M,_=(function(H,z){if(H==null)return{};var B={};for(var P in H)if({}.hasOwnProperty.call(H,P)){if(z.includes(P))continue;B[P]=H[P]}return B})(A,T);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(A);for(M=0;M<D.length;M++)L=D[M],T.includes(L)||{}.propertyIsEnumerable.call(A,L)&&(_[L]=A[L])}return _})(r,C4),m=E.useRef(null),p=E.useRef(null),b=E.useRef(null),y=x||b,w=function(){return gy(u,{chart:{type:t,height:c,width:i},series:h})};E.useEffect((function(){return y.current=new y4(m.current,w()),y.current.render(),p.current=u,function(){y.current&&typeof y.current.destroy=="function"&&y.current.destroy()}}),[]),E.useEffect((function(){if(y.current&&y.current.w){var A=!kx(y.current.w.config.series,h),T=!kx(p.current,u)||c!==y.current.opts.chart.height||i!==y.current.opts.chart.width;(A||T)&&(A?T?y.current.updateOptions(w()):y.current.updateSeries(h):y.current.updateOptions(w())),p.current=u}}),[u,h,c,i]);var k,C,S=(k=A4,C=xy({},f),k.forEach((function(A){delete C[A]})),C);return Ue.createElement("div",Sx({ref:m},S))}fy.propTypes={type:Ks.string.isRequired,series:Ks.array.isRequired,options:Ks.object.isRequired,width:Ks.oneOfType([Ks.string,Ks.number]),height:Ks.oneOfType([Ks.string,Ks.number]),chartRef:Ks.shape({current:Ks.any})};const my=({data:r=[],categories:e=[],loading:t=!1})=>{const a=r,i={legend:{show:!0,position:"top",horizontalAlign:"left",fontSize:"14px",fontFamily:"inherit",markers:{width:12,height:12,radius:3},itemMargin:{horizontal:12,vertical:8}},colors:["#3B82F6","#8B5CF6","#10B981"],chart:{fontFamily:"inherit",type:"area",height:310,toolbar:{show:!1},zoom:{enabled:!1}},fill:{type:"gradient",gradient:{enabled:!0,opacityFrom:.55,opacityTo:0,stops:[0,90,100]}},stroke:{curve:"smooth",width:[2.5,2.5,2.5]},markers:{size:0,strokeWidth:0,hover:{size:5}},grid:{borderColor:"#e2e8f0",strokeDashArray:4,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:0,right:10,bottom:0,left:10}},dataLabels:{enabled:!1},tooltip:{enabled:!0,shared:!0,intersect:!1,theme:"light",x:{format:"dd/MM/yyyy"},y:{formatter:function(o){return o.toFixed(0)}}},xaxis:{type:"category",categories:e,labels:{style:{colors:"#64748b",fontSize:"12px"},rotate:-45,rotateAlways:!1},axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}},yaxis:{labels:{style:{colors:"#64748b",fontSize:"12px"},formatter:function(o){return o.toFixed(0)}},title:{style:{fontSize:"0px"}}},responsive:[{breakpoint:768,options:{legend:{position:"bottom"},xaxis:{labels:{rotate:-45}}}}]};return t?s.jsx("div",{className:"flex items-center justify-center h-[310px]",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!r||r.length===0?s.jsx("div",{className:"flex items-center justify-center h-[310px] text-slate-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{children:"Khng c d liu  hin th"}),s.jsx("p",{className:"text-sm mt-2",children:"Vui lng th li sau"})]})}):s.jsx("div",{className:"max-w-full overflow-x-auto",children:s.jsx("div",{className:"min-w-[600px]",children:s.jsx(fy,{type:"area",height:450,options:i,series:a})})})};function T4(){const[r,e]=E.useState(!0),[t,a]=E.useState(null);xa(()=>{i()},[]);const i=async()=>{try{e(!0);const y=await rt.getDashboardOverview();y.success&&a(y.data)}catch(y){console.error("Error loading dashboard:",y),$.error("Khng th ti d liu dashboard")}finally{e(!1)}};if(r)return s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-slate-600",children:"ang ti d liu..."})]})});const o=t?.summary||{},c=t?.popularExams||[],h=t?.charts?.dailyStats||[],u=o.totalExams||0,x=o.freeExams||0,f=o.paidExams||u-x,m=h.map(y=>new Date(y.date).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"})),p=[{name:"Ngi dng mi",data:h.map(y=>y.newUsers||0)},{name:" thi mi",data:h.map(y=>y.newExams||0)},{name:"Lt thi",data:h.map(y=>y.examSessions||0)}],b=[{label:"Tng ngi dng",value:o.totalUsers||0,icon:Bt,color:"bg-blue-500",detail:`${o.totalStudents||0} Hc sinh, ${o.totalTeachers||0} Gio vin`},{label:"Doanh thu",value:yt(o.totalRevenue||0),icon:vi,color:"bg-yellow-500",detail:`${o.totalPurchases||0} Giao dch`},{label:"Tng  thi",value:u,icon:wc,color:"bg-indigo-500",detail:`${x} Min ph, ${f} Tr ph`},{label:"Phin hot ng",value:o.activeSessions||0,icon:Lb,color:"bg-pink-500",detail:"ang online"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard Qun tr"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Tng quan h thng PTIT Quiz"})]}),s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:b.map((y,w)=>{const k=y.icon;return s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:y.label}),s.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-2",children:y.value}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:y.detail})]}),s.jsx("div",{className:`${y.color} rounded-lg p-3 text-white flex items-center justify-center`,children:s.jsx(k,{className:"h-6 w-6"})})]})},w)})}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Thng k 30 ngy gn nht"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Biu  theo di ngi dng mi,  thi mi v lt thi theo ngy"})]}),s.jsx(my,{data:p,categories:m,loading:r})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" thi ph bin"})}),c.length===0?s.jsx("p",{className:"text-center text-slate-500 py-8",children:"Cha c d liu  thi"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-200",children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tn  thi"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"Ph"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"Lt mua"})]})}),s.jsx("tbody",{children:c.map(y=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"font-medium text-slate-800",children:y.title})}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:y.creator?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:y.creator?.email})]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("span",{className:"text-sm font-medium text-green-600",children:yt(y.fee)})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("span",{className:"text-sm font-semibold text-slate-800",children:y.purchase_count})})]},y.id))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(At,{to:"/dashboard/admin/users",className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[s.jsx(Bt,{className:"h-8 w-8 text-red-600 mb-3"}),s.jsx("h3",{className:"font-semibold text-slate-800",children:"Qun l ngi dng"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Thm, sa, xa ngi dng"})]}),s.jsxs(At,{to:"/dashboard/admin/withdrawals",className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[s.jsx(vi,{className:"h-8 w-8 text-red-600 mb-3"}),s.jsx("h3",{className:"font-semibold text-slate-800",children:"Qun l rt tin"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"X l yu cu rt tin"})]}),s.jsxs(At,{to:"/dashboard/admin/reports",className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[s.jsx(Ox,{className:"h-8 w-8 text-red-600 mb-3"}),s.jsx("h3",{className:"font-semibold text-slate-800",children:"Bo co thng k"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Xem bo co h thng"})]}),s.jsxs(At,{to:"/dashboard/admin/reports",className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[s.jsx(wc,{className:"h-8 w-8 text-red-600 mb-3"}),s.jsx("h3",{className:"font-semibold text-slate-800",children:"Phn tch s liu"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Phn tch d liu chi tit"})]})]})]})}function _4(){const[r,e]=E.useState([]),[t,a]=E.useState(!1),[i,o]=E.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=E.useState(""),[u,x]=E.useState(""),[f,m]=E.useState("created_at"),[p,b]=E.useState("DESC"),[y,w]=E.useState(!1),[k,C]=E.useState(!1),[S,A]=E.useState(!1),[T,L]=E.useState(!1),[M,_]=E.useState(null),[D,H]=E.useState(null),[z,B]=E.useState({fullName:"",email:"",password:"",role:"student",balance:0}),[P,W]=E.useState({amount:0,reason:""});E.useEffect(()=>{V()},[i.page,u,f,p]);const V=async()=>{try{a(!0);const ie={page:i.page,limit:i.limit,...u&&{role:u},...c&&{search:c},sortBy:f,order:p},te=await rt.getAllUsers(ie);te.success&&(e(te.data.users),o(te.data.pagination))}catch(ie){console.error("Error loading users:",ie),$.error("Khng th ti danh sch ngi dng")}finally{a(!1)}},Q=ie=>{ie.preventDefault(),o({...i,page:1}),V()},F=async ie=>{ie.preventDefault();try{(await rt.createUser(z)).success&&($.success("To ngi dng thnh cng"),w(!1),ne(),V())}catch(te){console.error("Error creating user:",te),$.error(te.body?.message||"Khng th to ngi dng")}},q=async ie=>{ie.preventDefault();try{const{password:te,...ve}=z;(await rt.updateUser(M.id,ve)).success&&($.success("Cp nht ngi dng thnh cng"),C(!1),ne(),V())}catch(te){console.error("Error updating user:",te),$.error(te.body?.message||"Khng th cp nht ngi dng")}},I=async ie=>{if(window.confirm(`Bn c chc chn mun xa ngi dng "${ie.fullName}"?`))try{(await rt.deleteUser(ie.id)).success&&($.success("Xa ngi dng thnh cng"),V())}catch(te){console.error("Error deleting user:",te),$.error(te.body?.message||"Khng th xa ngi dng")}},G=async ie=>{ie.preventDefault();try{(await rt.adjustUserBalance(M.id,P)).success&&($.success("iu chnh s d thnh cng"),A(!1),W({amount:0,reason:""}),V())}catch(te){console.error("Error adjusting balance:",te),$.error(te.body?.message||"Khng th iu chnh s d")}},Y=async ie=>{try{const te=await rt.getUserById(ie.id);te.success&&(H(te.data),L(!0))}catch(te){console.error("Error loading user detail:",te),$.error("Khng th ti thng tin chi tit")}},O=ie=>{_(ie),B({fullName:ie.fullName,email:ie.email,role:ie.role,balance:parseFloat(ie.balance)||0}),C(!0)},U=ie=>{_(ie),W({amount:0,reason:""}),A(!0)},ne=()=>{B({fullName:"",email:"",password:"",role:"student",balance:0}),_(null)},K=ie=>{switch(ie){case"admin":return"bg-red-100 text-red-700";case"teacher":return"bg-blue-100 text-blue-700";case"student":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},ue=ie=>{switch(ie){case"admin":return"Qun tr vin";case"teacher":return"Gio vin";case"student":return"Hc sinh";default:return ie}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l ngi dng"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Qun l tt c ngi dng trong h thng"})]}),s.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition",children:[s.jsx(yi,{className:"h-5 w-5"}),s.jsx("span",{children:"Thm ngi dng"})]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("form",{onSubmit:Q,className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",value:c,onChange:ie=>h(ie.target.value),placeholder:"Tm kim theo tn hoc email...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),s.jsxs("select",{value:u,onChange:ie=>{x(ie.target.value),o({...i,page:1})},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"Tt c vai tr"}),s.jsx("option",{value:"student",children:"Hc sinh"}),s.jsx("option",{value:"teacher",children:"Gio vin"}),s.jsx("option",{value:"admin",children:"Qun tr vin"})]}),s.jsxs("select",{value:f,onChange:ie=>m(ie.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"created_at",children:"Ngy to"}),s.jsx("option",{value:"last_login",children:"ng nhp gn nht"}),s.jsx("option",{value:"balance",children:"S d"})]}),s.jsxs("select",{value:p,onChange:ie=>b(ie.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"DESC",children:"Gim dn"}),s.jsx("option",{value:"ASC",children:"Tng dn"})]}),s.jsx("button",{type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition",children:"Tm kim"})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Khng tm thy ngi dng no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"H v tn"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Email"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Vai tr"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"S d"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),s.jsx("tbody",{children:r.map(ie=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",ie.id]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"font-medium text-slate-800",children:ie.fullName})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:ie.email}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${K(ie.role)}`,children:ue(ie.role)})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("span",{className:"font-medium text-green-600",children:yt(ie.balance)})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(ie.created_at)}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>Y(ie),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Xem chi tit",children:s.jsx(Cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>U(ie),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"iu chnh s d",children:s.jsx(vi,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>O(ie),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",title:"Chnh sa",children:s.jsx(Oa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>I(ie),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:s.jsx(cs,{className:"h-4 w-4"})})]})})]},ie.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," ngi dng"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),s.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Thm ngi dng mi"}),s.jsx("button",{onClick:()=>{w(!1),ne()},className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["H v tn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:z.fullName,onChange:ie=>B({...z,fullName:ie.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",required:!0,value:z.email,onChange:ie=>B({...z,email:ie.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Mt khu ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",required:!0,value:z.password,onChange:ie=>B({...z,password:ie.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Vai tr ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:z.role,onChange:ie=>B({...z,role:ie.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"student",children:"Hc sinh"}),s.jsx("option",{value:"teacher",children:"Gio vin"}),s.jsx("option",{value:"admin",children:"Qun tr vin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"S d ban u"}),s.jsx("input",{type:"number",value:z.balance,onChange:ie=>B({...z,balance:parseFloat(ie.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{w(!1),ne()},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"To ngi dng"})]})]})]})}),k&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chnh sa ngi dng"}),s.jsx("button",{onClick:()=>{C(!1),ne()},className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["H v tn ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:z.fullName,onChange:ie=>B({...z,fullName:ie.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",required:!0,value:z.email,onChange:ie=>B({...z,email:ie.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Vai tr ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:z.role,onChange:ie=>B({...z,role:ie.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"student",children:"Hc sinh"}),s.jsx("option",{value:"teacher",children:"Gio vin"}),s.jsx("option",{value:"admin",children:"Qun tr vin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"S d"}),s.jsx("input",{type:"number",value:z.balance,onChange:ie=>B({...z,balance:parseFloat(ie.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{C(!1),ne()},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Cp nht"})]})]})]})}),S&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"iu chnh s d"}),s.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Ngi dng:"}),s.jsx("p",{className:"font-semibold text-slate-800",children:M.fullName}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"S d hin ti:"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:yt(M.balance)})]}),s.jsxs("form",{onSubmit:G,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["S tin iu chnh ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,value:P.amount,onChange:ie=>W({...P,amount:parseFloat(ie.target.value)||0}),placeholder:"Nhp s dng  cng, s m  tr",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"V d: 100  cng thm, -50  tr i"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["L do ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{required:!0,value:P.reason,onChange:ie=>W({...P,reason:ie.target.value}),rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Nhp l do iu chnh s d..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Xc nhn"})]})]})]})}),T&&D&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chi tit ngi dng"}),s.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"ID"}),s.jsxs("p",{className:"font-semibold",children:["#",D.user.id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Vai tr"}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${K(D.user.role)}`,children:ue(D.user.role)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"H v tn"}),s.jsx("p",{className:"font-semibold",children:D.user.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Email"}),s.jsx("p",{className:"font-semibold",children:D.user.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"S d"}),s.jsx("p",{className:"font-semibold text-green-600",children:yt(D.user.balance)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Ngy to"}),s.jsx("p",{className:"font-semibold",children:gt(D.user.created_at)})]})]}),D.statistics&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Thng k"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-600",children:"S ln mua"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:D.statistics.purchaseCount})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-600",children:"Tng chi tiu"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:yt(D.statistics.totalSpent)})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-purple-600",children:"S bi  lm"}),s.jsx("p",{className:"text-2xl font-bold text-purple-700",children:D.statistics.examsTaken})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-yellow-600",children:"im trung bnh"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:D.statistics.avgScore})]})]})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>L(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})})]})}function E4(){const[r,e]=E.useState([]),[t,a]=E.useState(!1),[i,o]=E.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=E.useState(""),[u,x]=E.useState(""),[f,m]=E.useState(""),[p,b]=E.useState("created_at"),[y,w]=E.useState("DESC"),[k,C]=E.useState(!1),[S,A]=E.useState(!1),[T,L]=E.useState(!1),[M,_]=E.useState(null),[D,H]=E.useState([]),[z,B]=E.useState({title:"",des:"",minutes:60,total_score:100,is_paid:!1,fee:0,is_public:!0});E.useEffect(()=>{P()},[i.page,u,f,p,y]);const P=async()=>{try{a(!0);const Y={page:i.page,limit:i.limit,...u&&{is_paid:u==="true"},...f&&{is_public:f==="true"},...c&&{search:c},sortBy:p,order:y},O=await rt.getAllExams(Y);O.success&&(e(O.data.exams),o(O.data.pagination))}catch(Y){console.error("Error loading exams:",Y),$.error("Khng th ti danh sch  thi")}finally{a(!1)}},W=Y=>{Y.preventDefault(),o({...i,page:1}),P()},V=async Y=>{try{const O=await rt.getExamById(Y.id);O.success&&(_(O.data),C(!0))}catch(O){console.error("Error loading exam detail:",O),$.error("Khng th ti thng tin chi tit")}},Q=async Y=>{try{const O=await rt.getExamResults(Y.id);O.success&&(H(O.data.results),_(Y),L(!0))}catch(O){console.error("Error loading exam results:",O),$.error("Khng th ti kt qu thi")}},F=Y=>{_(Y),B({title:Y.title,des:Y.des||"",minutes:Y.minutes,total_score:Y.total_score,is_paid:Y.is_paid,fee:parseFloat(Y.fee)||0,is_public:Y.is_public}),A(!0)},q=async Y=>{Y.preventDefault();try{(await rt.updateExam(M.id,z)).success&&($.success("Cp nht  thi thnh cng"),A(!1),P())}catch(O){console.error("Error updating exam:",O),$.error(O.body?.message||"Khng th cp nht  thi")}},I=async Y=>{if(window.confirm(`Bn c chc chn mun xa  thi "${Y.title}"? Hnh ng ny khng th hon tc.`))try{(await rt.deleteExam(Y.id)).success&&($.success("Xa  thi thnh cng"),P())}catch(O){console.error("Error deleting exam:",O),$.error(O.body?.message||"Khng th xa  thi")}},G=Y=>{const O=new Date,U=new Date(Y.start_time),ne=new Date(Y.end_time);return O<U?{label:"Sp din ra",class:"bg-blue-100 text-blue-700"}:O>=U&&O<=ne?{label:"ang din ra",class:"bg-green-100 text-green-700"}:{label:" kt thc",class:"bg-slate-100 text-slate-700"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l  thi"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Xem v qun l tt c  thi trong h thng"})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("form",{onSubmit:W,className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",value:c,onChange:Y=>h(Y.target.value),placeholder:"Tm kim theo tiu ...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),s.jsxs("select",{value:u,onChange:Y=>{x(Y.target.value),o({...i,page:1})},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"Tt c loi"}),s.jsx("option",{value:"true",children:"Tr ph"}),s.jsx("option",{value:"false",children:"Min ph"})]}),s.jsxs("select",{value:f,onChange:Y=>{m(Y.target.value),o({...i,page:1})},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"Tt c quyn truy cp"}),s.jsx("option",{value:"true",children:"Cng khai"}),s.jsx("option",{value:"false",children:"Ring t"})]}),s.jsxs("select",{value:p,onChange:Y=>b(Y.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"created_at",children:"Ngy to"}),s.jsx("option",{value:"start_time",children:"Thi gian bt u"})]}),s.jsxs("select",{value:y,onChange:Y=>w(Y.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"DESC",children:"Mi nht"}),s.jsx("option",{value:"ASC",children:"C nht"})]}),s.jsx("button",{type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition",children:"Tm kim"})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Khng tm thy  thi no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tiu "}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Lp hc"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Trng thi"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"Ph"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Lt np"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),s.jsx("tbody",{children:r.map(Y=>{const O=G(Y);return s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",Y.id]}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"font-medium text-slate-800",children:Y.title}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(bi,{className:"h-3 w-3"}),Y.minutes," pht"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[Y.total_score," im"]})]})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm text-slate-600",children:Y.creator?.fullName})}),s.jsx("td",{className:"py-3 px-4",children:Y.class?s.jsx("p",{className:"text-sm text-slate-600",children:Y.class.className}):s.jsx("span",{className:"text-xs text-slate-400 italic",children:"Cng khai"})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${O.class}`,children:O.label})}),s.jsx("td",{className:"py-3 px-4 text-right",children:Y.is_paid?s.jsx("span",{className:"text-sm font-medium text-green-600",children:yt(Y.fee)}):s.jsx("span",{className:"text-sm text-slate-500",children:"Min ph"})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:"text-sm font-semibold text-slate-800",children:Y.submission_count||0})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>V(Y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Xem chi tit",children:s.jsx(Cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>Q(Y),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition",title:"Xem kt qu",children:s.jsx(Al,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>F(Y),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",title:"Chnh sa",children:s.jsx(Oa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>I(Y),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:s.jsx(cs,{className:"h-4 w-4"})})]})})]},Y.id)})})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total,"  thi"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),s.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),k&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chi tit  thi"}),s.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Thng tin c bn"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Tiu "}),s.jsx("p",{className:"font-semibold",children:M.exam.title})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Gio vin"}),s.jsx("p",{className:"font-semibold",children:M.exam.creator?.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Thi gian"}),s.jsxs("p",{className:"font-semibold",children:[M.exam.minutes," pht"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Tng im"}),s.jsx("p",{className:"font-semibold",children:M.exam.total_score})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Bt u"}),s.jsx("p",{className:"font-semibold",children:gt(M.exam.start_time)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Kt thc"}),s.jsx("p",{className:"font-semibold",children:gt(M.exam.end_time)})]})]}),M.exam.des&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"M t"}),s.jsx("p",{className:"text-slate-800 mt-1",children:M.exam.des})]})]}),M.statistics&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Thng k"}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-600",children:"Lt np"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:M.statistics.submissionCount})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-green-600",children:"Lt mua"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:M.statistics.purchaseCount})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-purple-600",children:"im TB"}),s.jsx("p",{className:"text-2xl font-bold text-purple-700",children:M.statistics.avgScore})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-yellow-600",children:"Doanh thu"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:yt(M.statistics.revenue)})]})]})]}),M.exam.questions&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4",children:["Cu hi (",M.exam.questions.length,")"]}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:M.exam.questions.map((Y,O)=>s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[s.jsxs("p",{className:"font-medium text-slate-800",children:["Cu ",O+1,": ",Y.question_text]}),Y.answers&&Y.answers.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:Y.answers.map(U=>s.jsxs("div",{className:`text-sm ${U.is_correct?"text-green-600 font-medium":"text-slate-600"}`,children:[U.is_correct?"":""," ",U.text]},U.id))})]},Y.id))})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>C(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})}),S&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chnh sa  thi"}),s.jsx("button",{onClick:()=>A(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Tiu  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:z.title,onChange:Y=>B({...z,title:Y.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"M t"}),s.jsx("textarea",{value:z.des,onChange:Y=>B({...z,des:Y.target.value}),rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Thi gian (pht) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,value:z.minutes,onChange:Y=>B({...z,minutes:parseInt(Y.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Tng im ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,value:z.total_score,onChange:Y=>B({...z,total_score:parseInt(Y.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:z.is_paid,onChange:Y=>B({...z,is_paid:Y.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-slate-700",children:"Tr ph"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:z.is_public,onChange:Y=>B({...z,is_public:Y.target.checked}),className:"rounded"}),s.jsx("span",{className:"text-sm text-slate-700",children:"Cng khai"})]})]}),z.is_paid&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Ph ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,value:z.fee,onChange:Y=>B({...z,fee:parseFloat(Y.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Cp nht"})]})]})]})}),T&&M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-800",children:["Kt qu thi: ",M.title]}),s.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),D.length===0?s.jsx("p",{className:"text-center text-slate-500 py-8",children:"Cha c kt qu no"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Hc sinh"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"im"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"ng/Sai"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"%"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Thi gian np"})]})}),s.jsx("tbody",{children:D.map(Y=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"font-medium text-slate-800",children:Y.student?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:Y.student?.email})]}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:"font-bold text-lg text-slate-800",children:Y.total_score})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs("span",{className:"text-sm text-slate-600",children:[Y.correct_count," / ",Y.wrong_count]})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs("span",{className:`font-semibold ${Y.percentage>=80?"text-green-600":Y.percentage>=50?"text-yellow-600":"text-red-600"}`,children:[Y.percentage.toFixed(1),"%"]})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(Y.submitted_at)})]},Y.id))})]})}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>L(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})})]})}function M4(){const[r,e]=E.useState([]),[t,a]=E.useState(!1),[i,o]=E.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=E.useState(""),[u,x]=E.useState(!1),[f,m]=E.useState(null),[p,b]=E.useState([]);E.useEffect(()=>{y()},[i.page]);const y=async()=>{try{a(!0);const S={page:i.page,limit:i.limit,...c&&{search:c}},A=await rt.getAllClasses(S);A.success&&(e(A.data.classes),o(A.data.pagination))}catch(S){console.error("Error loading classes:",S),$.error("Khng th ti danh sch lp hc")}finally{a(!1)}},w=S=>{S.preventDefault(),o({...i,page:1}),y()},k=async S=>{try{const A=await rt.getClassById(S.id);A.success&&(m(A.data),b(A.data.students||[]),x(!0))}catch(A){console.error("Error loading class detail:",A),$.error("Khng th ti thng tin chi tit")}},C=async S=>{if(window.confirm(`Bn c chc chn mun xa lp "${S.className}"?`))try{(await rt.deleteClass(S.id)).success&&($.success("Xa lp hc thnh cng"),y())}catch(A){console.error("Error deleting class:",A),$.error(A.body?.message||"Khng th xa lp hc")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l lp hc"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Xem v qun l tt c lp hc trong h thng"})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("form",{onSubmit:w,className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",value:c,onChange:S=>h(S.target.value),placeholder:"Tm kim theo tn lp...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsx("button",{type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition",children:"Tm kim"})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Khng tm thy lp hc no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tn lp"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"M lp"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"S hc sinh"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),s.jsx("tbody",{children:r.map(S=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",S.id]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"font-medium text-slate-800",children:S.className})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("code",{className:"text-sm bg-slate-100 px-2 py-1 rounded",children:S.classCode})}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:S.teacher?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:S.teacher?.email})]}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs("span",{className:"inline-flex items-center gap-1 text-sm font-semibold text-slate-800",children:[s.jsx(Bt,{className:"h-4 w-4"}),S.studentCount||0]})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(S.created_at)}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>k(S),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Xem chi tit",children:s.jsx(Cs,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>C(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:s.jsx(cs,{className:"h-4 w-4"})})]})})]},S.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," lp hc"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),s.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),u&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chi tit lp hc"}),s.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Tn lp"}),s.jsx("p",{className:"font-semibold",children:f.className})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"M lp"}),s.jsx("code",{className:"text-sm bg-slate-100 px-2 py-1 rounded",children:f.classCode})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Gio vin"}),s.jsx("p",{className:"font-semibold",children:f.teacher?.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Ngy to"}),s.jsx("p",{className:"font-semibold",children:gt(f.created_at)})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4",children:["Danh sch hc sinh (",p.length,")"]}),p.length===0?s.jsx("p",{className:"text-center text-slate-500 py-4",children:"Cha c hc sinh no"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-600",children:"H v tn"}),s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-600",children:"Email"}),s.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-600",children:"Ngy tham gia"})]})}),s.jsx("tbody",{children:p.map(S=>s.jsxs("tr",{className:"border-b border-slate-100",children:[s.jsx("td",{className:"py-2 px-3 text-sm",children:S.fullName}),s.jsx("td",{className:"py-2 px-3 text-sm text-slate-600",children:S.email}),s.jsx("td",{className:"py-2 px-3 text-sm text-slate-600",children:gt(S.Class_student?.joined_at)})]},S.id))})]})})]})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})})]})}function L4(){const[r,e]=E.useState([]),[t,a]=E.useState(!1),[i,o]=E.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=E.useState(null),[u,x]=E.useState(!1),[f,m]=E.useState(null),[p,b]=E.useState({amount:0,reason:""});E.useEffect(()=>{y()},[i.page]);const y=async()=>{try{a(!0);const C={page:i.page,limit:i.limit},S=await rt.getAllPurchases(C);S.success&&(e(S.data.purchases),o(S.data.pagination),h(S.data.summary))}catch(C){console.error("Error loading purchases:",C),$.error("Khng th ti danh sch giao dch")}finally{a(!1)}},w=C=>{m(C),b({amount:parseFloat(C.purchase_price)||0,reason:""}),x(!0)},k=async C=>{C.preventDefault();try{(await rt.refundPurchase(f.id,p)).success&&($.success("Hon tin thnh cng"),x(!1),y())}catch(S){console.error("Error refunding purchase:",S),$.error(S.body?.message||"Khng th hon tin")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l giao dch"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Xem v qun l tt c giao dch mua  thi"})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Tng giao dch"}),s.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-2",children:c.totalPurchases})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Tng doanh thu"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:yt(c.totalRevenue)})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Gi tr trung bnh"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:yt(c.avgPurchaseValue)})]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Khng c giao dch no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngi mua"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:" thi"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"Gi"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy mua"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),s.jsx("tbody",{children:r.map(C=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",C.id]}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-slate-800",children:C.user?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:C.user?.email})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm font-medium text-slate-800",children:C.exam?.title})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm text-slate-600",children:C.exam?.creator?.fullName})}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("span",{className:"text-sm font-medium text-green-600",children:yt(C.purchase_price)})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(C.purchase_date)}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("button",{onClick:()=>w(C),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition",title:"Hon tin",children:s.jsx(Mj,{className:"h-4 w-4"})})})})]},C.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," giao dch"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),s.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),u&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Hon tin"}),s.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Giao dch:"}),s.jsxs("p",{className:"font-semibold text-slate-800",children:[f.user?.fullName," mua"," ",f.exam?.title]}),s.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Gi mua:"}),s.jsx("p",{className:"text-lg font-bold text-green-600",children:yt(f.purchase_price)})]}),s.jsxs("form",{onSubmit:k,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["S tin hon ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",required:!0,value:p.amount,onChange:C=>b({...p,amount:parseFloat(C.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["L do hon tin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{required:!0,value:p.reason,onChange:C=>b({...p,reason:C.target.value}),rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Nhp l do hon tin..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Xc nhn hon tin"})]})]})]})})]})}function z4(){const[r,e]=E.useState([]),[t,a]=E.useState(!1),[i,o]=E.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=E.useState(null),[u,x]=E.useState(""),[f,m]=E.useState(""),[p,b]=E.useState("created_at"),[y,w]=E.useState("DESC"),[k,C]=E.useState(""),[S,A]=E.useState(""),[T,L]=E.useState(!1),[M,_]=E.useState(!1),[D,H]=E.useState(null),[z,B]=E.useState(null),[P,W]=E.useState({status:"",note:""});E.useEffect(()=>{V()},[i.page,f,p,y,k,S]);const V=async()=>{try{a(!0);const O={page:i.page,limit:i.limit,...f&&{status:f},...u&&{search:u},sortBy:p,order:y,...k&&{fromDate:k},...S&&{toDate:S}},U=await rt.getWithdrawals(O);U.success?(e(U.data.withdrawals||[]),o(U.data.pagination||i),h(U.data.summary||null)):$.error(U.message||"Khng th ti danh sch rt tin")}catch(O){console.error("Error loading withdrawals:",O);const U=O.body?.message||O.message||"Khng th ti danh sch rt tin";$.error(U),e([]),h(null)}finally{a(!1)}},Q=O=>{O.preventDefault(),o({...i,page:1}),V()},F=O=>{H(O),W({status:O.status==="pending"?"approved":O.status,note:""}),L(!0)},q=async O=>{if(O.preventDefault(),P.status==="rejected"&&!P.note.trim()){$.error("Vui lng nhp l do t chi");return}try{let U;P.status==="approved"?U=await rt.approveWithdrawal(D.id,{admin_note:P.note}):P.status==="rejected"&&(U=await rt.rejectWithdrawal(D.id,{reject_reason:P.note})),U.success&&($.success(P.status==="approved"?" duyt yu cu rt tin thnh cng":" t chi yu cu rt tin"),L(!1),W({status:"",note:""}),V())}catch(U){console.error("Error updating withdrawal:",U),$.error(U.body?.message||"Khng th cp nht yu cu rt tin")}},I=async O=>{try{const U=await rt.getWithdrawalById(O.id);U.success&&(B(U.data),_(!0))}catch(U){console.error("Error loading withdrawal detail:",U),$.error("Khng th ti thng tin chi tit")}},G=()=>{x(""),m(""),C(""),A(""),b("created_at"),w("DESC"),o({...i,page:1})},Y=O=>{const U={pending:{label:"Ch x l",badge:"bg-yellow-50 text-yellow-600",dot:"bg-yellow-500"},approved:{label:" chuyn tin",badge:"bg-green-50 text-green-600",dot:"bg-green-500"},rejected:{label:"T chi",badge:"bg-red-50 text-red-600",dot:"bg-red-500"}};return U[O]||U.pending};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l rt tin"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Xem v x l cc yu cu rt tin t gio vin"})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Ch x l"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-2",children:c.totalPending||0}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:yt(c.totalAmountPending||0)})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:" chuyn tin"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:c.totalApproved||0}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:yt(c.totalAmountApproved||0)})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"T chi"}),s.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:c.totalRejected||0})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(fl,{className:"h-5 w-5 text-slate-600"}),s.jsx("h3",{className:"font-semibold text-slate-800",children:"B lc"})]}),s.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"md:col-span-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tm kim"}),s.jsxs("div",{className:"relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",value:u,onChange:O=>x(O.target.value),placeholder:"Nhp email gio vin...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Trng thi"}),s.jsxs("select",{value:f,onChange:O=>{m(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"Tt c"}),s.jsx("option",{value:"pending",children:"Ch x l"}),s.jsx("option",{value:"approved",children:" chuyn tin"}),s.jsx("option",{value:"rejected",children:"T chi"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"T ngy"}),s.jsx("input",{type:"date",value:k,max:S||void 0,onChange:O=>{C(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"n ngy"}),s.jsx("input",{type:"date",value:S,min:k||void 0,onChange:O=>{A(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Sp xp theo"}),s.jsxs("select",{value:p,onChange:O=>{b(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"created_at",children:"Ngy to"}),s.jsx("option",{value:"amount",children:"S tin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Th t"}),s.jsxs("select",{value:y,onChange:O=>{w(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"DESC",children:"Tng dn"}),s.jsx("option",{value:"ASC",children:"Gim dn"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[s.jsx(sa,{className:"h-4 w-4"}),"Tm kim"]}),s.jsx("button",{type:"button",onClick:G,className:"px-6 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"t li"})]})]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Khng c yu cu rt tin no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"S tin"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Thng tin ngn hng"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Trng thi"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy yu cu"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Hnh ng"})]})}),s.jsx("tbody",{children:r.map(O=>{const U=Y(O.status);return s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 font-medium text-slate-800",children:["#",O.id]}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"font-medium text-slate-800",children:O.user?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:O.user?.email})]}),s.jsx("td",{className:"py-3 px-4 text-right",children:s.jsx("p",{className:"font-bold text-green-600",children:yt(O.amount)})}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[O.bankName," - ",O.bankAccountNumber]}),s.jsx("p",{className:"text-xs text-slate-500",children:O.bankAccountName})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${U.badge}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${U.dot}`}),U.label]})})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(O.created_at)}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>F(O),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition",title:"Chnh sa",children:s.jsx(Hb,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>I(O),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Xem chi tit",children:s.jsx(Cs,{className:"h-4 w-4"})})]})})]},O.id)})})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," yu cu"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Trc"}),s.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Sau"})]})]})]})}),T&&D&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chnh sa yu cu rt tin"}),s.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"H tn:"}),s.jsx("p",{className:"font-semibold text-slate-800",children:D.user?.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Gmail:"}),s.jsx("p",{className:"font-medium text-slate-800",children:D.user?.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"S ti khon ngn hng:"}),s.jsxs("p",{className:"font-medium text-slate-800",children:[D.bankName," - ",D.bankAccountNumber]}),s.jsx("p",{className:"text-sm text-slate-500",children:D.bankAccountName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"S tin rt:"}),s.jsx("p",{className:"text-xl font-bold text-green-600",children:yt(D.amount)})]})]}),s.jsxs("form",{onSubmit:q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Trng thi ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:P.status,onChange:O=>W({...P,status:O.target.value,note:""}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"approved",children:"Duyt"}),s.jsx("option",{value:"rejected",children:"T chi"})]})]}),P.status==="approved"&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-800 mb-2",children:'Ch xc nhn "Duyt" khi  CHUYN TIN THNH CNG'})}),P.status&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[P.status==="approved"?"Ghi ch (ty chn)":"L do t chi",P.status==="rejected"&&s.jsx("span",{className:"text-red-500",children:" *"})]}),s.jsx("textarea",{required:P.status==="rejected",value:P.note,onChange:O=>W({...P,note:O.target.value}),rows:"3",className:`w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 ${P.status==="approved"?"focus:ring-green-500":"focus:ring-red-500"}`,placeholder:P.status==="approved"?"VD:  chuyn lc 10:30 ngy 25/12/2025...":"VD: Thng tin ngn hng khng chnh xc..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>L(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),s.jsx("button",{type:"submit",disabled:!P.status,className:`flex-1 px-4 py-2 rounded-lg transition font-medium text-white ${P.status?P.status==="approved"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700":"bg-slate-400 cursor-not-allowed"}`,children:"Xc nhn"})]})]})]})}),M&&z&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chi tit yu cu rt tin"}),s.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"ID yu cu"}),s.jsxs("p",{className:"font-semibold text-slate-800",children:["#",z.id]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Trng thi"}),s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${Y(z.status).badge}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Y(z.status).dot}`}),Y(z.status).label]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Thng tin gio vin"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"H tn"}),s.jsx("p",{className:"font-medium text-slate-800",children:z.user?.fullName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Email"}),s.jsx("p",{className:"font-medium text-slate-800",children:z.user?.email})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Thng tin rt tin"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"S tin"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:yt(z.amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Ngn hng"}),s.jsx("p",{className:"font-medium text-slate-800",children:z.bankName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"S ti khon"}),s.jsx("p",{className:"font-medium text-slate-800",children:z.bankAccountNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Tn ch ti khon"}),s.jsx("p",{className:"font-medium text-slate-800",children:z.bankAccountName})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Thng tin x l"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Ngy yu cu"}),s.jsx("p",{className:"font-medium text-slate-800",children:gt(z.created_at)})]}),z.processed_at&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Cp nht gn nht"}),s.jsx("p",{className:"font-medium text-slate-800",children:gt(z.processed_at)})]}),z.processedBy&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Ngi x l"}),s.jsxs("p",{className:"font-medium text-slate-800",children:[z.processedBy.fullName," (",z.processedBy.email,")"]})]})]}),z.admin_note&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"Ghi ch admin"}),s.jsx("p",{className:"font-medium text-slate-800",children:z.admin_note})]}),z.reject_reason&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-600",children:"L do t chi"}),s.jsx("p",{className:"font-medium text-red-600",children:z.reject_reason})]})]})]})]}),s.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:s.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})})]})}const D4=({data:r=[],categories:e=[],color:t="#465fff",title:a="Bar Chart",height:i=240,showTrend:o=!1,trendColor:c="#ef4444"})=>{const u=i-40,x="min(36px, 90%)",f="4px",m=r.map(T=>Number(T)||0),p=Math.max(...m,0),y=(T=>{if(T===0)return 0;const L=Math.pow(10,Math.floor(Math.log10(T)));return Math.ceil(T/L)*L})(p),w=()=>{const T=[];for(let L=0;L<5;L++)T.push(y-y/4*L);return T},k=T=>{if(T>=1e6){const L=T/1e6;return L%1===0?`${L}M`:`${L.toFixed(1)}M`}if(T>=1e3){const L=T/1e3;return L%1===0?`${L}K`:`${L.toFixed(1)}K`}return Math.round(T).toString()},C=w(),A=(()=>{if(!o||m.length<2)return[];const T=[],L=100/m.length;return m.forEach((M,_)=>{const D=y>0?M/y*100:0,H=(_+.5)*L,z=100-D;T.push({x:H,y:z,value:M})}),T})();return s.jsxs("div",{className:"w-full bg-white rounded-lg p-4",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-6",children:a}),s.jsxs("div",{className:"relative",style:{height:`${i}px`},children:[s.jsx("div",{className:"absolute left-0 top-0 w-12",style:{height:`${u}px`},children:C.map((T,L)=>s.jsx("div",{className:"absolute right-2 text-xs text-slate-500",style:{top:`${L/4*100}%`,transform:"translateY(-50%)"},children:k(T)},L))}),s.jsx("div",{className:"absolute left-12 right-0 top-0",style:{height:`${u}px`},children:C.map((T,L)=>s.jsx("div",{className:"absolute left-0 right-0 h-px bg-slate-200",style:{top:`${L/4*100}%`}},L))}),s.jsx("div",{className:"absolute left-12 right-0 top-0 flex items-end gap-2",style:{height:`${u}px`},children:m.map((T,L)=>{const M=y>0?T/y*100:0;return s.jsx("div",{className:"flex-1 relative group flex justify-center",style:{height:"100%"},children:s.jsx("div",{className:"absolute bottom-0 rounded-t transition-all hover:opacity-80 cursor-pointer",style:{height:`${M}%`,backgroundColor:t,minHeight:T>0?f:"0",width:x},children:s.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-2 py-1 rounded text-xs font-semibold opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10",children:T.toLocaleString()})})},L)})}),o&&A.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("svg",{className:"absolute left-12 right-0 top-0 pointer-events-none",style:{height:`${u}px`,width:"calc(100% - 48px)"},preserveAspectRatio:"none",viewBox:"0 0 100 100",children:A.map((T,L)=>{if(L===A.length-1)return null;const M=A[L+1];return s.jsx("line",{x1:T.x,y1:T.y,x2:M.x,y2:M.y,stroke:c,strokeWidth:"0.8",strokeLinecap:"round"},`line-${L}`)})}),s.jsx("div",{className:"absolute left-12 right-0 top-0 pointer-events-none",style:{height:`${u}px`},children:A.map((T,L)=>s.jsx("div",{className:"absolute rounded-full",style:{left:`${T.x}%`,top:`${T.y}%`,width:"6px",height:"6px",backgroundColor:c,border:"1.5px solid white",transform:"translate(-50%, -50%)",boxShadow:"0 0 0 1px rgba(0,0,0,0.1)"}},`dot-${L}`))})]}),s.jsx("div",{className:"absolute left-12 right-0 flex gap-2",style:{top:`${u+8}px`},children:e.map((T,L)=>s.jsx("div",{className:"flex-1 text-center",children:s.jsx("span",{className:"text-xs text-slate-600",children:T})},L))})]})]})},R4=[{value:"today",label:"Hm nay"},{value:"7days",label:"7 ngy qua"},{value:"30days",label:"30 ngy qua"}],O4={green:"text-green-600",red:"text-red-600",purple:"text-purple-600",blue:"text-blue-600"},H4=r=>O4[r]||"text-slate-600",Ec={DEPOSIT:"deposit",WITHDRAW:"withdraw"},P4={[Ec.DEPOSIT]:{label:"Np Tin",badge:"bg-green-50 text-green-600"},[Ec.WITHDRAW]:{label:"Rt Tin",badge:"bg-red-50 text-red-600"}};function B4(){const[r,e]=E.useState("revenue"),[t,a]=E.useState(!1),[i,o]=E.useState("30days"),[c,h]=E.useState(2025),[u,x]=E.useState(!1),[f,m]=E.useState(""),[p,b]=E.useState(null),[y,w]=E.useState(null),[k,C]=E.useState(!1),[S,A]=E.useState({searchAccount:"",typeFilter:"all",dateFrom:"",dateTo:"",page:1,limit:10}),T=E.useRef(null),L=E.useRef(null);E.useEffect(()=>{const z=B=>{T.current&&!T.current.contains(B.target)&&x(!1)};return u&&document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[u]),E.useEffect(()=>{u&&L.current&&L.current.scrollIntoView({block:"nearest",behavior:"smooth"}),u&&m("")},[u]);const M=async()=>{try{a(!0);const z={group_by:"month",year:c,period:i},B=await rt.getRevenueReport(z);B.success?b(B.data):$.error(B.message||"Khng th ti bo co doanh thu")}catch(z){console.error("Error loading revenue report:",z),$.error(z.body?.message||"Khng th ti bo co doanh thu")}finally{a(!1)}},_=async()=>{try{C(!0);const z={page:S.page,limit:S.limit};S.searchAccount&&(z.search=S.searchAccount),S.typeFilter!=="all"&&(z.type=S.typeFilter),S.dateFrom&&(z.dateFrom=S.dateFrom),S.dateTo&&(z.dateTo=S.dateTo);const B=await rt.getTransactionHistory(z);B.success?w(B.data):$.error(B.message||"Khng th ti lch s giao dch")}catch(z){console.error("Error loading transaction history:",z),$.error(z.body?.message||"Khng th ti lch s giao dch")}finally{C(!1)}},D=E.useRef(!0);E.useEffect(()=>{r==="revenue"?M():r==="transactions"&&_()},[r]),E.useEffect(()=>{if(D.current){D.current=!1;return}r==="revenue"&&M()},[i,c]),E.useEffect(()=>{if(r==="transactions"){const z=setTimeout(()=>{_()},S.searchAccount?500:0);return()=>clearTimeout(z)}},[S,r]);const H=[{id:"revenue",label:"Bo co doanh thu",icon:wc},{id:"transactions",label:"Lch s giao dch",icon:rs}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Bo co thng k"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Xem cc bo co v thng k chi tit"})]}),s.jsx("div",{className:"border-b border-slate-200",children:s.jsx("div",{className:"flex gap-4",children:H.map(z=>{const B=z.icon;return s.jsxs("button",{onClick:()=>e(z.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition ${r===z.id?"border-red-600 text-red-600":"border-transparent text-slate-600 hover:text-slate-800"}`,children:[s.jsx(B,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:z.label})]},z.id)})})}),t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):s.jsxs(s.Fragment,{children:[r==="revenue"&&p&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Khong thi gian:"}),s.jsx("div",{className:"flex gap-4",children:R4.map(z=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"period",value:z.value,checked:i===z.value,onChange:B=>o(B.target.value),className:"w-4 h-4 text-red-600 border-slate-300 focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-slate-700",children:z.label})]},z.value))})]})}),(()=>{const z=p.summary[i];return s.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-4",children:[{label:"Tng tin np",value:z.current.deposit,color:"green",percent:z.percentChange.deposit},{label:"Tng tin rt",value:z.current.withdrawal,color:"red",percent:z.percentChange.withdrawal},{label:"Tin mua ",value:z.current.purchase,color:"purple",percent:z.percentChange.purchase},{label:"Doanh thu",value:z.current.revenue,color:"blue",percent:z.percentChange.revenue}].map((B,P)=>s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600",children:B.label}),s.jsx("p",{className:`text-2xl font-bold mt-2 ${H4(B.color)}`,children:yt(B.value)}),s.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm font-medium ${B.percent>=0?"text-green-600":"text-red-600"}`,children:[B.percent>=0?s.jsx(Db,{className:"h-4 w-4"}):s.jsx(zb,{className:"h-4 w-4"}),s.jsxs("span",{children:[Math.abs(B.percent).toFixed(1),"%"]}),s.jsx("span",{className:"text-slate-500 font-normal ml-1",children:"so vi cng k"})]})]},P))})})(),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-base font-semibold text-slate-900",children:["Bin ng doanh thu theo thng (",c,")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-slate-600",children:"Nm:"}),s.jsxs("div",{className:"relative",ref:T,children:[s.jsxs("button",{type:"button",onClick:()=>x(!u),className:"flex items-center justify-between gap-2 px-3 py-1.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white hover:bg-slate-50 transition-colors min-w-[80px]",children:[s.jsx("span",{children:c}),s.jsx(Hx,{className:`h-4 w-4 transition-transform ${u?"rotate-180":""}`})]}),u&&s.jsxs("div",{className:"absolute right-0 mt-1 bg-white border border-slate-300 rounded-lg shadow-lg overflow-hidden z-50 w-[200px]",children:[s.jsx("div",{className:"p-2 border-b border-slate-200",children:s.jsx("input",{type:"text",value:f,onChange:z=>m(z.target.value),placeholder:"Tm nm...",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",autoFocus:!0})}),s.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"140px"},children:Array.from({length:111},(z,B)=>1990+B).filter(z=>f===""||z.toString().includes(f)).map(z=>s.jsx("button",{type:"button",ref:z===c?L:null,onClick:()=>{h(z),x(!1),m("")},className:`w-full text-left px-3 py-2 text-sm hover:bg-red-50 transition-colors ${z===c?"bg-red-100 text-red-600 font-medium":"text-slate-700"}`,children:z},z))})]})]})]})]}),s.jsx(D4,{data:p.monthly.map(z=>z.revenue),categories:["T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12"],color:"#3b82f6",title:"",height:450,showTrend:!0,trendColor:"#ef4444"})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-6",children:"Bin ng 30 ngy gn nht"}),s.jsx(my,{data:[{name:"Tin np",data:p.daily.map(z=>z.deposit)},{name:"Tin rt",data:p.daily.map(z=>z.withdrawal)},{name:"Tin mua ",data:p.daily.map(z=>z.purchase)}],categories:p.daily.map((z,B)=>`${B+1}/12`)})]})]}),r==="transactions"&&y&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"md:w-[40%]",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ti khon giao dch"}),s.jsxs("div",{className:"relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",value:S.searchAccount,onChange:z=>A({...S,searchAccount:z.target.value}),placeholder:"Tm kim theo tn hoc email...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"md:w-[20%]",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Loi giao dch"}),s.jsxs("select",{value:S.typeFilter,onChange:z=>A({...S,typeFilter:z.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tt c"}),s.jsx("option",{value:Ec.DEPOSIT,children:"Np tin"}),s.jsx("option",{value:Ec.WITHDRAW,children:"Rt tin"})]})]}),s.jsxs("div",{className:"md:w-[20%]",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"T ngy"}),s.jsx("input",{type:"date",value:S.dateFrom,onChange:z=>{const B=z.target.value,P={dateFrom:B};S.dateTo&&B>S.dateTo&&(P.dateTo="",$.warning("Ngy bt u khng th ln hn ngy kt thc")),A({...S,...P})},max:S.dateTo||void 0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),s.jsxs("div",{className:"md:w-[20%]",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"n ngy"}),s.jsx("input",{type:"date",value:S.dateTo,onChange:z=>{const B=z.target.value;if(S.dateFrom&&B<S.dateFrom){$.error("Ngy kt thc khng th nh hn ngy bt u");return}A({...S,dateTo:B})},min:S.dateFrom||void 0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{A(z=>({...z,page:1}))},className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition font-medium",children:"Tm kim"}),s.jsx("button",{onClick:()=>A({searchAccount:"",typeFilter:"all",dateFrom:"",dateTo:"",page:1,limit:10}),className:"bg-slate-100 text-slate-700 px-6 py-2 rounded-lg hover:bg-slate-200 transition font-medium",children:"t li"})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngi dng"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"S ti khon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tn ti khon"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngn hng"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Loi GD"}),s.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"S tin"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Thi gian"})]})}),s.jsx("tbody",{children:k?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"text-center py-12",children:s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})})})}):y.transactions.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"text-center py-12 text-slate-500",children:"Khng c giao dch no"})}):y.transactions.map(z=>{const B=P4[z.transactionType]||{label:z.transactionType,badge:"bg-slate-50 text-slate-600"};return s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"font-medium text-slate-900",children:z.user?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:z.user?.email})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-slate-700 font-mono",children:z.user?.bankAccount})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-slate-700",children:z.user?.bankAccountName})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-slate-700",children:z.user?.bankName})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${B.badge}`,children:B.label})}),s.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${z.transferType==="in"?"text-green-600":"text-red-600"}`,children:[z.transferType==="in"?"+":"-",yt(z.amount)]}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:new Date(z.created_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},z.id)})})]})}),y.pagination.totalPages>1&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-200",children:[s.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",(S.page-1)*S.limit+1," - ",Math.min(S.page*S.limit,y.pagination.total)," trong tng s ",y.pagination.total," giao dch"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>A({...S,page:S.page-1}),disabled:S.page===1,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Dc,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm text-slate-600",children:["Trang ",S.page," / ",y.pagination.totalPages]}),s.jsx("button",{onClick:()=>A({...S,page:S.page+1}),disabled:S.page===y.pagination.totalPages,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Rc,{className:"h-4 w-4"})})]})]})]})]})]})]})}function X4(){const[r,e]=E.useState([]),[t,a]=E.useState(!1),[i,o]=E.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=E.useState(!1),[u,x]=E.useState({title:"",message:"",target_type:"all",target_role:"",user_ids:"",priority:"medium",link:""});E.useEffect(()=>{f()},[i.page]);const f=async()=>{try{a(!0);const y={page:i.page,limit:i.limit},w=await rt.getNotificationHistory(y);w.success&&(e(w.data.notifications),o(w.data.pagination))}catch(y){console.error("Error loading notifications:",y),$.error("Khng th ti lch s thng bo")}finally{a(!1)}},m=async y=>{y.preventDefault();try{const w={...u,...u.target_type==="specific_users"&&{user_ids:u.user_ids.split(",").map(C=>parseInt(C.trim()))}},k=await rt.broadcastNotification(w);k.success&&($.success(` gi thng bo n ${k.data.notificationsSent} ngi dng`),h(!1),x({title:"",message:"",target_type:"all",target_role:"",user_ids:"",priority:"medium",link:""}),f())}catch(w){console.error("Error broadcasting notification:",w),$.error(w.body?.message||"Khng th gi thng bo")}},p=y=>{switch(y){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},b=y=>{switch(y){case"high":return"Cao";case"medium":return"Trung bnh";case"low":return"Thp";default:return y}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l thng bo"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Gi thng bo h thng v xem lch s"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition",children:[s.jsx(Lj,{className:"h-5 w-5"}),s.jsx("span",{children:"Gi thng bo"})]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Cha c thng bo no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngi nhn"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tiu "}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ni dung"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:" u tin"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:" c"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Thi gian"})]})}),s.jsx("tbody",{children:r.map(y=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",y.id]}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"text-sm font-medium text-slate-800",children:y.recipient?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:y.recipient?.email})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm font-medium text-slate-800",children:y.title})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:y.message})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${p(y.priority)}`,children:b(y.priority)})}),s.jsx("td",{className:"py-3 px-4 text-center",children:y.is_read?s.jsx("span",{className:"text-green-600",children:""}):s.jsx("span",{className:"text-slate-400",children:""})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(y.created_at)})]},y.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," thng bo"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),s.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Gi thng bo h thng"}),s.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(It,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Tiu  ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:u.title,onChange:y=>x({...u,title:y.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Ni dung ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{required:!0,value:u.message,onChange:y=>x({...u,message:y.target.value}),rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Gi n ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:u.target_type,onChange:y=>x({...u,target_type:y.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"all",children:"Tt c ngi dng"}),s.jsx("option",{value:"role",children:"Theo vai tr"}),s.jsx("option",{value:"specific_users",children:"Ngi dng c th"})]})]}),u.target_type==="role"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Vai tr ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:u.target_role,onChange:y=>x({...u,target_role:y.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"",children:"Chn vai tr"}),s.jsx("option",{value:"student",children:"Hc sinh"}),s.jsx("option",{value:"teacher",children:"Gio vin"}),s.jsx("option",{value:"admin",children:"Qun tr vin"})]})]}),u.target_type==="specific_users"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["User IDs (phn cch bng du phy)"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:u.user_ids,onChange:y=>x({...u,user_ids:y.target.value}),placeholder:"V d: 1, 5, 10",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[" u tin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:u.priority,onChange:y=>x({...u,priority:y.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"low",children:"Thp"}),s.jsx("option",{value:"medium",children:"Trung bnh"}),s.jsx("option",{value:"high",children:"Cao"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Link (ty chn)"}),s.jsx("input",{type:"text",value:u.link,onChange:y=>x({...u,link:y.target.value}),placeholder:"/path/to/page",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Gi thng bo"})]})]})]})})]})}function Y4(){const[r,e]=E.useState("posts"),[t,a]=E.useState([]),[i,o]=E.useState([]),[c,h]=E.useState(!1),[u,x]=E.useState({page:1,limit:10,total:0,totalPages:0}),[f,m]=E.useState("");E.useEffect(()=>{r==="posts"?p():b()},[r,u.page]);const p=async()=>{try{h(!0);const S={page:u.page,limit:u.limit,...f&&{search:f}},A=await rt.getAllPosts(S);A.success&&(a(A.data.posts),x(A.data.pagination))}catch(S){console.error("Error loading posts:",S),$.error("Khng th ti danh sch bi ng")}finally{h(!1)}},b=async()=>{try{h(!0);const S={page:u.page,limit:u.limit,...f&&{search:f}},A=await rt.getAllComments(S);A.success&&(o(A.data.comments),x(A.data.pagination))}catch(S){console.error("Error loading comments:",S),$.error("Khng th ti danh sch bnh lun")}finally{h(!1)}},y=S=>{S.preventDefault(),x({...u,page:1}),r==="posts"?p():b()},w=async S=>{const A=prompt("Nhp l do n bi ng:");if(A)try{(await rt.hidePost(S.id,{reason:A})).success&&($.success(" n bi ng"),p())}catch(T){console.error("Error hiding post:",T),$.error(T.body?.message||"Khng th n bi ng")}},k=async S=>{if(window.confirm(`Bn c chc chn mun xa bi ng "${S.title}"?`))try{(await rt.deletePost(S.id)).success&&($.success(" xa bi ng"),p())}catch(A){console.error("Error deleting post:",A),$.error(A.body?.message||"Khng th xa bi ng")}},C=async S=>{if(window.confirm("Bn c chc chn mun xa bnh lun ny?"))try{(await rt.deleteComment(S.id)).success&&($.success(" xa bnh lun"),b())}catch(A){console.error("Error deleting comment:",A),$.error(A.body?.message||"Khng th xa bnh lun")}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Kim duyt ni dung"}),s.jsx("p",{className:"text-slate-600 mt-1",children:"Qun l v kim duyt bi ng, bnh lun"})]}),s.jsx("div",{className:"border-b border-slate-200",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>{e("posts"),x({...u,page:1})},className:`px-4 py-3 border-b-2 transition ${r==="posts"?"border-red-600 text-red-600":"border-transparent text-slate-600 hover:text-slate-800"}`,children:s.jsx("span",{className:"font-medium",children:"Bi ng"})}),s.jsx("button",{onClick:()=>{e("comments"),x({...u,page:1})},className:`px-4 py-3 border-b-2 transition ${r==="comments"?"border-red-600 text-red-600":"border-transparent text-slate-600 hover:text-slate-800"}`,children:s.jsx("span",{className:"font-medium",children:"Bnh lun"})})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:s.jsxs("form",{onSubmit:y,className:"flex gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(sa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",value:f,onChange:S=>m(S.target.value),placeholder:r==="posts"?"Tm kim bi ng...":"Tm kim bnh lun...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),s.jsx("button",{type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition",children:"Tm kim"})]})}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:c?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r==="posts"?t.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Khng c bi ng no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tiu "}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tc gi"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Lp hc"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Bnh lun"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),s.jsx("tbody",{children:t.map(S=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",S.id]}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"font-medium text-slate-800 line-clamp-1",children:S.title}),s.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mt-1",children:S.content})]}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:S.author?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:S.author?.email})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm text-slate-600",children:S.Classes?.className||""})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs("span",{className:"inline-flex items-center gap-1 text-sm font-semibold text-slate-800",children:[s.jsx(sr,{className:"h-4 w-4"}),S.commentCount||0]})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(S.created_at)}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>w(S),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",title:"n bi ng",children:s.jsx(Ha,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>k(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:s.jsx(cs,{className:"h-4 w-4"})})]})})]},S.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(u.page-1)*u.limit+1," -"," ",Math.min(u.page*u.limit,u.total)," ","trong tng s ",u.total," bi ng"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>x({...u,page:u.page-1}),disabled:u.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),s.jsx("button",{onClick:()=>x({...u,page:u.page+1}),disabled:u.page>=u.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}):i.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-slate-500",children:"Khng c bnh lun no"})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ni dung"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tc gi"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Bi ng"}),s.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),s.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),s.jsx("tbody",{children:i.map(S=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",S.id]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm text-slate-800 line-clamp-3",children:S.content})}),s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("p",{className:"text-sm text-slate-600",children:S.author?.fullName}),s.jsx("p",{className:"text-xs text-slate-500",children:S.author?.email})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("p",{className:"text-sm text-slate-600 line-clamp-1",children:S.PostClasses?.title||""})}),s.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:gt(S.created_at)}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:s.jsx("button",{onClick:()=>C(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:s.jsx(cs,{className:"h-4 w-4"})})})})]},S.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[s.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(u.page-1)*u.limit+1," -"," ",Math.min(u.page*u.limit,u.total)," ","trong tng s ",u.total," bnh lun"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>x({...u,page:u.page-1}),disabled:u.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),s.jsx("button",{onClick:()=>x({...u,page:u.page+1}),disabled:u.page>=u.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})]})}function F4(){const r=fi();return r?.role==="teacher"?s.jsx(gi,{to:"/dashboard/teacher/payment",replace:!0}):r?.role==="student"?s.jsx(gi,{to:"/dashboard/student/payment",replace:!0}):s.jsx(gi,{to:"/auth/login",replace:!0})}function I4(){return s.jsx(dj,{children:s.jsxs(M2,{children:[s.jsx(De,{path:"/auth/login",element:s.jsx(Fj,{})}),s.jsx(De,{path:"/auth/register",element:s.jsx(Uj,{})}),s.jsx(De,{path:"/auth/forgot-password",element:s.jsx(Vj,{})}),s.jsx(De,{path:"/dashboard/teacher",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(ES,{})})}),s.jsx(De,{path:"/dashboard/teacher/classes",element:s.jsx(gi,{to:"/teacher/classes",replace:!0})}),s.jsx(De,{path:"/teacher/classes",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(YS,{})})}),s.jsx(De,{path:"/dashboard/teacher/classes/create",element:s.jsx(gi,{to:"/teacher/classes/create",replace:!0})}),s.jsx(De,{path:"/teacher/classes/create",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(FS,{})})}),s.jsx(De,{path:"/dashboard/teacher/classes/:classId",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(C0,{})})}),s.jsx(De,{path:"/teacher/classes/:classId",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(C0,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(ak,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams/create",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(ok,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams/:examId/questions",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(gk,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams/:examId/questions/text",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Sk,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams/:examId/questions/editor",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Tk,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams/:examId/edit",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Mk,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams/:examId/results",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Ok,{})})}),s.jsx(De,{path:"/dashboard/teacher/exams/:examId/monitoring",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Xk,{})})}),s.jsx(De,{path:"/dashboard/teacher/notifications",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Fk,{})})}),s.jsx(De,{path:"/dashboard/teacher/exam-purchases",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Ik,{})})}),s.jsx(De,{path:"/dashboard/teacher/transactions",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(Y0,{role:"teacher"})})}),s.jsx(De,{path:"/dashboard/teacher/payment",element:s.jsx(tt,{allowedRoles:["teacher"],children:s.jsx(wC,{})})}),s.jsx(De,{path:"/dashboard/student",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(RS,{})})}),s.jsx(De,{path:"/dashboard/profile",element:s.jsx(tt,{allowedRoles:["teacher","student"],children:s.jsx(OS,{})})}),s.jsx(De,{path:"/dashboard/wallet",element:s.jsx(tt,{allowedRoles:["teacher","student"],children:s.jsx(F4,{})})}),s.jsx(De,{path:"/dashboard/student/classes",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(Vk,{})})}),s.jsx(De,{path:"/dashboard/student/classes/:classId",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(qk,{})})}),s.jsx(De,{path:"/dashboard/student/payment",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(pC,{})})}),s.jsx(De,{path:"/dashboard/student/transactions",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(Y0,{role:"student"})})}),s.jsx(De,{path:"/dashboard/student/exams",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(Gk,{})})}),s.jsx(De,{path:"/dashboard/student/exams/:examId",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(eC,{})})}),s.jsx(De,{path:"/student/exams/:examId/take",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(cC,{})})}),s.jsx(De,{path:"/student/exams/:examId/result/:sessionId",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(dC,{})})}),s.jsx(De,{path:"/dashboard/student/recent",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(hC,{})})}),s.jsx(De,{path:"/dashboard/student/favorite",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(uC,{})})}),s.jsx(De,{path:"/dashboard/student/notifications",element:s.jsx(tt,{allowedRoles:["student"],children:s.jsx(bC,{})})}),s.jsxs(De,{path:"/dashboard/admin",element:s.jsx(tt,{allowedRoles:["admin"],children:s.jsx(jC,{})}),children:[s.jsx(De,{index:!0,element:s.jsx(T4,{})}),s.jsx(De,{path:"users",element:s.jsx(_4,{})}),s.jsx(De,{path:"classes",element:s.jsx(M4,{})}),s.jsx(De,{path:"exams",element:s.jsx(E4,{})}),s.jsx(De,{path:"purchases",element:s.jsx(L4,{})}),s.jsx(De,{path:"withdrawals",element:s.jsx(z4,{})}),s.jsx(De,{path:"reports",element:s.jsx(B4,{})}),s.jsx(De,{path:"notifications",element:s.jsx(X4,{})}),s.jsx(De,{path:"moderation",element:s.jsx(Y4,{})})]}),s.jsx(De,{path:"/",element:s.jsx(qj,{})}),s.jsx(De,{path:"*",element:s.jsx("h1",{className:"mt-10 text-center text-red-500",children:"404 - Not Found"})})]})})}P1.createRoot(document.getElementById("root")).render(s.jsx(Ue.StrictMode,{children:s.jsxs(ej,{children:[s.jsx(I4,{}),s.jsx(_S,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}));
