(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Sg(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ru={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function C1(){if(Kp)return al;Kp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:r,type:s,key:c,ref:i!==void 0?i:null,props:o}}return al.Fragment=e,al.jsx=t,al.jsxs=t,al}var Zp;function A1(){return Zp||(Zp=1,ru.exports=C1()),ru.exports}var a=A1(),lu={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp;function T1(){if(Qp)return Re;Qp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,k={};function A(O,I,ne){this.props=O,this.context=I,this.refs=k,this.updater=ne||w}A.prototype.isReactComponent={},A.prototype.setState=function(O,I){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,I,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function S(){}S.prototype=A.prototype;function T(O,I,ne){this.props=O,this.context=I,this.refs=k,this.updater=ne||w}var C=T.prototype=new S;C.constructor=T,y(C,A.prototype),C.isPureReactComponent=!0;var E=Array.isArray;function L(){}var _={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function H(O,I,ne){var K=ne.ref;return{$$typeof:r,type:O,key:I,ref:K!==void 0?K:null,props:ne}}function z(O,I){return H(O.type,I,O.props)}function B(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var I={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return I[ne]})}var W=/\/+/g;function V(O,I){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):I.toString(36)}function Q(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(L,L):(O.status="pending",O.then(function(I){O.status==="pending"&&(O.status="fulfilled",O.value=I)},function(I){O.status==="pending"&&(O.status="rejected",O.reason=I)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,I,ne,K,ue){var ae=typeof O;(ae==="undefined"||ae==="boolean")&&(O=null);var te=!1;if(O===null)te=!0;else switch(ae){case"bigint":case"string":case"number":te=!0;break;case"object":switch(O.$$typeof){case r:case e:te=!0;break;case x:return te=O._init,Y(te(O._payload),I,ne,K,ue)}}if(te)return ue=ue(O),te=K===""?"."+V(O,0):K,E(ue)?(ne="",te!=null&&(ne=te.replace(W,"$&/")+"/"),Y(ue,I,ne,"",function(je){return je})):ue!=null&&(B(ue)&&(ue=z(ue,ne+(ue.key==null||O&&O.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+te)),I.push(ue)),1;te=0;var ve=K===""?".":K+":";if(E(O))for(var ie=0;ie<O.length;ie++)K=O[ie],ae=ve+V(K,ie),te+=Y(K,I,ne,ae,ue);else if(ie=b(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(K=O.next()).done;)K=K.value,ae=ve+V(K,ie++),te+=Y(K,I,ne,ae,ue);else if(ae==="object"){if(typeof O.then=="function")return Y(Q(O),I,ne,K,ue);throw I=String(O),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return te}function F(O,I,ne){if(O==null)return O;var K=[],ue=0;return Y(O,K,"","",function(ae){return I.call(ne,ae,ue++)}),K}function U(O){if(O._status===-1){var I=O._result;I=I(),I.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=I)}if(O._status===1)return O._result.default;throw O._result}var q=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},G={map:F,forEach:function(O,I,ne){F(O,function(){I.apply(this,arguments)},ne)},count:function(O){var I=0;return F(O,function(){I++}),I},toArray:function(O){return F(O,function(I){return I})||[]},only:function(O){if(!B(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=m,Re.Children=G,Re.Component=A,Re.Fragment=t,Re.Profiler=i,Re.PureComponent=T,Re.StrictMode=s,Re.Suspense=u,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return _.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,I,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var K=y({},O.props),ue=O.key;if(I!=null)for(ae in I.key!==void 0&&(ue=""+I.key),I)!D.call(I,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&I.ref===void 0||(K[ae]=I[ae]);var ae=arguments.length-2;if(ae===1)K.children=ne;else if(1<ae){for(var te=Array(ae),ve=0;ve<ae;ve++)te[ve]=arguments[ve+2];K.children=te}return H(O.type,ue,K)},Re.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},Re.createElement=function(O,I,ne){var K,ue={},ae=null;if(I!=null)for(K in I.key!==void 0&&(ae=""+I.key),I)D.call(I,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=I[K]);var te=arguments.length-2;if(te===1)ue.children=ne;else if(1<te){for(var ve=Array(te),ie=0;ie<te;ie++)ve[ie]=arguments[ie+2];ue.children=ve}if(O&&O.defaultProps)for(K in te=O.defaultProps,te)ue[K]===void 0&&(ue[K]=te[K]);return H(O,ae,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:h,render:O}},Re.isValidElement=B,Re.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:U}},Re.memo=function(O,I){return{$$typeof:g,type:O,compare:I===void 0?null:I}},Re.startTransition=function(O){var I=_.T,ne={};_.T=ne;try{var K=O(),ue=_.S;ue!==null&&ue(ne,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(L,q)}catch(ae){q(ae)}finally{I!==null&&ne.types!==null&&(I.types=ne.types),_.T=I}},Re.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Re.use=function(O){return _.H.use(O)},Re.useActionState=function(O,I,ne){return _.H.useActionState(O,I,ne)},Re.useCallback=function(O,I){return _.H.useCallback(O,I)},Re.useContext=function(O){return _.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,I){return _.H.useDeferredValue(O,I)},Re.useEffect=function(O,I){return _.H.useEffect(O,I)},Re.useEffectEvent=function(O){return _.H.useEffectEvent(O)},Re.useId=function(){return _.H.useId()},Re.useImperativeHandle=function(O,I,ne){return _.H.useImperativeHandle(O,I,ne)},Re.useInsertionEffect=function(O,I){return _.H.useInsertionEffect(O,I)},Re.useLayoutEffect=function(O,I){return _.H.useLayoutEffect(O,I)},Re.useMemo=function(O,I){return _.H.useMemo(O,I)},Re.useOptimistic=function(O,I){return _.H.useOptimistic(O,I)},Re.useReducer=function(O,I,ne){return _.H.useReducer(O,I,ne)},Re.useRef=function(O){return _.H.useRef(O)},Re.useState=function(O){return _.H.useState(O)},Re.useSyncExternalStore=function(O,I,ne){return _.H.useSyncExternalStore(O,I,ne)},Re.useTransition=function(){return _.H.useTransition()},Re.version="19.2.0",Re}var Jp;function kg(){return Jp||(Jp=1,lu.exports=T1()),lu.exports}var M=kg();const Ue=Sg(M);var ou={exports:{}},il={},cu={exports:{}},du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function _1(){return e0||(e0=1,(function(r){function e(Y,F){var U=Y.length;Y.push(F);e:for(;0<U;){var q=U-1>>>1,G=Y[q];if(0<i(G,F))Y[q]=F,Y[U]=G,U=q;else break e}}function t(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var F=Y[0],U=Y.pop();if(U!==F){Y[0]=U;e:for(var q=0,G=Y.length,O=G>>>1;q<O;){var I=2*(q+1)-1,ne=Y[I],K=I+1,ue=Y[K];if(0>i(ne,U))K<G&&0>i(ue,ne)?(Y[q]=ue,Y[K]=U,q=K):(Y[q]=ne,Y[I]=U,q=I);else if(K<G&&0>i(ue,U))Y[q]=ue,Y[K]=U,q=K;else break e}}return F}function i(Y,F){var U=Y.sortIndex-F.sortIndex;return U!==0?U:Y.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var u=[],g=[],x=1,m=null,p=3,b=!1,w=!1,y=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var F=t(g);F!==null;){if(F.callback===null)s(g);else if(F.startTime<=Y)s(g),F.sortIndex=F.expirationTime,e(u,F);else break;F=t(g)}}function E(Y){if(y=!1,C(Y),!w)if(t(u)!==null)w=!0,L||(L=!0,P());else{var F=t(g);F!==null&&Q(E,F.startTime-Y)}}var L=!1,_=-1,D=5,H=-1;function z(){return k?!0:!(r.unstable_now()-H<D)}function B(){if(k=!1,L){var Y=r.unstable_now();H=Y;var F=!0;try{e:{w=!1,y&&(y=!1,S(_),_=-1),b=!0;var U=p;try{t:{for(C(Y),m=t(u);m!==null&&!(m.expirationTime>Y&&z());){var q=m.callback;if(typeof q=="function"){m.callback=null,p=m.priorityLevel;var G=q(m.expirationTime<=Y);if(Y=r.unstable_now(),typeof G=="function"){m.callback=G,C(Y),F=!0;break t}m===t(u)&&s(u),C(Y)}else s(u);m=t(u)}if(m!==null)F=!0;else{var O=t(g);O!==null&&Q(E,O.startTime-Y),F=!1}}break e}finally{m=null,p=U,b=!1}F=void 0}}finally{F?P():L=!1}}}var P;if(typeof T=="function")P=function(){T(B)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,V=W.port2;W.port1.onmessage=B,P=function(){V.postMessage(null)}}else P=function(){A(B,0)};function Q(Y,F){_=A(function(){Y(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_next=function(Y){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var U=p;p=F;try{return Y()}finally{p=U}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Y,F){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var U=p;p=Y;try{return F()}finally{p=U}},r.unstable_scheduleCallback=function(Y,F,U){var q=r.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?q+U:q):U=q,Y){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,Y={id:x++,callback:F,priorityLevel:Y,startTime:U,expirationTime:G,sortIndex:-1},U>q?(Y.sortIndex=U,e(g,Y),t(u)===null&&Y===t(g)&&(y?(S(_),_=-1):y=!0,Q(E,U-q))):(Y.sortIndex=G,e(u,Y),w||b||(w=!0,L||(L=!0,P()))),Y},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(Y){var F=p;return function(){var U=p;p=F;try{return Y.apply(this,arguments)}finally{p=U}}}})(du)),du}var t0;function E1(){return t0||(t0=1,cu.exports=_1()),cu.exports}var hu={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function M1(){if(s0)return Jt;s0=1;var r=kg();function e(u){var g="https://react.dev/errors/"+u;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(u,g,x){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:g,implementation:x}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(u,g){if(u==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(u,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(u,g,null,x)},Jt.flushSync=function(u){var g=c.T,x=s.p;try{if(c.T=null,s.p=2,u)return u()}finally{c.T=g,s.p=x,s.d.f()}},Jt.preconnect=function(u,g){typeof u=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(u,g))},Jt.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},Jt.preinit=function(u,g){if(typeof u=="string"&&g&&typeof g.as=="string"){var x=g.as,m=h(x,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(u,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:b}):x==="script"&&s.d.X(u,{crossOrigin:m,integrity:p,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(u,g){if(typeof u=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);s.d.M(u,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(u)},Jt.preload=function(u,g){if(typeof u=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,m=h(x,g.crossOrigin);s.d.L(u,x,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(u,g){if(typeof u=="string")if(g){var x=h(g.as,g.crossOrigin);s.d.m(u,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(u)},Jt.requestFormReset=function(u){s.d.r(u)},Jt.unstable_batchedUpdates=function(u,g){return u(g)},Jt.useFormState=function(u,g,x){return c.H.useFormState(u,g,x)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.2.0",Jt}var a0;function L1(){if(a0)return hu.exports;a0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hu.exports=M1(),hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function z1(){if(i0)return il;i0=1;var r=E1(),e=kg(),t=L1();function s(n){var l="https://react.dev/errors/"+n;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+n+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var l=n,d=n;if(n.alternate)for(;l.return;)l=l.return;else{n=l;do l=n,(l.flags&4098)!==0&&(d=l.return),n=l.return;while(n)}return l.tag===3?d:null}function c(n){if(n.tag===13){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function h(n){if(n.tag===31){var l=n.memoizedState;if(l===null&&(n=n.alternate,n!==null&&(l=n.memoizedState)),l!==null)return l.dehydrated}return null}function u(n){if(o(n)!==n)throw Error(s(188))}function g(n){var l=n.alternate;if(!l){if(l=o(n),l===null)throw Error(s(188));return l!==n?null:n}for(var d=n,f=l;;){var v=d.return;if(v===null)break;var N=v.alternate;if(N===null){if(f=v.return,f!==null){d=f;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===d)return u(v),n;if(N===f)return u(v),l;N=N.sibling}throw Error(s(188))}if(d.return!==f.return)d=v,f=N;else{for(var R=!1,X=v.child;X;){if(X===d){R=!0,d=v,f=N;break}if(X===f){R=!0,f=v,d=N;break}X=X.sibling}if(!R){for(X=N.child;X;){if(X===d){R=!0,d=N,f=v;break}if(X===f){R=!0,f=N,d=v;break}X=X.sibling}if(!R)throw Error(s(189))}}if(d.alternate!==f)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?n:l}function x(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n;for(n=n.child;n!==null;){if(l=x(n),l!==null)return l;n=n.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var W=Symbol.for("react.client.reference");function V(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===W?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case y:return"Fragment";case A:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case L:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case T:return n.displayName||"Context";case S:return(n._context.displayName||"Context")+".Consumer";case C:var l=n.render;return n=n.displayName,n||(n=l.displayName||l.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return l=n.displayName||null,l!==null?l:V(n.type)||"Memo";case D:l=n._payload,n=n._init;try{return V(n(l))}catch{}}return null}var Q=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},q=[],G=-1;function O(n){return{current:n}}function I(n){0>G||(n.current=q[G],q[G]=null,G--)}function ne(n,l){G++,q[G]=n.current,n.current=l}var K=O(null),ue=O(null),ae=O(null),te=O(null);function ve(n,l){switch(ne(ae,l),ne(ue,n),ne(K,null),l.nodeType){case 9:case 11:n=(n=l.documentElement)&&(n=n.namespaceURI)?vp(n):0;break;default:if(n=l.tagName,l=l.namespaceURI)l=vp(l),n=yp(l,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}I(K),ne(K,n)}function ie(){I(K),I(ue),I(ae)}function je(n){n.memoizedState!==null&&ne(te,n);var l=K.current,d=yp(l,n.type);l!==d&&(ne(ue,n),ne(K,d))}function Le(n){ue.current===n&&(I(K),I(ue)),te.current===n&&(I(te),Jr._currentValue=U)}var Ce,mt;function We(n){if(Ce===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Ce=l&&l[1]||"",mt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+n+mt}var Ts=!1;function _s(n,l){if(!n||Ts)return"";Ts=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(de){var oe=de}Reflect.construct(n,[],xe)}else{try{xe.call()}catch(de){oe=de}n.call(xe.prototype)}}else{try{throw Error()}catch(de){oe=de}(xe=n())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(de){if(de&&oe&&typeof de.stack=="string")return[de.stack,oe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=f.DetermineComponentFrameRoot(),R=N[0],X=N[1];if(R&&X){var Z=R.split(`
`),le=X.split(`
`);for(v=f=0;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;for(;v<le.length&&!le[v].includes("DetermineComponentFrameRoot");)v++;if(f===Z.length||v===le.length)for(f=Z.length-1,v=le.length-1;1<=f&&0<=v&&Z[f]!==le[v];)v--;for(;1<=f&&0<=v;f--,v--)if(Z[f]!==le[v]){if(f!==1||v!==1)do if(f--,v--,0>v||Z[f]!==le[v]){var ge=`
`+Z[f].replace(" at new "," at ");return n.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",n.displayName)),ge}while(1<=f&&0<=v);break}}}finally{Ts=!1,Error.prepareStackTrace=d}return(d=n?n.displayName||n.name:"")?We(d):""}function Ot(n,l){switch(n.tag){case 26:case 27:case 5:return We(n.type);case 16:return We("Lazy");case 13:return n.child!==l&&l!==null?We("Suspense Fallback"):We("Suspense");case 19:return We("SuspenseList");case 0:case 15:return _s(n.type,!1);case 11:return _s(n.type.render,!1);case 1:return _s(n.type,!0);case 31:return We("Activity");default:return""}}function fa(n){try{var l="",d=null;do l+=Ot(n,d),d=n,n=n.return;while(n);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var he=Object.prototype.hasOwnProperty,ze=r.unstable_scheduleCallback,It=r.unstable_cancelCallback,ji=r.unstable_shouldYield,Rl=r.unstable_requestPaint,Ut=r.unstable_now,Ic=r.unstable_getCurrentPriorityLevel,Ol=r.unstable_ImmediatePriority,Hl=r.unstable_UserBlockingPriority,rn=r.unstable_NormalPriority,Uc=r.unstable_LowPriority,Pl=r.unstable_IdlePriority,ln=r.log,Wc=r.unstable_setDisableYieldValue,Ni=null,es=null;function ia(n){if(typeof ln=="function"&&Wc(n),es&&typeof es.setStrictMode=="function")try{es.setStrictMode(Ni,n)}catch{}}var ts=Math.clz32?Math.clz32:Gc,Vc=Math.log,qc=Math.LN2;function Gc(n){return n>>>=0,n===0?32:31-(Vc(n)/qc|0)|0}var on=256,Si=262144,cn=4194304;function xa(n){var l=n&42;if(l!==0)return l;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function dn(n,l,d){var f=n.pendingLanes;if(f===0)return 0;var v=0,N=n.suspendedLanes,R=n.pingedLanes;n=n.warmLanes;var X=f&134217727;return X!==0?(f=X&~N,f!==0?v=xa(f):(R&=X,R!==0?v=xa(R):d||(d=X&~n,d!==0&&(v=xa(d))))):(X=f&~N,X!==0?v=xa(X):R!==0?v=xa(R):d||(d=f&~n,d!==0&&(v=xa(d)))),v===0?0:l!==0&&l!==v&&(l&N)===0&&(N=v&-v,d=l&-l,N>=d||N===32&&(d&4194048)!==0)?l:v}function ce(n,l){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&l)===0}function Ne(n,l){switch(n){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function st(){var n=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),n}function Ht(n){for(var l=[],d=0;31>d;d++)l.push(n);return l}function ss(n,l){n.pendingLanes|=l,l!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bl(n,l,d,f,v,N){var R=n.pendingLanes;n.pendingLanes=d,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=d,n.entangledLanes&=d,n.errorRecoveryDisabledLanes&=d,n.shellSuspendCounter=0;var X=n.entanglements,Z=n.expirationTimes,le=n.hiddenUpdates;for(d=R&~d;0<d;){var ge=31-ts(d),xe=1<<ge;X[ge]=0,Z[ge]=-1;var oe=le[ge];if(oe!==null)for(le[ge]=null,ge=0;ge<oe.length;ge++){var de=oe[ge];de!==null&&(de.lane&=-536870913)}d&=~xe}f!==0&&gr(n,f,0),N!==0&&v===0&&n.tag!==0&&(n.suspendedLanes|=N&~(R&~l))}function gr(n,l,d){n.pendingLanes|=l,n.suspendedLanes&=~l;var f=31-ts(l);n.entangledLanes|=l,n.entanglements[f]=n.entanglements[f]|1073741824|d&261930}function ki(n,l){var d=n.entangledLanes|=l;for(n=n.entanglements;d;){var f=31-ts(d),v=1<<f;v&l|n[f]&l&&(n[f]|=l),d&=~v}}function Xa(n,l){var d=l&-l;return d=(d&42)!==0?1:$c(d),(d&(n.suspendedLanes|l))!==0?0:d}function $c(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Kc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function af(){var n=F.p;return n!==0?n:(n=window.event,n===void 0?32:Ip(n.type))}function nf(n,l){var d=F.p;try{return F.p=n,l()}finally{F.p=d}}var Ya=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Ya,os="__reactProps$"+Ya,hn="__reactContainer$"+Ya,Zc="__reactEvents$"+Ya,xy="__reactListeners$"+Ya,my="__reactHandles$"+Ya,rf="__reactResources$"+Ya,fr="__reactMarker$"+Ya;function Qc(n){delete n[Wt],delete n[os],delete n[Zc],delete n[xy],delete n[my]}function un(n){var l=n[Wt];if(l)return l;for(var d=n.parentNode;d;){if(l=d[hn]||d[Wt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(n=Ap(n);n!==null;){if(d=n[Wt])return d;n=Ap(n)}return l}n=d,d=n.parentNode}return null}function gn(n){if(n=n[Wt]||n[hn]){var l=n.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return n}return null}function xr(n){var l=n.tag;if(l===5||l===26||l===27||l===6)return n.stateNode;throw Error(s(33))}function fn(n){var l=n[rf];return l||(l=n[rf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Yt(n){n[fr]=!0}var lf=new Set,of={};function Ci(n,l){xn(n,l),xn(n+"Capture",l)}function xn(n,l){for(of[n]=l,n=0;n<l.length;n++)lf.add(l[n])}var py=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cf={},df={};function by(n){return he.call(df,n)?!0:he.call(cf,n)?!1:py.test(n)?df[n]=!0:(cf[n]=!0,!1)}function Xl(n,l,d){if(by(l))if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":n.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(l);return}}n.setAttribute(l,""+d)}}function Yl(n,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttribute(l,""+d)}}function ma(n,l,d,f){if(f===null)n.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(d);return}n.setAttributeNS(l,d,""+f)}}function Es(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function hf(n){var l=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function vy(n,l,d){var f=Object.getOwnPropertyDescriptor(n.constructor.prototype,l);if(!n.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,N=f.set;return Object.defineProperty(n,l,{configurable:!0,get:function(){return v.call(this)},set:function(R){d=""+R,N.call(this,R)}}),Object.defineProperty(n,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){n._valueTracker=null,delete n[l]}}}}function Jc(n){if(!n._valueTracker){var l=hf(n)?"checked":"value";n._valueTracker=vy(n,l,""+n[l])}}function uf(n){if(!n)return!1;var l=n._valueTracker;if(!l)return!0;var d=l.getValue(),f="";return n&&(f=hf(n)?n.checked?"true":"false":n.value),n=f,n!==d?(l.setValue(n),!0):!1}function Fl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var yy=/[\n"\\]/g;function Ms(n){return n.replace(yy,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ed(n,l,d,f,v,N,R,X){n.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.type=R:n.removeAttribute("type"),l!=null?R==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+Es(l)):n.value!==""+Es(l)&&(n.value=""+Es(l)):R!=="submit"&&R!=="reset"||n.removeAttribute("value"),l!=null?td(n,R,Es(l)):d!=null?td(n,R,Es(d)):f!=null&&n.removeAttribute("value"),v==null&&N!=null&&(n.defaultChecked=!!N),v!=null&&(n.checked=v&&typeof v!="function"&&typeof v!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?n.name=""+Es(X):n.removeAttribute("name")}function gf(n,l,d,f,v,N,R,X){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.type=N),l!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){Jc(n);return}d=d!=null?""+Es(d):"",l=l!=null?""+Es(l):d,X||l===n.value||(n.value=l),n.defaultValue=l}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=X?n.checked:!!f,n.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(n.name=R),Jc(n)}function td(n,l,d){l==="number"&&Fl(n.ownerDocument)===n||n.defaultValue===""+d||(n.defaultValue=""+d)}function mn(n,l,d,f){if(n=n.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<n.length;d++)v=l.hasOwnProperty("$"+n[d].value),n[d].selected!==v&&(n[d].selected=v),v&&f&&(n[d].defaultSelected=!0)}else{for(d=""+Es(d),l=null,v=0;v<n.length;v++){if(n[v].value===d){n[v].selected=!0,f&&(n[v].defaultSelected=!0);return}l!==null||n[v].disabled||(l=n[v])}l!==null&&(l.selected=!0)}}function ff(n,l,d){if(l!=null&&(l=""+Es(l),l!==n.value&&(n.value=l),d==null)){n.defaultValue!==l&&(n.defaultValue=l);return}n.defaultValue=d!=null?""+Es(d):""}function xf(n,l,d,f){if(l==null){if(f!=null){if(d!=null)throw Error(s(92));if(Q(f)){if(1<f.length)throw Error(s(93));f=f[0]}d=f}d==null&&(d=""),l=d}d=Es(l),n.defaultValue=d,f=n.textContent,f===d&&f!==""&&f!==null&&(n.value=f),Jc(n)}function pn(n,l){if(l){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=l;return}}n.textContent=l}var wy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mf(n,l,d){var f=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?f?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="":f?n.setProperty(l,d):typeof d!="number"||d===0||wy.has(l)?l==="float"?n.cssFloat=d:n[l]=(""+d).trim():n[l]=d+"px"}function pf(n,l,d){if(l!=null&&typeof l!="object")throw Error(s(62));if(n=n.style,d!=null){for(var f in d)!d.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var v in l)f=l[v],l.hasOwnProperty(v)&&d[v]!==f&&mf(n,v,f)}else for(var N in l)l.hasOwnProperty(N)&&mf(n,N,l[N])}function sd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ny=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(n){return Ny.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function pa(){}var ad=null;function id(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var bn=null,vn=null;function bf(n){var l=gn(n);if(l&&(n=l.stateNode)){var d=n[os]||null;e:switch(n=l.stateNode,l.type){case"input":if(ed(n,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ms(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var f=d[l];if(f!==n&&f.form===n.form){var v=f[os]||null;if(!v)throw Error(s(90));ed(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<d.length;l++)f=d[l],f.form===n.form&&uf(f)}break e;case"textarea":ff(n,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&mn(n,!!d.multiple,l,!1)}}}var nd=!1;function vf(n,l,d){if(nd)return n(l,d);nd=!0;try{var f=n(l);return f}finally{if(nd=!1,(bn!==null||vn!==null)&&(Mo(),bn&&(l=bn,n=vn,vn=bn=null,bf(l),n)))for(l=0;l<n.length;l++)bf(n[l])}}function mr(n,l){var d=n.stateNode;if(d===null)return null;var f=d[os]||null;if(f===null)return null;d=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(s(231,l,typeof d));return d}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rd=!1;if(ba)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){rd=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{rd=!1}var Fa=null,ld=null,Ul=null;function yf(){if(Ul)return Ul;var n,l=ld,d=l.length,f,v="value"in Fa?Fa.value:Fa.textContent,N=v.length;for(n=0;n<d&&l[n]===v[n];n++);var R=d-n;for(f=1;f<=R&&l[d-f]===v[N-f];f++);return Ul=v.slice(n,1<f?1-f:void 0)}function Wl(n){var l=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&l===13&&(n=13)):n=l,n===10&&(n=13),32<=n||n===13?n:0}function Vl(){return!0}function wf(){return!1}function cs(n){function l(d,f,v,N,R){this._reactName=d,this._targetInst=v,this.type=f,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var X in n)n.hasOwnProperty(X)&&(d=n[X],this[X]=d?d(N):N[X]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Vl:wf,this.isPropagationStopped=wf,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),l}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=cs(Ai),br=m({},Ai,{view:0,detail:0}),Sy=cs(br),od,cd,vr,Gl=m({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vr&&(vr&&n.type==="mousemove"?(od=n.screenX-vr.screenX,cd=n.screenY-vr.screenY):cd=od=0,vr=n),od)},movementY:function(n){return"movementY"in n?n.movementY:cd}}),jf=cs(Gl),ky=m({},Gl,{dataTransfer:0}),Cy=cs(ky),Ay=m({},br,{relatedTarget:0}),dd=cs(Ay),Ty=m({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=cs(Ty),Ey=m({},Ai,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),My=cs(Ey),Ly=m({},Ai,{data:0}),Nf=cs(Ly),zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ry={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oy(n){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(n):(n=Ry[n])?!!l[n]:!1}function hd(){return Oy}var Hy=m({},br,{key:function(n){if(n.key){var l=zy[n.key]||n.key;if(l!=="Unidentified")return l}return n.type==="keypress"?(n=Wl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Dy[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(n){return n.type==="keypress"?Wl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Py=cs(Hy),By=m({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=cs(By),Xy=m({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),Yy=cs(Xy),Fy=m({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iy=cs(Fy),Uy=m({},Gl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Wy=cs(Uy),Vy=m({},Ai,{newState:0,oldState:0}),qy=cs(Vy),Gy=[9,13,27,32],ud=ba&&"CompositionEvent"in window,yr=null;ba&&"documentMode"in document&&(yr=document.documentMode);var $y=ba&&"TextEvent"in window&&!yr,kf=ba&&(!ud||yr&&8<yr&&11>=yr),Cf=" ",Af=!1;function Tf(n,l){switch(n){case"keyup":return Gy.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _f(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var yn=!1;function Ky(n,l){switch(n){case"compositionend":return _f(l);case"keypress":return l.which!==32?null:(Af=!0,Cf);case"textInput":return n=l.data,n===Cf&&Af?null:n;default:return null}}function Zy(n,l){if(yn)return n==="compositionend"||!ud&&Tf(n,l)?(n=yf(),Ul=ld=Fa=null,yn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return kf&&l.locale!=="ko"?null:l.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l==="input"?!!Qy[n.type]:l==="textarea"}function Mf(n,l,d,f){bn?vn?vn.push(f):vn=[f]:bn=f,l=Po(l,"onChange"),0<l.length&&(d=new ql("onChange","change",null,d,f),n.push({event:d,listeners:l}))}var wr=null,jr=null;function Jy(n){gp(n,0)}function $l(n){var l=xr(n);if(uf(l))return n}function Lf(n,l){if(n==="change")return l}var zf=!1;if(ba){var gd;if(ba){var fd="oninput"in document;if(!fd){var Df=document.createElement("div");Df.setAttribute("oninput","return;"),fd=typeof Df.oninput=="function"}gd=fd}else gd=!1;zf=gd&&(!document.documentMode||9<document.documentMode)}function Rf(){wr&&(wr.detachEvent("onpropertychange",Of),jr=wr=null)}function Of(n){if(n.propertyName==="value"&&$l(jr)){var l=[];Mf(l,jr,n,id(n)),vf(Jy,l)}}function ew(n,l,d){n==="focusin"?(Rf(),wr=l,jr=d,wr.attachEvent("onpropertychange",Of)):n==="focusout"&&Rf()}function tw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $l(jr)}function sw(n,l){if(n==="click")return $l(l)}function aw(n,l){if(n==="input"||n==="change")return $l(l)}function iw(n,l){return n===l&&(n!==0||1/n===1/l)||n!==n&&l!==l}var vs=typeof Object.is=="function"?Object.is:iw;function Nr(n,l){if(vs(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;var d=Object.keys(n),f=Object.keys(l);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var v=d[f];if(!he.call(l,v)||!vs(n[v],l[v]))return!1}return!0}function Hf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Pf(n,l){var d=Hf(n);n=0;for(var f;d;){if(d.nodeType===3){if(f=n+d.textContent.length,n<=l&&f>=l)return{node:d,offset:l-n};n=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Hf(d)}}function Bf(n,l){return n&&l?n===l?!0:n&&n.nodeType===3?!1:l&&l.nodeType===3?Bf(n,l.parentNode):"contains"in n?n.contains(l):n.compareDocumentPosition?!!(n.compareDocumentPosition(l)&16):!1:!1}function Xf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var l=Fl(n.document);l instanceof n.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)n=l.contentWindow;else break;l=Fl(n.document)}return l}function xd(n){var l=n&&n.nodeName&&n.nodeName.toLowerCase();return l&&(l==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||l==="textarea"||n.contentEditable==="true")}var nw=ba&&"documentMode"in document&&11>=document.documentMode,wn=null,md=null,Sr=null,pd=!1;function Yf(n,l,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;pd||wn==null||wn!==Fl(f)||(f=wn,"selectionStart"in f&&xd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Sr&&Nr(Sr,f)||(Sr=f,f=Po(md,"onSelect"),0<f.length&&(l=new ql("onSelect","select",null,l,d),n.push({event:l,listeners:f}),l.target=wn)))}function Ti(n,l){var d={};return d[n.toLowerCase()]=l.toLowerCase(),d["Webkit"+n]="webkit"+l,d["Moz"+n]="moz"+l,d}var jn={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},bd={},Ff={};ba&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function _i(n){if(bd[n])return bd[n];if(!jn[n])return n;var l=jn[n],d;for(d in l)if(l.hasOwnProperty(d)&&d in Ff)return bd[n]=l[d];return n}var If=_i("animationend"),Uf=_i("animationiteration"),Wf=_i("animationstart"),rw=_i("transitionrun"),lw=_i("transitionstart"),ow=_i("transitioncancel"),Vf=_i("transitionend"),qf=new Map,vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vd.push("scrollEnd");function qs(n,l){qf.set(n,l),Ci(l,[n])}var Kl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ls=[],Nn=0,yd=0;function Zl(){for(var n=Nn,l=yd=Nn=0;l<n;){var d=Ls[l];Ls[l++]=null;var f=Ls[l];Ls[l++]=null;var v=Ls[l];Ls[l++]=null;var N=Ls[l];if(Ls[l++]=null,f!==null&&v!==null){var R=f.pending;R===null?v.next=v:(v.next=R.next,R.next=v),f.pending=v}N!==0&&Gf(d,v,N)}}function Ql(n,l,d,f){Ls[Nn++]=n,Ls[Nn++]=l,Ls[Nn++]=d,Ls[Nn++]=f,yd|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function wd(n,l,d,f){return Ql(n,l,d,f),Jl(n)}function Ei(n,l){return Ql(n,null,null,l),Jl(n)}function Gf(n,l,d){n.lanes|=d;var f=n.alternate;f!==null&&(f.lanes|=d);for(var v=!1,N=n.return;N!==null;)N.childLanes|=d,f=N.alternate,f!==null&&(f.childLanes|=d),N.tag===22&&(n=N.stateNode,n===null||n._visibility&1||(v=!0)),n=N,N=N.return;return n.tag===3?(N=n.stateNode,v&&l!==null&&(v=31-ts(d),n=N.hiddenUpdates,f=n[v],f===null?n[v]=[l]:f.push(l),l.lane=d|536870912),N):null}function Jl(n){if(50<Vr)throw Vr=0,Eh=null,Error(s(185));for(var l=n.return;l!==null;)n=l,l=n.return;return n.tag===3?n.stateNode:null}var Sn={};function cw(n,l,d,f){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(n,l,d,f){return new cw(n,l,d,f)}function jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function va(n,l){var d=n.alternate;return d===null?(d=ys(n.tag,l,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=l,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&65011712,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,l=n.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d.refCleanup=n.refCleanup,d}function $f(n,l){n.flags&=65011714;var d=n.alternate;return d===null?(n.childLanes=0,n.lanes=l,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=d.childLanes,n.lanes=d.lanes,n.child=d.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=d.memoizedProps,n.memoizedState=d.memoizedState,n.updateQueue=d.updateQueue,n.type=d.type,l=d.dependencies,n.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),n}function eo(n,l,d,f,v,N){var R=0;if(f=n,typeof n=="function")jd(n)&&(R=1);else if(typeof n=="string")R=f1(n,d,K.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=ys(31,d,l,v),n.elementType=H,n.lanes=N,n;case y:return Mi(d.children,v,N,l);case k:R=8,v|=24;break;case A:return n=ys(12,d,l,v|2),n.elementType=A,n.lanes=N,n;case E:return n=ys(13,d,l,v),n.elementType=E,n.lanes=N,n;case L:return n=ys(19,d,l,v),n.elementType=L,n.lanes=N,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:R=10;break e;case S:R=9;break e;case C:R=11;break e;case _:R=14;break e;case D:R=16,f=null;break e}R=29,d=Error(s(130,n===null?"null":typeof n,"")),f=null}return l=ys(R,d,l,v),l.elementType=n,l.type=f,l.lanes=N,l}function Mi(n,l,d,f){return n=ys(7,n,f,l),n.lanes=d,n}function Nd(n,l,d){return n=ys(6,n,null,l),n.lanes=d,n}function Kf(n){var l=ys(18,null,null,0);return l.stateNode=n,l}function Sd(n,l,d){return l=ys(4,n.children!==null?n.children:[],n.key,l),l.lanes=d,l.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},l}var Zf=new WeakMap;function zs(n,l){if(typeof n=="object"&&n!==null){var d=Zf.get(n);return d!==void 0?d:(l={value:n,source:l,stack:fa(l)},Zf.set(n,l),l)}return{value:n,source:l,stack:fa(l)}}var kn=[],Cn=0,to=null,kr=0,Ds=[],Rs=0,Ia=null,na=1,ra="";function ya(n,l){kn[Cn++]=kr,kn[Cn++]=to,to=n,kr=l}function Qf(n,l,d){Ds[Rs++]=na,Ds[Rs++]=ra,Ds[Rs++]=Ia,Ia=n;var f=na;n=ra;var v=32-ts(f)-1;f&=~(1<<v),d+=1;var N=32-ts(l)+v;if(30<N){var R=v-v%5;N=(f&(1<<R)-1).toString(32),f>>=R,v-=R,na=1<<32-ts(l)+v|d<<v|f,ra=N+n}else na=1<<N|d<<v|f,ra=n}function kd(n){n.return!==null&&(ya(n,1),Qf(n,1,0))}function Cd(n){for(;n===to;)to=kn[--Cn],kn[Cn]=null,kr=kn[--Cn],kn[Cn]=null;for(;n===Ia;)Ia=Ds[--Rs],Ds[Rs]=null,ra=Ds[--Rs],Ds[Rs]=null,na=Ds[--Rs],Ds[Rs]=null}function Jf(n,l){Ds[Rs++]=na,Ds[Rs++]=ra,Ds[Rs++]=Ia,na=l.id,ra=l.overflow,Ia=n}var Vt=null,bt=null,$e=!1,Ua=null,Os=!1,Ad=Error(s(519));function Wa(n){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cr(zs(l,n)),Ad}function ex(n){var l=n.stateNode,d=n.type,f=n.memoizedProps;switch(l[Wt]=n,l[os]=f,d){case"dialog":Ie("cancel",l),Ie("close",l);break;case"iframe":case"object":case"embed":Ie("load",l);break;case"video":case"audio":for(d=0;d<Gr.length;d++)Ie(Gr[d],l);break;case"source":Ie("error",l);break;case"img":case"image":case"link":Ie("error",l),Ie("load",l);break;case"details":Ie("toggle",l);break;case"input":Ie("invalid",l),gf(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ie("invalid",l);break;case"textarea":Ie("invalid",l),xf(l,f.value,f.defaultValue,f.children)}d=f.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||f.suppressHydrationWarning===!0||pp(l.textContent,d)?(f.popover!=null&&(Ie("beforetoggle",l),Ie("toggle",l)),f.onScroll!=null&&Ie("scroll",l),f.onScrollEnd!=null&&Ie("scrollend",l),f.onClick!=null&&(l.onclick=pa),l=!0):l=!1,l||Wa(n,!0)}function tx(n){for(Vt=n.return;Vt;)switch(Vt.tag){case 5:case 31:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:Vt=Vt.return}}function An(n){if(n!==Vt)return!1;if(!$e)return tx(n),$e=!0,!1;var l=n.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=n.type,d=!(d!=="form"&&d!=="button")||Wh(n.type,n.memoizedProps)),d=!d),d&&bt&&Wa(n),tx(n),l===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));bt=Cp(n)}else if(l===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));bt=Cp(n)}else l===27?(l=bt,ni(n.type)?(n=Kh,Kh=null,bt=n):bt=l):bt=Vt?Ps(n.stateNode.nextSibling):null;return!0}function Li(){bt=Vt=null,$e=!1}function Td(){var n=Ua;return n!==null&&(gs===null?gs=n:gs.push.apply(gs,n),Ua=null),n}function Cr(n){Ua===null?Ua=[n]:Ua.push(n)}var _d=O(null),zi=null,wa=null;function Va(n,l,d){ne(_d,l._currentValue),l._currentValue=d}function ja(n){n._currentValue=_d.current,I(_d)}function Ed(n,l,d){for(;n!==null;){var f=n.alternate;if((n.childLanes&l)!==l?(n.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),n===d)break;n=n.return}}function Md(n,l,d,f){var v=n.child;for(v!==null&&(v.return=n);v!==null;){var N=v.dependencies;if(N!==null){var R=v.child;N=N.firstContext;e:for(;N!==null;){var X=N;N=v;for(var Z=0;Z<l.length;Z++)if(X.context===l[Z]){N.lanes|=d,X=N.alternate,X!==null&&(X.lanes|=d),Ed(N.return,d,n),f||(R=null);break e}N=X.next}}else if(v.tag===18){if(R=v.return,R===null)throw Error(s(341));R.lanes|=d,N=R.alternate,N!==null&&(N.lanes|=d),Ed(R,d,n),R=null}else R=v.child;if(R!==null)R.return=v;else for(R=v;R!==null;){if(R===n){R=null;break}if(v=R.sibling,v!==null){v.return=R.return,R=v;break}R=R.return}v=R}}function Tn(n,l,d,f){n=null;for(var v=l,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var R=v.alternate;if(R===null)throw Error(s(387));if(R=R.memoizedProps,R!==null){var X=v.type;vs(v.pendingProps.value,R.value)||(n!==null?n.push(X):n=[X])}}else if(v===te.current){if(R=v.alternate,R===null)throw Error(s(387));R.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(n!==null?n.push(Jr):n=[Jr])}v=v.return}n!==null&&Md(l,n,d,f),l.flags|=262144}function so(n){for(n=n.firstContext;n!==null;){if(!vs(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Di(n){zi=n,wa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function qt(n){return sx(zi,n)}function ao(n,l){return zi===null&&Di(n),sx(n,l)}function sx(n,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},wa===null){if(n===null)throw Error(s(308));wa=l,n.dependencies={lanes:0,firstContext:l},n.flags|=524288}else wa=wa.next=l;return d}var dw=typeof AbortController<"u"?AbortController:function(){var n=[],l=this.signal={aborted:!1,addEventListener:function(d,f){n.push(f)}};this.abort=function(){l.aborted=!0,n.forEach(function(d){return d()})}},hw=r.unstable_scheduleCallback,uw=r.unstable_NormalPriority,Mt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ld(){return{controller:new dw,data:new Map,refCount:0}}function Ar(n){n.refCount--,n.refCount===0&&hw(uw,function(){n.controller.abort()})}var Tr=null,zd=0,_n=0,En=null;function gw(n,l){if(Tr===null){var d=Tr=[];zd=0,_n=Oh(),En={status:"pending",value:void 0,then:function(f){d.push(f)}}}return zd++,l.then(ax,ax),l}function ax(){if(--zd===0&&Tr!==null){En!==null&&(En.status="fulfilled");var n=Tr;Tr=null,_n=0,En=null;for(var l=0;l<n.length;l++)(0,n[l])()}}function fw(n,l){var d=[],f={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return n.then(function(){f.status="fulfilled",f.value=l;for(var v=0;v<d.length;v++)(0,d[v])(l)},function(v){for(f.status="rejected",f.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),f}var ix=Y.S;Y.S=function(n,l){Ym=Ut(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&gw(n,l),ix!==null&&ix(n,l)};var Ri=O(null);function Dd(){var n=Ri.current;return n!==null?n:xt.pooledCache}function io(n,l){l===null?ne(Ri,Ri.current):ne(Ri,l.pool)}function nx(){var n=Dd();return n===null?null:{parent:Mt._currentValue,pool:n}}var Mn=Error(s(460)),Rd=Error(s(474)),no=Error(s(542)),ro={then:function(){}};function rx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lx(n,l,d){switch(d=n[d],d===void 0?n.push(l):d!==l&&(l.then(pa,pa),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,cx(n),n;default:if(typeof l.status=="string")l.then(pa,pa);else{if(n=xt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=l,n.status="pending",n.then(function(f){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=f}},function(f){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw n=l.reason,cx(n),n}throw Hi=l,Mn}}function Oi(n){try{var l=n._init;return l(n._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Hi=d,Mn):d}}var Hi=null;function ox(){if(Hi===null)throw Error(s(459));var n=Hi;return Hi=null,n}function cx(n){if(n===Mn||n===no)throw Error(s(483))}var Ln=null,_r=0;function lo(n){var l=_r;return _r+=1,Ln===null&&(Ln=[]),lx(Ln,n,l)}function Er(n,l){l=l.props.ref,n.ref=l!==void 0?l:null}function oo(n,l){throw l.$$typeof===p?Error(s(525)):(n=Object.prototype.toString.call(l),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":n)))}function dx(n){function l(se,ee){if(n){var re=se.deletions;re===null?(se.deletions=[ee],se.flags|=16):re.push(ee)}}function d(se,ee){if(!n)return null;for(;ee!==null;)l(se,ee),ee=ee.sibling;return null}function f(se){for(var ee=new Map;se!==null;)se.key!==null?ee.set(se.key,se):ee.set(se.index,se),se=se.sibling;return ee}function v(se,ee){return se=va(se,ee),se.index=0,se.sibling=null,se}function N(se,ee,re){return se.index=re,n?(re=se.alternate,re!==null?(re=re.index,re<ee?(se.flags|=67108866,ee):re):(se.flags|=67108866,ee)):(se.flags|=1048576,ee)}function R(se){return n&&se.alternate===null&&(se.flags|=67108866),se}function X(se,ee,re,fe){return ee===null||ee.tag!==6?(ee=Nd(re,se.mode,fe),ee.return=se,ee):(ee=v(ee,re),ee.return=se,ee)}function Z(se,ee,re,fe){var _e=re.type;return _e===y?ge(se,ee,re.props.children,fe,re.key):ee!==null&&(ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Oi(_e)===ee.type)?(ee=v(ee,re.props),Er(ee,re),ee.return=se,ee):(ee=eo(re.type,re.key,re.props,null,se.mode,fe),Er(ee,re),ee.return=se,ee)}function le(se,ee,re,fe){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==re.containerInfo||ee.stateNode.implementation!==re.implementation?(ee=Sd(re,se.mode,fe),ee.return=se,ee):(ee=v(ee,re.children||[]),ee.return=se,ee)}function ge(se,ee,re,fe,_e){return ee===null||ee.tag!==7?(ee=Mi(re,se.mode,fe,_e),ee.return=se,ee):(ee=v(ee,re),ee.return=se,ee)}function xe(se,ee,re){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Nd(""+ee,se.mode,re),ee.return=se,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return re=eo(ee.type,ee.key,ee.props,null,se.mode,re),Er(re,ee),re.return=se,re;case w:return ee=Sd(ee,se.mode,re),ee.return=se,ee;case D:return ee=Oi(ee),xe(se,ee,re)}if(Q(ee)||P(ee))return ee=Mi(ee,se.mode,re,null),ee.return=se,ee;if(typeof ee.then=="function")return xe(se,lo(ee),re);if(ee.$$typeof===T)return xe(se,ao(se,ee),re);oo(se,ee)}return null}function oe(se,ee,re,fe){var _e=ee!==null?ee.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return _e!==null?null:X(se,ee,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case b:return re.key===_e?Z(se,ee,re,fe):null;case w:return re.key===_e?le(se,ee,re,fe):null;case D:return re=Oi(re),oe(se,ee,re,fe)}if(Q(re)||P(re))return _e!==null?null:ge(se,ee,re,fe,null);if(typeof re.then=="function")return oe(se,ee,lo(re),fe);if(re.$$typeof===T)return oe(se,ee,ao(se,re),fe);oo(se,re)}return null}function de(se,ee,re,fe,_e){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return se=se.get(re)||null,X(ee,se,""+fe,_e);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case b:return se=se.get(fe.key===null?re:fe.key)||null,Z(ee,se,fe,_e);case w:return se=se.get(fe.key===null?re:fe.key)||null,le(ee,se,fe,_e);case D:return fe=Oi(fe),de(se,ee,re,fe,_e)}if(Q(fe)||P(fe))return se=se.get(re)||null,ge(ee,se,fe,_e,null);if(typeof fe.then=="function")return de(se,ee,re,lo(fe),_e);if(fe.$$typeof===T)return de(se,ee,re,ao(ee,fe),_e);oo(ee,fe)}return null}function Se(se,ee,re,fe){for(var _e=null,Je=null,ke=ee,Be=ee=0,qe=null;ke!==null&&Be<re.length;Be++){ke.index>Be?(qe=ke,ke=null):qe=ke.sibling;var et=oe(se,ke,re[Be],fe);if(et===null){ke===null&&(ke=qe);break}n&&ke&&et.alternate===null&&l(se,ke),ee=N(et,ee,Be),Je===null?_e=et:Je.sibling=et,Je=et,ke=qe}if(Be===re.length)return d(se,ke),$e&&ya(se,Be),_e;if(ke===null){for(;Be<re.length;Be++)ke=xe(se,re[Be],fe),ke!==null&&(ee=N(ke,ee,Be),Je===null?_e=ke:Je.sibling=ke,Je=ke);return $e&&ya(se,Be),_e}for(ke=f(ke);Be<re.length;Be++)qe=de(ke,se,Be,re[Be],fe),qe!==null&&(n&&qe.alternate!==null&&ke.delete(qe.key===null?Be:qe.key),ee=N(qe,ee,Be),Je===null?_e=qe:Je.sibling=qe,Je=qe);return n&&ke.forEach(function(di){return l(se,di)}),$e&&ya(se,Be),_e}function Me(se,ee,re,fe){if(re==null)throw Error(s(151));for(var _e=null,Je=null,ke=ee,Be=ee=0,qe=null,et=re.next();ke!==null&&!et.done;Be++,et=re.next()){ke.index>Be?(qe=ke,ke=null):qe=ke.sibling;var di=oe(se,ke,et.value,fe);if(di===null){ke===null&&(ke=qe);break}n&&ke&&di.alternate===null&&l(se,ke),ee=N(di,ee,Be),Je===null?_e=di:Je.sibling=di,Je=di,ke=qe}if(et.done)return d(se,ke),$e&&ya(se,Be),_e;if(ke===null){for(;!et.done;Be++,et=re.next())et=xe(se,et.value,fe),et!==null&&(ee=N(et,ee,Be),Je===null?_e=et:Je.sibling=et,Je=et);return $e&&ya(se,Be),_e}for(ke=f(ke);!et.done;Be++,et=re.next())et=de(ke,se,Be,et.value,fe),et!==null&&(n&&et.alternate!==null&&ke.delete(et.key===null?Be:et.key),ee=N(et,ee,Be),Je===null?_e=et:Je.sibling=et,Je=et);return n&&ke.forEach(function(k1){return l(se,k1)}),$e&&ya(se,Be),_e}function ut(se,ee,re,fe){if(typeof re=="object"&&re!==null&&re.type===y&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case b:e:{for(var _e=re.key;ee!==null;){if(ee.key===_e){if(_e=re.type,_e===y){if(ee.tag===7){d(se,ee.sibling),fe=v(ee,re.props.children),fe.return=se,se=fe;break e}}else if(ee.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===D&&Oi(_e)===ee.type){d(se,ee.sibling),fe=v(ee,re.props),Er(fe,re),fe.return=se,se=fe;break e}d(se,ee);break}else l(se,ee);ee=ee.sibling}re.type===y?(fe=Mi(re.props.children,se.mode,fe,re.key),fe.return=se,se=fe):(fe=eo(re.type,re.key,re.props,null,se.mode,fe),Er(fe,re),fe.return=se,se=fe)}return R(se);case w:e:{for(_e=re.key;ee!==null;){if(ee.key===_e)if(ee.tag===4&&ee.stateNode.containerInfo===re.containerInfo&&ee.stateNode.implementation===re.implementation){d(se,ee.sibling),fe=v(ee,re.children||[]),fe.return=se,se=fe;break e}else{d(se,ee);break}else l(se,ee);ee=ee.sibling}fe=Sd(re,se.mode,fe),fe.return=se,se=fe}return R(se);case D:return re=Oi(re),ut(se,ee,re,fe)}if(Q(re))return Se(se,ee,re,fe);if(P(re)){if(_e=P(re),typeof _e!="function")throw Error(s(150));return re=_e.call(re),Me(se,ee,re,fe)}if(typeof re.then=="function")return ut(se,ee,lo(re),fe);if(re.$$typeof===T)return ut(se,ee,ao(se,re),fe);oo(se,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,ee!==null&&ee.tag===6?(d(se,ee.sibling),fe=v(ee,re),fe.return=se,se=fe):(d(se,ee),fe=Nd(re,se.mode,fe),fe.return=se,se=fe),R(se)):d(se,ee)}return function(se,ee,re,fe){try{_r=0;var _e=ut(se,ee,re,fe);return Ln=null,_e}catch(ke){if(ke===Mn||ke===no)throw ke;var Je=ys(29,ke,null,se.mode);return Je.lanes=fe,Je.return=se,Je}finally{}}}var Pi=dx(!0),hx=dx(!1),qa=!1;function Od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hd(n,l){n=n.updateQueue,l.updateQueue===n&&(l.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ga(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function $a(n,l,d){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(at&2)!==0){var v=f.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),f.pending=l,l=Jl(n),Gf(n,null,d),l}return Ql(n,f,l,d),Jl(n)}function Mr(n,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var f=l.lanes;f&=n.pendingLanes,d|=f,l.lanes=d,ki(n,d)}}function Pd(n,l){var d=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var v=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?v=N=R:N=N.next=R,d=d.next}while(d!==null);N===null?v=N=l:N=N.next=l}else v=N=l;d={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:f.shared,callbacks:f.callbacks},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=l:n.next=l,d.lastBaseUpdate=l}var Bd=!1;function Lr(){if(Bd){var n=En;if(n!==null)throw n}}function zr(n,l,d,f){Bd=!1;var v=n.updateQueue;qa=!1;var N=v.firstBaseUpdate,R=v.lastBaseUpdate,X=v.shared.pending;if(X!==null){v.shared.pending=null;var Z=X,le=Z.next;Z.next=null,R===null?N=le:R.next=le,R=Z;var ge=n.alternate;ge!==null&&(ge=ge.updateQueue,X=ge.lastBaseUpdate,X!==R&&(X===null?ge.firstBaseUpdate=le:X.next=le,ge.lastBaseUpdate=Z))}if(N!==null){var xe=v.baseState;R=0,ge=le=Z=null,X=N;do{var oe=X.lane&-536870913,de=oe!==X.lane;if(de?(Ve&oe)===oe:(f&oe)===oe){oe!==0&&oe===_n&&(Bd=!0),ge!==null&&(ge=ge.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Se=n,Me=X;oe=l;var ut=d;switch(Me.tag){case 1:if(Se=Me.payload,typeof Se=="function"){xe=Se.call(ut,xe,oe);break e}xe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Me.payload,oe=typeof Se=="function"?Se.call(ut,xe,oe):Se,oe==null)break e;xe=m({},xe,oe);break e;case 2:qa=!0}}oe=X.callback,oe!==null&&(n.flags|=64,de&&(n.flags|=8192),de=v.callbacks,de===null?v.callbacks=[oe]:de.push(oe))}else de={lane:oe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},ge===null?(le=ge=de,Z=xe):ge=ge.next=de,R|=oe;if(X=X.next,X===null){if(X=v.shared.pending,X===null)break;de=X,X=de.next,de.next=null,v.lastBaseUpdate=de,v.shared.pending=null}}while(!0);ge===null&&(Z=xe),v.baseState=Z,v.firstBaseUpdate=le,v.lastBaseUpdate=ge,N===null&&(v.shared.lanes=0),ei|=R,n.lanes=R,n.memoizedState=xe}}function ux(n,l){if(typeof n!="function")throw Error(s(191,n));n.call(l)}function gx(n,l){var d=n.callbacks;if(d!==null)for(n.callbacks=null,n=0;n<d.length;n++)ux(d[n],l)}var zn=O(null),co=O(0);function fx(n,l){n=Ma,ne(co,n),ne(zn,l),Ma=n|l.baseLanes}function Xd(){ne(co,Ma),ne(zn,zn.current)}function Yd(){Ma=co.current,I(zn),I(co)}var ws=O(null),Hs=null;function Ka(n){var l=n.alternate;ne(_t,_t.current&1),ne(ws,n),Hs===null&&(l===null||zn.current!==null||l.memoizedState!==null)&&(Hs=n)}function Fd(n){ne(_t,_t.current),ne(ws,n),Hs===null&&(Hs=n)}function xx(n){n.tag===22?(ne(_t,_t.current),ne(ws,n),Hs===null&&(Hs=n)):Za()}function Za(){ne(_t,_t.current),ne(ws,ws.current)}function js(n){I(ws),Hs===n&&(Hs=null),I(_t)}var _t=O(0);function ho(n){for(var l=n;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Gh(d)||$h(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Na=0,Pe=null,dt=null,Lt=null,uo=!1,Dn=!1,Bi=!1,go=0,Dr=0,Rn=null,xw=0;function St(){throw Error(s(321))}function Id(n,l){if(l===null)return!1;for(var d=0;d<l.length&&d<n.length;d++)if(!vs(n[d],l[d]))return!1;return!0}function Ud(n,l,d,f,v,N){return Na=N,Pe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Y.H=n===null||n.memoizedState===null?Qx:nh,Bi=!1,N=d(f,v),Bi=!1,Dn&&(N=px(l,d,f,v)),mx(n),N}function mx(n){Y.H=Hr;var l=dt!==null&&dt.next!==null;if(Na=0,Lt=dt=Pe=null,uo=!1,Dr=0,Rn=null,l)throw Error(s(300));n===null||zt||(n=n.dependencies,n!==null&&so(n)&&(zt=!0))}function px(n,l,d,f){Pe=n;var v=0;do{if(Dn&&(Rn=null),Dr=0,Dn=!1,25<=v)throw Error(s(301));if(v+=1,Lt=dt=null,n.updateQueue!=null){var N=n.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Y.H=Jx,N=l(d,f)}while(Dn);return N}function mw(){var n=Y.H,l=n.useState()[0];return l=typeof l.then=="function"?Rr(l):l,n=n.useState()[0],(dt!==null?dt.memoizedState:null)!==n&&(Pe.flags|=1024),l}function Wd(){var n=go!==0;return go=0,n}function Vd(n,l,d){l.updateQueue=n.updateQueue,l.flags&=-2053,n.lanes&=~d}function qd(n){if(uo){for(n=n.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}uo=!1}Na=0,Lt=dt=Pe=null,Dn=!1,Dr=go=0,Rn=null}function as(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Pe.memoizedState=Lt=n:Lt=Lt.next=n,Lt}function Et(){if(dt===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var l=Lt===null?Pe.memoizedState:Lt.next;if(l!==null)Lt=l,dt=n;else{if(n===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Lt===null?Pe.memoizedState=Lt=n:Lt=Lt.next=n}return Lt}function fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rr(n){var l=Dr;return Dr+=1,Rn===null&&(Rn=[]),n=lx(Rn,n,l),l=Pe,(Lt===null?l.memoizedState:Lt.next)===null&&(l=l.alternate,Y.H=l===null||l.memoizedState===null?Qx:nh),n}function xo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Rr(n);if(n.$$typeof===T)return qt(n)}throw Error(s(438,String(n)))}function Gd(n){var l=null,d=Pe.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var f=Pe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=fo(),Pe.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(n),f=0;f<n;f++)d[f]=z;return l.index++,d}function Sa(n,l){return typeof l=="function"?l(n):l}function mo(n){var l=Et();return $d(l,dt,n)}function $d(n,l,d){var f=n.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=d;var v=n.baseQueue,N=f.pending;if(N!==null){if(v!==null){var R=v.next;v.next=N.next,N.next=R}l.baseQueue=v=N,f.pending=null}if(N=n.baseState,v===null)n.memoizedState=N;else{l=v.next;var X=R=null,Z=null,le=l,ge=!1;do{var xe=le.lane&-536870913;if(xe!==le.lane?(Ve&xe)===xe:(Na&xe)===xe){var oe=le.revertLane;if(oe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),xe===_n&&(ge=!0);else if((Na&oe)===oe){le=le.next,oe===_n&&(ge=!0);continue}else xe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Z===null?(X=Z=xe,R=N):Z=Z.next=xe,Pe.lanes|=oe,ei|=oe;xe=le.action,Bi&&d(N,xe),N=le.hasEagerState?le.eagerState:d(N,xe)}else oe={lane:xe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},Z===null?(X=Z=oe,R=N):Z=Z.next=oe,Pe.lanes|=xe,ei|=xe;le=le.next}while(le!==null&&le!==l);if(Z===null?R=N:Z.next=X,!vs(N,n.memoizedState)&&(zt=!0,ge&&(d=En,d!==null)))throw d;n.memoizedState=N,n.baseState=R,n.baseQueue=Z,f.lastRenderedState=N}return v===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function Kd(n){var l=Et(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var f=d.dispatch,v=d.pending,N=l.memoizedState;if(v!==null){d.pending=null;var R=v=v.next;do N=n(N,R.action),R=R.next;while(R!==v);vs(N,l.memoizedState)||(zt=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),d.lastRenderedState=N}return[N,f]}function bx(n,l,d){var f=Pe,v=Et(),N=$e;if(N){if(d===void 0)throw Error(s(407));d=d()}else d=l();var R=!vs((dt||v).memoizedState,d);if(R&&(v.memoizedState=d,zt=!0),v=v.queue,Jd(wx.bind(null,f,v,n),[n]),v.getSnapshot!==l||R||Lt!==null&&Lt.memoizedState.tag&1){if(f.flags|=2048,On(9,{destroy:void 0},yx.bind(null,f,v,d,l),null),xt===null)throw Error(s(349));N||(Na&127)!==0||vx(f,l,d)}return d}function vx(n,l,d){n.flags|=16384,n={getSnapshot:l,value:d},l=Pe.updateQueue,l===null?(l=fo(),Pe.updateQueue=l,l.stores=[n]):(d=l.stores,d===null?l.stores=[n]:d.push(n))}function yx(n,l,d,f){l.value=d,l.getSnapshot=f,jx(l)&&Nx(n)}function wx(n,l,d){return d(function(){jx(l)&&Nx(n)})}function jx(n){var l=n.getSnapshot;n=n.value;try{var d=l();return!vs(n,d)}catch{return!0}}function Nx(n){var l=Ei(n,2);l!==null&&fs(l,n,2)}function Zd(n){var l=as();if(typeof n=="function"){var d=n;if(n=d(),Bi){ia(!0);try{d()}finally{ia(!1)}}}return l.memoizedState=l.baseState=n,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:n},l}function Sx(n,l,d,f){return n.baseState=d,$d(n,dt,typeof f=="function"?f:Sa)}function pw(n,l,d,f,v){if(vo(n))throw Error(s(485));if(n=l.action,n!==null){var N={payload:v,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){N.listeners.push(R)}};Y.T!==null?d(!0):N.isTransition=!1,f(N),d=l.pending,d===null?(N.next=l.pending=N,kx(l,N)):(N.next=d.next,l.pending=d.next=N)}}function kx(n,l){var d=l.action,f=l.payload,v=n.state;if(l.isTransition){var N=Y.T,R={};Y.T=R;try{var X=d(v,f),Z=Y.S;Z!==null&&Z(R,X),Cx(n,l,X)}catch(le){Qd(n,l,le)}finally{N!==null&&R.types!==null&&(N.types=R.types),Y.T=N}}else try{N=d(v,f),Cx(n,l,N)}catch(le){Qd(n,l,le)}}function Cx(n,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(f){Ax(n,l,f)},function(f){return Qd(n,l,f)}):Ax(n,l,d)}function Ax(n,l,d){l.status="fulfilled",l.value=d,Tx(l),n.state=d,l=n.pending,l!==null&&(d=l.next,d===l?n.pending=null:(d=d.next,l.next=d,kx(n,d)))}function Qd(n,l,d){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=d,Tx(l),l=l.next;while(l!==f)}n.action=null}function Tx(n){n=n.listeners;for(var l=0;l<n.length;l++)(0,n[l])()}function _x(n,l){return l}function Ex(n,l){if($e){var d=xt.formState;if(d!==null){e:{var f=Pe;if($e){if(bt){t:{for(var v=bt,N=Os;v.nodeType!==8;){if(!N){v=null;break t}if(v=Ps(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){bt=Ps(v.nextSibling),f=v.data==="F!";break e}}Wa(f)}f=!1}f&&(l=d[0])}}return d=as(),d.memoizedState=d.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_x,lastRenderedState:l},d.queue=f,d=$x.bind(null,Pe,f),f.dispatch=d,f=Zd(!1),N=ih.bind(null,Pe,!1,f.queue),f=as(),v={state:l,dispatch:null,action:n,pending:null},f.queue=v,d=pw.bind(null,Pe,v,N,d),v.dispatch=d,f.memoizedState=n,[l,d,!1]}function Mx(n){var l=Et();return Lx(l,dt,n)}function Lx(n,l,d){if(l=$d(n,l,_x)[0],n=mo(Sa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=Rr(l)}catch(R){throw R===Mn?no:R}else f=l;l=Et();var v=l.queue,N=v.dispatch;return d!==l.memoizedState&&(Pe.flags|=2048,On(9,{destroy:void 0},bw.bind(null,v,d),null)),[f,N,n]}function bw(n,l){n.action=l}function zx(n){var l=Et(),d=dt;if(d!==null)return Lx(l,d,n);Et(),l=l.memoizedState,d=Et();var f=d.queue.dispatch;return d.memoizedState=n,[l,f,!1]}function On(n,l,d,f){return n={tag:n,create:d,deps:f,inst:l,next:null},l=Pe.updateQueue,l===null&&(l=fo(),Pe.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=n.next=n:(f=d.next,d.next=n,n.next=f,l.lastEffect=n),n}function Dx(){return Et().memoizedState}function po(n,l,d,f){var v=as();Pe.flags|=n,v.memoizedState=On(1|l,{destroy:void 0},d,f===void 0?null:f)}function bo(n,l,d,f){var v=Et();f=f===void 0?null:f;var N=v.memoizedState.inst;dt!==null&&f!==null&&Id(f,dt.memoizedState.deps)?v.memoizedState=On(l,N,d,f):(Pe.flags|=n,v.memoizedState=On(1|l,N,d,f))}function Rx(n,l){po(8390656,8,n,l)}function Jd(n,l){bo(2048,8,n,l)}function vw(n){Pe.flags|=4;var l=Pe.updateQueue;if(l===null)l=fo(),Pe.updateQueue=l,l.events=[n];else{var d=l.events;d===null?l.events=[n]:d.push(n)}}function Ox(n){var l=Et().memoizedState;return vw({ref:l,nextImpl:n}),function(){if((at&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function Hx(n,l){return bo(4,2,n,l)}function Px(n,l){return bo(4,4,n,l)}function Bx(n,l){if(typeof l=="function"){n=n();var d=l(n);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return n=n(),l.current=n,function(){l.current=null}}function Xx(n,l,d){d=d!=null?d.concat([n]):null,bo(4,4,Bx.bind(null,l,n),d)}function eh(){}function Yx(n,l){var d=Et();l=l===void 0?null:l;var f=d.memoizedState;return l!==null&&Id(l,f[1])?f[0]:(d.memoizedState=[n,l],n)}function Fx(n,l){var d=Et();l=l===void 0?null:l;var f=d.memoizedState;if(l!==null&&Id(l,f[1]))return f[0];if(f=n(),Bi){ia(!0);try{n()}finally{ia(!1)}}return d.memoizedState=[f,l],f}function th(n,l,d){return d===void 0||(Na&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=l:(n.memoizedState=d,n=Im(),Pe.lanes|=n,ei|=n,d)}function Ix(n,l,d,f){return vs(d,l)?d:zn.current!==null?(n=th(n,d,f),vs(n,l)||(zt=!0),n):(Na&42)===0||(Na&1073741824)!==0&&(Ve&261930)===0?(zt=!0,n.memoizedState=d):(n=Im(),Pe.lanes|=n,ei|=n,l)}function Ux(n,l,d,f,v){var N=F.p;F.p=N!==0&&8>N?N:8;var R=Y.T,X={};Y.T=X,ih(n,!1,l,d);try{var Z=v(),le=Y.S;if(le!==null&&le(X,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ge=fw(Z,f);Or(n,l,ge,ks(n))}else Or(n,l,f,ks(n))}catch(xe){Or(n,l,{then:function(){},status:"rejected",reason:xe},ks())}finally{F.p=N,R!==null&&X.types!==null&&(R.types=X.types),Y.T=R}}function yw(){}function sh(n,l,d,f){if(n.tag!==5)throw Error(s(476));var v=Wx(n).queue;Ux(n,v,l,U,d===null?yw:function(){return Vx(n),d(f)})}function Wx(n){var l=n.memoizedState;if(l!==null)return l;l={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:U},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:d},next:null},n.memoizedState=l,n=n.alternate,n!==null&&(n.memoizedState=l),l}function Vx(n){var l=Wx(n);l.next===null&&(l=n.alternate.memoizedState),Or(n,l.next.queue,{},ks())}function ah(){return qt(Jr)}function qx(){return Et().memoizedState}function Gx(){return Et().memoizedState}function ww(n){for(var l=n.return;l!==null;){switch(l.tag){case 24:case 3:var d=ks();n=Ga(d);var f=$a(l,n,d);f!==null&&(fs(f,l,d),Mr(f,l,d)),l={cache:Ld()},n.payload=l;return}l=l.return}}function jw(n,l,d){var f=ks();d={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},vo(n)?Kx(l,d):(d=wd(n,l,d,f),d!==null&&(fs(d,n,f),Zx(d,l,f)))}function $x(n,l,d){var f=ks();Or(n,l,d,f)}function Or(n,l,d,f){var v={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(vo(n))Kx(l,v);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var R=l.lastRenderedState,X=N(R,d);if(v.hasEagerState=!0,v.eagerState=X,vs(X,R))return Ql(n,l,v,0),xt===null&&Zl(),!1}catch{}finally{}if(d=wd(n,l,v,f),d!==null)return fs(d,n,f),Zx(d,l,f),!0}return!1}function ih(n,l,d,f){if(f={lane:2,revertLane:Oh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},vo(n)){if(l)throw Error(s(479))}else l=wd(n,d,f,2),l!==null&&fs(l,n,2)}function vo(n){var l=n.alternate;return n===Pe||l!==null&&l===Pe}function Kx(n,l){Dn=uo=!0;var d=n.pending;d===null?l.next=l:(l.next=d.next,d.next=l),n.pending=l}function Zx(n,l,d){if((d&4194048)!==0){var f=l.lanes;f&=n.pendingLanes,d|=f,l.lanes=d,ki(n,d)}}var Hr={readContext:qt,use:xo,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};Hr.useEffectEvent=St;var Qx={readContext:qt,use:xo,useCallback:function(n,l){return as().memoizedState=[n,l===void 0?null:l],n},useContext:qt,useEffect:Rx,useImperativeHandle:function(n,l,d){d=d!=null?d.concat([n]):null,po(4194308,4,Bx.bind(null,l,n),d)},useLayoutEffect:function(n,l){return po(4194308,4,n,l)},useInsertionEffect:function(n,l){po(4,2,n,l)},useMemo:function(n,l){var d=as();l=l===void 0?null:l;var f=n();if(Bi){ia(!0);try{n()}finally{ia(!1)}}return d.memoizedState=[f,l],f},useReducer:function(n,l,d){var f=as();if(d!==void 0){var v=d(l);if(Bi){ia(!0);try{d(l)}finally{ia(!1)}}}else v=l;return f.memoizedState=f.baseState=v,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:v},f.queue=n,n=n.dispatch=jw.bind(null,Pe,n),[f.memoizedState,n]},useRef:function(n){var l=as();return n={current:n},l.memoizedState=n},useState:function(n){n=Zd(n);var l=n.queue,d=$x.bind(null,Pe,l);return l.dispatch=d,[n.memoizedState,d]},useDebugValue:eh,useDeferredValue:function(n,l){var d=as();return th(d,n,l)},useTransition:function(){var n=Zd(!1);return n=Ux.bind(null,Pe,n.queue,!0,!1),as().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,l,d){var f=Pe,v=as();if($e){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),xt===null)throw Error(s(349));(Ve&127)!==0||vx(f,l,d)}v.memoizedState=d;var N={value:d,getSnapshot:l};return v.queue=N,Rx(wx.bind(null,f,N,n),[n]),f.flags|=2048,On(9,{destroy:void 0},yx.bind(null,f,N,d,l),null),d},useId:function(){var n=as(),l=xt.identifierPrefix;if($e){var d=ra,f=na;d=(f&~(1<<32-ts(f)-1)).toString(32)+d,l="_"+l+"R_"+d,d=go++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=xw++,l="_"+l+"r_"+d.toString(32)+"_";return n.memoizedState=l},useHostTransitionStatus:ah,useFormState:Ex,useActionState:Ex,useOptimistic:function(n){var l=as();l.memoizedState=l.baseState=n;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=ih.bind(null,Pe,!0,d),d.dispatch=l,[n,l]},useMemoCache:Gd,useCacheRefresh:function(){return as().memoizedState=ww.bind(null,Pe)},useEffectEvent:function(n){var l=as(),d={impl:n};return l.memoizedState=d,function(){if((at&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},nh={readContext:qt,use:xo,useCallback:Yx,useContext:qt,useEffect:Jd,useImperativeHandle:Xx,useInsertionEffect:Hx,useLayoutEffect:Px,useMemo:Fx,useReducer:mo,useRef:Dx,useState:function(){return mo(Sa)},useDebugValue:eh,useDeferredValue:function(n,l){var d=Et();return Ix(d,dt.memoizedState,n,l)},useTransition:function(){var n=mo(Sa)[0],l=Et().memoizedState;return[typeof n=="boolean"?n:Rr(n),l]},useSyncExternalStore:bx,useId:qx,useHostTransitionStatus:ah,useFormState:Mx,useActionState:Mx,useOptimistic:function(n,l){var d=Et();return Sx(d,dt,n,l)},useMemoCache:Gd,useCacheRefresh:Gx};nh.useEffectEvent=Ox;var Jx={readContext:qt,use:xo,useCallback:Yx,useContext:qt,useEffect:Jd,useImperativeHandle:Xx,useInsertionEffect:Hx,useLayoutEffect:Px,useMemo:Fx,useReducer:Kd,useRef:Dx,useState:function(){return Kd(Sa)},useDebugValue:eh,useDeferredValue:function(n,l){var d=Et();return dt===null?th(d,n,l):Ix(d,dt.memoizedState,n,l)},useTransition:function(){var n=Kd(Sa)[0],l=Et().memoizedState;return[typeof n=="boolean"?n:Rr(n),l]},useSyncExternalStore:bx,useId:qx,useHostTransitionStatus:ah,useFormState:zx,useActionState:zx,useOptimistic:function(n,l){var d=Et();return dt!==null?Sx(d,dt,n,l):(d.baseState=n,[n,d.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:Gx};Jx.useEffectEvent=Ox;function rh(n,l,d,f){l=n.memoizedState,d=d(f,l),d=d==null?l:m({},l,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var lh={enqueueSetState:function(n,l,d){n=n._reactInternals;var f=ks(),v=Ga(f);v.payload=l,d!=null&&(v.callback=d),l=$a(n,v,f),l!==null&&(fs(l,n,f),Mr(l,n,f))},enqueueReplaceState:function(n,l,d){n=n._reactInternals;var f=ks(),v=Ga(f);v.tag=1,v.payload=l,d!=null&&(v.callback=d),l=$a(n,v,f),l!==null&&(fs(l,n,f),Mr(l,n,f))},enqueueForceUpdate:function(n,l){n=n._reactInternals;var d=ks(),f=Ga(d);f.tag=2,l!=null&&(f.callback=l),l=$a(n,f,d),l!==null&&(fs(l,n,d),Mr(l,n,d))}};function em(n,l,d,f,v,N,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,N,R):l.prototype&&l.prototype.isPureReactComponent?!Nr(d,f)||!Nr(v,N):!0}function tm(n,l,d,f){n=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,f),l.state!==n&&lh.enqueueReplaceState(l,l.state,null)}function Xi(n,l){var d=l;if("ref"in l){d={};for(var f in l)f!=="ref"&&(d[f]=l[f])}if(n=n.defaultProps){d===l&&(d=m({},d));for(var v in n)d[v]===void 0&&(d[v]=n[v])}return d}function sm(n){Kl(n)}function am(n){console.error(n)}function im(n){Kl(n)}function yo(n,l){try{var d=n.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function nm(n,l,d){try{var f=n.onCaughtError;f(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function oh(n,l,d){return d=Ga(d),d.tag=3,d.payload={element:null},d.callback=function(){yo(n,l)},d}function rm(n){return n=Ga(n),n.tag=3,n}function lm(n,l,d,f){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var N=f.value;n.payload=function(){return v(N)},n.callback=function(){nm(l,d,f)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(n.callback=function(){nm(l,d,f),typeof v!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var X=f.stack;this.componentDidCatch(f.value,{componentStack:X!==null?X:""})})}function Nw(n,l,d,f,v){if(d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=d.alternate,l!==null&&Tn(l,d,v,!0),d=ws.current,d!==null){switch(d.tag){case 31:case 13:return Hs===null?Lo():d.alternate===null&&kt===0&&(kt=3),d.flags&=-257,d.flags|=65536,d.lanes=v,f===ro?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([f]):l.add(f),zh(n,f,v)),!1;case 22:return d.flags|=65536,f===ro?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([f]):d.add(f)),zh(n,f,v)),!1}throw Error(s(435,d.tag))}return zh(n,f,v),Lo(),!1}if($e)return l=ws.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,f!==Ad&&(n=Error(s(422),{cause:f}),Cr(zs(n,d)))):(f!==Ad&&(l=Error(s(423),{cause:f}),Cr(zs(l,d))),n=n.current.alternate,n.flags|=65536,v&=-v,n.lanes|=v,f=zs(f,d),v=oh(n.stateNode,f,v),Pd(n,v),kt!==4&&(kt=2)),!1;var N=Error(s(520),{cause:f});if(N=zs(N,d),Wr===null?Wr=[N]:Wr.push(N),kt!==4&&(kt=2),l===null)return!0;f=zs(f,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,n=v&-v,d.lanes|=n,n=oh(d.stateNode,f,n),Pd(d,n),!1;case 1:if(l=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ti===null||!ti.has(N))))return d.flags|=65536,v&=-v,d.lanes|=v,v=rm(v),lm(v,n,d,f),Pd(d,v),!1}d=d.return}while(d!==null);return!1}var ch=Error(s(461)),zt=!1;function Gt(n,l,d,f){l.child=n===null?hx(l,null,d,f):Pi(l,n.child,d,f)}function om(n,l,d,f,v){d=d.render;var N=l.ref;if("ref"in f){var R={};for(var X in f)X!=="ref"&&(R[X]=f[X])}else R=f;return Di(l),f=Ud(n,l,d,R,N,v),X=Wd(),n!==null&&!zt?(Vd(n,l,v),ka(n,l,v)):($e&&X&&kd(l),l.flags|=1,Gt(n,l,f,v),l.child)}function cm(n,l,d,f,v){if(n===null){var N=d.type;return typeof N=="function"&&!jd(N)&&N.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=N,dm(n,l,N,f,v)):(n=eo(d.type,null,f,l,l.mode,v),n.ref=l.ref,n.return=l,l.child=n)}if(N=n.child,!ph(n,v)){var R=N.memoizedProps;if(d=d.compare,d=d!==null?d:Nr,d(R,f)&&n.ref===l.ref)return ka(n,l,v)}return l.flags|=1,n=va(N,f),n.ref=l.ref,n.return=l,l.child=n}function dm(n,l,d,f,v){if(n!==null){var N=n.memoizedProps;if(Nr(N,f)&&n.ref===l.ref)if(zt=!1,l.pendingProps=f=N,ph(n,v))(n.flags&131072)!==0&&(zt=!0);else return l.lanes=n.lanes,ka(n,l,v)}return dh(n,l,d,f,v)}function hm(n,l,d,f){var v=f.children,N=n!==null?n.memoizedState:null;if(n===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,n!==null){for(f=l.child=n.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~N}else f=0,l.child=null;return um(n,l,N,d,f)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},n!==null&&io(l,N!==null?N.cachePool:null),N!==null?fx(l,N):Xd(),xx(l);else return f=l.lanes=536870912,um(n,l,N!==null?N.baseLanes|d:d,d,f)}else N!==null?(io(l,N.cachePool),fx(l,N),Za(),l.memoizedState=null):(n!==null&&io(l,null),Xd(),Za());return Gt(n,l,v,d),l.child}function Pr(n,l){return n!==null&&n.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function um(n,l,d,f,v){var N=Dd();return N=N===null?null:{parent:Mt._currentValue,pool:N},l.memoizedState={baseLanes:d,cachePool:N},n!==null&&io(l,null),Xd(),xx(l),n!==null&&Tn(n,l,f,!0),l.childLanes=v,null}function wo(n,l){return l=No({mode:l.mode,children:l.children},n.mode),l.ref=n.ref,n.child=l,l.return=n,l}function gm(n,l,d){return Pi(l,n.child,null,d),n=wo(l,l.pendingProps),n.flags|=2,js(l),l.memoizedState=null,n}function Sw(n,l,d){var f=l.pendingProps,v=(l.flags&128)!==0;if(l.flags&=-129,n===null){if($e){if(f.mode==="hidden")return n=wo(l,f),l.lanes=536870912,Pr(null,n);if(Fd(l),(n=bt)?(n=kp(n,Os),n=n!==null&&n.data==="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Ia!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},d=Kf(n),d.return=l,l.child=d,Vt=l,bt=null)):n=null,n===null)throw Wa(l);return l.lanes=536870912,null}return wo(l,f)}var N=n.memoizedState;if(N!==null){var R=N.dehydrated;if(Fd(l),v)if(l.flags&256)l.flags&=-257,l=gm(n,l,d);else if(l.memoizedState!==null)l.child=n.child,l.flags|=128,l=null;else throw Error(s(558));else if(zt||Tn(n,l,d,!1),v=(d&n.childLanes)!==0,zt||v){if(f=xt,f!==null&&(R=Xa(f,d),R!==0&&R!==N.retryLane))throw N.retryLane=R,Ei(n,R),fs(f,n,R),ch;Lo(),l=gm(n,l,d)}else n=N.treeContext,bt=Ps(R.nextSibling),Vt=l,$e=!0,Ua=null,Os=!1,n!==null&&Jf(l,n),l=wo(l,f),l.flags|=4096;return l}return n=va(n.child,{mode:f.mode,children:f.children}),n.ref=l.ref,l.child=n,n.return=l,n}function jo(n,l){var d=l.ref;if(d===null)n!==null&&n.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(n===null||n.ref!==d)&&(l.flags|=4194816)}}function dh(n,l,d,f,v){return Di(l),d=Ud(n,l,d,f,void 0,v),f=Wd(),n!==null&&!zt?(Vd(n,l,v),ka(n,l,v)):($e&&f&&kd(l),l.flags|=1,Gt(n,l,d,v),l.child)}function fm(n,l,d,f,v,N){return Di(l),l.updateQueue=null,d=px(l,f,d,v),mx(n),f=Wd(),n!==null&&!zt?(Vd(n,l,N),ka(n,l,N)):($e&&f&&kd(l),l.flags|=1,Gt(n,l,d,N),l.child)}function xm(n,l,d,f,v){if(Di(l),l.stateNode===null){var N=Sn,R=d.contextType;typeof R=="object"&&R!==null&&(N=qt(R)),N=new d(f,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=lh,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=f,N.state=l.memoizedState,N.refs={},Od(l),R=d.contextType,N.context=typeof R=="object"&&R!==null?qt(R):Sn,N.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(rh(l,d,R,f),N.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(R=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),R!==N.state&&lh.enqueueReplaceState(N,N.state,null),zr(l,f,N,v),Lr(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(n===null){N=l.stateNode;var X=l.memoizedProps,Z=Xi(d,X);N.props=Z;var le=N.context,ge=d.contextType;R=Sn,typeof ge=="object"&&ge!==null&&(R=qt(ge));var xe=d.getDerivedStateFromProps;ge=typeof xe=="function"||typeof N.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,ge||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X||le!==R)&&tm(l,N,f,R),qa=!1;var oe=l.memoizedState;N.state=oe,zr(l,f,N,v),Lr(),le=l.memoizedState,X||oe!==le||qa?(typeof xe=="function"&&(rh(l,d,xe,f),le=l.memoizedState),(Z=qa||em(l,d,Z,f,oe,le,R))?(ge||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=le),N.props=f,N.state=le,N.context=R,f=Z):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{N=l.stateNode,Hd(n,l),R=l.memoizedProps,ge=Xi(d,R),N.props=ge,xe=l.pendingProps,oe=N.context,le=d.contextType,Z=Sn,typeof le=="object"&&le!==null&&(Z=qt(le)),X=d.getDerivedStateFromProps,(le=typeof X=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==xe||oe!==Z)&&tm(l,N,f,Z),qa=!1,oe=l.memoizedState,N.state=oe,zr(l,f,N,v),Lr();var de=l.memoizedState;R!==xe||oe!==de||qa||n!==null&&n.dependencies!==null&&so(n.dependencies)?(typeof X=="function"&&(rh(l,d,X,f),de=l.memoizedState),(ge=qa||em(l,d,ge,f,oe,de,Z)||n!==null&&n.dependencies!==null&&so(n.dependencies))?(le||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(f,de,Z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(f,de,Z)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=de),N.props=f,N.state=de,N.context=Z,f=ge):(typeof N.componentDidUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===n.memoizedProps&&oe===n.memoizedState||(l.flags|=1024),f=!1)}return N=f,jo(n,l),f=(l.flags&128)!==0,N||f?(N=l.stateNode,d=f&&typeof d.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,n!==null&&f?(l.child=Pi(l,n.child,null,v),l.child=Pi(l,null,d,v)):Gt(n,l,d,v),l.memoizedState=N.state,n=l.child):n=ka(n,l,v),n}function mm(n,l,d,f){return Li(),l.flags|=256,Gt(n,l,d,f),l.child}var hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(n){return{baseLanes:n,cachePool:nx()}}function gh(n,l,d){return n=n!==null?n.childLanes&~d:0,l&&(n|=Ss),n}function pm(n,l,d){var f=l.pendingProps,v=!1,N=(l.flags&128)!==0,R;if((R=N)||(R=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),R&&(v=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,n===null){if($e){if(v?Ka(l):Za(),(n=bt)?(n=kp(n,Os),n=n!==null&&n.data!=="&"?n:null,n!==null&&(l.memoizedState={dehydrated:n,treeContext:Ia!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},d=Kf(n),d.return=l,l.child=d,Vt=l,bt=null)):n=null,n===null)throw Wa(l);return $h(n)?l.lanes=32:l.lanes=536870912,null}var X=f.children;return f=f.fallback,v?(Za(),v=l.mode,X=No({mode:"hidden",children:X},v),f=Mi(f,v,d,null),X.return=l,f.return=l,X.sibling=f,l.child=X,f=l.child,f.memoizedState=uh(d),f.childLanes=gh(n,R,d),l.memoizedState=hh,Pr(null,f)):(Ka(l),fh(l,X))}var Z=n.memoizedState;if(Z!==null&&(X=Z.dehydrated,X!==null)){if(N)l.flags&256?(Ka(l),l.flags&=-257,l=xh(n,l,d)):l.memoizedState!==null?(Za(),l.child=n.child,l.flags|=128,l=null):(Za(),X=f.fallback,v=l.mode,f=No({mode:"visible",children:f.children},v),X=Mi(X,v,d,null),X.flags|=2,f.return=l,X.return=l,f.sibling=X,l.child=f,Pi(l,n.child,null,d),f=l.child,f.memoizedState=uh(d),f.childLanes=gh(n,R,d),l.memoizedState=hh,l=Pr(null,f));else if(Ka(l),$h(X)){if(R=X.nextSibling&&X.nextSibling.dataset,R)var le=R.dgst;R=le,f=Error(s(419)),f.stack="",f.digest=R,Cr({value:f,source:null,stack:null}),l=xh(n,l,d)}else if(zt||Tn(n,l,d,!1),R=(d&n.childLanes)!==0,zt||R){if(R=xt,R!==null&&(f=Xa(R,d),f!==0&&f!==Z.retryLane))throw Z.retryLane=f,Ei(n,f),fs(R,n,f),ch;Gh(X)||Lo(),l=xh(n,l,d)}else Gh(X)?(l.flags|=192,l.child=n.child,l=null):(n=Z.treeContext,bt=Ps(X.nextSibling),Vt=l,$e=!0,Ua=null,Os=!1,n!==null&&Jf(l,n),l=fh(l,f.children),l.flags|=4096);return l}return v?(Za(),X=f.fallback,v=l.mode,Z=n.child,le=Z.sibling,f=va(Z,{mode:"hidden",children:f.children}),f.subtreeFlags=Z.subtreeFlags&65011712,le!==null?X=va(le,X):(X=Mi(X,v,d,null),X.flags|=2),X.return=l,f.return=l,f.sibling=X,l.child=f,Pr(null,f),f=l.child,X=n.child.memoizedState,X===null?X=uh(d):(v=X.cachePool,v!==null?(Z=Mt._currentValue,v=v.parent!==Z?{parent:Z,pool:Z}:v):v=nx(),X={baseLanes:X.baseLanes|d,cachePool:v}),f.memoizedState=X,f.childLanes=gh(n,R,d),l.memoizedState=hh,Pr(n.child,f)):(Ka(l),d=n.child,n=d.sibling,d=va(d,{mode:"visible",children:f.children}),d.return=l,d.sibling=null,n!==null&&(R=l.deletions,R===null?(l.deletions=[n],l.flags|=16):R.push(n)),l.child=d,l.memoizedState=null,d)}function fh(n,l){return l=No({mode:"visible",children:l},n.mode),l.return=n,n.child=l}function No(n,l){return n=ys(22,n,null,l),n.lanes=0,n}function xh(n,l,d){return Pi(l,n.child,null,d),n=fh(l,l.pendingProps.children),n.flags|=2,l.memoizedState=null,n}function bm(n,l,d){n.lanes|=l;var f=n.alternate;f!==null&&(f.lanes|=l),Ed(n.return,l,d)}function mh(n,l,d,f,v,N){var R=n.memoizedState;R===null?n.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:v,treeForkCount:N}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=f,R.tail=d,R.tailMode=v,R.treeForkCount=N)}function vm(n,l,d){var f=l.pendingProps,v=f.revealOrder,N=f.tail;f=f.children;var R=_t.current,X=(R&2)!==0;if(X?(R=R&1|2,l.flags|=128):R&=1,ne(_t,R),Gt(n,l,f,d),f=$e?kr:0,!X&&n!==null&&(n.flags&128)!==0)e:for(n=l.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bm(n,d,l);else if(n.tag===19)bm(n,d,l);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===l)break e;for(;n.sibling===null;){if(n.return===null||n.return===l)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(v){case"forwards":for(d=l.child,v=null;d!==null;)n=d.alternate,n!==null&&ho(n)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),mh(l,!1,v,d,N,f);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(n=v.alternate,n!==null&&ho(n)===null){l.child=v;break}n=v.sibling,v.sibling=d,d=v,v=n}mh(l,!0,d,null,N,f);break;case"together":mh(l,!1,null,null,void 0,f);break;default:l.memoizedState=null}return l.child}function ka(n,l,d){if(n!==null&&(l.dependencies=n.dependencies),ei|=l.lanes,(d&l.childLanes)===0)if(n!==null){if(Tn(n,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(n!==null&&l.child!==n.child)throw Error(s(153));if(l.child!==null){for(n=l.child,d=va(n,n.pendingProps),l.child=d,d.return=l;n.sibling!==null;)n=n.sibling,d=d.sibling=va(n,n.pendingProps),d.return=l;d.sibling=null}return l.child}function ph(n,l){return(n.lanes&l)!==0?!0:(n=n.dependencies,!!(n!==null&&so(n)))}function kw(n,l,d){switch(l.tag){case 3:ve(l,l.stateNode.containerInfo),Va(l,Mt,n.memoizedState.cache),Li();break;case 27:case 5:je(l);break;case 4:ve(l,l.stateNode.containerInfo);break;case 10:Va(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Fd(l),null;break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Ka(l),l.flags|=128,null):(d&l.child.childLanes)!==0?pm(n,l,d):(Ka(l),n=ka(n,l,d),n!==null?n.sibling:null);Ka(l);break;case 19:var v=(n.flags&128)!==0;if(f=(d&l.childLanes)!==0,f||(Tn(n,l,d,!1),f=(d&l.childLanes)!==0),v){if(f)return vm(n,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ne(_t,_t.current),f)break;return null;case 22:return l.lanes=0,hm(n,l,d,l.pendingProps);case 24:Va(l,Mt,n.memoizedState.cache)}return ka(n,l,d)}function ym(n,l,d){if(n!==null)if(n.memoizedProps!==l.pendingProps)zt=!0;else{if(!ph(n,d)&&(l.flags&128)===0)return zt=!1,kw(n,l,d);zt=(n.flags&131072)!==0}else zt=!1,$e&&(l.flags&1048576)!==0&&Qf(l,kr,l.index);switch(l.lanes=0,l.tag){case 16:e:{var f=l.pendingProps;if(n=Oi(l.elementType),l.type=n,typeof n=="function")jd(n)?(f=Xi(n,f),l.tag=1,l=xm(null,l,n,f,d)):(l.tag=0,l=dh(null,l,n,f,d));else{if(n!=null){var v=n.$$typeof;if(v===C){l.tag=11,l=om(null,l,n,f,d);break e}else if(v===_){l.tag=14,l=cm(null,l,n,f,d);break e}}throw l=V(n)||n,Error(s(306,l,""))}}return l;case 0:return dh(n,l,l.type,l.pendingProps,d);case 1:return f=l.type,v=Xi(f,l.pendingProps),xm(n,l,f,v,d);case 3:e:{if(ve(l,l.stateNode.containerInfo),n===null)throw Error(s(387));f=l.pendingProps;var N=l.memoizedState;v=N.element,Hd(n,l),zr(l,f,null,d);var R=l.memoizedState;if(f=R.cache,Va(l,Mt,f),f!==N.cache&&Md(l,[Mt],d,!0),Lr(),f=R.element,N.isDehydrated)if(N={element:f,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=mm(n,l,f,d);break e}else if(f!==v){v=zs(Error(s(424)),l),Cr(v),l=mm(n,l,f,d);break e}else{switch(n=l.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(bt=Ps(n.firstChild),Vt=l,$e=!0,Ua=null,Os=!0,d=hx(l,null,f,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Li(),f===v){l=ka(n,l,d);break e}Gt(n,l,f,d)}l=l.child}return l;case 26:return jo(n,l),n===null?(d=Mp(l.type,null,l.pendingProps,null))?l.memoizedState=d:$e||(d=l.type,n=l.pendingProps,f=Bo(ae.current).createElement(d),f[Wt]=l,f[os]=n,$t(f,d,n),Yt(f),l.stateNode=f):l.memoizedState=Mp(l.type,n.memoizedProps,l.pendingProps,n.memoizedState),null;case 27:return je(l),n===null&&$e&&(f=l.stateNode=Tp(l.type,l.pendingProps,ae.current),Vt=l,Os=!0,v=bt,ni(l.type)?(Kh=v,bt=Ps(f.firstChild)):bt=v),Gt(n,l,l.pendingProps.children,d),jo(n,l),n===null&&(l.flags|=4194304),l.child;case 5:return n===null&&$e&&((v=f=bt)&&(f=t1(f,l.type,l.pendingProps,Os),f!==null?(l.stateNode=f,Vt=l,bt=Ps(f.firstChild),Os=!1,v=!0):v=!1),v||Wa(l)),je(l),v=l.type,N=l.pendingProps,R=n!==null?n.memoizedProps:null,f=N.children,Wh(v,N)?f=null:R!==null&&Wh(v,R)&&(l.flags|=32),l.memoizedState!==null&&(v=Ud(n,l,mw,null,null,d),Jr._currentValue=v),jo(n,l),Gt(n,l,f,d),l.child;case 6:return n===null&&$e&&((n=d=bt)&&(d=s1(d,l.pendingProps,Os),d!==null?(l.stateNode=d,Vt=l,bt=null,n=!0):n=!1),n||Wa(l)),null;case 13:return pm(n,l,d);case 4:return ve(l,l.stateNode.containerInfo),f=l.pendingProps,n===null?l.child=Pi(l,null,f,d):Gt(n,l,f,d),l.child;case 11:return om(n,l,l.type,l.pendingProps,d);case 7:return Gt(n,l,l.pendingProps,d),l.child;case 8:return Gt(n,l,l.pendingProps.children,d),l.child;case 12:return Gt(n,l,l.pendingProps.children,d),l.child;case 10:return f=l.pendingProps,Va(l,l.type,f.value),Gt(n,l,f.children,d),l.child;case 9:return v=l.type._context,f=l.pendingProps.children,Di(l),v=qt(v),f=f(v),l.flags|=1,Gt(n,l,f,d),l.child;case 14:return cm(n,l,l.type,l.pendingProps,d);case 15:return dm(n,l,l.type,l.pendingProps,d);case 19:return vm(n,l,d);case 31:return Sw(n,l,d);case 22:return hm(n,l,d,l.pendingProps);case 24:return Di(l),f=qt(Mt),n===null?(v=Dd(),v===null&&(v=xt,N=Ld(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=d),v=N),l.memoizedState={parent:f,cache:v},Od(l),Va(l,Mt,v)):((n.lanes&d)!==0&&(Hd(n,l),zr(l,null,null,d),Lr()),v=n.memoizedState,N=l.memoizedState,v.parent!==f?(v={parent:f,cache:f},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),Va(l,Mt,f)):(f=N.cache,Va(l,Mt,f),f!==v.cache&&Md(l,[Mt],d,!0))),Gt(n,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function Ca(n){n.flags|=4}function bh(n,l,d,f,v){if((l=(n.mode&32)!==0)&&(l=!1),l){if(n.flags|=16777216,(v&335544128)===v)if(n.stateNode.complete)n.flags|=8192;else if(qm())n.flags|=8192;else throw Hi=ro,Rd}else n.flags&=-16777217}function wm(n,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Op(l))if(qm())n.flags|=8192;else throw Hi=ro,Rd}function So(n,l){l!==null&&(n.flags|=4),n.flags&16384&&(l=n.tag!==22?st():536870912,n.lanes|=l,Xn|=l)}function Br(n,l){if(!$e)switch(n.tailMode){case"hidden":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?l||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function vt(n){var l=n.alternate!==null&&n.alternate.child===n.child,d=0,f=0;if(l)for(var v=n.child;v!==null;)d|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=n,v=v.sibling;else for(v=n.child;v!==null;)d|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=n,v=v.sibling;return n.subtreeFlags|=f,n.childLanes=d,l}function Cw(n,l,d){var f=l.pendingProps;switch(Cd(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(l),null;case 1:return vt(l),null;case 3:return d=l.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ja(Mt),ie(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(An(l)?Ca(l):n===null||n.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Td())),vt(l),null;case 26:var v=l.type,N=l.memoizedState;return n===null?(Ca(l),N!==null?(vt(l),wm(l,N)):(vt(l),bh(l,v,null,f,d))):N?N!==n.memoizedState?(Ca(l),vt(l),wm(l,N)):(vt(l),l.flags&=-16777217):(n=n.memoizedProps,n!==f&&Ca(l),vt(l),bh(l,v,n,f,d)),null;case 27:if(Le(l),d=ae.current,v=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==f&&Ca(l);else{if(!f){if(l.stateNode===null)throw Error(s(166));return vt(l),null}n=K.current,An(l)?ex(l):(n=Tp(v,f,d),l.stateNode=n,Ca(l))}return vt(l),null;case 5:if(Le(l),v=l.type,n!==null&&l.stateNode!=null)n.memoizedProps!==f&&Ca(l);else{if(!f){if(l.stateNode===null)throw Error(s(166));return vt(l),null}if(N=K.current,An(l))ex(l);else{var R=Bo(ae.current);switch(N){case 1:N=R.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:N=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":N=R.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":N=R.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":N=R.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof f.is=="string"?R.createElement("select",{is:f.is}):R.createElement("select"),f.multiple?N.multiple=!0:f.size&&(N.size=f.size);break;default:N=typeof f.is=="string"?R.createElement(v,{is:f.is}):R.createElement(v)}}N[Wt]=l,N[os]=f;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)N.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=N;e:switch($t(N,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Ca(l)}}return vt(l),bh(l,l.type,n===null?null:n.memoizedProps,l.pendingProps,d),null;case 6:if(n&&l.stateNode!=null)n.memoizedProps!==f&&Ca(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(s(166));if(n=ae.current,An(l)){if(n=l.stateNode,d=l.memoizedProps,f=null,v=Vt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}n[Wt]=l,n=!!(n.nodeValue===d||f!==null&&f.suppressHydrationWarning===!0||pp(n.nodeValue,d)),n||Wa(l,!0)}else n=Bo(n).createTextNode(f),n[Wt]=l,l.stateNode=n}return vt(l),null;case 31:if(d=l.memoizedState,n===null||n.memoizedState!==null){if(f=An(l),d!==null){if(n===null){if(!f)throw Error(s(318));if(n=l.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Wt]=l}else Li(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vt(l),n=!1}else d=Td(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),n=!0;if(!n)return l.flags&256?(js(l),l):(js(l),null);if((l.flags&128)!==0)throw Error(s(558))}return vt(l),null;case 13:if(f=l.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(v=An(l),f!==null&&f.dehydrated!==null){if(n===null){if(!v)throw Error(s(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[Wt]=l}else Li(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;vt(l),v=!1}else v=Td(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(js(l),l):(js(l),null)}return js(l),(l.flags&128)!==0?(l.lanes=d,l):(d=f!==null,n=n!==null&&n.memoizedState!==null,d&&(f=l.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),N=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(N=f.memoizedState.cachePool.pool),N!==v&&(f.flags|=2048)),d!==n&&d&&(l.child.flags|=8192),So(l,l.updateQueue),vt(l),null);case 4:return ie(),n===null&&Xh(l.stateNode.containerInfo),vt(l),null;case 10:return ja(l.type),vt(l),null;case 19:if(I(_t),f=l.memoizedState,f===null)return vt(l),null;if(v=(l.flags&128)!==0,N=f.rendering,N===null)if(v)Br(f,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=l.child;n!==null;){if(N=ho(n),N!==null){for(l.flags|=128,Br(f,!1),n=N.updateQueue,l.updateQueue=n,So(l,n),l.subtreeFlags=0,n=d,d=l.child;d!==null;)$f(d,n),d=d.sibling;return ne(_t,_t.current&1|2),$e&&ya(l,f.treeForkCount),l.child}n=n.sibling}f.tail!==null&&Ut()>_o&&(l.flags|=128,v=!0,Br(f,!1),l.lanes=4194304)}else{if(!v)if(n=ho(N),n!==null){if(l.flags|=128,v=!0,n=n.updateQueue,l.updateQueue=n,So(l,n),Br(f,!0),f.tail===null&&f.tailMode==="hidden"&&!N.alternate&&!$e)return vt(l),null}else 2*Ut()-f.renderingStartTime>_o&&d!==536870912&&(l.flags|=128,v=!0,Br(f,!1),l.lanes=4194304);f.isBackwards?(N.sibling=l.child,l.child=N):(n=f.last,n!==null?n.sibling=N:l.child=N,f.last=N)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ut(),n.sibling=null,d=_t.current,ne(_t,v?d&1|2:d&1),$e&&ya(l,f.treeForkCount),n):(vt(l),null);case 22:case 23:return js(l),Yd(),f=l.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(d&536870912)!==0&&(l.flags&128)===0&&(vt(l),l.subtreeFlags&6&&(l.flags|=8192)):vt(l),d=l.updateQueue,d!==null&&So(l,d.retryQueue),d=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048),n!==null&&I(Ri),null;case 24:return d=null,n!==null&&(d=n.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ja(Mt),vt(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function Aw(n,l){switch(Cd(l),l.tag){case 1:return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 3:return ja(Mt),ie(),n=l.flags,(n&65536)!==0&&(n&128)===0?(l.flags=n&-65537|128,l):null;case 26:case 27:case 5:return Le(l),null;case 31:if(l.memoizedState!==null){if(js(l),l.alternate===null)throw Error(s(340));Li()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 13:if(js(l),n=l.memoizedState,n!==null&&n.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Li()}return n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 19:return I(_t),null;case 4:return ie(),null;case 10:return ja(l.type),null;case 22:case 23:return js(l),Yd(),n!==null&&I(Ri),n=l.flags,n&65536?(l.flags=n&-65537|128,l):null;case 24:return ja(Mt),null;case 25:return null;default:return null}}function jm(n,l){switch(Cd(l),l.tag){case 3:ja(Mt),ie();break;case 26:case 27:case 5:Le(l);break;case 4:ie();break;case 31:l.memoizedState!==null&&js(l);break;case 13:js(l);break;case 19:I(_t);break;case 10:ja(l.type);break;case 22:case 23:js(l),Yd(),n!==null&&I(Ri);break;case 24:ja(Mt)}}function Xr(n,l){try{var d=l.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var v=f.next;d=v;do{if((d.tag&n)===n){f=void 0;var N=d.create,R=d.inst;f=N(),R.destroy=f}d=d.next}while(d!==v)}}catch(X){ot(l,l.return,X)}}function Qa(n,l,d){try{var f=l.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var N=v.next;f=N;do{if((f.tag&n)===n){var R=f.inst,X=R.destroy;if(X!==void 0){R.destroy=void 0,v=l;var Z=d,le=X;try{le()}catch(ge){ot(v,Z,ge)}}}f=f.next}while(f!==N)}}catch(ge){ot(l,l.return,ge)}}function Nm(n){var l=n.updateQueue;if(l!==null){var d=n.stateNode;try{gx(l,d)}catch(f){ot(n,n.return,f)}}}function Sm(n,l,d){d.props=Xi(n.type,n.memoizedProps),d.state=n.memoizedState;try{d.componentWillUnmount()}catch(f){ot(n,l,f)}}function Yr(n,l){try{var d=n.ref;if(d!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof d=="function"?n.refCleanup=d(f):d.current=f}}catch(v){ot(n,l,v)}}function la(n,l){var d=n.ref,f=n.refCleanup;if(d!==null)if(typeof f=="function")try{f()}catch(v){ot(n,l,v)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){ot(n,l,v)}else d.current=null}function km(n){var l=n.type,d=n.memoizedProps,f=n.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&f.focus();break e;case"img":d.src?f.src=d.src:d.srcSet&&(f.srcset=d.srcSet)}}catch(v){ot(n,n.return,v)}}function vh(n,l,d){try{var f=n.stateNode;$w(f,n.type,d,l),f[os]=l}catch(v){ot(n,n.return,v)}}function Cm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ni(n.type)||n.tag===4}function yh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ni(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wh(n,l,d){var f=n.tag;if(f===5||f===6)n=n.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(n,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(n),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=pa));else if(f!==4&&(f===27&&ni(n.type)&&(d=n.stateNode,l=null),n=n.child,n!==null))for(wh(n,l,d),n=n.sibling;n!==null;)wh(n,l,d),n=n.sibling}function ko(n,l,d){var f=n.tag;if(f===5||f===6)n=n.stateNode,l?d.insertBefore(n,l):d.appendChild(n);else if(f!==4&&(f===27&&ni(n.type)&&(d=n.stateNode),n=n.child,n!==null))for(ko(n,l,d),n=n.sibling;n!==null;)ko(n,l,d),n=n.sibling}function Am(n){var l=n.stateNode,d=n.memoizedProps;try{for(var f=n.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);$t(l,f,d),l[Wt]=n,l[os]=d}catch(N){ot(n,n.return,N)}}var Aa=!1,Dt=!1,jh=!1,Tm=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Tw(n,l){if(n=n.containerInfo,Ih=Vo,n=Xf(n),xd(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var v=f.anchorOffset,N=f.focusNode;f=f.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var R=0,X=-1,Z=-1,le=0,ge=0,xe=n,oe=null;t:for(;;){for(var de;xe!==d||v!==0&&xe.nodeType!==3||(X=R+v),xe!==N||f!==0&&xe.nodeType!==3||(Z=R+f),xe.nodeType===3&&(R+=xe.nodeValue.length),(de=xe.firstChild)!==null;)oe=xe,xe=de;for(;;){if(xe===n)break t;if(oe===d&&++le===v&&(X=R),oe===N&&++ge===f&&(Z=R),(de=xe.nextSibling)!==null)break;xe=oe,oe=xe.parentNode}xe=de}d=X===-1||Z===-1?null:{start:X,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(Uh={focusedElem:n,selectionRange:d},Vo=!1,Ft=l;Ft!==null;)if(l=Ft,n=l.child,(l.subtreeFlags&1028)!==0&&n!==null)n.return=l,Ft=n;else for(;Ft!==null;){switch(l=Ft,N=l.alternate,n=l.flags,l.tag){case 0:if((n&4)!==0&&(n=l.updateQueue,n=n!==null?n.events:null,n!==null))for(d=0;d<n.length;d++)v=n[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&N!==null){n=void 0,d=l,v=N.memoizedProps,N=N.memoizedState,f=d.stateNode;try{var Se=Xi(d.type,v);n=f.getSnapshotBeforeUpdate(Se,N),f.__reactInternalSnapshotBeforeUpdate=n}catch(Me){ot(d,d.return,Me)}}break;case 3:if((n&1024)!==0){if(n=l.stateNode.containerInfo,d=n.nodeType,d===9)qh(n);else if(d===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":qh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=l.sibling,n!==null){n.return=l.return,Ft=n;break}Ft=l.return}}function _m(n,l,d){var f=d.flags;switch(d.tag){case 0:case 11:case 15:_a(n,d),f&4&&Xr(5,d);break;case 1:if(_a(n,d),f&4)if(n=d.stateNode,l===null)try{n.componentDidMount()}catch(R){ot(d,d.return,R)}else{var v=Xi(d.type,l.memoizedProps);l=l.memoizedState;try{n.componentDidUpdate(v,l,n.__reactInternalSnapshotBeforeUpdate)}catch(R){ot(d,d.return,R)}}f&64&&Nm(d),f&512&&Yr(d,d.return);break;case 3:if(_a(n,d),f&64&&(n=d.updateQueue,n!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{gx(n,l)}catch(R){ot(d,d.return,R)}}break;case 27:l===null&&f&4&&Am(d);case 26:case 5:_a(n,d),l===null&&f&4&&km(d),f&512&&Yr(d,d.return);break;case 12:_a(n,d);break;case 31:_a(n,d),f&4&&Lm(n,d);break;case 13:_a(n,d),f&4&&zm(n,d),f&64&&(n=d.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(d=Hw.bind(null,d),a1(n,d))));break;case 22:if(f=d.memoizedState!==null||Aa,!f){l=l!==null&&l.memoizedState!==null||Dt,v=Aa;var N=Dt;Aa=f,(Dt=l)&&!N?Ea(n,d,(d.subtreeFlags&8772)!==0):_a(n,d),Aa=v,Dt=N}break;case 30:break;default:_a(n,d)}}function Em(n){var l=n.alternate;l!==null&&(n.alternate=null,Em(l)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(l=n.stateNode,l!==null&&Qc(l)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var yt=null,ds=!1;function Ta(n,l,d){for(d=d.child;d!==null;)Mm(n,l,d),d=d.sibling}function Mm(n,l,d){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(Ni,d)}catch{}switch(d.tag){case 26:Dt||la(d,l),Ta(n,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Dt||la(d,l);var f=yt,v=ds;ni(d.type)&&(yt=d.stateNode,ds=!1),Ta(n,l,d),Kr(d.stateNode),yt=f,ds=v;break;case 5:Dt||la(d,l);case 6:if(f=yt,v=ds,yt=null,Ta(n,l,d),yt=f,ds=v,yt!==null)if(ds)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(d.stateNode)}catch(N){ot(d,l,N)}else try{yt.removeChild(d.stateNode)}catch(N){ot(d,l,N)}break;case 18:yt!==null&&(ds?(n=yt,Np(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,d.stateNode),Gn(n)):Np(yt,d.stateNode));break;case 4:f=yt,v=ds,yt=d.stateNode.containerInfo,ds=!0,Ta(n,l,d),yt=f,ds=v;break;case 0:case 11:case 14:case 15:Qa(2,d,l),Dt||Qa(4,d,l),Ta(n,l,d);break;case 1:Dt||(la(d,l),f=d.stateNode,typeof f.componentWillUnmount=="function"&&Sm(d,l,f)),Ta(n,l,d);break;case 21:Ta(n,l,d);break;case 22:Dt=(f=Dt)||d.memoizedState!==null,Ta(n,l,d),Dt=f;break;default:Ta(n,l,d)}}function Lm(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Gn(n)}catch(d){ot(l,l.return,d)}}}function zm(n,l){if(l.memoizedState===null&&(n=l.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Gn(n)}catch(d){ot(l,l.return,d)}}function _w(n){switch(n.tag){case 31:case 13:case 19:var l=n.stateNode;return l===null&&(l=n.stateNode=new Tm),l;case 22:return n=n.stateNode,l=n._retryCache,l===null&&(l=n._retryCache=new Tm),l;default:throw Error(s(435,n.tag))}}function Co(n,l){var d=_w(n);l.forEach(function(f){if(!d.has(f)){d.add(f);var v=Pw.bind(null,n,f);f.then(v,v)}})}function hs(n,l){var d=l.deletions;if(d!==null)for(var f=0;f<d.length;f++){var v=d[f],N=n,R=l,X=R;e:for(;X!==null;){switch(X.tag){case 27:if(ni(X.type)){yt=X.stateNode,ds=!1;break e}break;case 5:yt=X.stateNode,ds=!1;break e;case 3:case 4:yt=X.stateNode.containerInfo,ds=!0;break e}X=X.return}if(yt===null)throw Error(s(160));Mm(N,R,v),yt=null,ds=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Dm(l,n),l=l.sibling}var Gs=null;function Dm(n,l){var d=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:hs(l,n),us(n),f&4&&(Qa(3,n,n.return),Xr(3,n),Qa(5,n,n.return));break;case 1:hs(l,n),us(n),f&512&&(Dt||d===null||la(d,d.return)),f&64&&Aa&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(d=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=d===null?f:d.concat(f))));break;case 26:var v=Gs;if(hs(l,n),us(n),f&512&&(Dt||d===null||la(d,d.return)),f&4){var N=d!==null?d.memoizedState:null;if(f=n.memoizedState,d===null)if(f===null)if(n.stateNode===null){e:{f=n.type,d=n.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":N=v.getElementsByTagName("title")[0],(!N||N[fr]||N[Wt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(f),v.head.insertBefore(N,v.querySelector("head > title"))),$t(N,f,d),N[Wt]=n,Yt(N),f=N;break e;case"link":var R=Dp("link","href",v).get(f+(d.href||""));if(R){for(var X=0;X<R.length;X++)if(N=R[X],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(X,1);break t}}N=v.createElement(f),$t(N,f,d),v.head.appendChild(N);break;case"meta":if(R=Dp("meta","content",v).get(f+(d.content||""))){for(X=0;X<R.length;X++)if(N=R[X],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(X,1);break t}}N=v.createElement(f),$t(N,f,d),v.head.appendChild(N);break;default:throw Error(s(468,f))}N[Wt]=n,Yt(N),f=N}n.stateNode=f}else Rp(v,n.type,n.stateNode);else n.stateNode=zp(v,f,n.memoizedProps);else N!==f?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,f===null?Rp(v,n.type,n.stateNode):zp(v,f,n.memoizedProps)):f===null&&n.stateNode!==null&&vh(n,n.memoizedProps,d.memoizedProps)}break;case 27:hs(l,n),us(n),f&512&&(Dt||d===null||la(d,d.return)),d!==null&&f&4&&vh(n,n.memoizedProps,d.memoizedProps);break;case 5:if(hs(l,n),us(n),f&512&&(Dt||d===null||la(d,d.return)),n.flags&32){v=n.stateNode;try{pn(v,"")}catch(Se){ot(n,n.return,Se)}}f&4&&n.stateNode!=null&&(v=n.memoizedProps,vh(n,v,d!==null?d.memoizedProps:v)),f&1024&&(jh=!0);break;case 6:if(hs(l,n),us(n),f&4){if(n.stateNode===null)throw Error(s(162));f=n.memoizedProps,d=n.stateNode;try{d.nodeValue=f}catch(Se){ot(n,n.return,Se)}}break;case 3:if(Fo=null,v=Gs,Gs=Xo(l.containerInfo),hs(l,n),Gs=v,us(n),f&4&&d!==null&&d.memoizedState.isDehydrated)try{Gn(l.containerInfo)}catch(Se){ot(n,n.return,Se)}jh&&(jh=!1,Rm(n));break;case 4:f=Gs,Gs=Xo(n.stateNode.containerInfo),hs(l,n),us(n),Gs=f;break;case 12:hs(l,n),us(n);break;case 31:hs(l,n),us(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Co(n,f)));break;case 13:hs(l,n),us(n),n.child.flags&8192&&n.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(To=Ut()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Co(n,f)));break;case 22:v=n.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,le=Aa,ge=Dt;if(Aa=le||v,Dt=ge||Z,hs(l,n),Dt=ge,Aa=le,us(n),f&8192)e:for(l=n.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(d===null||Z||Aa||Dt||Yi(n)),d=null,l=n;;){if(l.tag===5||l.tag===26){if(d===null){Z=d=l;try{if(N=Z.stateNode,v)R=N.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{X=Z.stateNode;var xe=Z.memoizedProps.style,oe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;X.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Se){ot(Z,Z.return,Se)}}}else if(l.tag===6){if(d===null){Z=l;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(Se){ot(Z,Z.return,Se)}}}else if(l.tag===18){if(d===null){Z=l;try{var de=Z.stateNode;v?Sp(de,!0):Sp(Z.stateNode,!1)}catch(Se){ot(Z,Z.return,Se)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===n)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;l.sibling===null;){if(l.return===null||l.return===n)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=n.updateQueue,f!==null&&(d=f.retryQueue,d!==null&&(f.retryQueue=null,Co(n,d))));break;case 19:hs(l,n),us(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Co(n,f)));break;case 30:break;case 21:break;default:hs(l,n),us(n)}}function us(n){var l=n.flags;if(l&2){try{for(var d,f=n.return;f!==null;){if(Cm(f)){d=f;break}f=f.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var v=d.stateNode,N=yh(n);ko(n,N,v);break;case 5:var R=d.stateNode;d.flags&32&&(pn(R,""),d.flags&=-33);var X=yh(n);ko(n,X,R);break;case 3:case 4:var Z=d.stateNode.containerInfo,le=yh(n);wh(n,le,Z);break;default:throw Error(s(161))}}catch(ge){ot(n,n.return,ge)}n.flags&=-3}l&4096&&(n.flags&=-4097)}function Rm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var l=n;Rm(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),n=n.sibling}}function _a(n,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)_m(n,l.alternate,l),l=l.sibling}function Yi(n){for(n=n.child;n!==null;){var l=n;switch(l.tag){case 0:case 11:case 14:case 15:Qa(4,l,l.return),Yi(l);break;case 1:la(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&Sm(l,l.return,d),Yi(l);break;case 27:Kr(l.stateNode);case 26:case 5:la(l,l.return),Yi(l);break;case 22:l.memoizedState===null&&Yi(l);break;case 30:Yi(l);break;default:Yi(l)}n=n.sibling}}function Ea(n,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,v=n,N=l,R=N.flags;switch(N.tag){case 0:case 11:case 15:Ea(v,N,d),Xr(4,N);break;case 1:if(Ea(v,N,d),f=N,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(le){ot(f,f.return,le)}if(f=N,v=f.updateQueue,v!==null){var X=f.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)ux(Z[v],X)}catch(le){ot(f,f.return,le)}}d&&R&64&&Nm(N),Yr(N,N.return);break;case 27:Am(N);case 26:case 5:Ea(v,N,d),d&&f===null&&R&4&&km(N),Yr(N,N.return);break;case 12:Ea(v,N,d);break;case 31:Ea(v,N,d),d&&R&4&&Lm(v,N);break;case 13:Ea(v,N,d),d&&R&4&&zm(v,N);break;case 22:N.memoizedState===null&&Ea(v,N,d),Yr(N,N.return);break;case 30:break;default:Ea(v,N,d)}l=l.sibling}}function Nh(n,l){var d=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),n=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(n=l.memoizedState.cachePool.pool),n!==d&&(n!=null&&n.refCount++,d!=null&&Ar(d))}function Sh(n,l){n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Ar(n))}function $s(n,l,d,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Om(n,l,d,f),l=l.sibling}function Om(n,l,d,f){var v=l.flags;switch(l.tag){case 0:case 11:case 15:$s(n,l,d,f),v&2048&&Xr(9,l);break;case 1:$s(n,l,d,f);break;case 3:$s(n,l,d,f),v&2048&&(n=null,l.alternate!==null&&(n=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==n&&(l.refCount++,n!=null&&Ar(n)));break;case 12:if(v&2048){$s(n,l,d,f),n=l.stateNode;try{var N=l.memoizedProps,R=N.id,X=N.onPostCommit;typeof X=="function"&&X(R,l.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Z){ot(l,l.return,Z)}}else $s(n,l,d,f);break;case 31:$s(n,l,d,f);break;case 13:$s(n,l,d,f);break;case 23:break;case 22:N=l.stateNode,R=l.alternate,l.memoizedState!==null?N._visibility&2?$s(n,l,d,f):Fr(n,l):N._visibility&2?$s(n,l,d,f):(N._visibility|=2,Hn(n,l,d,f,(l.subtreeFlags&10256)!==0||!1)),v&2048&&Nh(R,l);break;case 24:$s(n,l,d,f),v&2048&&Sh(l.alternate,l);break;default:$s(n,l,d,f)}}function Hn(n,l,d,f,v){for(v=v&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=n,R=l,X=d,Z=f,le=R.flags;switch(R.tag){case 0:case 11:case 15:Hn(N,R,X,Z,v),Xr(8,R);break;case 23:break;case 22:var ge=R.stateNode;R.memoizedState!==null?ge._visibility&2?Hn(N,R,X,Z,v):Fr(N,R):(ge._visibility|=2,Hn(N,R,X,Z,v)),v&&le&2048&&Nh(R.alternate,R);break;case 24:Hn(N,R,X,Z,v),v&&le&2048&&Sh(R.alternate,R);break;default:Hn(N,R,X,Z,v)}l=l.sibling}}function Fr(n,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=n,f=l,v=f.flags;switch(f.tag){case 22:Fr(d,f),v&2048&&Nh(f.alternate,f);break;case 24:Fr(d,f),v&2048&&Sh(f.alternate,f);break;default:Fr(d,f)}l=l.sibling}}var Ir=8192;function Pn(n,l,d){if(n.subtreeFlags&Ir)for(n=n.child;n!==null;)Hm(n,l,d),n=n.sibling}function Hm(n,l,d){switch(n.tag){case 26:Pn(n,l,d),n.flags&Ir&&n.memoizedState!==null&&x1(d,Gs,n.memoizedState,n.memoizedProps);break;case 5:Pn(n,l,d);break;case 3:case 4:var f=Gs;Gs=Xo(n.stateNode.containerInfo),Pn(n,l,d),Gs=f;break;case 22:n.memoizedState===null&&(f=n.alternate,f!==null&&f.memoizedState!==null?(f=Ir,Ir=16777216,Pn(n,l,d),Ir=f):Pn(n,l,d));break;default:Pn(n,l,d)}}function Pm(n){var l=n.alternate;if(l!==null&&(n=l.child,n!==null)){l.child=null;do l=n.sibling,n.sibling=null,n=l;while(n!==null)}}function Ur(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];Ft=f,Xm(f,n)}Pm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bm(n),n=n.sibling}function Bm(n){switch(n.tag){case 0:case 11:case 15:Ur(n),n.flags&2048&&Qa(9,n,n.return);break;case 3:Ur(n);break;case 12:Ur(n);break;case 22:var l=n.stateNode;n.memoizedState!==null&&l._visibility&2&&(n.return===null||n.return.tag!==13)?(l._visibility&=-3,Ao(n)):Ur(n);break;default:Ur(n)}}function Ao(n){var l=n.deletions;if((n.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];Ft=f,Xm(f,n)}Pm(n)}for(n=n.child;n!==null;){switch(l=n,l.tag){case 0:case 11:case 15:Qa(8,l,l.return),Ao(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Ao(l));break;default:Ao(l)}n=n.sibling}}function Xm(n,l){for(;Ft!==null;){var d=Ft;switch(d.tag){case 0:case 11:case 15:Qa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var f=d.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ar(d.memoizedState.cache)}if(f=d.child,f!==null)f.return=d,Ft=f;else e:for(d=n;Ft!==null;){f=Ft;var v=f.sibling,N=f.return;if(Em(f),f===d){Ft=null;break e}if(v!==null){v.return=N,Ft=v;break e}Ft=N}}}var Ew={getCacheForType:function(n){var l=qt(Mt),d=l.data.get(n);return d===void 0&&(d=n(),l.data.set(n,d)),d},cacheSignal:function(){return qt(Mt).controller.signal}},Mw=typeof WeakMap=="function"?WeakMap:Map,at=0,xt=null,Fe=null,Ve=0,lt=0,Ns=null,Ja=!1,Bn=!1,kh=!1,Ma=0,kt=0,ei=0,Fi=0,Ch=0,Ss=0,Xn=0,Wr=null,gs=null,Ah=!1,To=0,Ym=0,_o=1/0,Eo=null,ti=null,Pt=0,si=null,Yn=null,La=0,Th=0,_h=null,Fm=null,Vr=0,Eh=null;function ks(){return(at&2)!==0&&Ve!==0?Ve&-Ve:Y.T!==null?Oh():af()}function Im(){if(Ss===0)if((Ve&536870912)===0||$e){var n=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Ss=n}else Ss=536870912;return n=ws.current,n!==null&&(n.flags|=32),Ss}function fs(n,l,d){(n===xt&&(lt===2||lt===9)||n.cancelPendingCommit!==null)&&(Fn(n,0),ai(n,Ve,Ss,!1)),ss(n,d),((at&2)===0||n!==xt)&&(n===xt&&((at&2)===0&&(Fi|=d),kt===4&&ai(n,Ve,Ss,!1)),oa(n))}function Um(n,l,d){if((at&6)!==0)throw Error(s(327));var f=!d&&(l&127)===0&&(l&n.expiredLanes)===0||ce(n,l),v=f?Dw(n,l):Lh(n,l,!0),N=f;do{if(v===0){Bn&&!f&&ai(n,l,0,!1);break}else{if(d=n.current.alternate,N&&!Lw(d)){v=Lh(n,l,!1),N=!1;continue}if(v===2){if(N=l,n.errorRecoveryDisabledLanes&N)var R=0;else R=n.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var X=n;v=Wr;var Z=X.current.memoizedState.isDehydrated;if(Z&&(Fn(X,R).flags|=256),R=Lh(X,R,!1),R!==2){if(kh&&!Z){X.errorRecoveryDisabledLanes|=N,Fi|=N,v=4;break e}N=gs,gs=v,N!==null&&(gs===null?gs=N:gs.push.apply(gs,N))}v=R}if(N=!1,v!==2)continue}}if(v===1){Fn(n,0),ai(n,l,0,!0);break}e:{switch(f=n,N=v,N){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:ai(f,l,Ss,!Ja);break e;case 2:gs=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(v=To+300-Ut(),10<v)){if(ai(f,l,Ss,!Ja),dn(f,0,!0)!==0)break e;La=l,f.timeoutHandle=wp(Wm.bind(null,f,d,gs,Eo,Ah,l,Ss,Fi,Xn,Ja,N,"Throttled",-0,0),v);break e}Wm(f,d,gs,Eo,Ah,l,Ss,Fi,Xn,Ja,N,null,-0,0)}}break}while(!0);oa(n)}function Wm(n,l,d,f,v,N,R,X,Z,le,ge,xe,oe,de){if(n.timeoutHandle=-1,xe=l.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pa},Hm(l,N,xe);var Se=(N&62914560)===N?To-Ut():(N&4194048)===N?Ym-Ut():0;if(Se=m1(xe,Se),Se!==null){La=N,n.cancelPendingCommit=Se(Jm.bind(null,n,l,N,d,f,v,R,X,Z,ge,xe,null,oe,de)),ai(n,N,R,!le);return}}Jm(n,l,N,d,f,v,R,X,Z)}function Lw(n){for(var l=n;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var f=0;f<d.length;f++){var v=d[f],N=v.getSnapshot;v=v.value;try{if(!vs(N(),v))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===n)break;for(;l.sibling===null;){if(l.return===null||l.return===n)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ai(n,l,d,f){l&=~Ch,l&=~Fi,n.suspendedLanes|=l,n.pingedLanes&=~l,f&&(n.warmLanes|=l),f=n.expirationTimes;for(var v=l;0<v;){var N=31-ts(v),R=1<<N;f[N]=-1,v&=~R}d!==0&&gr(n,d,l)}function Mo(){return(at&6)===0?(qr(0),!1):!0}function Mh(){if(Fe!==null){if(lt===0)var n=Fe.return;else n=Fe,wa=zi=null,qd(n),Ln=null,_r=0,n=Fe;for(;n!==null;)jm(n.alternate,n),n=n.return;Fe=null}}function Fn(n,l){var d=n.timeoutHandle;d!==-1&&(n.timeoutHandle=-1,Qw(d)),d=n.cancelPendingCommit,d!==null&&(n.cancelPendingCommit=null,d()),La=0,Mh(),xt=n,Fe=d=va(n.current,null),Ve=l,lt=0,Ns=null,Ja=!1,Bn=ce(n,l),kh=!1,Xn=Ss=Ch=Fi=ei=kt=0,gs=Wr=null,Ah=!1,(l&8)!==0&&(l|=l&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=l;0<f;){var v=31-ts(f),N=1<<v;l|=n[v],f&=~N}return Ma=l,Zl(),d}function Vm(n,l){Pe=null,Y.H=Hr,l===Mn||l===no?(l=ox(),lt=3):l===Rd?(l=ox(),lt=4):lt=l===ch?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ns=l,Fe===null&&(kt=1,yo(n,zs(l,n.current)))}function qm(){var n=ws.current;return n===null?!0:(Ve&4194048)===Ve?Hs===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===Hs:!1}function Gm(){var n=Y.H;return Y.H=Hr,n===null?Hr:n}function $m(){var n=Y.A;return Y.A=Ew,n}function Lo(){kt=4,Ja||(Ve&4194048)!==Ve&&ws.current!==null||(Bn=!0),(ei&134217727)===0&&(Fi&134217727)===0||xt===null||ai(xt,Ve,Ss,!1)}function Lh(n,l,d){var f=at;at|=2;var v=Gm(),N=$m();(xt!==n||Ve!==l)&&(Eo=null,Fn(n,l)),l=!1;var R=kt;e:do try{if(lt!==0&&Fe!==null){var X=Fe,Z=Ns;switch(lt){case 8:Mh(),R=6;break e;case 3:case 2:case 9:case 6:ws.current===null&&(l=!0);var le=lt;if(lt=0,Ns=null,In(n,X,Z,le),d&&Bn){R=0;break e}break;default:le=lt,lt=0,Ns=null,In(n,X,Z,le)}}zw(),R=kt;break}catch(ge){Vm(n,ge)}while(!0);return l&&n.shellSuspendCounter++,wa=zi=null,at=f,Y.H=v,Y.A=N,Fe===null&&(xt=null,Ve=0,Zl()),R}function zw(){for(;Fe!==null;)Km(Fe)}function Dw(n,l){var d=at;at|=2;var f=Gm(),v=$m();xt!==n||Ve!==l?(Eo=null,_o=Ut()+500,Fn(n,l)):Bn=ce(n,l);e:do try{if(lt!==0&&Fe!==null){l=Fe;var N=Ns;t:switch(lt){case 1:lt=0,Ns=null,In(n,l,N,1);break;case 2:case 9:if(rx(N)){lt=0,Ns=null,Zm(l);break}l=function(){lt!==2&&lt!==9||xt!==n||(lt=7),oa(n)},N.then(l,l);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:rx(N)?(lt=0,Ns=null,Zm(l)):(lt=0,Ns=null,In(n,l,N,7));break;case 5:var R=null;switch(Fe.tag){case 26:R=Fe.memoizedState;case 5:case 27:var X=Fe;if(R?Op(R):X.stateNode.complete){lt=0,Ns=null;var Z=X.sibling;if(Z!==null)Fe=Z;else{var le=X.return;le!==null?(Fe=le,zo(le)):Fe=null}break t}}lt=0,Ns=null,In(n,l,N,5);break;case 6:lt=0,Ns=null,In(n,l,N,6);break;case 8:Mh(),kt=6;break e;default:throw Error(s(462))}}Rw();break}catch(ge){Vm(n,ge)}while(!0);return wa=zi=null,Y.H=f,Y.A=v,at=d,Fe!==null?0:(xt=null,Ve=0,Zl(),kt)}function Rw(){for(;Fe!==null&&!ji();)Km(Fe)}function Km(n){var l=ym(n.alternate,n,Ma);n.memoizedProps=n.pendingProps,l===null?zo(n):Fe=l}function Zm(n){var l=n,d=l.alternate;switch(l.tag){case 15:case 0:l=fm(d,l,l.pendingProps,l.type,void 0,Ve);break;case 11:l=fm(d,l,l.pendingProps,l.type.render,l.ref,Ve);break;case 5:qd(l);default:jm(d,l),l=Fe=$f(l,Ma),l=ym(d,l,Ma)}n.memoizedProps=n.pendingProps,l===null?zo(n):Fe=l}function In(n,l,d,f){wa=zi=null,qd(l),Ln=null,_r=0;var v=l.return;try{if(Nw(n,v,l,d,Ve)){kt=1,yo(n,zs(d,n.current)),Fe=null;return}}catch(N){if(v!==null)throw Fe=v,N;kt=1,yo(n,zs(d,n.current)),Fe=null;return}l.flags&32768?($e||f===1?n=!0:Bn||(Ve&536870912)!==0?n=!1:(Ja=n=!0,(f===2||f===9||f===3||f===6)&&(f=ws.current,f!==null&&f.tag===13&&(f.flags|=16384))),Qm(l,n)):zo(l)}function zo(n){var l=n;do{if((l.flags&32768)!==0){Qm(l,Ja);return}n=l.return;var d=Cw(l.alternate,l,Ma);if(d!==null){Fe=d;return}if(l=l.sibling,l!==null){Fe=l;return}Fe=l=n}while(l!==null);kt===0&&(kt=5)}function Qm(n,l){do{var d=Aw(n.alternate,n);if(d!==null){d.flags&=32767,Fe=d;return}if(d=n.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(n=n.sibling,n!==null)){Fe=n;return}Fe=n=d}while(n!==null);kt=6,Fe=null}function Jm(n,l,d,f,v,N,R,X,Z){n.cancelPendingCommit=null;do Do();while(Pt!==0);if((at&6)!==0)throw Error(s(327));if(l!==null){if(l===n.current)throw Error(s(177));if(N=l.lanes|l.childLanes,N|=yd,Bl(n,d,N,R,X,Z),n===xt&&(Fe=xt=null,Ve=0),Yn=l,si=n,La=d,Th=N,_h=v,Fm=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Bw(rn,function(){return ip(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,v=F.p,F.p=2,R=at,at|=4;try{Tw(n,l,d)}finally{at=R,F.p=v,Y.T=f}}Pt=1,ep(),tp(),sp()}}function ep(){if(Pt===1){Pt=0;var n=si,l=Yn,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var f=F.p;F.p=2;var v=at;at|=4;try{Dm(l,n);var N=Uh,R=Xf(n.containerInfo),X=N.focusedElem,Z=N.selectionRange;if(R!==X&&X&&X.ownerDocument&&Bf(X.ownerDocument.documentElement,X)){if(Z!==null&&xd(X)){var le=Z.start,ge=Z.end;if(ge===void 0&&(ge=le),"selectionStart"in X)X.selectionStart=le,X.selectionEnd=Math.min(ge,X.value.length);else{var xe=X.ownerDocument||document,oe=xe&&xe.defaultView||window;if(oe.getSelection){var de=oe.getSelection(),Se=X.textContent.length,Me=Math.min(Z.start,Se),ut=Z.end===void 0?Me:Math.min(Z.end,Se);!de.extend&&Me>ut&&(R=ut,ut=Me,Me=R);var se=Pf(X,Me),ee=Pf(X,ut);if(se&&ee&&(de.rangeCount!==1||de.anchorNode!==se.node||de.anchorOffset!==se.offset||de.focusNode!==ee.node||de.focusOffset!==ee.offset)){var re=xe.createRange();re.setStart(se.node,se.offset),de.removeAllRanges(),Me>ut?(de.addRange(re),de.extend(ee.node,ee.offset)):(re.setEnd(ee.node,ee.offset),de.addRange(re))}}}}for(xe=[],de=X;de=de.parentNode;)de.nodeType===1&&xe.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<xe.length;X++){var fe=xe[X];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Vo=!!Ih,Uh=Ih=null}finally{at=v,F.p=f,Y.T=d}}n.current=l,Pt=2}}function tp(){if(Pt===2){Pt=0;var n=si,l=Yn,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var f=F.p;F.p=2;var v=at;at|=4;try{_m(n,l.alternate,l)}finally{at=v,F.p=f,Y.T=d}}Pt=3}}function sp(){if(Pt===4||Pt===3){Pt=0,Rl();var n=si,l=Yn,d=La,f=Fm;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Pt=5:(Pt=0,Yn=si=null,ap(n,n.pendingLanes));var v=n.pendingLanes;if(v===0&&(ti=null),Kc(d),l=l.stateNode,es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(Ni,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=Y.T,v=F.p,F.p=2,Y.T=null;try{for(var N=n.onRecoverableError,R=0;R<f.length;R++){var X=f[R];N(X.value,{componentStack:X.stack})}}finally{Y.T=l,F.p=v}}(La&3)!==0&&Do(),oa(n),v=n.pendingLanes,(d&261930)!==0&&(v&42)!==0?n===Eh?Vr++:(Vr=0,Eh=n):Vr=0,qr(0)}}function ap(n,l){(n.pooledCacheLanes&=l)===0&&(l=n.pooledCache,l!=null&&(n.pooledCache=null,Ar(l)))}function Do(){return ep(),tp(),sp(),ip()}function ip(){if(Pt!==5)return!1;var n=si,l=Th;Th=0;var d=Kc(La),f=Y.T,v=F.p;try{F.p=32>d?32:d,Y.T=null,d=_h,_h=null;var N=si,R=La;if(Pt=0,Yn=si=null,La=0,(at&6)!==0)throw Error(s(331));var X=at;if(at|=4,Bm(N.current),Om(N,N.current,R,d),at=X,qr(0,!1),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(Ni,N)}catch{}return!0}finally{F.p=v,Y.T=f,ap(n,l)}}function np(n,l,d){l=zs(d,l),l=oh(n.stateNode,l,2),n=$a(n,l,2),n!==null&&(ss(n,2),oa(n))}function ot(n,l,d){if(n.tag===3)np(n,n,d);else for(;l!==null;){if(l.tag===3){np(l,n,d);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ti===null||!ti.has(f))){n=zs(d,n),d=rm(2),f=$a(l,d,2),f!==null&&(lm(d,f,l,n),ss(f,2),oa(f));break}}l=l.return}}function zh(n,l,d){var f=n.pingCache;if(f===null){f=n.pingCache=new Mw;var v=new Set;f.set(l,v)}else v=f.get(l),v===void 0&&(v=new Set,f.set(l,v));v.has(d)||(kh=!0,v.add(d),n=Ow.bind(null,n,l,d),l.then(n,n))}function Ow(n,l,d){var f=n.pingCache;f!==null&&f.delete(l),n.pingedLanes|=n.suspendedLanes&d,n.warmLanes&=~d,xt===n&&(Ve&d)===d&&(kt===4||kt===3&&(Ve&62914560)===Ve&&300>Ut()-To?(at&2)===0&&Fn(n,0):Ch|=d,Xn===Ve&&(Xn=0)),oa(n)}function rp(n,l){l===0&&(l=st()),n=Ei(n,l),n!==null&&(ss(n,l),oa(n))}function Hw(n){var l=n.memoizedState,d=0;l!==null&&(d=l.retryLane),rp(n,d)}function Pw(n,l){var d=0;switch(n.tag){case 31:case 13:var f=n.stateNode,v=n.memoizedState;v!==null&&(d=v.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(l),rp(n,d)}function Bw(n,l){return ze(n,l)}var Ro=null,Un=null,Dh=!1,Oo=!1,Rh=!1,ii=0;function oa(n){n!==Un&&n.next===null&&(Un===null?Ro=Un=n:Un=Un.next=n),Oo=!0,Dh||(Dh=!0,Yw())}function qr(n,l){if(!Rh&&Oo){Rh=!0;do for(var d=!1,f=Ro;f!==null;){if(n!==0){var v=f.pendingLanes;if(v===0)var N=0;else{var R=f.suspendedLanes,X=f.pingedLanes;N=(1<<31-ts(42|n)+1)-1,N&=v&~(R&~X),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,dp(f,N))}else N=Ve,N=dn(f,f===xt?N:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(N&3)===0||ce(f,N)||(d=!0,dp(f,N));f=f.next}while(d);Rh=!1}}function Xw(){lp()}function lp(){Oo=Dh=!1;var n=0;ii!==0&&Zw()&&(n=ii);for(var l=Ut(),d=null,f=Ro;f!==null;){var v=f.next,N=op(f,l);N===0?(f.next=null,d===null?Ro=v:d.next=v,v===null&&(Un=d)):(d=f,(n!==0||(N&3)!==0)&&(Oo=!0)),f=v}Pt!==0&&Pt!==5||qr(n),ii!==0&&(ii=0)}function op(n,l){for(var d=n.suspendedLanes,f=n.pingedLanes,v=n.expirationTimes,N=n.pendingLanes&-62914561;0<N;){var R=31-ts(N),X=1<<R,Z=v[R];Z===-1?((X&d)===0||(X&f)!==0)&&(v[R]=Ne(X,l)):Z<=l&&(n.expiredLanes|=X),N&=~X}if(l=xt,d=Ve,d=dn(n,n===l?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,d===0||n===l&&(lt===2||lt===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&It(f),n.callbackNode=null,n.callbackPriority=0;if((d&3)===0||ce(n,d)){if(l=d&-d,l===n.callbackPriority)return l;switch(f!==null&&It(f),Kc(d)){case 2:case 8:d=Hl;break;case 32:d=rn;break;case 268435456:d=Pl;break;default:d=rn}return f=cp.bind(null,n),d=ze(d,f),n.callbackPriority=l,n.callbackNode=d,l}return f!==null&&f!==null&&It(f),n.callbackPriority=2,n.callbackNode=null,2}function cp(n,l){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var d=n.callbackNode;if(Do()&&n.callbackNode!==d)return null;var f=Ve;return f=dn(n,n===xt?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(Um(n,f,l),op(n,Ut()),n.callbackNode!=null&&n.callbackNode===d?cp.bind(null,n):null)}function dp(n,l){if(Do())return null;Um(n,l,!0)}function Yw(){Jw(function(){(at&6)!==0?ze(Ol,Xw):lp()})}function Oh(){if(ii===0){var n=_n;n===0&&(n=on,on<<=1,(on&261888)===0&&(on=256)),ii=n}return ii}function hp(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Il(""+n)}function up(n,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,n.id&&d.setAttribute("form",n.id),l.parentNode.insertBefore(d,l),n=new FormData(n),d.parentNode.removeChild(d),n}function Fw(n,l,d,f,v){if(l==="submit"&&d&&d.stateNode===v){var N=hp((v[os]||null).action),R=f.submitter;R&&(l=(l=R[os]||null)?hp(l.formAction):R.getAttribute("formAction"),l!==null&&(N=l,R=null));var X=new ql("action","action",null,f,v);n.push({event:X,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ii!==0){var Z=R?up(v,R):new FormData(v);sh(d,{pending:!0,data:Z,method:v.method,action:N},null,Z)}}else typeof N=="function"&&(X.preventDefault(),Z=R?up(v,R):new FormData(v),sh(d,{pending:!0,data:Z,method:v.method,action:N},N,Z))},currentTarget:v}]})}}for(var Hh=0;Hh<vd.length;Hh++){var Ph=vd[Hh],Iw=Ph.toLowerCase(),Uw=Ph[0].toUpperCase()+Ph.slice(1);qs(Iw,"on"+Uw)}qs(If,"onAnimationEnd"),qs(Uf,"onAnimationIteration"),qs(Wf,"onAnimationStart"),qs("dblclick","onDoubleClick"),qs("focusin","onFocus"),qs("focusout","onBlur"),qs(rw,"onTransitionRun"),qs(lw,"onTransitionStart"),qs(ow,"onTransitionCancel"),qs(Vf,"onTransitionEnd"),xn("onMouseEnter",["mouseout","mouseover"]),xn("onMouseLeave",["mouseout","mouseover"]),xn("onPointerEnter",["pointerout","pointerover"]),xn("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gr));function gp(n,l){l=(l&4)!==0;for(var d=0;d<n.length;d++){var f=n[d],v=f.event;f=f.listeners;e:{var N=void 0;if(l)for(var R=f.length-1;0<=R;R--){var X=f[R],Z=X.instance,le=X.currentTarget;if(X=X.listener,Z!==N&&v.isPropagationStopped())break e;N=X,v.currentTarget=le;try{N(v)}catch(ge){Kl(ge)}v.currentTarget=null,N=Z}else for(R=0;R<f.length;R++){if(X=f[R],Z=X.instance,le=X.currentTarget,X=X.listener,Z!==N&&v.isPropagationStopped())break e;N=X,v.currentTarget=le;try{N(v)}catch(ge){Kl(ge)}v.currentTarget=null,N=Z}}}}function Ie(n,l){var d=l[Zc];d===void 0&&(d=l[Zc]=new Set);var f=n+"__bubble";d.has(f)||(fp(l,n,2,!1),d.add(f))}function Bh(n,l,d){var f=0;l&&(f|=4),fp(d,n,f,l)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function Xh(n){if(!n[Ho]){n[Ho]=!0,lf.forEach(function(d){d!=="selectionchange"&&(Ww.has(d)||Bh(d,!1,n),Bh(d,!0,n))});var l=n.nodeType===9?n:n.ownerDocument;l===null||l[Ho]||(l[Ho]=!0,Bh("selectionchange",!1,l))}}function fp(n,l,d,f){switch(Ip(l)){case 2:var v=v1;break;case 8:v=y1;break;default:v=tu}d=v.bind(null,l,d,n),v=void 0,!rd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),f?v!==void 0?n.addEventListener(l,d,{capture:!0,passive:v}):n.addEventListener(l,d,!0):v!==void 0?n.addEventListener(l,d,{passive:v}):n.addEventListener(l,d,!1)}function Yh(n,l,d,f,v){var N=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var X=f.stateNode.containerInfo;if(X===v)break;if(R===4)for(R=f.return;R!==null;){var Z=R.tag;if((Z===3||Z===4)&&R.stateNode.containerInfo===v)return;R=R.return}for(;X!==null;){if(R=un(X),R===null)return;if(Z=R.tag,Z===5||Z===6||Z===26||Z===27){f=N=R;continue e}X=X.parentNode}}f=f.return}vf(function(){var le=N,ge=id(d),xe=[];e:{var oe=qf.get(n);if(oe!==void 0){var de=ql,Se=n;switch(n){case"keypress":if(Wl(d)===0)break e;case"keydown":case"keyup":de=Py;break;case"focusin":Se="focus",de=dd;break;case"focusout":Se="blur",de=dd;break;case"beforeblur":case"afterblur":de=dd;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Cy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Yy;break;case If:case Uf:case Wf:de=_y;break;case Vf:de=Iy;break;case"scroll":case"scrollend":de=Sy;break;case"wheel":de=Wy;break;case"copy":case"cut":case"paste":de=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Sf;break;case"toggle":case"beforetoggle":de=qy}var Me=(l&4)!==0,ut=!Me&&(n==="scroll"||n==="scrollend"),se=Me?oe!==null?oe+"Capture":null:oe;Me=[];for(var ee=le,re;ee!==null;){var fe=ee;if(re=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||re===null||se===null||(fe=mr(ee,se),fe!=null&&Me.push($r(ee,fe,re))),ut)break;ee=ee.return}0<Me.length&&(oe=new de(oe,Se,null,d,ge),xe.push({event:oe,listeners:Me}))}}if((l&7)===0){e:{if(oe=n==="mouseover"||n==="pointerover",de=n==="mouseout"||n==="pointerout",oe&&d!==ad&&(Se=d.relatedTarget||d.fromElement)&&(un(Se)||Se[hn]))break e;if((de||oe)&&(oe=ge.window===ge?ge:(oe=ge.ownerDocument)?oe.defaultView||oe.parentWindow:window,de?(Se=d.relatedTarget||d.toElement,de=le,Se=Se?un(Se):null,Se!==null&&(ut=o(Se),Me=Se.tag,Se!==ut||Me!==5&&Me!==27&&Me!==6)&&(Se=null)):(de=null,Se=le),de!==Se)){if(Me=jf,fe="onMouseLeave",se="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(Me=Sf,fe="onPointerLeave",se="onPointerEnter",ee="pointer"),ut=de==null?oe:xr(de),re=Se==null?oe:xr(Se),oe=new Me(fe,ee+"leave",de,d,ge),oe.target=ut,oe.relatedTarget=re,fe=null,un(ge)===le&&(Me=new Me(se,ee+"enter",Se,d,ge),Me.target=re,Me.relatedTarget=ut,fe=Me),ut=fe,de&&Se)t:{for(Me=Vw,se=de,ee=Se,re=0,fe=se;fe;fe=Me(fe))re++;fe=0;for(var _e=ee;_e;_e=Me(_e))fe++;for(;0<re-fe;)se=Me(se),re--;for(;0<fe-re;)ee=Me(ee),fe--;for(;re--;){if(se===ee||ee!==null&&se===ee.alternate){Me=se;break t}se=Me(se),ee=Me(ee)}Me=null}else Me=null;de!==null&&xp(xe,oe,de,Me,!1),Se!==null&&ut!==null&&xp(xe,ut,Se,Me,!0)}}e:{if(oe=le?xr(le):window,de=oe.nodeName&&oe.nodeName.toLowerCase(),de==="select"||de==="input"&&oe.type==="file")var Je=Lf;else if(Ef(oe))if(zf)Je=aw;else{Je=tw;var ke=ew}else de=oe.nodeName,!de||de.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?le&&sd(le.elementType)&&(Je=Lf):Je=sw;if(Je&&(Je=Je(n,le))){Mf(xe,Je,d,ge);break e}ke&&ke(n,oe,le),n==="focusout"&&le&&oe.type==="number"&&le.memoizedProps.value!=null&&td(oe,"number",oe.value)}switch(ke=le?xr(le):window,n){case"focusin":(Ef(ke)||ke.contentEditable==="true")&&(wn=ke,md=le,Sr=null);break;case"focusout":Sr=md=wn=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,Yf(xe,d,ge);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":Yf(xe,d,ge)}var Be;if(ud)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else yn?Tf(n,d)&&(qe="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(qe="onCompositionStart");qe&&(kf&&d.locale!=="ko"&&(yn||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&yn&&(Be=yf()):(Fa=ge,ld="value"in Fa?Fa.value:Fa.textContent,yn=!0)),ke=Po(le,qe),0<ke.length&&(qe=new Nf(qe,n,null,d,ge),xe.push({event:qe,listeners:ke}),Be?qe.data=Be:(Be=_f(d),Be!==null&&(qe.data=Be)))),(Be=$y?Ky(n,d):Zy(n,d))&&(qe=Po(le,"onBeforeInput"),0<qe.length&&(ke=new Nf("onBeforeInput","beforeinput",null,d,ge),xe.push({event:ke,listeners:qe}),ke.data=Be)),Fw(xe,n,le,d,ge)}gp(xe,l)})}function $r(n,l,d){return{instance:n,listener:l,currentTarget:d}}function Po(n,l){for(var d=l+"Capture",f=[];n!==null;){var v=n,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=mr(n,d),v!=null&&f.unshift($r(n,v,N)),v=mr(n,l),v!=null&&f.push($r(n,v,N))),n.tag===3)return f;n=n.return}return[]}function Vw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function xp(n,l,d,f,v){for(var N=l._reactName,R=[];d!==null&&d!==f;){var X=d,Z=X.alternate,le=X.stateNode;if(X=X.tag,Z!==null&&Z===f)break;X!==5&&X!==26&&X!==27||le===null||(Z=le,v?(le=mr(d,N),le!=null&&R.unshift($r(d,le,Z))):v||(le=mr(d,N),le!=null&&R.push($r(d,le,Z)))),d=d.return}R.length!==0&&n.push({event:l,listeners:R})}var qw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function mp(n){return(typeof n=="string"?n:""+n).replace(qw,`
`).replace(Gw,"")}function pp(n,l){return l=mp(l),mp(n)===l}function ht(n,l,d,f,v,N){switch(d){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||pn(n,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&pn(n,""+f);break;case"className":Yl(n,"class",f);break;case"tabIndex":Yl(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(n,d,f);break;case"style":pf(n,f,N);break;case"data":if(l!=="object"){Yl(n,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||d!=="href")){n.removeAttribute(d);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(d);break}f=Il(""+f),n.setAttribute(d,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(l!=="input"&&ht(n,l,"name",v.name,v,null),ht(n,l,"formEncType",v.formEncType,v,null),ht(n,l,"formMethod",v.formMethod,v,null),ht(n,l,"formTarget",v.formTarget,v,null)):(ht(n,l,"encType",v.encType,v,null),ht(n,l,"method",v.method,v,null),ht(n,l,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(d);break}f=Il(""+f),n.setAttribute(d,f);break;case"onClick":f!=null&&(n.onclick=pa);break;case"onScroll":f!=null&&Ie("scroll",n);break;case"onScrollEnd":f!=null&&Ie("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(d=f.__html,d!=null){if(v.children!=null)throw Error(s(60));n.innerHTML=d}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}d=Il(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(d,""+f):n.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(d,""):n.removeAttribute(d);break;case"capture":case"download":f===!0?n.setAttribute(d,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(d,f):n.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(d,f):n.removeAttribute(d);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(d):n.setAttribute(d,f);break;case"popover":Ie("beforetoggle",n),Ie("toggle",n),Xl(n,"popover",f);break;case"xlinkActuate":ma(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ma(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ma(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ma(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ma(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ma(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ma(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ma(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ma(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Xl(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=jy.get(d)||d,Xl(n,d,f))}}function Fh(n,l,d,f,v,N){switch(d){case"style":pf(n,f,N);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(d=f.__html,d!=null){if(v.children!=null)throw Error(s(60));n.innerHTML=d}}break;case"children":typeof f=="string"?pn(n,f):(typeof f=="number"||typeof f=="bigint")&&pn(n,""+f);break;case"onScroll":f!=null&&Ie("scroll",n);break;case"onScrollEnd":f!=null&&Ie("scrollend",n);break;case"onClick":f!=null&&(n.onclick=pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!of.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),l=d.slice(2,v?d.length-7:void 0),N=n[os]||null,N=N!=null?N[d]:null,typeof N=="function"&&n.removeEventListener(l,N,v),typeof f=="function")){typeof N!="function"&&N!==null&&(d in n?n[d]=null:n.hasAttribute(d)&&n.removeAttribute(d)),n.addEventListener(l,f,v);break e}d in n?n[d]=f:f===!0?n.setAttribute(d,""):Xl(n,d,f)}}}function $t(n,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",n),Ie("load",n);var f=!1,v=!1,N;for(N in d)if(d.hasOwnProperty(N)){var R=d[N];if(R!=null)switch(N){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:ht(n,l,N,R,d,null)}}v&&ht(n,l,"srcSet",d.srcSet,d,null),f&&ht(n,l,"src",d.src,d,null);return;case"input":Ie("invalid",n);var X=N=R=v=null,Z=null,le=null;for(f in d)if(d.hasOwnProperty(f)){var ge=d[f];if(ge!=null)switch(f){case"name":v=ge;break;case"type":R=ge;break;case"checked":Z=ge;break;case"defaultChecked":le=ge;break;case"value":N=ge;break;case"defaultValue":X=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(s(137,l));break;default:ht(n,l,f,ge,d,null)}}gf(n,N,X,Z,le,R,v,!1);return;case"select":Ie("invalid",n),f=R=N=null;for(v in d)if(d.hasOwnProperty(v)&&(X=d[v],X!=null))switch(v){case"value":N=X;break;case"defaultValue":R=X;break;case"multiple":f=X;default:ht(n,l,v,X,d,null)}l=N,d=R,n.multiple=!!f,l!=null?mn(n,!!f,l,!1):d!=null&&mn(n,!!f,d,!0);return;case"textarea":Ie("invalid",n),N=v=f=null;for(R in d)if(d.hasOwnProperty(R)&&(X=d[R],X!=null))switch(R){case"value":f=X;break;case"defaultValue":v=X;break;case"children":N=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(91));break;default:ht(n,l,R,X,d,null)}xf(n,f,v,N);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(f=d[Z],f!=null))switch(Z){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ht(n,l,Z,f,d,null)}return;case"dialog":Ie("beforetoggle",n),Ie("toggle",n),Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":Ie("load",n);break;case"video":case"audio":for(f=0;f<Gr.length;f++)Ie(Gr[f],n);break;case"image":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"embed":case"source":case"link":Ie("error",n),Ie("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in d)if(d.hasOwnProperty(le)&&(f=d[le],f!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:ht(n,l,le,f,d,null)}return;default:if(sd(l)){for(ge in d)d.hasOwnProperty(ge)&&(f=d[ge],f!==void 0&&Fh(n,l,ge,f,d,void 0));return}}for(X in d)d.hasOwnProperty(X)&&(f=d[X],f!=null&&ht(n,l,X,f,d,null))}function $w(n,l,d,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,R=null,X=null,Z=null,le=null,ge=null;for(de in d){var xe=d[de];if(d.hasOwnProperty(de)&&xe!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Z=xe;default:f.hasOwnProperty(de)||ht(n,l,de,null,f,xe)}}for(var oe in f){var de=f[oe];if(xe=d[oe],f.hasOwnProperty(oe)&&(de!=null||xe!=null))switch(oe){case"type":N=de;break;case"name":v=de;break;case"checked":le=de;break;case"defaultChecked":ge=de;break;case"value":R=de;break;case"defaultValue":X=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,l));break;default:de!==xe&&ht(n,l,oe,de,f,xe)}}ed(n,R,X,Z,le,ge,N,v);return;case"select":de=R=X=oe=null;for(N in d)if(Z=d[N],d.hasOwnProperty(N)&&Z!=null)switch(N){case"value":break;case"multiple":de=Z;default:f.hasOwnProperty(N)||ht(n,l,N,null,f,Z)}for(v in f)if(N=f[v],Z=d[v],f.hasOwnProperty(v)&&(N!=null||Z!=null))switch(v){case"value":oe=N;break;case"defaultValue":X=N;break;case"multiple":R=N;default:N!==Z&&ht(n,l,v,N,f,Z)}l=X,d=R,f=de,oe!=null?mn(n,!!d,oe,!1):!!f!=!!d&&(l!=null?mn(n,!!d,l,!0):mn(n,!!d,d?[]:"",!1));return;case"textarea":de=oe=null;for(X in d)if(v=d[X],d.hasOwnProperty(X)&&v!=null&&!f.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:ht(n,l,X,null,f,v)}for(R in f)if(v=f[R],N=d[R],f.hasOwnProperty(R)&&(v!=null||N!=null))switch(R){case"value":oe=v;break;case"defaultValue":de=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:v!==N&&ht(n,l,R,v,f,N)}ff(n,oe,de);return;case"option":for(var Se in d)if(oe=d[Se],d.hasOwnProperty(Se)&&oe!=null&&!f.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:ht(n,l,Se,null,f,oe)}for(Z in f)if(oe=f[Z],de=d[Z],f.hasOwnProperty(Z)&&oe!==de&&(oe!=null||de!=null))switch(Z){case"selected":n.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:ht(n,l,Z,oe,f,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in d)oe=d[Me],d.hasOwnProperty(Me)&&oe!=null&&!f.hasOwnProperty(Me)&&ht(n,l,Me,null,f,oe);for(le in f)if(oe=f[le],de=d[le],f.hasOwnProperty(le)&&oe!==de&&(oe!=null||de!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,l));break;default:ht(n,l,le,oe,f,de)}return;default:if(sd(l)){for(var ut in d)oe=d[ut],d.hasOwnProperty(ut)&&oe!==void 0&&!f.hasOwnProperty(ut)&&Fh(n,l,ut,void 0,f,oe);for(ge in f)oe=f[ge],de=d[ge],!f.hasOwnProperty(ge)||oe===de||oe===void 0&&de===void 0||Fh(n,l,ge,oe,f,de);return}}for(var se in d)oe=d[se],d.hasOwnProperty(se)&&oe!=null&&!f.hasOwnProperty(se)&&ht(n,l,se,null,f,oe);for(xe in f)oe=f[xe],de=d[xe],!f.hasOwnProperty(xe)||oe===de||oe==null&&de==null||ht(n,l,xe,oe,f,de)}function bp(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,l=0,d=performance.getEntriesByType("resource"),f=0;f<d.length;f++){var v=d[f],N=v.transferSize,R=v.initiatorType,X=v.duration;if(N&&X&&bp(R)){for(R=0,X=v.responseEnd,f+=1;f<d.length;f++){var Z=d[f],le=Z.startTime;if(le>X)break;var ge=Z.transferSize,xe=Z.initiatorType;ge&&bp(xe)&&(Z=Z.responseEnd,R+=ge*(Z<X?1:(X-le)/(Z-le)))}if(--f,l+=8*(N+R)/(v.duration/1e3),n++,10<n)break}}if(0<n)return l/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ih=null,Uh=null;function Bo(n){return n.nodeType===9?n:n.ownerDocument}function vp(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yp(n,l){if(n===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&l==="foreignObject"?0:n}function Wh(n,l){return n==="textarea"||n==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vh=null;function Zw(){var n=window.event;return n&&n.type==="popstate"?n===Vh?!1:(Vh=n,!0):(Vh=null,!1)}var wp=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,jp=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof jp<"u"?function(n){return jp.resolve(null).then(n).catch(e1)}:wp;function e1(n){setTimeout(function(){throw n})}function ni(n){return n==="head"}function Np(n,l){var d=l,f=0;do{var v=d.nextSibling;if(n.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(f===0){n.removeChild(v),Gn(l);return}f--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")f++;else if(d==="html")Kr(n.ownerDocument.documentElement);else if(d==="head"){d=n.ownerDocument.head,Kr(d);for(var N=d.firstChild;N;){var R=N.nextSibling,X=N.nodeName;N[fr]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=R}}else d==="body"&&Kr(n.ownerDocument.body);d=v}while(d);Gn(l)}function Sp(n,l){var d=n;n=0;do{var f=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),f&&f.nodeType===8)if(d=f.data,d==="/$"){if(n===0)break;n--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||n++;d=f}while(d)}function qh(n){var l=n.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":qh(d),Qc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}n.removeChild(d)}}function t1(n,l,d,f){for(;n.nodeType===1;){var v=d;if(n.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[fr])switch(l){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(N=n.getAttribute("rel"),N==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(N!==v.rel||n.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||n.getAttribute("title")!==(v.title==null?null:v.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(N=n.getAttribute("src"),(N!==(v.src==null?null:v.src)||n.getAttribute("type")!==(v.type==null?null:v.type)||n.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(l==="input"&&n.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&n.getAttribute("name")===N)return n}else return n;if(n=Ps(n.nextSibling),n===null)break}return null}function s1(n,l,d){if(l==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!d||(n=Ps(n.nextSibling),n===null))return null;return n}function kp(n,l){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Ps(n.nextSibling),n===null))return null;return n}function Gh(n){return n.data==="$?"||n.data==="$~"}function $h(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function a1(n,l){var d=n.ownerDocument;if(n.data==="$~")n._reactRetry=l;else if(n.data!=="$?"||d.readyState!=="loading")l();else{var f=function(){l(),d.removeEventListener("DOMContentLoaded",f)};d.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Ps(n){for(;n!=null;n=n.nextSibling){var l=n.nodeType;if(l===1||l===3)break;if(l===8){if(l=n.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return n}var Kh=null;function Cp(n){n=n.nextSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"||d==="/&"){if(l===0)return Ps(n.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}n=n.nextSibling}return null}function Ap(n){n=n.previousSibling;for(var l=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return n;l--}else d!=="/$"&&d!=="/&"||l++}n=n.previousSibling}return null}function Tp(n,l,d){switch(l=Bo(d),n){case"html":if(n=l.documentElement,!n)throw Error(s(452));return n;case"head":if(n=l.head,!n)throw Error(s(453));return n;case"body":if(n=l.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Kr(n){for(var l=n.attributes;l.length;)n.removeAttributeNode(l[0]);Qc(n)}var Bs=new Map,_p=new Set;function Xo(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var za=F.d;F.d={f:i1,r:n1,D:r1,C:l1,L:o1,m:c1,X:h1,S:d1,M:u1};function i1(){var n=za.f(),l=Mo();return n||l}function n1(n){var l=gn(n);l!==null&&l.tag===5&&l.type==="form"?Vx(l):za.r(n)}var Wn=typeof document>"u"?null:document;function Ep(n,l,d){var f=Wn;if(f&&typeof l=="string"&&l){var v=Ms(l);v='link[rel="'+n+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),_p.has(v)||(_p.add(v),n={rel:n,crossOrigin:d,href:l},f.querySelector(v)===null&&(l=f.createElement("link"),$t(l,"link",n),Yt(l),f.head.appendChild(l)))}}function r1(n){za.D(n),Ep("dns-prefetch",n,null)}function l1(n,l){za.C(n,l),Ep("preconnect",n,l)}function o1(n,l,d){za.L(n,l,d);var f=Wn;if(f&&n&&l){var v='link[rel="preload"][as="'+Ms(l)+'"]';l==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+Ms(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+Ms(d.imageSizes)+'"]')):v+='[href="'+Ms(n)+'"]';var N=v;switch(l){case"style":N=Vn(n);break;case"script":N=qn(n)}Bs.has(N)||(n=m({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:n,as:l},d),Bs.set(N,n),f.querySelector(v)!==null||l==="style"&&f.querySelector(Zr(N))||l==="script"&&f.querySelector(Qr(N))||(l=f.createElement("link"),$t(l,"link",n),Yt(l),f.head.appendChild(l)))}}function c1(n,l){za.m(n,l);var d=Wn;if(d&&n){var f=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+Ms(f)+'"][href="'+Ms(n)+'"]',N=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=qn(n)}if(!Bs.has(N)&&(n=m({rel:"modulepreload",href:n},l),Bs.set(N,n),d.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Qr(N)))return}f=d.createElement("link"),$t(f,"link",n),Yt(f),d.head.appendChild(f)}}}function d1(n,l,d){za.S(n,l,d);var f=Wn;if(f&&n){var v=fn(f).hoistableStyles,N=Vn(n);l=l||"default";var R=v.get(N);if(!R){var X={loading:0,preload:null};if(R=f.querySelector(Zr(N)))X.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":l},d),(d=Bs.get(N))&&Zh(n,d);var Z=R=f.createElement("link");Yt(Z),$t(Z,"link",n),Z._p=new Promise(function(le,ge){Z.onload=le,Z.onerror=ge}),Z.addEventListener("load",function(){X.loading|=1}),Z.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Yo(R,l,f)}R={type:"stylesheet",instance:R,count:1,state:X},v.set(N,R)}}}function h1(n,l){za.X(n,l);var d=Wn;if(d&&n){var f=fn(d).hoistableScripts,v=qn(n),N=f.get(v);N||(N=d.querySelector(Qr(v)),N||(n=m({src:n,async:!0},l),(l=Bs.get(v))&&Qh(n,l),N=d.createElement("script"),Yt(N),$t(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},f.set(v,N))}}function u1(n,l){za.M(n,l);var d=Wn;if(d&&n){var f=fn(d).hoistableScripts,v=qn(n),N=f.get(v);N||(N=d.querySelector(Qr(v)),N||(n=m({src:n,async:!0,type:"module"},l),(l=Bs.get(v))&&Qh(n,l),N=d.createElement("script"),Yt(N),$t(N,"link",n),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},f.set(v,N))}}function Mp(n,l,d,f){var v=(v=ae.current)?Xo(v):null;if(!v)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Vn(d.href),d=fn(v).hoistableStyles,f=d.get(l),f||(f={type:"style",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){n=Vn(d.href);var N=fn(v).hoistableStyles,R=N.get(n);if(R||(v=v.ownerDocument||v,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(n,R),(N=v.querySelector(Zr(n)))&&!N._p&&(R.instance=N,R.state.loading=5),Bs.has(n)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Bs.set(n,d),N||g1(v,n,d,R.state))),l&&f===null)throw Error(s(528,""));return R}if(l&&f!==null)throw Error(s(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=qn(d),d=fn(v).hoistableScripts,f=d.get(l),f||(f={type:"script",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Vn(n){return'href="'+Ms(n)+'"'}function Zr(n){return'link[rel="stylesheet"]['+n+"]"}function Lp(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function g1(n,l,d,f){n.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=n.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),$t(l,"link",d),Yt(l),n.head.appendChild(l))}function qn(n){return'[src="'+Ms(n)+'"]'}function Qr(n){return"script[async]"+n}function zp(n,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var f=n.querySelector('style[data-href~="'+Ms(d.href)+'"]');if(f)return l.instance=f,Yt(f),f;var v=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Yt(f),$t(f,"style",v),Yo(f,d.precedence,n),l.instance=f;case"stylesheet":v=Vn(d.href);var N=n.querySelector(Zr(v));if(N)return l.state.loading|=4,l.instance=N,Yt(N),N;f=Lp(d),(v=Bs.get(v))&&Zh(f,v),N=(n.ownerDocument||n).createElement("link"),Yt(N);var R=N;return R._p=new Promise(function(X,Z){R.onload=X,R.onerror=Z}),$t(N,"link",f),l.state.loading|=4,Yo(N,d.precedence,n),l.instance=N;case"script":return N=qn(d.src),(v=n.querySelector(Qr(N)))?(l.instance=v,Yt(v),v):(f=d,(v=Bs.get(N))&&(f=m({},d),Qh(f,v)),n=n.ownerDocument||n,v=n.createElement("script"),Yt(v),$t(v,"link",f),n.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Yo(f,d.precedence,n));return l.instance}function Yo(n,l,d){for(var f=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,N=v,R=0;R<f.length;R++){var X=f[R];if(X.dataset.precedence===l)N=X;else if(N!==v)break}N?N.parentNode.insertBefore(n,N.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(n,l.firstChild))}function Zh(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.title==null&&(n.title=l.title)}function Qh(n,l){n.crossOrigin==null&&(n.crossOrigin=l.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=l.referrerPolicy),n.integrity==null&&(n.integrity=l.integrity)}var Fo=null;function Dp(n,l,d){if(Fo===null){var f=new Map,v=Fo=new Map;v.set(d,f)}else v=Fo,f=v.get(d),f||(f=new Map,v.set(d,f));if(f.has(n))return f;for(f.set(n,null),d=d.getElementsByTagName(n),v=0;v<d.length;v++){var N=d[v];if(!(N[fr]||N[Wt]||n==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var R=N.getAttribute(l)||"";R=n+R;var X=f.get(R);X?X.push(N):f.set(R,[N])}}return f}function Rp(n,l,d){n=n.ownerDocument||n,n.head.insertBefore(d,l==="title"?n.querySelector("head > title"):null)}function f1(n,l,d){if(d===1||l.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return n=l.disabled,typeof l.precedence=="string"&&n==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Op(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function x1(n,l,d,f){if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=Vn(f.href),N=l.querySelector(Zr(v));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(n.count++,n=Io.bind(n),l.then(n,n)),d.state.loading|=4,d.instance=N,Yt(N);return}N=l.ownerDocument||l,f=Lp(f),(v=Bs.get(v))&&Zh(f,v),N=N.createElement("link"),Yt(N);var R=N;R._p=new Promise(function(X,Z){R.onload=X,R.onerror=Z}),$t(N,"link",f),d.instance=N}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(n.count++,d=Io.bind(n),l.addEventListener("load",d),l.addEventListener("error",d))}}var Jh=0;function m1(n,l){return n.stylesheets&&n.count===0&&Wo(n,n.stylesheets),0<n.count||0<n.imgCount?function(d){var f=setTimeout(function(){if(n.stylesheets&&Wo(n,n.stylesheets),n.unsuspend){var N=n.unsuspend;n.unsuspend=null,N()}},6e4+l);0<n.imgBytes&&Jh===0&&(Jh=62500*Kw());var v=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Wo(n,n.stylesheets),n.unsuspend)){var N=n.unsuspend;n.unsuspend=null,N()}},(n.imgBytes>Jh?50:800)+l);return n.unsuspend=d,function(){n.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Io(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wo(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Uo=null;function Wo(n,l){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Uo=new Map,l.forEach(p1,n),Uo=null,Io.call(n))}function p1(n,l){if(!(l.state.loading&4)){var d=Uo.get(n);if(d)var f=d.get(null);else{d=new Map,Uo.set(n,d);for(var v=n.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var R=v[N];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),f=R)}f&&d.set(null,f)}v=l.instance,R=v.getAttribute("data-precedence"),N=d.get(R)||f,N===f&&d.set(null,v),d.set(R,v),this.count++,f=Io.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),N?N.parentNode.insertBefore(v,N.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(v,n.firstChild)),l.state.loading|=4}}var Jr={$$typeof:T,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function b1(n,l,d,f,v,N,R,X,Z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.hiddenUpdates=Ht(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Hp(n,l,d,f,v,N,R,X,Z,le,ge,xe){return n=new b1(n,l,d,R,Z,le,ge,xe,X),l=1,N===!0&&(l|=24),N=ys(3,null,null,l),n.current=N,N.stateNode=n,l=Ld(),l.refCount++,n.pooledCache=l,l.refCount++,N.memoizedState={element:f,isDehydrated:d,cache:l},Od(N),n}function Pp(n){return n?(n=Sn,n):Sn}function Bp(n,l,d,f,v,N){v=Pp(v),f.context===null?f.context=v:f.pendingContext=v,f=Ga(l),f.payload={element:d},N=N===void 0?null:N,N!==null&&(f.callback=N),d=$a(n,f,l),d!==null&&(fs(d,n,l),Mr(d,n,l))}function Xp(n,l){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<l?d:l}}function eu(n,l){Xp(n,l),(n=n.alternate)&&Xp(n,l)}function Yp(n){if(n.tag===13||n.tag===31){var l=Ei(n,67108864);l!==null&&fs(l,n,67108864),eu(n,67108864)}}function Fp(n){if(n.tag===13||n.tag===31){var l=ks();l=$c(l);var d=Ei(n,l);d!==null&&fs(d,n,l),eu(n,l)}}var Vo=!0;function v1(n,l,d,f){var v=Y.T;Y.T=null;var N=F.p;try{F.p=2,tu(n,l,d,f)}finally{F.p=N,Y.T=v}}function y1(n,l,d,f){var v=Y.T;Y.T=null;var N=F.p;try{F.p=8,tu(n,l,d,f)}finally{F.p=N,Y.T=v}}function tu(n,l,d,f){if(Vo){var v=su(f);if(v===null)Yh(n,l,f,qo,d),Up(n,f);else if(j1(v,n,l,d,f))f.stopPropagation();else if(Up(n,f),l&4&&-1<w1.indexOf(n)){for(;v!==null;){var N=gn(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var R=xa(N.pendingLanes);if(R!==0){var X=N;for(X.pendingLanes|=2,X.entangledLanes|=2;R;){var Z=1<<31-ts(R);X.entanglements[1]|=Z,R&=~Z}oa(N),(at&6)===0&&(_o=Ut()+500,qr(0))}}break;case 31:case 13:X=Ei(N,2),X!==null&&fs(X,N,2),Mo(),eu(N,2)}if(N=su(f),N===null&&Yh(n,l,f,qo,d),N===v)break;v=N}v!==null&&f.stopPropagation()}else Yh(n,l,f,null,d)}}function su(n){return n=id(n),au(n)}var qo=null;function au(n){if(qo=null,n=un(n),n!==null){var l=o(n);if(l===null)n=null;else{var d=l.tag;if(d===13){if(n=c(l),n!==null)return n;n=null}else if(d===31){if(n=h(l),n!==null)return n;n=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;n=null}else l!==n&&(n=null)}}return qo=n,null}function Ip(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ic()){case Ol:return 2;case Hl:return 8;case rn:case Uc:return 32;case Pl:return 268435456;default:return 32}default:return 32}}var iu=!1,ri=null,li=null,oi=null,el=new Map,tl=new Map,ci=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Up(n,l){switch(n){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":el.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(l.pointerId)}}function sl(n,l,d,f,v,N){return n===null||n.nativeEvent!==N?(n={blockedOn:l,domEventName:d,eventSystemFlags:f,nativeEvent:N,targetContainers:[v]},l!==null&&(l=gn(l),l!==null&&Yp(l)),n):(n.eventSystemFlags|=f,l=n.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),n)}function j1(n,l,d,f,v){switch(l){case"focusin":return ri=sl(ri,n,l,d,f,v),!0;case"dragenter":return li=sl(li,n,l,d,f,v),!0;case"mouseover":return oi=sl(oi,n,l,d,f,v),!0;case"pointerover":var N=v.pointerId;return el.set(N,sl(el.get(N)||null,n,l,d,f,v)),!0;case"gotpointercapture":return N=v.pointerId,tl.set(N,sl(tl.get(N)||null,n,l,d,f,v)),!0}return!1}function Wp(n){var l=un(n.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){n.blockedOn=l,nf(n.priority,function(){Fp(d)});return}}else if(l===31){if(l=h(d),l!==null){n.blockedOn=l,nf(n.priority,function(){Fp(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Go(n){if(n.blockedOn!==null)return!1;for(var l=n.targetContainers;0<l.length;){var d=su(n.nativeEvent);if(d===null){d=n.nativeEvent;var f=new d.constructor(d.type,d);ad=f,d.target.dispatchEvent(f),ad=null}else return l=gn(d),l!==null&&Yp(l),n.blockedOn=d,!1;l.shift()}return!0}function Vp(n,l,d){Go(n)&&d.delete(l)}function N1(){iu=!1,ri!==null&&Go(ri)&&(ri=null),li!==null&&Go(li)&&(li=null),oi!==null&&Go(oi)&&(oi=null),el.forEach(Vp),tl.forEach(Vp)}function $o(n,l){n.blockedOn===l&&(n.blockedOn=null,iu||(iu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,N1)))}var Ko=null;function qp(n){Ko!==n&&(Ko=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ko===n&&(Ko=null);for(var l=0;l<n.length;l+=3){var d=n[l],f=n[l+1],v=n[l+2];if(typeof f!="function"){if(au(f||d)===null)continue;break}var N=gn(d);N!==null&&(n.splice(l,3),l-=3,sh(N,{pending:!0,data:v,method:d.method,action:f},f,v))}}))}function Gn(n){function l(Z){return $o(Z,n)}ri!==null&&$o(ri,n),li!==null&&$o(li,n),oi!==null&&$o(oi,n),el.forEach(l),tl.forEach(l);for(var d=0;d<ci.length;d++){var f=ci[d];f.blockedOn===n&&(f.blockedOn=null)}for(;0<ci.length&&(d=ci[0],d.blockedOn===null);)Wp(d),d.blockedOn===null&&ci.shift();if(d=(n.ownerDocument||n).$$reactFormReplay,d!=null)for(f=0;f<d.length;f+=3){var v=d[f],N=d[f+1],R=v[os]||null;if(typeof N=="function")R||qp(d);else if(R){var X=null;if(N&&N.hasAttribute("formAction")){if(v=N,R=N[os]||null)X=R.formAction;else if(au(v)!==null)continue}else X=R.action;typeof X=="function"?d[f+1]=X:(d.splice(f,3),f-=3),qp(d)}}}function Gp(){function n(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(R){return v=R})},focusReset:"manual",scroll:"manual"})}function l(){v!==null&&(v(),v=null),f||setTimeout(d,20)}function d(){if(!f&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){f=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),v!==null&&(v(),v=null)}}}function nu(n){this._internalRoot=n}Zo.prototype.render=nu.prototype.render=function(n){var l=this._internalRoot;if(l===null)throw Error(s(409));var d=l.current,f=ks();Bp(d,f,n,l,null,null)},Zo.prototype.unmount=nu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var l=n.containerInfo;Bp(n.current,2,null,n,null,null),Mo(),l[hn]=null}};function Zo(n){this._internalRoot=n}Zo.prototype.unstable_scheduleHydration=function(n){if(n){var l=af();n={blockedOn:null,target:n,priority:l};for(var d=0;d<ci.length&&l!==0&&l<ci[d].priority;d++);ci.splice(d,0,n),d===0&&Wp(n)}};var $p=e.version;if($p!=="19.2.0")throw Error(s(527,$p,"19.2.0"));F.findDOMNode=function(n){var l=n._reactInternals;if(l===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(l),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var S1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{Ni=Qo.inject(S1),es=Qo}catch{}}return il.createRoot=function(n,l){if(!i(n))throw Error(s(299));var d=!1,f="",v=sm,N=am,R=im;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=Hp(n,1,!1,null,null,d,f,null,v,N,R,Gp),n[hn]=l.current,Xh(n),new nu(l)},il.hydrateRoot=function(n,l,d){if(!i(n))throw Error(s(299));var f=!1,v="",N=sm,R=am,X=im,Z=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError),d.formState!==void 0&&(Z=d.formState)),l=Hp(n,1,!0,l,d??null,f,v,Z,N,R,X,Gp),l.context=Pp(null),d=l.current,f=ks(),f=$c(f),v=Ga(f),v.callback=null,$a(d,v,f),d=f,l.current.lanes=d,ss(l,d),oa(l),n[hn]=l.current,Xh(n),new Zo(l)},il.version="19.2.0",il}var n0;function D1(){if(n0)return ou.exports;n0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ou.exports=z1(),ou.exports}var R1=D1();const O1=Sg(R1);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var r0="popstate";function H1(r={}){function e(s,i){let{pathname:o,search:c,hash:h}=s.location;return Iu("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:gl(i)}return B1(e,t,null,r)}function wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ea(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function P1(){return Math.random().toString(36).substring(2,10)}function l0(r,e){return{usr:r.state,key:r.key,idx:e}}function Iu(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?nr(e):e,state:t,key:e&&e.key||s||P1()}}function gl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function nr(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function B1(r,e,t,s={}){let{window:i=document.defaultView,v5Compat:o=!1}=s,c=i.history,h="POP",u=null,g=x();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function x(){return(c.state||{idx:null}).idx}function m(){h="POP";let k=x(),A=k==null?null:k-g;g=k,u&&u({action:h,location:y.location,delta:A})}function p(k,A){h="PUSH";let S=Iu(y.location,k,A);g=x()+1;let T=l0(S,g),C=y.createHref(S);try{c.pushState(T,"",C)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(C)}o&&u&&u({action:h,location:y.location,delta:1})}function b(k,A){h="REPLACE";let S=Iu(y.location,k,A);g=x();let T=l0(S,g),C=y.createHref(S);c.replaceState(T,"",C),o&&u&&u({action:h,location:y.location,delta:0})}function w(k){return X1(k)}let y={get action(){return h},get location(){return r(i,c)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(r0,m),u=k,()=>{i.removeEventListener(r0,m),u=null}},createHref(k){return e(i,k)},createURL:w,encodeLocation(k){let A=w(k);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:p,replace:b,go(k){return c.go(k)}};return y}function X1(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wt(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:gl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function gb(r,e,t="/"){return Y1(r,e,t,!1)}function Y1(r,e,t,s){let i=typeof e=="string"?nr(e):e,o=Ha(i.pathname||"/",t);if(o==null)return null;let c=fb(r);F1(c);let h=null;for(let u=0;h==null&&u<c.length;++u){let g=J1(o);h=Z1(c[u],g,s)}return h}function fb(r,e=[],t=[],s="",i=!1){let o=(c,h,u=i,g)=>{let x={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&u)return;wt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let m=Ra([s,x.relativePath]),p=t.concat(x);c.children&&c.children.length>0&&(wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),fb(c.children,e,p,m,u)),!(c.path==null&&!c.index)&&e.push({path:m,score:$1(m,c.index),routesMeta:p})};return r.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let u of xb(c.path))o(c,h,!0,u)}),e}function xb(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let c=xb(s.join("/")),h=[];return h.push(...c.map(u=>u===""?o:[o,u].join("/"))),i&&h.push(...c),h.map(u=>r.startsWith("/")&&u===""?"/":u)}function F1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:K1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var I1=/^:[\w-]+$/,U1=3,W1=2,V1=1,q1=10,G1=-2,o0=r=>r==="*";function $1(r,e){let t=r.split("/"),s=t.length;return t.some(o0)&&(s+=G1),e&&(s+=W1),t.filter(i=>!o0(i)).reduce((i,o)=>i+(I1.test(o)?U1:o===""?V1:q1),s)}function K1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,i)=>s===e[i])?r[r.length-1]-e[e.length-1]:0}function Z1(r,e,t=!1){let{routesMeta:s}=r,i={},o="/",c=[];for(let h=0;h<s.length;++h){let u=s[h],g=h===s.length-1,x=o==="/"?e:e.slice(o.length)||"/",m=xc({path:u.relativePath,caseSensitive:u.caseSensitive,end:g},x),p=u.route;if(!m&&g&&t&&!s[s.length-1].route.index&&(m=xc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},x)),!m)return null;Object.assign(i,m.params),c.push({params:i,pathname:Ra([o,m.pathname]),pathnameBase:a2(Ra([o,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(o=Ra([o,m.pathnameBase]))}return c}function xc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=Q1(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:s.reduce((g,{paramName:x,isOptional:m},p)=>{if(x==="*"){let w=h[p]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=h[p];return m&&!b?g[x]=void 0:g[x]=(b||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:r}}function Q1(r,e=!1,t=!0){ea(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,u)=>(s.push({paramName:h,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function J1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ea(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ha(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function e2(r,e="/"){let{pathname:t,search:s="",hash:i=""}=typeof r=="string"?nr(r):r;return{pathname:t?t.startsWith("/")?t:t2(t,e):e,search:i2(s),hash:n2(i)}}function t2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function uu(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Cg(r){let e=s2(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ag(r,e,t,s=!1){let i;typeof r=="string"?i=nr(r):(i={...r},wt(!i.pathname||!i.pathname.includes("?"),uu("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),uu("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),uu("#","search","hash",i)));let o=r===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=t;else{let m=e.length-1;if(!s&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}h=m>=0?e[m]:"/"}let u=e2(i,h),g=c&&c!=="/"&&c.endsWith("/"),x=(o||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(g||x)&&(u.pathname+="/"),u}var Ra=r=>r.join("/").replace(/\/\/+/g,"/"),a2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),i2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,n2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function r2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mb=["POST","PUT","PATCH","DELETE"];new Set(mb);var l2=["GET",...mb];new Set(l2);var rr=M.createContext(null);rr.displayName="DataRouter";var _c=M.createContext(null);_c.displayName="DataRouterState";M.createContext(!1);var pb=M.createContext({isTransitioning:!1});pb.displayName="ViewTransition";var o2=M.createContext(new Map);o2.displayName="Fetchers";var c2=M.createContext(null);c2.displayName="Await";var sa=M.createContext(null);sa.displayName="Navigation";var Sl=M.createContext(null);Sl.displayName="Location";var Vs=M.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var Tg=M.createContext(null);Tg.displayName="RouteError";function d2(r,{relative:e}={}){wt(lr(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=M.useContext(sa),{hash:i,pathname:o,search:c}=kl(r,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ra([t,o])),s.createHref({pathname:h,search:c,hash:i})}function lr(){return M.useContext(Sl)!=null}function ua(){return wt(lr(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Sl).location}var bb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vb(r){M.useContext(sa).static||M.useLayoutEffect(r)}function rt(){let{isDataRoute:r}=M.useContext(Vs);return r?k2():h2()}function h2(){wt(lr(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(rr),{basename:e,navigator:t}=M.useContext(sa),{matches:s}=M.useContext(Vs),{pathname:i}=ua(),o=JSON.stringify(Cg(s)),c=M.useRef(!1);return vb(()=>{c.current=!0}),M.useCallback((u,g={})=>{if(ea(c.current,bb),!c.current)return;if(typeof u=="number"){t.go(u);return}let x=Ag(u,JSON.parse(o),i,g.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ra([e,x.pathname])),(g.replace?t.replace:t.push)(x,g.state,g)},[e,t,o,i,r])}var u2=M.createContext(null);function g2(r){let e=M.useContext(Vs).outlet;return M.useMemo(()=>e&&M.createElement(u2.Provider,{value:r},e),[e,r])}function aa(){let{matches:r}=M.useContext(Vs),e=r[r.length-1];return e?e.params:{}}function kl(r,{relative:e}={}){let{matches:t}=M.useContext(Vs),{pathname:s}=ua(),i=JSON.stringify(Cg(t));return M.useMemo(()=>Ag(r,JSON.parse(i),s,e==="path"),[r,i,s,e])}function f2(r,e){return yb(r,e)}function yb(r,e,t,s,i){wt(lr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(sa),{matches:c}=M.useContext(Vs),h=c[c.length-1],u=h?h.params:{},g=h?h.pathname:"/",x=h?h.pathnameBase:"/",m=h&&h.route;{let S=m&&m.path||"";wb(g,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=ua(),b;if(e){let S=typeof e=="string"?nr(e):e;wt(x==="/"||S.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${S.pathname}" was given in the \`location\` prop.`),b=S}else b=p;let w=b.pathname||"/",y=w;if(x!=="/"){let S=x.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let k=gb(r,{pathname:y});ea(m||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ea(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=v2(k&&k.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Ra([x,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?x:Ra([x,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,t,s,i);return e&&A?M.createElement(Sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},A):A}function x2(){let r=S2(),e=r2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:i},t):null,c)}var m2=M.createElement(x2,null),p2=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?M.createElement(Vs.Provider,{value:this.props.routeContext},M.createElement(Tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b2({routeContext:r,match:e,children:t}){let s=M.useContext(rr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Vs.Provider,{value:r},t)}function v2(r,e=[],t=null,s=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,c=t?.errors;if(c!=null){let g=o.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);wt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,u=-1;if(t)for(let g=0;g<o.length;g++){let x=o[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(u=g),x.route.id){let{loaderData:m,errors:p}=t,b=x.route.loader&&!m.hasOwnProperty(x.route.id)&&(!p||p[x.route.id]===void 0);if(x.route.lazy||b){h=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((g,x,m)=>{let p,b=!1,w=null,y=null;t&&(p=c&&x.route.id?c[x.route.id]:void 0,w=x.route.errorElement||m2,h&&(u<0&&m===0?(wb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,y=null):u===m&&(b=!0,y=x.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,m+1)),A=()=>{let S;return p?S=w:b?S=y:x.route.Component?S=M.createElement(x.route.Component,null):x.route.element?S=x.route.element:S=g,M.createElement(b2,{match:x,routeContext:{outlet:g,matches:k,isDataRoute:t!=null},children:S})};return t&&(x.route.ErrorBoundary||x.route.errorElement||m===0)?M.createElement(p2,{location:t.location,revalidation:t.revalidation,component:w,error:p,children:A(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):A()},null)}function _g(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y2(r){let e=M.useContext(rr);return wt(e,_g(r)),e}function w2(r){let e=M.useContext(_c);return wt(e,_g(r)),e}function j2(r){let e=M.useContext(Vs);return wt(e,_g(r)),e}function Eg(r){let e=j2(r),t=e.matches[e.matches.length-1];return wt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function N2(){return Eg("useRouteId")}function S2(){let r=M.useContext(Tg),e=w2("useRouteError"),t=Eg("useRouteError");return r!==void 0?r:e.errors?.[t]}function k2(){let{router:r}=y2("useNavigate"),e=Eg("useNavigate"),t=M.useRef(!1);return vb(()=>{t.current=!0}),M.useCallback(async(i,o={})=>{ea(t.current,bb),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var c0={};function wb(r,e,t){!e&&!c0[r]&&(c0[r]=!0,ea(!1,t))}M.memo(C2);function C2({routes:r,future:e,state:t,unstable_onError:s}){return yb(r,void 0,t,s,e)}function gi({to:r,replace:e,state:t,relative:s}){wt(lr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=M.useContext(sa);ea(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=M.useContext(Vs),{pathname:c}=ua(),h=rt(),u=Ag(r,Cg(o),c,s==="path"),g=JSON.stringify(u);return M.useEffect(()=>{h(JSON.parse(g),{replace:e,state:t,relative:s})},[h,g,s,e,t]),null}function A2(r){return g2(r.context)}function De(r){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T2({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:i,static:o=!1}){wt(!lr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof t=="string"&&(t=nr(t));let{pathname:u="/",search:g="",hash:x="",state:m=null,key:p="default"}=t,b=M.useMemo(()=>{let w=Ha(u,c);return w==null?null:{location:{pathname:w,search:g,hash:x,state:m,key:p},navigationType:s}},[c,u,g,x,m,p,s]);return ea(b!=null,`<Router basename="${c}"> is not able to match the URL "${u}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:M.createElement(sa.Provider,{value:h},M.createElement(Sl.Provider,{children:e,value:b}))}function _2({children:r,location:e}){return f2(Uu(r),e)}function Uu(r,e=[]){let t=[];return M.Children.forEach(r,(s,i)=>{if(!M.isValidElement(s))return;let o=[...e,i];if(s.type===M.Fragment){t.push.apply(t,Uu(s.props.children,o));return}wt(s.type===De,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Uu(s.props.children,o)),t.push(c)}),t}var rc="get",lc="application/x-www-form-urlencoded";function Ec(r){return r!=null&&typeof r.tagName=="string"}function E2(r){return Ec(r)&&r.tagName.toLowerCase()==="button"}function M2(r){return Ec(r)&&r.tagName.toLowerCase()==="form"}function L2(r){return Ec(r)&&r.tagName.toLowerCase()==="input"}function z2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function D2(r,e){return r.button===0&&(!e||e==="_self")&&!z2(r)}var Jo=null;function R2(){if(Jo===null)try{new FormData(document.createElement("form"),0),Jo=!1}catch{Jo=!0}return Jo}var O2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gu(r){return r!=null&&!O2.has(r)?(ea(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lc}"`),null):r}function H2(r,e){let t,s,i,o,c;if(M2(r)){let h=r.getAttribute("action");s=h?Ha(h,e):null,t=r.getAttribute("method")||rc,i=gu(r.getAttribute("enctype"))||lc,o=new FormData(r)}else if(E2(r)||L2(r)&&(r.type==="submit"||r.type==="image")){let h=r.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||h.getAttribute("action");if(s=u?Ha(u,e):null,t=r.getAttribute("formmethod")||h.getAttribute("method")||rc,i=gu(r.getAttribute("formenctype"))||gu(h.getAttribute("enctype"))||lc,o=new FormData(h,r),!R2()){let{name:g,type:x,value:m}=r;if(x==="image"){let p=g?`${g}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else g&&o.append(g,m)}}else{if(Ec(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rc,s=null,i=lc,c=r}return o&&i==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function P2(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ha(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function B2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Y2(r,e,t){let s=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await B2(o,t);return c.links?c.links():[]}return[]}));return W2(s.flat(1).filter(X2).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function d0(r,e,t,s,i,o){let c=(u,g)=>t[g]?u.route.id!==t[g].route.id:!0,h=(u,g)=>t[g].pathname!==u.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==u.params["*"];return o==="assets"?e.filter((u,g)=>c(u,g)||h(u,g)):o==="data"?e.filter((u,g)=>{let x=s.routes[u.route.id];if(!x||!x.hasLoader)return!1;if(c(u,g)||h(u,g))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function F2(r,e,{includeHydrateFallback:t}={}){return I2(r.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function I2(r){return[...new Set(r)]}function U2(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function W2(r,e){let t=new Set;return new Set(e),r.reduce((s,i)=>{let o=JSON.stringify(U2(i));return t.has(o)||(t.add(o),s.push({key:o,link:i})),s},[])}function jb(){let r=M.useContext(rr);return Mg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function V2(){let r=M.useContext(_c);return Mg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Lg=M.createContext(void 0);Lg.displayName="FrameworkContext";function Nb(){let r=M.useContext(Lg);return Mg(r,"You must render this element inside a <HydratedRouter> element"),r}function q2(r,e){let t=M.useContext(Lg),[s,i]=M.useState(!1),[o,c]=M.useState(!1),{onFocus:h,onBlur:u,onMouseEnter:g,onMouseLeave:x,onTouchStart:m}=e,p=M.useRef(null);M.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let y=A=>{A.forEach(S=>{c(S.isIntersecting)})},k=new IntersectionObserver(y,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[r]),M.useEffect(()=>{if(s){let y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(y)}}},[s]);let b=()=>{i(!0)},w=()=>{i(!1),c(!1)};return t?r!=="intent"?[o,p,{}]:[o,p,{onFocus:nl(h,b),onBlur:nl(u,w),onMouseEnter:nl(g,b),onMouseLeave:nl(x,w),onTouchStart:nl(m,b)}]:[!1,p,{}]}function nl(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function G2({page:r,...e}){let{router:t}=jb(),s=M.useMemo(()=>gb(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?M.createElement(K2,{page:r,matches:s,...e}):null}function $2(r){let{manifest:e,routeModules:t}=Nb(),[s,i]=M.useState([]);return M.useEffect(()=>{let o=!1;return Y2(r,e,t).then(c=>{o||i(c)}),()=>{o=!0}},[r,e,t]),s}function K2({page:r,matches:e,...t}){let s=ua(),{manifest:i,routeModules:o}=Nb(),{basename:c}=jb(),{loaderData:h,matches:u}=V2(),g=M.useMemo(()=>d0(r,e,u,i,s,"data"),[r,e,u,i,s]),x=M.useMemo(()=>d0(r,e,u,i,s,"assets"),[r,e,u,i,s]),m=M.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let w=new Set,y=!1;if(e.forEach(A=>{let S=i.routes[A.route.id];!S||!S.hasLoader||(!g.some(T=>T.route.id===A.route.id)&&A.route.id in h&&o[A.route.id]?.shouldRevalidate||S.hasClientLoader?y=!0:w.add(A.route.id))}),w.size===0)return[];let k=P2(r,c,"data");return y&&w.size>0&&k.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[k.pathname+k.search]},[c,h,s,i,g,e,r,o]),p=M.useMemo(()=>F2(x,i),[x,i]),b=$2(x);return M.createElement(M.Fragment,null,m.map(w=>M.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),p.map(w=>M.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),b.map(({key:w,link:y})=>M.createElement("link",{key:w,nonce:t.nonce,...y})))}function Z2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Sb&&(window.__reactRouterVersion="7.9.4")}catch{}function Q2({basename:r,children:e,window:t}){let s=M.useRef();s.current==null&&(s.current=H1({window:t,v5Compat:!0}));let i=s.current,[o,c]=M.useState({action:i.action,location:i.location}),h=M.useCallback(u=>{M.startTransition(()=>c(u))},[c]);return M.useLayoutEffect(()=>i.listen(h),[i,h]),M.createElement(T2,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var kb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=M.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:i,reloadDocument:o,replace:c,state:h,target:u,to:g,preventScrollReset:x,viewTransition:m,...p},b){let{basename:w}=M.useContext(sa),y=typeof g=="string"&&kb.test(g),k,A=!1;if(typeof g=="string"&&y&&(k=g,Sb))try{let H=new URL(window.location.href),z=g.startsWith("//")?new URL(H.protocol+g):new URL(g),B=Ha(z.pathname,w);z.origin===H.origin&&B!=null?g=B+z.search+z.hash:A=!0}catch{ea(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=d2(g,{relative:i}),[T,C,E]=q2(s,p),L=sj(g,{replace:c,state:h,target:u,preventScrollReset:x,relative:i,viewTransition:m});function _(H){e&&e(H),H.defaultPrevented||L(H)}let D=M.createElement("a",{...p,...E,href:k||S,onClick:A||o?e:_,ref:Z2(b,C),target:u,"data-discover":!y&&t==="render"?"true":void 0});return T&&!y?M.createElement(M.Fragment,null,D,M.createElement(G2,{page:S})):D});Ct.displayName="Link";var J2=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:i=!1,style:o,to:c,viewTransition:h,children:u,...g},x){let m=kl(c,{relative:g.relative}),p=ua(),b=M.useContext(_c),{navigator:w,basename:y}=M.useContext(sa),k=b!=null&&lj(m)&&h===!0,A=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,S=p.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(S=S.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&y&&(T=Ha(T,y)||T);const C=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let E=S===A||!i&&S.startsWith(A)&&S.charAt(C)==="/",L=T!=null&&(T===A||!i&&T.startsWith(A)&&T.charAt(A.length)==="/"),_={isActive:E,isPending:L,isTransitioning:k},D=E?e:void 0,H;typeof s=="function"?H=s(_):H=[s,E?"active":null,L?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(_):o;return M.createElement(Ct,{...g,"aria-current":D,className:H,ref:x,style:z,to:c,viewTransition:h},typeof u=="function"?u(_):u)});J2.displayName="NavLink";var ej=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:i,state:o,method:c=rc,action:h,onSubmit:u,relative:g,preventScrollReset:x,viewTransition:m,...p},b)=>{let w=nj(),y=rj(h,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&kb.test(h),S=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let C=T.nativeEvent.submitter,E=C?.getAttribute("formmethod")||c;w(C||T.currentTarget,{fetcherKey:e,method:E,navigate:t,replace:i,state:o,relative:g,preventScrollReset:x,viewTransition:m})};return M.createElement("form",{ref:b,method:k,action:y,onSubmit:s?u:S,...p,"data-discover":!A&&r==="render"?"true":void 0})});ej.displayName="Form";function tj(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cb(r){let e=M.useContext(rr);return wt(e,tj(r)),e}function sj(r,{target:e,replace:t,state:s,preventScrollReset:i,relative:o,viewTransition:c}={}){let h=rt(),u=ua(),g=kl(r,{relative:o});return M.useCallback(x=>{if(D2(x,e)){x.preventDefault();let m=t!==void 0?t:gl(u)===gl(g);h(r,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:c})}},[u,h,g,t,s,e,r,i,o,c])}var aj=0,ij=()=>`__${String(++aj)}__`;function nj(){let{router:r}=Cb("useSubmit"),{basename:e}=M.useContext(sa),t=N2();return M.useCallback(async(s,i={})=>{let{action:o,method:c,encType:h,formData:u,body:g}=H2(s,e);if(i.navigate===!1){let x=i.fetcherKey||ij();await r.fetch(x,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:g,formMethod:i.method||c,formEncType:i.encType||h,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:g,formMethod:i.method||c,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function rj(r,{relative:e}={}){let{basename:t}=M.useContext(sa),s=M.useContext(Vs);wt(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),o={...kl(r||".",{relative:e})},c=ua();if(r==null){o.search=c.search;let h=new URLSearchParams(o.search),u=h.getAll("index");if(u.some(x=>x==="")){h.delete("index"),u.filter(m=>m).forEach(m=>h.append("index",m));let x=h.toString();o.search=x?`?${x}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ra([t,o.pathname])),gl(o)}function lj(r,{relative:e}={}){let t=M.useContext(pb);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Cb("useViewTransitionState"),i=kl(r,{relative:e});if(!t.isTransitioning)return!1;let o=Ha(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Ha(t.nextLocation.pathname,s)||t.nextLocation.pathname;return xc(i.pathname,c)!=null||xc(i.pathname,o)!=null}const Ab=M.createContext();function oj({children:r}){const[e,t]=M.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});M.useEffect(()=>{const i=document.documentElement,o=localStorage.getItem("theme");(o?o==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches)?i.classList.add("dark"):i.classList.remove("dark")},[]),M.useEffect(()=>{localStorage.setItem("theme",e?"dark":"light");const i=document.documentElement;e?i.classList.add("dark"):i.classList.remove("dark")},[e]);const s=()=>{t(i=>!i)};return a.jsx(Ab.Provider,{value:{isDark:e,toggleTheme:s},children:r})}function cj(){const r=M.useContext(Ab);if(!r)throw new Error("useTheme must be used within ThemeProvider");return r}const dj="/assets/undraw_true-friends_1h3v-DtslUlRv.png";var Tb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h0=Ue.createContext&&Ue.createContext(Tb),hj=["attr","size","title"];function uj(r,e){if(r==null)return{};var t=gj(r,e),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(i=0;i<o.length;i++)s=o[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function gj(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function mc(){return mc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},mc.apply(this,arguments)}function u0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,s)}return t}function pc(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?u0(Object(t),!0).forEach(function(s){fj(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):u0(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function fj(r,e,t){return e=xj(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xj(r){var e=mj(r,"string");return typeof e=="symbol"?e:e+""}function mj(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function _b(r){return r&&r.map((e,t)=>Ue.createElement(e.tag,pc({key:t},e.attr),_b(e.child)))}function Ae(r){return e=>Ue.createElement(pj,mc({attr:pc({},r.attr)},e),_b(r.child))}function pj(r){var e=t=>{var{attr:s,size:i,title:o}=r,c=uj(r,hj),h=i||t.size||"1em",u;return t.className&&(u=t.className),r.className&&(u=(u?u+" ":"")+r.className),Ue.createElement("svg",mc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,c,{className:u,style:pc(pc({color:r.color||t.color},t.style),r.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ue.createElement("title",null,o),r.children)};return h0!==void 0?Ue.createElement(h0.Consumer,null,t=>e(t)):e(Tb)}function Eb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(r)}function Mc(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(r)}function Mb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"polyline",attr:{points:"19 12 12 19 5 12"},child:[]}]})(r)}function ta(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function Lb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"19",x2:"12",y2:"5"},child:[]},{tag:"polyline",attr:{points:"5 12 12 5 19 12"},child:[]}]})(r)}function zg(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(r)}function bc(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(r)}function g0(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(r)}function Lc(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(r)}function ca(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function ol(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function Dg(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(r)}function zc(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(r)}function Dc(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(r)}function zb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(r)}function Qi(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function $i(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(r)}function Db(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function Ji(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function bj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function fi(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function vj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(r)}function Rb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(r)}function Ob(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(r)}function Oa(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function Us(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function ms(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function fl(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(r)}function yj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(r)}function Hb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(r)}function wj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(r)}function jj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function Rg(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(r)}function He(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(r)}function Nj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(r)}function Wu(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function Sj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(r)}function kj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function tr(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(r)}function Pb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(r)}function Cj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(r)}function pi(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function Aj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"polyline",attr:{points:"23 20 23 14 17 14"},child:[]},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},child:[]}]})(r)}function sr(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function bi(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(r)}function ha(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function Tj(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(r)}function _j(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.69 14a6.9 6.9 0 0 0 .31-2V5l-8-3-3.16 1.18"},child:[]},{tag:"path",attr:{d:"M4.73 4.73L4 5v7c0 6 8 10 8 10a20.29 20.29 0 0 0 5.62-4.38"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function f0(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function bs(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function vc(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(r)}function Ej(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 9.9-1"},child:[]}]})(r)}function Qn(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function Bt(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function Bb(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(r)}function ps(r){return Ae({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}const Xb="http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000",Mj={"Content-Type":"application/json"};console.log(Xb);function Lj(){try{const r=localStorage.getItem("accessToken");return r?{Authorization:`Bearer ${r}`,"x-access-token":r}:{}}catch{return{}}}async function Vu(r,e={}){const t=`${Xb}${r}`,s=await fetch(t,{headers:{...Mj,...Lj(),...e.headers},...e}),i=s.headers.get("content-type"),c=i&&i.includes("application/json")?await s.json():await s.text();if(!s.ok){const h=new Error(c&&c.message||s.statusText||"Request failed");throw h.status=s.status,h.body=c,h}return c}function fu(r){return(e,t,s={})=>Vu(e,{method:r,body:t?JSON.stringify(t):void 0,...s})}const pe={get:(r,e)=>Vu(r,{method:"GET",...e}),post:fu("POST"),put:fu("PUT"),patch:fu("PATCH"),delete:(r,e)=>Vu(r,{method:"DELETE",...e})};function zj(r){return pe.post("/api/auth/send-otp-signup",r)}function Dj(r){return pe.post("/api/auth/signup",r)}function Rj(r){return pe.post("/api/auth/signin",r)}function Oj(r){return pe.post("/api/auth/forgot-password/send-otp",r)}function Hj(r){return pe.post("/api/auth/forgot-password/reset",r)}function Pj(){const r=rt(),[e,t]=M.useState(""),[s,i]=M.useState(""),[o,c]=M.useState(!1),[h,u]=M.useState(!1),[g,x]=M.useState(""),[m,p]=M.useState(""),b=async w=>{if(w.preventDefault(),x(""),p(""),!e||!s){x("Vui lng nhp y  email v mt khu.");return}u(!0);try{const y=await Rj({email:e,password:s});localStorage.setItem("accessToken",y.accessToken),localStorage.setItem("currentUser",JSON.stringify({id:y.id,fullName:y.fullName,email:y.email,role:y.role}));let k;y.role==="admin"||y.role==="superadmin"?k="/dashboard/admin":y.role==="teacher"?k="/dashboard/teacher":k="/dashboard/student",p("ng nhp thnh cng."),setTimeout(()=>r(k,{replace:!0}),500)}catch(y){const k=y.body?.message||y.message||"ng nhp tht bi. Vui lng th li.";x(k)}finally{u(!1)}};return a.jsxs("div",{className:"flex min-h-screen flex-col md:flex-row",children:[a.jsx("div",{className:"hidden md:flex w-1/2 justify-center items-center p-1",children:a.jsx("img",{src:dj,alt:"Friends",className:"object-cover h-fit w-fit"})}),a.jsx("div",{className:"flex w-full md:w-1/2 items-center justify-center p-6",children:a.jsxs("div",{className:"w-full max-w-md p-8 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:"ng nhp"}),a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Ti khon ng nhp"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:w=>t(w.target.value),placeholder:"Nhp email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mt khu"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:o?"text":"password",id:"password",value:s,onChange:w=>i(w.target.value),placeholder:"Nhp mt khu ca bn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:o?a.jsx(Oa,{}):a.jsx(Us,{})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ct,{to:"/auth/register",className:"text-sm font-medium text-blue-600 hover:underline",children:"ng k"}),a.jsx(Ct,{to:"/auth/forgot-password",className:"text-sm font-medium text-blue-600 hover:underline",children:"Qun mt khu?"})]}),g&&a.jsx("p",{className:"text-sm text-red-500",role:"alert",children:g}),m&&a.jsx("p",{className:"text-sm text-green-600",role:"status",children:m}),a.jsx("button",{type:"submit",disabled:h,className:"w-full px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:h?"ang x l...":"ng nhp"})]})]})})]})}const Bj="/assets/undraw_fall_zh0m-DTrplRSM.png";function Xj(){const r=rt(),[e,t]=M.useState({fullName:"",email:"",password:"",role:"student"}),[s,i]=M.useState(""),[o,c]=M.useState(""),[h,u]=M.useState(!1),[g,x]=M.useState(!1),[m,p]=M.useState(!1),[b,w]=M.useState(!1),[y,k]=M.useState(""),[A,S]=M.useState(""),[T,C]=M.useState(1),E=H=>{const{name:z,value:B}=H.target;t(P=>({...P,[z]:B}))},L=async H=>{if(H.preventDefault(),k(""),S(""),!e.fullName.trim()||!e.email.trim()){k("Vui lng nhp h tn v email.");return}if(e.password.length<6){k("Mt khu phi c t nht 6 k t.");return}if(e.password!==s){k("Mt khu nhp li khng trng khp.");return}w(!0);try{await zj({fullName:e.fullName.trim(),email:e.email.trim(),password:e.password,role:e.role}),S("M OTP  c gi n email ca bn. Vui lng kim tra hp th."),C(2)}catch(z){const B=z.body?.message||z.message||"Gi OTP tht bi. Vui lng th li.";k(B)}finally{w(!1)}},_=async H=>{if(H.preventDefault(),k(""),S(""),!o||o.length!==6){k("Vui lng nhp m OTP 6 ch s.");return}p(!0);try{await Dj({email:e.email.trim(),otp:o}),S("ng k thnh cng. Vui lng ng nhp."),setTimeout(()=>r("/auth/login"),1500)}catch(z){const B=z.body?.message||z.message||"Xc thc OTP tht bi. Vui lng th li.";k(B)}finally{p(!1)}},D=()=>{C(1),c(""),k(""),S("")};return a.jsxs("div",{className:"flex min-h-screen flex-col md:flex-row",children:[a.jsx("div",{className:"hidden md:flex w-1/2 justify-center items-center p-1",children:a.jsx("img",{src:Bj,alt:"Friends",className:"object-cover h-fit w-fit"})}),a.jsx("div",{className:"flex w-full md:w-1/2 items-center justify-center p-6",children:a.jsxs("div",{className:"w-full max-w-md p-8 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:"ng K"}),T===1?a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block mb-2 text-sm font-medium text-gray-700",children:"H v tn"}),a.jsx("input",{type:"text",id:"fullName",name:"fullName",value:e.fullName,onChange:E,placeholder:"Nhp h v tn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:E,placeholder:"Nhp email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block mb-2 text-sm font-medium text-gray-700",children:"Vai tr"}),a.jsxs("select",{id:"role",name:"role",value:e.role,onChange:E,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"student",children:"Hc sinh"}),a.jsx("option",{value:"teacher",children:"Gio vin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mt khu"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h?"text":"password",id:"password",name:"password",value:e.password,onChange:E,placeholder:"Nhp mt khu ca bn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>u(H=>!H),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:h?a.jsx(Oa,{}):a.jsx(Us,{})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nhp li mt khu"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g?"text":"password",id:"confirmPassword",value:s,onChange:H=>i(H.target.value),placeholder:"Nhp li mt khu",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>x(H=>!H),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:g?a.jsx(Oa,{}):a.jsx(Us,{})})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[y&&a.jsx("p",{className:"text-sm text-red-500",role:"alert",children:y}),A&&a.jsx("p",{className:"text-sm text-green-600",role:"status",children:A})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" c ti khon?"}),a.jsx(Ct,{to:"/auth/login",className:"text-sm font-medium text-blue-600 hover:underline",children:"ng nhp"})]}),a.jsx("button",{type:"submit",disabled:b,className:"w-full px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"ang gi OTP...":"Gi m OTP"})]}):a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["M OTP  c gi n email: ",a.jsx("strong",{children:e.email})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Vui lng kim tra hp th v nhp m OTP 6 ch s"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"otp",className:"block mb-2 text-sm font-medium text-gray-700",children:"M OTP"}),a.jsx("input",{type:"text",id:"otp",name:"otp",value:o,onChange:H=>c(H.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Nhp m OTP 6 ch s",maxLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[y&&a.jsx("p",{className:"text-sm text-red-500",role:"alert",children:y}),A&&a.jsx("p",{className:"text-sm text-green-600",role:"status",children:A})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:D,className:"flex-1 px-4 py-3 font-semibold text-gray-700 bg-gray-200 rounded-lg shadow-md hover:bg-gray-300 transition-transform transform hover:scale-105",children:"Quay li"}),a.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:m?"ang x l...":"Xc thc OTP"})]})]})]})})]})}const Yj="/assets/undraw_online-meeting_qe61-BsNR8GbO.png";function Fj(){const r=rt(),[e,t]=M.useState(""),[s,i]=M.useState(""),[o,c]=M.useState(""),[h,u]=M.useState(""),[g,x]=M.useState(!1),[m,p]=M.useState(!1),[b,w]=M.useState(!1),[y,k]=M.useState(!1),[A,S]=M.useState(""),[T,C]=M.useState(""),[E,L]=M.useState(1),_=async z=>{if(z.preventDefault(),S(""),C(""),!e.trim()){S("Vui lng nhp email.");return}k(!0);try{await Oj({email:e.trim()}),C("M OTP  c gi n email ca bn. Vui lng kim tra hp th."),L(2)}catch(B){const P=B.body?.message||B.message||"Gi OTP tht bi. Vui lng th li.";S(P)}finally{k(!1)}},D=async z=>{if(z.preventDefault(),S(""),C(""),!s||s.length!==6){S("Vui lng nhp m OTP 6 ch s.");return}if(o.length<6){S("Mt khu phi c t nht 6 k t.");return}if(o!==h){S("Mt khu nhp li khng trng khp.");return}w(!0);try{await Hj({email:e.trim(),otp:s,newPassword:o}),C("t li mt khu thnh cng. Vui lng ng nhp."),setTimeout(()=>r("/auth/login"),1500)}catch(B){const P=B.body?.message||B.message||"t li mt khu tht bi. Vui lng th li.";S(P)}finally{w(!1)}},H=()=>{L(1),i(""),c(""),u(""),S(""),C("")};return a.jsxs("div",{className:"flex min-h-screen flex-col md:flex-row",children:[a.jsx("div",{className:"hidden md:flex w-1/2 justify-center items-center p-1",children:a.jsx("img",{src:Yj,alt:"Forgot Password",className:"object-cover h-fit w-fit"})}),a.jsx("div",{className:"flex w-full md:w-1/2 items-center justify-center p-6",children:a.jsxs("div",{className:"w-full max-w-md p-8 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-center text-gray-900",children:E===1?"Qun mt khu":"t li mt khu"}),E===1?a.jsxs("form",{onSubmit:_,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700",children:"Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:z=>t(z.target.value),placeholder:"Nhp email ca bn",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Chng ti s gi m OTP n email ca bn  xc thc."})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[A&&a.jsx("p",{className:"text-sm text-red-500",role:"alert",children:A}),T&&a.jsx("p",{className:"text-sm text-green-600",role:"status",children:T})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx(Ct,{to:"/auth/login",className:"text-sm font-medium text-blue-600 hover:underline",children:"Quay li ng nhp"})}),a.jsx("button",{type:"submit",disabled:y,className:"w-full px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:y?"ang gi OTP...":"Gi m OTP"})]}):a.jsxs("form",{onSubmit:D,className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["M OTP  c gi n email: ",a.jsx("strong",{children:e})]}),a.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"Vui lng kim tra hp th v nhp m OTP 6 ch s"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"otp",className:"block mb-2 text-sm font-medium text-gray-700",children:"M OTP"}),a.jsx("input",{type:"text",id:"otp",value:s,onChange:z=>i(z.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Nhp m OTP 6 ch s",maxLength:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-2xl tracking-widest"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block mb-2 text-sm font-medium text-gray-700",children:"Mt khu mi"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g?"text":"password",id:"newPassword",value:o,onChange:z=>c(z.target.value),placeholder:"Nhp mt khu mi",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>x(z=>!z),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:g?a.jsx(Oa,{}):a.jsx(Us,{})})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block mb-2 text-sm font-medium text-gray-700",children:"Nhp li mt khu mi"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:m?"text":"password",id:"confirmPassword",value:h,onChange:z=>u(z.target.value),placeholder:"Nhp li mt khu mi",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"button",onClick:()=>p(z=>!z),className:"absolute inset-y-0 right-0 flex items-center px-3 text-gray-500",children:m?a.jsx(Oa,{}):a.jsx(Us,{})})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[A&&a.jsx("p",{className:"text-sm text-red-500",role:"alert",children:A}),T&&a.jsx("p",{className:"text-sm text-green-600",role:"status",children:T})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:H,className:"flex-1 px-4 py-3 font-semibold text-gray-700 bg-gray-200 rounded-lg shadow-md hover:bg-gray-300 transition-transform transform hover:scale-105",children:"Quay li"}),a.jsx("button",{type:"submit",disabled:b,className:"flex-1 px-4 py-3 font-bold text-white bg-[#432DD7] rounded-lg shadow-md hover:bg-[#3a26c0] transition-transform transform hover:scale-105 disabled:opacity-70 disabled:cursor-not-allowed",children:b?"ang x l...":"t li mt khu"})]})]})]})})]})}function Ij(){try{const r=localStorage.getItem("currentUser");return r?JSON.parse(r):null}catch{return null}}function tt({allowedRoles:r,children:e}){const t=localStorage.getItem("accessToken"),s=Ij();if(!t||!s)return a.jsx(gi,{to:"/auth/login",replace:!0});if(Array.isArray(r)&&r.length>0&&!r.includes(s.role)){const i=s.role==="superadmin"||s.role==="admin"?"/dashboard/admin":s.role==="teacher"?"/dashboard/teacher":s.role==="student"?"/dashboard/student":"/auth/login";return a.jsx(gi,{to:i,replace:!0})}return e}function Uj(){try{const r=localStorage.getItem("currentUser"),e=r?JSON.parse(r):null;if(e?.role==="superadmin"||e?.role==="admin")return"/dashboard/admin";if(e?.role==="teacher")return"/dashboard/teacher";if(e?.role==="student")return"/dashboard/student"}catch{}return"/auth/login"}function Wj(){const r=Uj();return a.jsx(gi,{to:r,replace:!0})}function ga(r,e=[]){const t=M.useRef(!1),s=M.useRef(e);(e.length!==s.current.length||e.some((o,c)=>o!==s.current[c]))&&(t.current=!1,s.current=e),M.useEffect(()=>t.current?void 0:(t.current=!0,r()),e)}function x0(r){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"User"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.438,21.937H6.562a2.5,2.5,0,0,1-2.5-2.5V18.61c0-3.969,3.561-7.2,7.938-7.2s7.938,3.229,7.938,7.2v.827A2.5,2.5,0,0,1,17.438,21.937ZM12,12.412c-3.826,0-6.938,2.78-6.938,6.2v.827a1.5,1.5,0,0,0,1.5,1.5H17.438a1.5,1.5,0,0,0,1.5-1.5V18.61C18.938,15.192,15.826,12.412,12,12.412Z"},child:[]},{tag:"path",attr:{d:"M12,9.911a3.924,3.924,0,1,1,3.923-3.924A3.927,3.927,0,0,1,12,9.911Zm0-6.847a2.924,2.924,0,1,0,2.923,2.923A2.926,2.926,0,0,0,12,3.064Z"},child:[]}]}]}]})(r)}function m0(r){return Ae({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(r)}const p0={teacher:[{label:"Tng quan",path:"/dashboard/teacher",icon:Hb},{label:"Bi thi",path:"/dashboard/teacher/exams",icon:ms},{label:"Lp hc",path:"/dashboard/teacher/classes",icon:Bt},{label:"Thng bo",path:"/dashboard/teacher/notifications",icon:bc},{label:"Thng k mua  thi",path:"/dashboard/teacher/exam-purchases",icon:Ji},{label:"Lch s giao dch",path:"/dashboard/teacher/transactions",icon:Qi},{label:"V",path:"/dashboard/wallet",icon:m0},{label:"Ti Khon",path:"/dashboard/profile",icon:x0}],student:[{label:"Trang ch",path:"/dashboard/student",icon:jj},{label:"Bi thi",path:"/dashboard/student/exams",icon:ms},{label:"Bi thi yu thch",path:"/dashboard/student/favorite",icon:wj},{label:"Truy cp gn y",path:"/dashboard/student/recent",icon:Qi},{label:"Lp hc",path:"/dashboard/student/classes",icon:Bt},{label:"Thng bo",path:"/dashboard/student/notifications",icon:bc},{label:"V",path:"/dashboard/student/payment",icon:m0},{label:"Lch s giao dch",path:"/dashboard/student/transactions",icon:Ji},{label:"Ti Khon",path:"/dashboard/profile",icon:x0}]};function Vj({role:r="student"}){const e=p0[r]||p0.student,t=ua();return a.jsxs("aside",{className:"hidden w-64 flex-col border-r border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-6 md:flex",children:[a.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-indigo-600 text-white font-bold",children:"P"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400 leading-none",children:"PTIT QUIZ"}),a.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:r==="teacher"?"Gio vin":"Hc sinh"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:e.map(s=>{const i=t.pathname===s.path,o=s.icon;return a.jsxs(Ct,{to:s.path,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition 
                ${i?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-300 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:text-indigo-600 dark:hover:text-indigo-400"}
              `,children:[a.jsx(o,{className:"h-5 w-5"}),a.jsx("span",{children:s.label})]},s.path)})})]})}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gj=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),b0=r=>{const e=Gj(r);return e.charAt(0).toUpperCase()+e.slice(1)},Yb=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),$j=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=M.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:c,...h},u)=>M.createElement("svg",{ref:u,...Kj,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:Yb("lucide",i),...!o&&!$j(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,x])=>M.createElement(g,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(r,e)=>{const t=M.forwardRef(({className:s,...i},o)=>M.createElement(Zj,{ref:o,iconNode:e,className:Yb(`lucide-${qj(b0(r))}`,`lucide-${r}`,s),...i}));return t.displayName=b0(r),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fb=Qe("arrow-left",Qj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],eN=Qe("award",Jj);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],v0=Qe("bell",tN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Fs=Qe("book-open",sN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],iN=Qe("calendar",aN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],y0=Qe("chart-column",nN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],lN=Qe("check-check",rN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cN=Qe("check",oN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Og=Qe("chevron-left",dN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hg=Qe("chevron-right",hN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pg=Qe("circle-alert",uN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jn=Qe("circle-check",gN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xu=Qe("circle-x",fN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xi=Qe("clock",xN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yc=Qe("eye",mN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ib=Qe("funnel",pN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],da=Qe("graduation-cap",bN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],qu=Qe("heart",vN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],wN=Qe("loader-circle",yN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ec=Qe("message-square",jN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],SN=Qe("moon",NN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xl=Qe("play",kN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gu=Qe("plus",CN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],TN=Qe("rotate-ccw",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cl=Qe("search",_N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wc=Qe("star",EN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],LN=Qe("sun",MN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DN=Qe("trash-2",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w0=Qe("triangle-alert",RN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],oc=Qe("trophy",ON);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ub=Qe("users",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Bg=Qe("wallet",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cl=Qe("x",BN),Rc=async()=>{try{return await pe.get("/api/user/profile")}catch(r){throw r}},XN=async r=>{try{const e=new FormData;e.append("avatar",r);const t="http://14.225.191.135".replace(/\/$/,"")||"http://localhost:5005",s=localStorage.getItem("accessToken"),i=await fetch(`${t}/api/upload/avatar`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"x-access-token":s},body:e});if(!i.ok){const c=await i.json().catch(()=>({message:i.statusText}));throw new Error(c.message||"Upload failed")}return{status:!0,data:await i.json()}}catch(e){return{status:!1,message:e.message||"Li khi upload avatar"}}},YN=async(r,e,t=null)=>{try{const s={fullName:r,email:e};return t!==null&&(s.avatar_url=t),{status:!0,data:await pe.post("/api/user/profile",s)}}catch(s){return{status:!1,data:s.body||{message:s.message}}}},FN=async(r,e)=>{try{return await pe.post("/api/user/changepassword",{currentPassword:r,newPassword:e})}catch(t){return{status:!1,message:t.body?.message||t.message}}},Rt=r=>{const e=parseFloat(r);return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)};function IN({role:r="student",onLogout:e}){const{isDark:t,toggleTheme:s}=cj(),[i,o]=M.useState(null),[c,h]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{const g=await Rc();o(g.balance||0)}catch(g){console.error("Error fetching user balance:",g),o(0)}finally{h(!1)}})()},[]),a.jsxs("header",{className:"flex items-center justify-between border-b border-slate-200 bg-white/80 dark:bg-slate-800/80 dark:border-slate-700 px-6 py-4 backdrop-blur",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("button",{onClick:s,type:"button",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors","aria-label":"Chuyn i ch  ti/sng",children:t?a.jsx(LN,{className:"h-5 w-5"}):a.jsx(SN,{className:"h-5 w-5"})})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-blue-200 dark:border-blue-700 bg-white dark:bg-slate-700 px-4 py-2 shadow-sm",children:[a.jsx(Bg,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:c?"...":Rt(i||0)})]}),a.jsx(Ct,{to:"/dashboard/profile",className:"inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors","aria-label":"H s c nhn",children:a.jsx(Qn,{className:"text-lg"})}),a.jsx("button",{onClick:e,className:"rounded-full border border-red-200 dark:border-red-800 px-3 py-2 text-sm font-semibold text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"ng xut"})]})]})}function Ye({role:r="student",children:e}){const t=rt(),s=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),t("/auth/login",{replace:!0})};return a.jsxs("div",{className:"flex min-h-screen bg-slate-100 dark:bg-slate-900",children:[a.jsx(Vj,{role:r}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(IN,{role:r,onLogout:s}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6 dark:bg-slate-900",children:e})]})]})}function UN(){return pe.get("/api/teacher/dashboard/stats")}function WN(r={}){const e=new URLSearchParams;r.exam_id&&e.append("exam_id",r.exam_id),r.page&&e.append("page",r.page),r.limit&&e.append("limit",r.limit);const t=e.toString();return pe.get(`/api/teacher/exam-purchases${t?"?"+t:""}`)}function VN(r={}){const e=new URLSearchParams;r.exam_id&&e.append("exam_id",r.exam_id),r.date_from&&e.append("date_from",r.date_from),r.date_to&&e.append("date_to",r.date_to);const t=e.toString();return pe.get(`/api/teacher/exam-revenue${t?"?"+t:""}`)}function Wb(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Wb(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Ki(){for(var r,e,t=0,s="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Wb(r))&&(s&&(s+=" "),s+=e);return s}function qN(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}qN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Al=r=>typeof r=="number"&&!isNaN(r),en=r=>typeof r=="string",Pa=r=>typeof r=="function",GN=r=>en(r)||Al(r),$u=r=>en(r)||Pa(r)?r:null,$N=(r,e)=>r===!1||Al(r)&&r>0?r:e,Ku=r=>M.isValidElement(r)||en(r)||Pa(r)||Al(r);function KN(r,e,t=300){let{scrollHeight:s,style:i}=r;requestAnimationFrame(()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function ZN({enter:r,exit:e,appendPosition:t=!1,collapse:s=!0,collapseDuration:i=300}){return function({children:o,position:c,preventExitTransition:h,done:u,nodeRef:g,isIn:x,playToast:m}){let p=t?`${r}--${c}`:r,b=t?`${e}--${c}`:e,w=M.useRef(0);return M.useLayoutEffect(()=>{let y=g.current,k=p.split(" "),A=S=>{S.target===g.current&&(m(),y.removeEventListener("animationend",A),y.removeEventListener("animationcancel",A),w.current===0&&S.type!=="animationcancel"&&y.classList.remove(...k))};y.classList.add(...k),y.addEventListener("animationend",A),y.addEventListener("animationcancel",A)},[]),M.useEffect(()=>{let y=g.current,k=()=>{y.removeEventListener("animationend",k),s?KN(y,u,i):u()};x||(h?k():(w.current=1,y.className+=` ${b}`,y.addEventListener("animationend",k)))},[x]),Ue.createElement(Ue.Fragment,null,o)}}function j0(r,e){return{content:Vb(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function Vb(r,e,t=!1){return M.isValidElement(r)&&!en(r.type)?M.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Pa(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function QN({closeToast:r,theme:e,ariaLabel:t="close"}){return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":t},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function JN({delay:r,isRunning:e,closeToast:t,type:s="default",hide:i,className:o,controlledProgress:c,progress:h,rtl:u,isIn:g,theme:x}){let m=i||c&&h===0,p={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};c&&(p.transform=`scaleX(${h})`);let b=Ki("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),w=Pa(o)?o({rtl:u,type:s,defaultClassName:b}):Ki(b,o),y={[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{g&&t()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":m},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${s}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:w,style:p,...y}))}var eS=1,qb=()=>`${eS++}`;function tS(r,e,t){let s=1,i=0,o=[],c=[],h=e,u=new Map,g=new Set,x=S=>(g.add(S),()=>g.delete(S)),m=()=>{c=Array.from(u.values()),g.forEach(S=>S())},p=({containerId:S,toastId:T,updateId:C})=>{let E=S?S!==r:r!==1,L=u.has(T)&&C==null;return E||L},b=(S,T)=>{u.forEach(C=>{var E;(T==null||T===C.props.toastId)&&((E=C.toggle)==null||E.call(C,S))})},w=S=>{var T,C;(C=(T=S.props)==null?void 0:T.onClose)==null||C.call(T,S.removalReason),S.isActive=!1},y=S=>{if(S==null)u.forEach(w);else{let T=u.get(S);T&&w(T)}m()},k=()=>{i-=o.length,o=[]},A=S=>{var T,C;let{toastId:E,updateId:L}=S.props,_=L==null;S.staleId&&u.delete(S.staleId),S.isActive=!0,u.set(E,S),m(),t(j0(S,_?"added":"updated")),_&&((C=(T=S.props).onOpen)==null||C.call(T))};return{id:r,props:h,observe:x,toggle:b,removeToast:y,toasts:u,clearQueue:k,buildToast:(S,T)=>{if(p(T))return;let{toastId:C,updateId:E,data:L,staleId:_,delay:D}=T,H=E==null;H&&i++;let z={...h,style:h.toastStyle,key:s++,...Object.fromEntries(Object.entries(T).filter(([P,W])=>W!=null)),toastId:C,updateId:E,data:L,isIn:!1,className:$u(T.className||h.toastClassName),progressClassName:$u(T.progressClassName||h.progressClassName),autoClose:T.isLoading?!1:$N(T.autoClose,h.autoClose),closeToast(P){u.get(C).removalReason=P,y(C)},deleteToast(){let P=u.get(C);if(P!=null){if(t(j0(P,"removed")),u.delete(C),i--,i<0&&(i=0),o.length>0){A(o.shift());return}m()}}};z.closeButton=h.closeButton,T.closeButton===!1||Ku(T.closeButton)?z.closeButton=T.closeButton:T.closeButton===!0&&(z.closeButton=Ku(h.closeButton)?h.closeButton:!0);let B={content:S,props:z,staleId:_};h.limit&&h.limit>0&&i>h.limit&&H?o.push(B):Al(D)?setTimeout(()=>{A(B)},D):A(B)},setProps(S){h=S},setToggle:(S,T)=>{let C=u.get(S);C&&(C.toggle=T)},isToastActive:S=>{var T;return(T=u.get(S))==null?void 0:T.isActive},getSnapshot:()=>c}}var rs=new Map,ml=[],Zu=new Set,sS=r=>Zu.forEach(e=>e(r)),Gb=()=>rs.size>0;function aS(){ml.forEach(r=>Kb(r.content,r.options)),ml=[]}var iS=(r,{containerId:e})=>{var t;return(t=rs.get(e||1))==null?void 0:t.toasts.get(r)};function $b(r,e){var t;if(e)return!!((t=rs.get(e))!=null&&t.isToastActive(r));let s=!1;return rs.forEach(i=>{i.isToastActive(r)&&(s=!0)}),s}function nS(r){if(!Gb()){ml=ml.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||GN(r))rs.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=rs.get(r.containerId);e?e.removeToast(r.id):rs.forEach(t=>{t.removeToast(r.id)})}}var rS=(r={})=>{rs.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function Kb(r,e){Ku(r)&&(Gb()||ml.push({content:r,options:e}),rs.forEach(t=>{t.buildToast(r,e)}))}function lS(r){var e;(e=rs.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function Zb(r,e){rs.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(r,e?.id)})}function oS(r){let e=r.containerId||1;return{subscribe(t){let s=tS(e,r,sS);rs.set(e,s);let i=s.observe(t);return aS(),()=>{i(),rs.delete(e)}},setProps(t){var s;(s=rs.get(e))==null||s.setProps(t)},getSnapshot(){var t;return(t=rs.get(e))==null?void 0:t.getSnapshot()}}}function cS(r){return Zu.add(r),()=>{Zu.delete(r)}}function dS(r){return r&&(en(r.toastId)||Al(r.toastId))?r.toastId:qb()}function Tl(r,e){return Kb(r,e),e.toastId}function Oc(r,e){return{...e,type:e&&e.type||r,toastId:dS(e)}}function Hc(r){return(e,t)=>Tl(e,Oc(r,t))}function $(r,e){return Tl(r,Oc("default",e))}$.loading=(r,e)=>Tl(r,Oc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function hS(r,{pending:e,error:t,success:s},i){let o;e&&(o=en(e)?$.loading(e,i):$.loading(e.render,{...i,...e}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(g,x,m)=>{if(x==null){$.dismiss(o);return}let p={type:g,...c,...i,data:m},b=en(x)?{render:x}:x;return o?$.update(o,{...p,...b}):$(b.render,{...p,...b}),m},u=Pa(r)?r():r;return u.then(g=>h("success",s,g)).catch(g=>h("error",t,g)),u}$.promise=hS;$.success=Hc("success");$.info=Hc("info");$.error=Hc("error");$.warning=Hc("warning");$.warn=$.warning;$.dark=(r,e)=>Tl(r,Oc("default",{theme:"dark",...e}));function uS(r){nS(r)}$.dismiss=uS;$.clearWaitingQueue=rS;$.isActive=$b;$.update=(r,e={})=>{let t=iS(r,e);if(t){let{props:s,content:i}=t,o={delay:100,...s,...e,toastId:e.toastId||r,updateId:qb()};o.toastId!==r&&(o.staleId=r);let c=o.render||i;delete o.render,Tl(c,o)}};$.done=r=>{$.update(r,{progress:1})};$.onChange=cS;$.play=r=>Zb(!0,r);$.pause=r=>Zb(!1,r);function gS(r){var e;let{subscribe:t,getSnapshot:s,setProps:i}=M.useRef(oS(r)).current;i(r);let o=(e=M.useSyncExternalStore(t,s,s))==null?void 0:e.slice();function c(h){if(!o)return[];let u=new Map;return r.newestOnTop&&o.reverse(),o.forEach(g=>{let{position:x}=g.props;u.has(x)||u.set(x,[]),u.get(x).push(g)}),Array.from(u,g=>h(g[0],g[1]))}return{getToastToRender:c,isToastActive:$b,count:o?.length}}function fS(r){let[e,t]=M.useState(!1),[s,i]=M.useState(!1),o=M.useRef(null),c=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:u,closeToast:g,onClick:x,closeOnClick:m}=r;lS({id:r.toastId,containerId:r.containerId,fn:t}),M.useEffect(()=>{if(r.pauseOnFocusLoss)return p(),()=>{b()}},[r.pauseOnFocusLoss]);function p(){document.hasFocus()||A(),window.addEventListener("focus",k),window.addEventListener("blur",A)}function b(){window.removeEventListener("focus",k),window.removeEventListener("blur",A)}function w(_){if(r.draggable===!0||r.draggable===_.pointerType){S();let D=o.current;c.canCloseOnClick=!0,c.canDrag=!0,D.style.transition="none",r.draggableDirection==="x"?(c.start=_.clientX,c.removalDistance=D.offsetWidth*(r.draggablePercent/100)):(c.start=_.clientY,c.removalDistance=D.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function y(_){let{top:D,bottom:H,left:z,right:B}=o.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&r.pauseOnHover&&_.clientX>=z&&_.clientX<=B&&_.clientY>=D&&_.clientY<=H?A():k()}function k(){t(!0)}function A(){t(!1)}function S(){c.didMove=!1,document.addEventListener("pointermove",C),document.addEventListener("pointerup",E)}function T(){document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",E)}function C(_){let D=o.current;if(c.canDrag&&D){c.didMove=!0,e&&A(),r.draggableDirection==="x"?c.delta=_.clientX-c.start:c.delta=_.clientY-c.start,c.start!==_.clientX&&(c.canCloseOnClick=!1);let H=r.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;D.style.transform=`translate3d(${H},0)`,D.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function E(){T();let _=o.current;if(c.canDrag&&c.didMove&&_){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){i(!0),r.closeToast(!0),r.collapseAll();return}_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}let L={onPointerDown:w,onPointerUp:y};return h&&u&&(L.onMouseEnter=A,r.stacked||(L.onMouseLeave=k)),m&&(L.onClick=_=>{x&&x(_),c.canCloseOnClick&&g(!0)}),{playToast:k,pauseToast:A,isRunning:e,preventExitTransition:s,toastRef:o,eventHandlers:L}}var xS=typeof window<"u"?M.useLayoutEffect:M.useEffect,Pc=({theme:r,type:e,isLoading:t,...s})=>Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function mS(r){return Ue.createElement(Pc,{...r},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function pS(r){return Ue.createElement(Pc,{...r},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bS(r){return Ue.createElement(Pc,{...r},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function vS(r){return Ue.createElement(Pc,{...r},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function yS(){return Ue.createElement("div",{className:"Toastify__spinner"})}var Qu={info:pS,warning:mS,success:bS,error:vS,spinner:yS},wS=r=>r in Qu;function jS({theme:r,type:e,isLoading:t,icon:s}){let i=null,o={theme:r,type:e};return s===!1||(Pa(s)?i=s({...o,isLoading:t}):M.isValidElement(s)?i=M.cloneElement(s,o):t?i=Qu.spinner():wS(e)&&(i=Qu[e](o))),i}var NS=r=>{let{isRunning:e,preventExitTransition:t,toastRef:s,eventHandlers:i,playToast:o}=fS(r),{closeButton:c,children:h,autoClose:u,onClick:g,type:x,hideProgressBar:m,closeToast:p,transition:b,position:w,className:y,style:k,progressClassName:A,updateId:S,role:T,progress:C,rtl:E,toastId:L,deleteToast:_,isIn:D,isLoading:H,closeOnClick:z,theme:B,ariaLabel:P}=r,W=Ki("Toastify__toast",`Toastify__toast-theme--${B}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":z}),V=Pa(y)?y({rtl:E,position:w,type:x,defaultClassName:W}):Ki(W,y),Q=jS(r),Y=!!C||!u,F={closeToast:p,type:x,theme:B},U=null;return c===!1||(Pa(c)?U=c(F):M.isValidElement(c)?U=M.cloneElement(c,F):U=QN(F)),Ue.createElement(b,{isIn:D,done:_,position:w,preventExitTransition:t,nodeRef:s,playToast:o},Ue.createElement("div",{id:L,tabIndex:0,onClick:g,"data-in":D,className:V,...i,style:k,ref:s,...D&&{role:T,"aria-label":P}},Q!=null&&Ue.createElement("div",{className:Ki("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},Q),Vb(h,r,!e),U,!r.customProgressBar&&Ue.createElement(JN,{...S&&!Y?{key:`p-${S}`}:{},rtl:E,theme:B,delay:u,isRunning:e,isIn:D,closeToast:p,hide:m,type:x,className:A,controlledProgress:Y,progress:C||0})))},SS=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),kS=ZN(SS("bounce",!0)),CS={position:"top-right",transition:kS,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function AS(r){let e={...CS,...r},t=r.stacked,[s,i]=M.useState(!0),o=M.useRef(null),{getToastToRender:c,isToastActive:h,count:u}=gS(e),{className:g,style:x,rtl:m,containerId:p,hotKeys:b}=e;function w(k){let A=Ki("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":m});return Pa(g)?g({position:k,rtl:m,defaultClassName:A}):Ki(A,$u(g))}function y(){t&&(i(!0),$.play())}return xS(()=>{var k;if(t){let A=o.current.querySelectorAll('[data-in="true"]'),S=12,T=(k=e.position)==null?void 0:k.includes("top"),C=0,E=0;Array.from(A).reverse().forEach((L,_)=>{let D=L;D.classList.add("Toastify__toast--stacked"),_>0&&(D.dataset.collapsed=`${s}`),D.dataset.pos||(D.dataset.pos=T?"top":"bot");let H=C*(s?.2:1)+(s?0:S*_);D.style.setProperty("--y",`${T?H:H*-1}px`),D.style.setProperty("--g",`${S}`),D.style.setProperty("--s",`${1-(s?E:0)}`),C+=D.offsetHeight,E+=.025})}},[s,u,t]),M.useEffect(()=>{function k(A){var S;let T=o.current;b(A)&&((S=T.querySelector('[tabIndex="0"]'))==null||S.focus(),i(!1),$.pause()),A.key==="Escape"&&(document.activeElement===T||T!=null&&T.contains(document.activeElement))&&(i(!0),$.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[b]),Ue.createElement("section",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{t&&(i(!1),$.pause())},onMouseLeave:y,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},c((k,A)=>{let S=A.length?{...x}:{...x,pointerEvents:"none"};return Ue.createElement("div",{tabIndex:-1,className:w(k),"data-stacked":t,style:S,key:`c-${k}`},A.map(({content:T,props:C})=>Ue.createElement(NS,{...C,stacked:t,collapseAll:y,isIn:h(C.toastId,C.containerId),key:`t-${C.key}`},T)))}))}function TS(){const r=rt(),[e,t]=M.useState(!0),[s,i]=M.useState(null),[o,c]=M.useState(""),[h,u]=M.useState(null),[g,x]=M.useState(!0);ga(()=>{m(),p()},[]);const m=async()=>{try{t(!0),c("");const y=await UN(),k=y?.data||y;i(k)}catch(y){const k=y?.body?.message||y?.message||"Khng th ti d liu dashboard. Vui lng th li.";c(k),$.error(k)}finally{t(!1)}},p=async()=>{try{x(!0);const y=await Rc();u(parseFloat(y.balance||0))}catch(y){console.error("Error loading balance:",y),u(0)}finally{x(!1)}};if(e)return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),a.jsx(He,{className:"absolute inset-0 m-auto animate-pulse text-2xl text-indigo-600"})]}),a.jsx("p",{className:"mt-4 text-sm font-medium text-slate-600",children:"ang ti d liu..."})]})});if(o&&!s)return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-red-200 bg-red-50 p-10 text-red-600",children:[a.jsx("p",{className:"mb-4 font-semibold",children:o}),a.jsx("button",{onClick:m,className:"rounded-lg border border-red-200 bg-white px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-red-50",children:"Th li"})]})});const b=s?.summary||{},w=s?.recent||{};return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"grid gap-5 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("article",{onClick:()=>r("/dashboard/teacher/exams"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-indigo-300 hover:shadow-lg hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Tng bi thi"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-indigo-600",children:b.totalExams||0}),a.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"}),b.examsByStatus?.ongoing||0," ang din ra"]})]}),a.jsx("div",{className:"rounded-lg bg-gradient-to-br from-indigo-100 to-indigo-50 p-3 transition-transform group-hover:scale-110",children:a.jsx(ms,{className:"text-2xl text-indigo-600"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-indigo-500 to-purple-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),a.jsxs("article",{onClick:()=>r("/teacher/classes"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-emerald-300 hover:shadow-lg hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Lp hc"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-emerald-600",children:b.totalClasses||0}),a.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[a.jsx(Bt,{className:"h-3 w-3"}),b.totalStudents||0," hc sinh"]})]}),a.jsx("div",{className:"rounded-lg bg-gradient-to-br from-emerald-100 to-emerald-50 p-3 transition-transform group-hover:scale-110",children:a.jsx(Bt,{className:"text-2xl text-emerald-600"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),a.jsxs("article",{onClick:()=>r("/dashboard/teacher/exams"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-amber-300 hover:shadow-lg hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Yu cu chm bi"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-amber-600",children:b.pendingFeedback||0}),a.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[a.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${(b.pendingFeedback||0)>0?"animate-pulse bg-amber-500":"bg-slate-300"}`}),"Cn phn hi"]})]}),a.jsx("div",{className:"rounded-lg bg-gradient-to-br from-amber-100 to-amber-50 p-3 transition-transform group-hover:scale-110",children:a.jsx(ca,{className:"text-2xl text-amber-600"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-amber-500 to-orange-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),a.jsxs("article",{onClick:()=>r("/dashboard/wallet"),className:"group relative cursor-pointer overflow-hidden rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-emerald-300 hover:shadow-lg hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wider text-slate-500",children:"V ca ti"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900 transition-colors group-hover:text-emerald-600",children:g?a.jsx("span",{className:"inline-block h-8 w-24 animate-pulse rounded bg-slate-200"}):Rt(h||0)}),a.jsxs("p",{className:"mt-2 flex items-center gap-1 text-xs font-medium text-slate-600",children:[a.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500"}),"S d hin ti"]})]}),a.jsx("div",{className:"rounded-lg bg-gradient-to-br from-emerald-100 to-emerald-50 p-3 transition-transform group-hover:scale-110",children:a.jsx(Ji,{className:"text-2xl text-emerald-600"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 transition-opacity group-hover:opacity-100"})]})]}),a.jsxs("section",{className:"grid gap-5 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[a.jsxs("div",{className:"mb-5 flex items-center justify-between border-b border-slate-100 pb-4",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Bi thi gn y"}),a.jsxs("button",{onClick:()=>r("/dashboard/teacher/exams"),className:"flex items-center gap-1 text-sm font-semibold text-indigo-600 transition hover:text-indigo-700 hover:gap-2",children:["Xem tt c",a.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]}),w.exams&&w.exams.length>0?a.jsx("div",{className:"space-y-3",children:w.exams.map((y,k)=>a.jsx("div",{className:"group cursor-pointer rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-white p-4 transition-all duration-200 hover:border-indigo-200 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-white hover:shadow-sm",onClick:()=>r(`/dashboard/teacher/exams/${y.id}/edit`),style:{animationDelay:`${k*50}ms`},children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ms,{className:"h-4 w-4 text-indigo-500 opacity-0 transition-opacity group-hover:opacity-100"}),a.jsx("h3",{className:"font-semibold text-slate-900 transition-colors group-hover:text-indigo-700",children:y.title})]}),a.jsxs("p",{className:"mt-1.5 flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Lc,{className:"h-3 w-3"}),new Date(y.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})})},y.id))}):a.jsxs("div",{className:"py-12 text-center",children:[a.jsx("div",{className:"mx-auto mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100",children:a.jsx(ms,{className:"text-2xl text-slate-400"})}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cha c bi thi no"}),a.jsx("button",{onClick:()=>r("/dashboard/teacher/exams/create"),className:"mt-4 text-sm font-semibold text-indigo-600 hover:text-indigo-700 hover:underline",children:"To bi thi u tin "})]})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[a.jsxs("div",{className:"mb-5 flex items-center justify-between border-b border-slate-100 pb-4",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Lp hc gn y"}),a.jsxs("button",{onClick:()=>r("/teacher/classes"),className:"flex items-center gap-1 text-sm font-semibold text-indigo-600 transition hover:text-indigo-700 hover:gap-2",children:["Xem tt c",a.jsx("span",{className:"transition-transform group-hover:translate-x-1",children:""})]})]}),w.classes&&w.classes.length>0?a.jsx("div",{className:"space-y-3",children:w.classes.map((y,k)=>a.jsx("div",{className:"group cursor-pointer rounded-lg border border-slate-100 bg-gradient-to-r from-slate-50 to-white p-4 transition-all duration-200 hover:border-emerald-200 hover:bg-gradient-to-r hover:from-emerald-50 hover:to-white hover:shadow-sm",onClick:()=>r(`/teacher/classes/${encodeURIComponent(y.classCode||y.id)}`),style:{animationDelay:`${k*50}ms`},children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bt,{className:"h-4 w-4 text-emerald-500 opacity-0 transition-opacity group-hover:opacity-100"}),a.jsx("h3",{className:"font-semibold text-slate-900 transition-colors group-hover:text-emerald-700",children:y.className})]}),a.jsxs("p",{className:"mt-1.5 flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("span",{className:"font-mono font-medium text-slate-600",children:y.classCode}),a.jsx("span",{children:""}),new Date(y.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})]})]})})},y.id))}):a.jsxs("div",{className:"py-12 text-center",children:[a.jsx("div",{className:"mx-auto mb-3 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100",children:a.jsx(Bt,{className:"text-2xl text-slate-400"})}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cha c lp hc no"}),a.jsx("button",{onClick:()=>r("/teacher/classes/create"),className:"mt-4 text-sm font-semibold text-indigo-600 hover:text-indigo-700 hover:underline",children:"To lp hc u tin "})]})]})]})]})})}function _S(r={}){const e=new URLSearchParams;r.class_id&&e.set("class_id",r.class_id),r.is_paid!==void 0&&r.is_paid!==""&&e.set("is_paid",r.is_paid),r.page&&e.set("page",r.page),r.limit&&e.set("limit",r.limit),r.offset!==void 0&&e.set("offset",r.offset);const t=e.toString();return pe.get(`/api/exams${t?`?${t}`:""}`)}function ES(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}`)}function MS(r,e={}){if(!r)throw new Error("examId l bt buc.");const t=new URLSearchParams;e.limit&&t.set("limit",e.limit);const s=t.toString();return pe.get(`/api/exams/${r}/similar${s?`?${s}`:""}`)}const Qb=async(r,e)=>{try{const t=new URLSearchParams;r&&t.append("limit",r),e&&t.append("offset",e);const s=t.toString(),i=`/api/classes${s?`?${s}`:""}`;return await pe.get(i)}catch(t){return{status:!1,message:t.body?.message||t.message}}},LS=async r=>{try{return await pe.get(`/api/classes/join?code=${r}`)}catch(e){return{status:!1,message:e.body?.message||e.message}}};function zS(){const r=rt(),[e,t]=M.useState(!0),[s,i]=M.useState(""),[o,c]=M.useState([]),[h,u]=M.useState(1),[g,x]=M.useState({page:1,limit:12,total:0,totalPages:1}),m=12,[p,b]=M.useState({is_paid:"",class_id:""}),[w,y]=M.useState(!1),[k,A]=M.useState([]);ga(()=>{(async()=>{try{const B=await Qb(100,0);if(B.status&&B.data){const P=B.data.map(W=>({id:W.id,name:W.className,code:W.classCode||""}));A(P)}}catch(B){console.error("Error loading classes:",B)}})()},[]),M.useEffect(()=>{(async()=>{try{t(!0);const B={page:h,limit:m};p.is_paid!==""&&(B.is_paid=p.is_paid),p.class_id!==""&&(B.class_id=p.class_id);const P=await _S(B),W=P?.data||[],V=P?.pagination||{page:h,limit:m,total:W.length,totalPages:Math.ceil((W.length||0)/m)||1},Q={page:V.page||h,limit:V.limit||m,total:V.total!==void 0?V.total:W.length,totalPages:V.totalPages!==void 0?V.totalPages:Math.ceil((V.total||W.length)/(V.limit||m))||1};console.log("Exams data:",W.length),console.log("Pagination data:",Q),c(W),x(Q)}catch(B){console.error("Error loading exams:",B),$.error(B.message||"Khng th ti danh sch  thi"),c([]),x({page:1,limit:m,total:0,totalPages:1})}finally{t(!1)}})()},[h,p.is_paid,p.class_id,m]);const S=M.useMemo(()=>{if(!s.trim())return o;const z=s.toLowerCase().trim();return o.filter(B=>{const P=B.title?.toLowerCase().includes(z),W=B.des?.toLowerCase().includes(z),V=B.classes?.some(Q=>Q.className?.toLowerCase().includes(z))||B.class?.className?.toLowerCase().includes(z);return P||W||V})},[o,s]);M.useEffect(()=>{u(1)},[p.is_paid,p.class_id]);const T=(z,B)=>{b(P=>({...P,[z]:B}))},C=()=>{b({is_paid:"",class_id:""}),i("")},E=p.is_paid!==""||p.class_id!==""||s.trim(),L=[p.is_paid!==""&&"1",p.class_id!==""&&"1",s.trim()&&"1"].filter(Boolean).length,_=z=>{r(`/dashboard/student/exams/${z}`)},D=z=>z?new Date(z).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",H=z=>a.jsxs("div",{className:"group flex flex-col rounded-2xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[a.jsx("div",{className:"relative overflow-hidden rounded-t-2xl",children:a.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[a.jsx("img",{src:z.image_url?z.image_url.startsWith("http")?z.image_url:`${"http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000"}${z.image_url}`:"https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg",alt:z.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105",onError:B=>{B.target.src="https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg"}}),a.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between bg-gradient-to-t from-black/60 via-transparent to-transparent p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),z.classes&&z.classes.length>0?z.classes.length>1?`${z.classes.length} lp`:z.classes[0].className:z.class?.className||"Public"]}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white",children:D(z.created_at)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-white",children:z.title}),a.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-white/90",children:z.des||(z.classes&&z.classes.length>0?z.classes.map(B=>B.className).join(", "):null)||z.class?.className||"Khng c m t"})]})]})]})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-600",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(xi,{className:"h-4 w-4 text-slate-400"}),z.minutes," pht"]}),a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(Fs,{className:"h-4 w-4 text-slate-400"}),z.question_count||0," cu"]}),a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-amber-50 px-3 py-1 text-amber-700",children:[a.jsx(wc,{className:"h-4 w-4 fill-amber-400 text-amber-400"}),z.average_rating>0?z.average_rating.toFixed(1):"0.0",z.total_ratings>0&&a.jsxs("span",{className:"text-xs text-amber-600",children:["(",z.total_ratings,")"]})]}),z.count!==void 0&&a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-50 px-3 py-1 text-blue-700",children:[a.jsx(Ub,{className:"h-4 w-4 text-blue-600"}),z.count||0," lt lm"]}),z.status&&a.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 ${z.status==="ongoing"?"bg-green-100 text-green-700":z.status==="upcoming"?"bg-blue-100 text-blue-700":z.status==="ended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:z.status==="ongoing"?"ang din ra":z.status==="upcoming"?"Sp ti":z.status==="ended"?" kt thc":"Khng gii hn thi gian"}),z.is_paid&&parseFloat(z.fee||0)>0&&a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-3 py-1 text-emerald-700",children:[a.jsx(Bg,{className:"h-4 w-4 text-emerald-600"}),Rt(z.fee),"/ lt thi"]})]}),z.classes&&z.classes.length>0&&a.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:z.classes.length>1?a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-slate-800",children:[z.classes.length," lp hc"]}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:z.classes.map((B,P)=>a.jsxs("span",{className:"rounded bg-indigo-50 px-2 py-0.5 text-xs text-indigo-700",children:[B.className," ",B.classCode?`(${B.classCode})`:""]},B.id||P))})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:z.classes[0].className}),z.classes[0].classCode&&a.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",z.classes[0].classCode]})]})}),!z.classes&&z.class&&a.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[a.jsx("p",{className:"font-semibold text-slate-800",children:z.class.className}),z.class.classCode&&a.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",z.class.classCode]})]}),a.jsx("div",{className:"mt-auto",children:a.jsxs("button",{onClick:()=>_(z.id),className:"flex w-full items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:[a.jsx(xl,{className:"h-4 w-4"}),"Xem"]})})]})]},z.id);return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsx("div",{children:a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Tm kim bi thi"})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:g.total.toLocaleString("vi-VN")}),"kt qu"]})]})}),a.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm md:p-6",children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex w-full items-center gap-3 rounded-full border border-slate-200 px-4 py-2 shadow-sm focus-within:border-indigo-400 focus-within:ring-1 focus-within:ring-indigo-200",children:[a.jsx(Cl,{className:"h-5 w-5 text-slate-400"}),a.jsx("input",{value:s,onChange:z=>i(z.target.value),type:"text",placeholder:"Nhp t kha tn bi thi, mn hc, tc gi...",className:"w-full border-none bg-transparent text-sm text-slate-700 outline-none focus:ring-0"})]}),a.jsxs("button",{onClick:()=>y(!w),className:"flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:[a.jsx(Ib,{className:"h-4 w-4"}),"Lc",E&&a.jsx("span",{className:"ml-1 rounded-full bg-indigo-600 px-2 py-0.5 text-xs text-white",children:L})]})]}),w&&a.jsxs("div",{className:"space-y-4 rounded-xl border border-slate-200 bg-slate-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700",children:"B lc"}),E&&a.jsxs("button",{onClick:C,className:"flex items-center gap-1 text-xs text-slate-600 hover:text-slate-800",children:[a.jsx(cl,{className:"h-3 w-3"}),"Xa tt c"]})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-slate-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),"Tr ph"]}),a.jsxs("select",{value:p.is_paid,onChange:z=>T("is_paid",z.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-200",children:[a.jsx("option",{value:"",children:"Tt c"}),a.jsx("option",{value:"true",children:"C tr ph"}),a.jsx("option",{value:"false",children:"Min ph"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center gap-2 text-xs font-semibold text-slate-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),"Theo lp mnh ang tham gia"]}),a.jsxs("select",{value:p.class_id,onChange:z=>T("class_id",z.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs text-slate-700 focus:border-indigo-400 focus:outline-none focus:ring-1 focus:ring-indigo-200",children:[a.jsx("option",{value:"",children:"Tt c"}),k.map(z=>a.jsxs("option",{value:z.id,children:[z.name," ",z.code?`(${z.code})`:""]},z.id))]})]})]})]})]})}),a.jsx("section",{children:e?a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"}),a.jsx("p",{className:"mt-3 text-sm font-medium text-slate-600",children:"ang ti danh sch  thi..."})]}):S.length===0?a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[a.jsx("p",{className:"text-base font-semibold text-slate-800",children:"Khng tm thy  thi ph hp"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:s.trim()?"Th i t kha khc hoc kim tra chnh t.":"Khng c  thi no ph hp vi b lc ca bn."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:S.map(H)}),!e&&S.length>0&&a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th",a.jsx("span",{className:"mx-1 font-semibold",children:g.total>0?(g.page-1)*g.limit+1:0}),"-",a.jsx("span",{className:"mx-1 font-semibold",children:Math.min(g.page*g.limit,g.total)}),"trong",a.jsx("span",{className:"mx-1 font-semibold",children:g.total})," thi"]}),g.totalPages>1&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>u(z=>Math.max(1,z-1)),disabled:g.page===1,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Trc"}),a.jsx("div",{className:"hidden items-center gap-2 md:flex",children:Array.from({length:g.totalPages}).map((z,B)=>{const P=B+1;return a.jsx("button",{onClick:()=>u(P),className:`h-10 w-10 rounded-lg border text-sm font-semibold transition ${g.page===P?"border-indigo-600 bg-indigo-600 text-white shadow-md":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50"}`,children:P},P)})}),a.jsx("button",{onClick:()=>u(z=>Math.min(g.totalPages,z+1)),disabled:g.page===g.totalPages,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sau"})]})]})]})})]})})}const jt=r=>{if(!r)return"N/A";const e=new Date(r);return new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(e)};function DS(){const[r,e]=M.useState("info"),[t,s]=M.useState(null),[i,o]=M.useState({fullName:"",email:"",role:"",join:"",balance:null,avatar_url:null}),[c,h]=M.useState(null),[u,g]=M.useState(null),[x,m]=M.useState(null),[p,b]=M.useState(!1),[w,y]=M.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[k,A]=M.useState(null),[S,T]=M.useState(null),[C,E]=M.useState(!1),[L,_]=M.useState(!1),[D,H]=M.useState(!1);ga(()=>{try{const F=localStorage.getItem("currentUser");if(F){const U=JSON.parse(F);U.role&&o(q=>({...q,role:U.role}))}}catch(F){console.error("Error reading user from localStorage:",F)}(async()=>{const F=await Rc();if(console.log(F),o({fullName:F.fullName,email:F.email,role:F.role,balance:F.balance,join:F.created_at,avatar_url:F.avatar_url||null}),h(F.login_list),F.avatar_url){const U=F.avatar_url.startsWith("http")?F.avatar_url:`${"http://14.225.191.135".replace(/\/$/,"")||"http://localhost:5005"}${F.avatar_url}`;g(U)}})()},[]);const z=M.useMemo(()=>{if(i.role)return i.role;try{const Y=localStorage.getItem("currentUser");if(Y){const F=JSON.parse(Y);if(F.role)return F.role}}catch(Y){console.error("Error reading user from localStorage:",Y)}return"student"},[i.role]),B=Y=>F=>{const U=F.target.value;o(q=>({...q,[Y]:U})),A(null)},P=Y=>F=>{const U=F.target.value;y(q=>({...q,[Y]:U})),T(null)},W=Y=>{const F=Y.target.files[0];if(!F)return;if(!F.type.startsWith("image/")){$.error("Vui lng chn file nh");return}if(F.size>2*1024*1024){$.error("Kch thc nh khng c vt qu 2MB");return}m(F);const U=new FileReader;U.onloadend=()=>{g(U.result)},U.readAsDataURL(F)},V=async Y=>{Y.preventDefault();const F=i.fullName.trim(),U=i.email.trim();if(!F||!U){A({type:"error",message:"Vui lng nhp y  h tn v email."});return}let q=i.avatar_url;if(x){b(!0);try{const O=await XN(x);if(O.status)q=O.data.avatar_url;else{$.error(O.message||"Li khi upload avatar"),b(!1);return}}catch{$.error("Li khi upload avatar"),b(!1);return}b(!1)}if(!(await YN(F,U,q)).status){$.error("Li khi cp nht profile");return}$.success("Cp nht profile thnh cng"),o(O=>({...O,fullName:F,email:U,avatar_url:q}));try{const O=localStorage.getItem("currentUser");if(O){const I=JSON.parse(O);I.fullName=F,I.email=U,I.avatar_url=q,localStorage.setItem("currentUser",JSON.stringify(I)),s(I)}}catch(O){console.error("Error updating localStorage:",O)}m(null)},Q=async Y=>{Y.preventDefault();const{currentPassword:F,newPassword:U,confirmPassword:q}=w;if(!F||!U||!q){T({type:"error",message:"Vui lng nhp  3 trng  i mt khu."});return}if(U.length<8){T({type:"error",message:"Mt khu mi phi c t nht 8 k t."});return}if(U!==q){T({type:"error",message:"Xc nhn mt khu khng khp."});return}const G=await FN(F,U);if(!G.status){$.error(G.message);return}$.success(G.message),y({currentPassword:"",newPassword:"",confirmPassword:""})};return a.jsx(Ye,{role:z,children:a.jsxs("div",{className:"mx-auto max-w-5xl space-y-6",children:[a.jsxs("div",{className:"overflow-hidden rounded-2xl bg-white shadow-sm border border-slate-200",children:[a.jsx("div",{className:"relative bg-[#155DFC] p-6 md:p-8",children:a.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-white/20 text-3xl text-white backdrop-blur-sm border-2 border-white/30 overflow-hidden",children:u?a.jsx("img",{src:u,alt:"Avatar",className:"h-full w-full object-cover"}):a.jsx(Qn,{})}),a.jsxs("label",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[a.jsx(fi,{className:"h-5 w-5 text-white"}),a.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"hidden"})]})]}),a.jsxs("div",{className:"text-white",children:[a.jsx("h1",{className:"text-2xl font-bold",children:i.email||"Loading..."}),a.jsxs("div",{className:"flex flex-col gap-1 text-blue-100 md:flex-row md:gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(f0,{className:"h-4 w-4"})," Vai tr: ",i.role==="teacher"?"Gio vin":"Hc sinh"]}),a.jsx("span",{className:"hidden md:inline",children:"|"}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Db,{className:"h-4 w-4"})," S d: ",Rt(i.balance)," VND"]})]})]})]}),a.jsxs("div",{className:"flex flex-col items-start text-blue-100 md:items-end",children:[a.jsx("span",{className:"text-sm opacity-80",children:"Tham gia"}),a.jsxs("div",{className:"flex items-center gap-2 font-medium text-white",children:[a.jsx(Qi,{})," ",jt(i.join)]})]})]})}),a.jsxs("div",{className:"flex border-b border-slate-200 bg-white px-6",children:[a.jsxs("button",{onClick:()=>e("info"),className:`flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium transition-colors ${r==="info"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[a.jsx(Qn,{className:"h-4 w-4"}),"Thng tin c nhn"]}),a.jsxs("button",{onClick:()=>e("password"),className:`flex items-center gap-2 border-b-2 px-4 py-4 text-sm font-medium transition-colors ${r==="password"?"border-blue-600 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[a.jsx(f0,{className:"h-4 w-4"}),"Bo mt"]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm md:p-8",children:[r==="info"&&a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Thng tin c nhn"})}),a.jsx("button",{className:"rounded-full p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:a.jsx(fi,{className:"h-4 w-4"})})]}),a.jsxs("form",{onSubmit:V,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"nh i din"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"flex h-24 w-24 items-center justify-center rounded-full border-2 border-slate-200 bg-slate-50 overflow-hidden",children:u?a.jsx("img",{src:u,alt:"Avatar preview",className:"h-full w-full object-cover"}):a.jsx(Qn,{className:"h-12 w-12 text-slate-400"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50",children:[a.jsx(fi,{className:"h-4 w-4"}),x?" chn nh mi":"Chn nh i din",a.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"hidden"})]}),a.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"JPG, PNG hoc GIF. Ti a 2MB"})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Email"}),a.jsx("input",{type:"email",value:i.email,disabled:!0,className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-slate-500 cursor-not-allowed"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Email khng th thay i"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"H v tn"}),a.jsx("input",{type:"text",value:i.fullName,onChange:B("fullName"),placeholder:"Nhp h v tn",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Vai tr"}),a.jsx("input",{type:"text",value:i.role==="teacher"?"Gio vin":"Hc Sinh",disabled:!0,className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-4 py-2.5 text-slate-500 cursor-not-allowed"})]})]}),k&&a.jsx("div",{className:`rounded-lg p-3 text-sm ${k.type==="error"?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:k.message}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{type:"submit",disabled:p,className:"flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-2.5 text-sm font-medium text-white transition hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 disabled:opacity-50 disabled:cursor-not-allowed",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-r-transparent"}),"ang ti ln..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bi,{className:"h-4 w-4"}),"Cp nht thng tin"]})})})]})]}),r==="password"&&a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"i mt khu"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Cp nht mt khu  bo v ti khon"})]}),a.jsx("div",{className:"rounded-full bg-slate-100 p-2 text-slate-400",children:a.jsx(Nj,{className:"h-5 w-5"})})]}),a.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Mt khu hin ti ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:C?"text":"password",value:w.currentPassword,onChange:P("currentPassword"),placeholder:"Nhp mt khu hin ti",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 pr-10 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"}),a.jsx("button",{type:"button",onClick:()=>E(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:C?a.jsx(Oa,{}):a.jsx(Us,{})})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Mt khu mi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:L?"text":"password",value:w.newPassword,onChange:P("newPassword"),placeholder:"Nhp mt khu mi",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 pr-10 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"}),a.jsx("button",{type:"button",onClick:()=>_(!L),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:L?a.jsx(Oa,{}):a.jsx(Us,{})})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"t nht 8 k t"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Xc nhn mt khu ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:D?"text":"password",value:w.confirmPassword,onChange:P("confirmPassword"),placeholder:"Nhp li mt khu mi",className:"w-full rounded-lg border border-slate-300 px-4 py-2.5 pr-10 text-slate-900 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none"}),a.jsx("button",{type:"button",onClick:()=>H(!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:D?a.jsx(Oa,{}):a.jsx(Us,{})})]})]})]}),S&&a.jsx("div",{className:`rounded-lg p-3 text-sm ${S.type==="error"?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:S.message}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsxs("button",{type:"submit",className:"flex items-center gap-2 rounded-lg bg-blue-600 px-6 py-2.5 text-sm font-medium text-white transition hover:bg-blue-700 focus:ring-4 focus:ring-blue-200",children:[a.jsx(bi,{className:"h-4 w-4"}),"i mt khu"]})})]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[a.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Eb,{className:"h-5 w-5 text-indigo-600"}),a.jsx("h3",{className:"font-bold text-slate-800",children:"Lch s ng nhp gn nht"})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[a.jsx("thead",{className:"border-b border-slate-200 bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 font-semibold",children:"Thit b"}),a.jsx("th",{className:"px-6 py-3 font-semibold",children:"a ch IP"}),a.jsx("th",{className:"px-6 py-3 font-semibold",children:"V tr"}),a.jsx("th",{className:"px-6 py-3 font-semibold",children:"Thi gian"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:c&&c.map(Y=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-slate-500",children:a.jsx(Pb,{})}),a.jsx("span",{className:"font-medium text-slate-900",children:Y.device})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:Y.ip_address}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(Sj,{className:"h-3 w-3"}),Y.location]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:jt(Y.login_time)})]},Y.id))})]})}),a.jsx("div",{className:"border-t border-slate-200 bg-slate-50 px-6 py-3 text-center md:text-right"})]})]})})}function Xg(r={}){const e=Object.entries(r).filter(([,s])=>s!=null&&s!=="");if(!e.length)return"";const t=new URLSearchParams;return e.forEach(([s,i])=>t.append(s,i)),`?${t.toString()}`}function Bc(r={}){const e=Xg(r);return pe.get(`/api/classes${e}`)}function RS(r){return pe.post("/api/classes",r)}function Ju({classId:r,classCode:e,page:t,search:s,pageSize:i}={}){if(!r&&!e)throw new Error("classId hoc classCode l bt buc.");const o=Xg({class_id:r,class:e,page:t,search:s,limit:i});return pe.get(`/api/classes/students${o}`)}function OS({classId:r,studentId:e,isBanned:t}){if(r==null||r==="")throw new Error("classId l bt buc.");if(e==null||e==="")throw new Error("studentId l bt buc.");if(typeof t!="boolean")throw new Error("isBanned phi l gi tr boolean (true/false).");const s=typeof r=="string"?parseInt(r,10):r,i=typeof e=="string"?parseInt(e,10):e;if(isNaN(s))throw new Error("classId phi l s hp l.");if(isNaN(i))throw new Error("studentId phi l s hp l.");return pe.post("/api/classes/student/ban",{class_id:s,student_id:i,is_banned:t})}function HS(r,e){if(!r)throw new Error("classId l bt buc.");if(!e||!e.className||e.className.trim()==="")throw new Error("className l bt buc v khng c  trng.");return pe.put(`/api/classes/${r}`,{className:e.className.trim()})}function Jb(r){if(!r)throw new Error("classId l bt buc.");const e=Xg({class_id:r});return pe.delete(`/api/classes${e}`)}const tc=6,N0=["from-[#fef2ff] via-[#f6e8ff] to-[#eef2ff]","from-[#fff4ec] via-[#ffe6d8] to-[#fff0f5]","from-[#e9f9ff] via-[#eaf3ff] to-[#f5f1ff]"];function PS(r){let e=[];return Array.isArray(r)?e=r:Array.isArray(r?.data)?e=r.data:Array.isArray(r?.classes)?e=r.classes:r?.data&&Array.isArray(r.data)&&(e=r.data),e.map(t=>({id:t.id??t.classId??t._id,className:t.className??t.name??"Cha t tn",classCode:t.classCode??t.class_code??"",studentCount:t.studentCount??t.studentsCount??t.totalStudents??t.students?.length??0,createdAt:t.createdAt??t.created_at??t.createdOn??null}))}function BS(){const[r,e]=M.useState([]),[t,s]=M.useState(!0),[i,o]=M.useState(""),[c,h]=M.useState(""),[u,g]=M.useState(1),[x,m]=M.useState(null),[p,b]=M.useState(null),w=M.useMemo(()=>{const _=c.trim().toLowerCase();return _?r.filter(D=>D.className.toLowerCase().includes(_)):r},[r,c]),y=Math.max(1,Math.ceil(w.length/tc)),k=Math.min(u,y),A=(k-1)*tc,S=w.slice(A,A+tc),T=r.reduce((_,D)=>_+(D.studentCount||0),0);M.useEffect(()=>{g(1)},[c]);const C=async()=>{s(!0),o("");try{const _=await Bc();e(PS(_))}catch(_){const D=_.body?.message||_.message||"Khng th ti lp hc.";o(D)}finally{s(!1)}};M.useEffect(()=>{C()},[]);const E=async(_,D)=>{if(window.confirm(`Bn chc chn mun xa lp "${D}"?`))try{m(_),await Jb(_),e(z=>z.filter(B=>B.id!==_))}catch(z){const B=z.body?.message||z.message||"Xa lp tht bi. Vui lng th li.";alert(B)}finally{m(null)}},L=async(_,D)=>{try{await navigator.clipboard.writeText(D),b(_),setTimeout(()=>b(null),2e3)}catch{alert("Khng th copy m lp. Vui lng th li.")}};return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Qun l lp hc"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Danh sch lp v hot ng"})]}),a.jsxs(Ct,{to:"/teacher/classes/create",className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:[a.jsx(pi,{}),"To lp mi"]})]}),a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"}),a.jsxs("div",{className:"mt-6 grid gap-5 md:grid-cols-3",children:[a.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-violet-200 bg-white p-6 shadow-sm transition-all hover:border-violet-300 hover:shadow-md",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-violet-500",children:"Tng s lp"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:r.length}),a.jsx("p",{className:"mt-2 text-xs font-medium text-slate-600",children:"Cc lp do bn to v qun l"})]}),a.jsx("div",{className:"rounded-lg bg-violet-100 p-3",children:a.jsx(Bt,{className:"text-2xl text-violet-600"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-violet-500 to-purple-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),a.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-sky-200 bg-white p-6 shadow-sm transition-all hover:border-sky-300 hover:shadow-md",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-sky-500",children:"Hc sinh  tham gia"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:T}),a.jsx("p",{className:"mt-2 text-xs font-medium text-slate-600",children:"Bao gm c lp ang n hoc kha"})]}),a.jsx("div",{className:"rounded-lg bg-sky-100 p-3",children:a.jsx(Bt,{className:"text-2xl text-sky-600"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-sky-500 to-cyan-500 opacity-0 transition-opacity group-hover:opacity-100"})]}),a.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-emerald-200 bg-white p-6 shadow-sm transition-all hover:border-emerald-300 hover:shadow-md",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-emerald-500",children:"Lp ang hin th"}),a.jsx("p",{className:"mt-2 text-3xl font-bold text-slate-900",children:w.length}),a.jsx("p",{className:"mt-2 text-xs font-medium text-slate-600",children:"Kt qu sau khi p dng b lc hin ti"})]}),a.jsx("div",{className:"rounded-lg bg-emerald-100 p-3",children:a.jsx(g0,{className:"text-2xl text-emerald-600"})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 h-1 w-full bg-gradient-to-r from-emerald-500 to-teal-500 opacity-0 transition-opacity group-hover:opacity-100"})]})]})]}),a.jsxs("section",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-lg border border-slate-200 bg-white px-4 py-2.5 shadow-sm focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-200",children:[a.jsx(ha,{className:"text-slate-400"}),a.jsx("input",{value:c,onChange:_=>h(_.target.value),placeholder:"Nhp t kha tm kim lp hc...",className:"w-full border-none bg-transparent text-sm text-slate-600 outline-none focus:ring-0"})]}),a.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[a.jsx(fl,{}),"B lc"]})]}),t?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-slate-500",children:[a.jsx(He,{className:"mb-3 animate-spin text-2xl"}),"ang ti danh sch lp..."]}):i?a.jsxs("div",{className:"mt-6 rounded-2xl border border-red-200 bg-red-50 p-6 text-sm text-red-600",children:[i,a.jsx("button",{type:"button",onClick:C,className:"ml-4 text-indigo-600 underline",children:"Th li"})]}):S.length===0?a.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center",children:[a.jsx("p",{className:"text-lg	font-semibold text-slate-800",children:"Cha c lp hc no"}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Hy bt u bng cch to lp mi  mi hc sinh tham gia."}),a.jsxs(Ct,{to:"/teacher/classes/create",className:"mt-4 inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-500",children:[a.jsx(pi,{}),"To lp mi"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-8 grid gap-6 lg:grid-cols-2 xl:grid-cols-3",children:S.map((_,D)=>a.jsxs("article",{className:"group flex flex-col rounded-xl border border-slate-200 bg-white shadow-sm transition-all hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[a.jsx("div",{className:`relative h-32 w-full rounded-t-xl bg-gradient-to-r ${N0[D%N0.length]} px-5 py-4`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/85 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(g0,{}),_.classCode]}),a.jsx("p",{className:"text-base font-semibold text-slate-800",children:_.className})]}),a.jsxs("span",{className:"rounded-full bg-white/80 px-3 py-1 text-xs font-semibold text-emerald-600",children:[_.studentCount," hc sinh"]})]})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-5 text-sm text-slate-600",children:[a.jsxs("p",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx(zg,{className:"text-indigo-400"}),_.createdAt?new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(_.createdAt)):"Cha cp nht ngy to"]}),a.jsx("div",{className:"flex flex-wrap gap-3 text-xs font-medium text-slate-500",children:a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(Bt,{}),_.studentCount," hc sinh"]})}),a.jsxs("div",{className:"mt-auto flex flex-wrap items-center justify-between gap-2 border-t border-slate-100 pt-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{type:"button",onClick:()=>L(_.id,_.classCode),className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 bg-white text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",title:"Copy m lp",children:p===_.id?a.jsx("span",{className:"text-xs font-semibold text-indigo-600",children:""}):a.jsx($i,{})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ct,{to:`/teacher/classes/${encodeURIComponent(_.classCode||_.id)}`,className:"rounded-lg bg-indigo-600 px-4 py-2 text-xs font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:"Vo qun l"}),a.jsx("button",{type:"button",onClick:()=>E(_.id,_.className),disabled:x===_.id,className:"inline-flex h-9 w-9 items-center justify-center rounded-lg border border-red-200 bg-white text-red-600 shadow-sm transition hover:bg-red-50 hover:shadow-md disabled:opacity-60",title:"Xa lp",children:x===_.id?a.jsx(He,{className:"animate-spin"}):a.jsx(bs,{})})]})]})]})]},_.id))}),w.length>tc&&a.jsxs("div",{className:"mt-8 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[a.jsxs("p",{className:"text-slate-500",children:["Trang ",k,"/",y]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>g(_=>Math.max(1,_-1)),disabled:k===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),a.jsx("button",{type:"button",onClick:()=>g(_=>Math.min(y,_+1)),disabled:k===y,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]})]})]})})}function XS(){const r=rt(),[e,t]=M.useState(""),[s,i]=M.useState(!1),[o,c]=M.useState(""),[h,u]=M.useState(null),[g,x]=M.useState(!1),m=async w=>{if(w.preventDefault(),!e.trim()){c("Tn lp l bt buc.");return}i(!0),c("");try{const y=await RS({className:e.trim()});u(y)}catch(y){const k=y.body?.message||y.message||"Khng th to lp. Vui lng th li.";c(k)}finally{i(!1)}},p=async()=>{if(h?.classCode)try{await navigator.clipboard.writeText(h.classCode),x(!0),setTimeout(()=>x(!1),2e3)}catch{alert("Khng th copy m lp. Vui lng th li.")}},b=()=>{t(""),u(null),x(!1)};return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"relative z-10 flex flex-wrap items-center gap-4",children:[a.jsxs("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[a.jsx(ta,{}),"Quay li"]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"To lp hc mi"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Khi to lp cho hc sinh ca bn"})]})]}),a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),a.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("form",{onSubmit:m,className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm lg:col-span-2",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Thng tin lp hc"}),a.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"in tn lp  h thng to m lp t ng."}),a.jsxs("div",{className:"mt-6 space-y-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Tn lp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:e,onChange:w=>t(w.target.value),placeholder:"V d: Lp Ton 10A",className:"w-full rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),o&&a.jsx("p",{className:"mt-3 rounded-xl bg-red-50 px-4 py-2 text-sm text-red-600",children:o}),a.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[a.jsx("button",{type:"submit",disabled:s,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg disabled:opacity-60",children:s?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"animate-spin"}),"ang to..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cj,{}),"To lp"]})}),h&&a.jsx("button",{type:"button",onClick:b,className:"rounded-lg border border-slate-200 bg-white px-5 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:"To lp khc"})]})]}),a.jsxs("aside",{className:"rounded-xl border border-indigo-200 bg-gradient-to-br from-indigo-50 to-white p-6 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-indigo-900",children:"Hng dn nhanh"}),a.jsxs("ul",{className:"mt-4 space-y-3 text-sm text-indigo-900/80",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-100 text-xs font-semibold text-indigo-600",children:"1"}),a.jsx("span",{children:"Sau khi to, bn s nhn c m lp duy nht."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-100 text-xs font-semibold text-indigo-600",children:"2"}),a.jsx("span",{children:"Gi m lp cho hc sinh  h tham gia."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-0.5 flex h-5 w-5 items-center justify-center rounded-full bg-indigo-100 text-xs font-semibold text-indigo-600",children:"3"}),a.jsx("span",{children:"C th qun l hc sinh, bi ng v  thi  trang chi tit lp."})]})]})]})]}),h&&a.jsxs("section",{className:"rounded-2xl border border-green-200 bg-green-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ca,{className:"text-3xl text-green-600"}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-green-800",children:"To lp thnh cng!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Chia s m lp vi hc sinh hoc chuyn n trang chi tit  qun l."})]})]}),a.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-2xl bg-white/80 p-4 text-center shadow-inner",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Tn lp"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h.className})]}),a.jsxs("div",{className:"rounded-2xl bg-white/80 p-4 text-center shadow-inner",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"M lp"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h.classCode}),a.jsxs("button",{type:"button",onClick:p,className:"mt-2 inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:bg-slate-100",children:[a.jsx($i,{}),g?" copy":"Copy"]})]}),a.jsxs("div",{className:"rounded-2xl bg-white/80 p-4 text-center shadow-inner",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"M lp ID"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:h.id})]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap gap-3",children:[a.jsx(Ct,{to:`/teacher/classes/${h.id}`,className:"rounded-xl bg-indigo-600 px-5 py-3 text-sm font-semibold text-white shadow transition hover:bg-indigo-500",children:"i n trang chi tit lp"}),a.jsx(Ct,{to:"/teacher/classes",className:"rounded-xl border border-slate-200 px-5 py-3 text-sm font-semibold text-slate-600 transition hover:bg-white",children:"Tr v danh sch"})]})]})]})})}function YS(r){if(!r?.classId)throw new Error("classId l bt buc.");if(!r?.title?.trim())throw new Error("title l bt buc.");if(!r?.post?.trim())throw new Error("post (ni dung) l bt buc.");return pe.post("/api/posts/create",{classId:r.classId,title:r.title,post:r.post})}function ev(r){if(!r)throw new Error("classId l bt buc.");return pe.get(`/api/classes/posts/${r}`)}function FS(r,e){if(!r)throw new Error("postId l bt buc.");return pe.post(`/api/posts/update/${r}`,{title:e.title,post:e.post})}function IS(r){if(!r)throw new Error("postId l bt buc.");return pe.delete(`/api/posts/${r}`)}function tv(r){if(!r)throw new Error("postId l bt buc.");return pe.get(`/api/posts/comment/${r}`)}function sv(r){if(!r?.postId)throw new Error("postId l bt buc.");if(!r?.comment?.trim())throw new Error("comment l bt buc.");return pe.post("/api/posts/comment",{postId:r.postId,comment:r.comment})}function US(r){if(!r)throw new Error("commentId l bt buc.");return pe.delete(`/api/posts/comment/${r}`)}function WS(r={}){const e=new URLSearchParams;Object.entries(r).forEach(([s,i])=>{i==null||i===""||e.set(s,i)});const t=e.toString();return t?`?${t}`:""}function Xc(r={}){const e=WS(r);return pe.get(`/api/exams${e}`)}function av(r){if(!r?.title?.trim())throw new Error("Tiu   thi l bt buc.");if(r.minutes===void 0||r.minutes===null)throw new Error("minutes l bt buc.");return pe.post("/api/exams",r)}function an(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}`)}function Yg(r,e){if(!r)throw new Error("examId l bt buc.");return pe.put(`/api/exams/${r}`,e)}function iv(r){if(!r)throw new Error("examId l bt buc.");return pe.delete(`/api/exams/${r}`)}function nv(r,e){if(!r)throw new Error("examId l bt buc.");if(!e)throw new Error("targetMethod l bt buc.");return pe.post(`/api/exams/${r}/switch-question-method`,{target_method:e})}const VS=Object.freeze(Object.defineProperty({__proto__:null,createExam:av,deleteExam:iv,getExamDetail:an,listExams:Xc,switchQuestionCreationMethod:nv,updateExam:Yg},Symbol.toStringTag,{value:"Module"})),sc=10;function qS(r){const e=r?.class||r?.classInfo||r?.data||r||{},t=Array.isArray(r?.students)?r.students:Array.isArray(r?.data?.students)?r.data.students:Array.isArray(e?.students)?e.students:[];return{classInfo:{id:e.id??e.classId??e._id,className:e.className??e.name??"Cha t tn",classCode:e.classCode??e.class_code??"",createdAt:e.createdAt??e.created_at??null,totalStudents:e.studentsCount??e.studentCount??e.totalStudents??t.length},students:t.map(s=>({id:s.id??s.student_id??s._id,fullName:s.fullName??s.name??"Cha cp nht",email:s.email??"",joinedAt:s.Class_student?.joined_at??s.ClassStudent?.joined_at??s.joinedAt??s.joined_at??s.createdAt,isBanned:s.Class_student?.is_ban??s.ClassStudent?.is_ban??s.is_banned??s.isBanned??s.isBan??!1}))}}function S0(){const{classId:r}=aa(),e=rt(),t=/^\d+$/.test(r),s=t?r:void 0,i=t?void 0:r,[o,c]=M.useState(null),[h,u]=M.useState([]),[g,x]=M.useState(!0),[m,p]=M.useState(""),[b,w]=M.useState(""),[y,k]=M.useState(1),[A,S]=M.useState(null),[T,C]=M.useState("students"),[E,L]=M.useState(!1),[_,D]=M.useState([]),[H,z]=M.useState(!1),[B,P]=M.useState(!1),[W,V]=M.useState(null),[Q,Y]=M.useState({title:"",post:""}),[F,U]=M.useState({}),[q,G]=M.useState({}),[O,I]=M.useState(new Set),[ne,K]=M.useState({}),[ue,ae]=M.useState(""),[te,ve]=M.useState(null),[ie,je]=M.useState([]),[Le,Ce]=M.useState(!1),[mt,We]=M.useState(!1),[Ts,_s]=M.useState(""),[Ot,fa]=M.useState(!1),he=M.useMemo(()=>{const ce=b.trim().toLowerCase();return ce?h.filter(Ne=>Ne.fullName.toLowerCase().includes(ce)||Ne.email.toLowerCase().includes(ce)):h},[h,b]),ze=Math.max(1,Math.ceil(he.length/sc)),It=Math.min(y,ze),ji=(It-1)*sc,Rl=he.slice(ji,ji+sc);M.useEffect(()=>{k(1)},[b]);const Ut=async()=>{x(!0),p("");try{const ce=await Ju({classId:s,classCode:i}),Ne=qS(ce);c(Ne.classInfo),u(Ne.students)}catch(ce){const Ne=ce.body?.message||ce.message||"Khng th ti d liu lp hc.";p(Ne)}finally{x(!1)}};ga(()=>{try{const ce=localStorage.getItem("currentUser");if(ce){const Ne=JSON.parse(ce);ae(Ne.role||""),ve(Ne.id||null)}}catch(ce){console.error("Error reading user from localStorage:",ce)}},[]),M.useEffect(()=>{Ut()},[s,i]),M.useEffect(()=>{T==="posts"&&o?.id&&ln(),T==="exams"&&o?.id&&Si()},[T,o?.id]);const Ic=async(ce,Ne)=>{const st=!Ne,Ht=st?"kha":"m kha",ss=s||o?.id;if(!ss){$.error("Khng tm thy thng tin lp hc. Vui lng lm mi trang.");return}if(!ce){$.error("Khng tm thy thng tin hc sinh.");return}const Bl=typeof ss=="string"?parseInt(ss,10):ss,gr=typeof ce=="string"?parseInt(ce,10):ce;if(isNaN(Bl)||isNaN(gr)){$.error("D liu khng hp l. Vui lng th li.");return}if(window.confirm(`Bn chc chn mun ${Ht} hc sinh ny?`))try{S(ce),await OS({classId:Bl,studentId:gr,isBanned:st}),u(ki=>ki.map(Xa=>Xa.id===ce?{...Xa,isBanned:st}:Xa)),$.success(st?" kha hc sinh thnh cng":" m kha hc sinh thnh cng")}catch(ki){const Xa=ki.body?.message||ki.message||`Khng th ${Ht} hc sinh. Vui lng th li.`;$.error(Xa)}finally{S(null)}},Ol=async()=>{if(!(!o||!window.confirm(`Bn chc chn mun xa lp "${o.className}"?`)))try{L(!0),await Jb(o.id),e("/teacher/classes",{replace:!0})}catch(Ne){const st=Ne.body?.message||Ne.message||"Khng th xa lp. Vui lng th li.";$.error(st)}finally{L(!1)}},Hl=()=>{o&&(_s(o.className),We(!0))},rn=()=>{We(!1),_s("")},Uc=async ce=>{if(ce.preventDefault(),!o?.id)return;const Ne=Ts.trim();if(!Ne){$.error("Tn lp khng c  trng.");return}if(Ne===o.className){We(!1);return}try{fa(!0);const st=await HS(o.id,{className:Ne});c(Ht=>({...Ht,className:Ne})),We(!1),$.success(" cp nht tn lp thnh cng.")}catch(st){const Ht=st.body?.message||st.message||"Khng th cp nht tn lp. Vui lng th li.";$.error(Ht)}finally{fa(!1)}},Pl=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2",children:[a.jsx(Bt,{className:"text-slate-400"}),a.jsx("input",{value:b,onChange:ce=>w(ce.target.value),placeholder:"Tm kim hc sinh theo tn hoc email...",className:"w-full border-none text-sm outline-none focus:ring-0"})]}),a.jsxs("button",{type:"button",onClick:Ut,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(sr,{}),"Lm mi"]})]}),a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"STT"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"H v tn"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Ngy tham gia"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Trng thi"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Hnh ng"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:Rl.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-slate-500",children:"Khng tm thy hc sinh ph hp."})}):Rl.map((ce,Ne)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-slate-500",children:ji+Ne+1}),a.jsx("td",{className:"px-4 py-3 font-semibold text-slate-900",children:ce.fullName}),a.jsx("td",{className:"px-4 py-3",children:ce.email}),a.jsx("td",{className:"px-4 py-3",children:ce.joinedAt?new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(ce.joinedAt)):""}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${ce.isBanned?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:ce.isBanned?"B kha":"Hot ng"})}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("button",{type:"button",onClick:()=>Ic(ce.id,ce.isBanned),disabled:A===ce.id,className:`inline-flex items-center gap-2 rounded-xl px-4 py-2 text-xs font-semibold transition ${ce.isBanned?"border border-emerald-200 text-emerald-600 hover:bg-emerald-50":"border border-red-200 text-red-600 hover:bg-red-50"} disabled:opacity-50`,children:[A===ce.id?a.jsx(He,{className:"animate-spin"}):ce.isBanned?a.jsx(Ej,{}):a.jsx(_j,{}),ce.isBanned?"M kha":"Kha hc sinh"]})})]},ce.id))})]})}),he.length>sc&&a.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[a.jsxs("p",{className:"text-slate-500",children:["Trang ",It,"/",ze]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>k(ce=>Math.max(1,ce-1)),disabled:It===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),a.jsx("button",{type:"button",onClick:()=>k(ce=>Math.min(ze,ce+1)),disabled:It===ze,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]}),ln=async()=>{if(o?.id){z(!0);try{const ce=await ev(o.id),Ne=Array.isArray(ce)?ce:[];D(Ne)}catch(ce){$.error(ce?.body?.message||ce?.message||"Khng th ti bi ng.")}finally{z(!1)}}},Wc=async ce=>{if(ce.preventDefault(),!Q.title.trim()||!Q.post.trim()){$.error("Vui lng nhp y  tiu  v ni dung.");return}try{await YS({classId:o.id,title:Q.title,post:Q.post}),$.success(" to bi ng thnh cng."),Y({title:"",post:""}),P(!1),ln()}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th to bi ng.")}},Ni=async ce=>{if(ce.preventDefault(),!!W){if(!Q.title.trim()||!Q.post.trim()){$.error("Vui lng nhp y  tiu  v ni dung.");return}try{await FS(W.id,{title:Q.title,post:Q.post}),$.success(" cp nht bi ng thnh cng."),Y({title:"",post:""}),V(null),ln()}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th cp nht bi ng.")}}},es=async ce=>{if(window.confirm("Bn chc chn mun xa bi ng ny?"))try{await IS(ce),$.success(" xa bi ng thnh cng."),ln()}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th xa bi ng.")}},ia=ce=>{V(ce),Y({title:ce.title||"",post:ce.text||ce.post||""}),P(!0)},ts=()=>{P(!1),V(null),Y({title:"",post:""})},Vc=async ce=>{if(ce){G(Ne=>({...Ne,[ce]:!0}));try{const Ne=await tv(ce),st=Array.isArray(Ne)?Ne:[];U(Ht=>({...Ht,[ce]:st}))}catch(Ne){$.error(Ne?.body?.message||Ne?.message||"Khng th ti bnh lun.")}finally{G(Ne=>({...Ne,[ce]:!1}))}}},qc=ce=>{I(Ne=>{const st=new Set(Ne);return st.has(ce)?st.delete(ce):(st.add(ce),F[ce]||Vc(ce)),st})},Gc=async(ce,Ne)=>{ce.preventDefault();const st=ne[Ne]?.trim();if(!st){$.error("Vui lng nhp ni dung bnh lun.");return}try{const Ht=await sv({postId:Ne,comment:st});U(ss=>({...ss,[Ne]:[...ss[Ne]||[],Ht]})),K(ss=>({...ss,[Ne]:""})),$.success(" thm bnh lun thnh cng.")}catch(Ht){$.error(Ht?.body?.message||Ht?.message||"Khng th thm bnh lun.")}},on=async(ce,Ne)=>{if(window.confirm("Bn chc chn mun xa bnh lun ny?"))try{await US(ce),U(st=>({...st,[Ne]:(st[Ne]||[]).filter(Ht=>Ht.id!==ce)})),$.success(" xa bnh lun thnh cng.")}catch(st){$.error(st?.body?.message||st?.message||"Khng th xa bnh lun.")}},Si=async()=>{if(o?.id){Ce(!0);try{const ce=await Xc({class_id:o.id}),Ne=Array.isArray(ce)?ce:Array.isArray(ce?.data)?ce.data:Array.isArray(ce?.exams)?ce.exams:[];je(Ne)}catch(ce){$.error(ce?.body?.message||ce?.message||"Khng th ti danh sch  thi.")}finally{Ce(!1)}}},cn=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:" thi trong lp"}),a.jsxs("button",{type:"button",onClick:Si,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(sr,{}),"Lm mi"]})]}),Le?a.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[a.jsx(He,{className:"mr-2 animate-spin"}),"ang ti danh sch  thi..."]}):ie.length===0?a.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c  thi no trong lp ny."}):a.jsx("div",{className:"space-y-3",children:ie.map(ce=>a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ms,{className:"text-indigo-600 text-xl"}),a.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ce.title})]}),ce.description&&a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:ce.description}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-xs text-slate-500",children:[ce.minutes&&a.jsxs("span",{children:["Thi gian: ",ce.minutes," pht"]}),ce.total_questions&&a.jsxs("span",{children:["S cu hi: ",ce.total_questions]}),ce.created_at&&a.jsxs("span",{children:["To lc: ",jt(ce.created_at)]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${ce.id}/edit`),className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 px-4 py-2 text-sm font-semibold text-indigo-600 transition hover:bg-indigo-50",children:[a.jsx(fi,{}),"Xem chi tit"]}),a.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${ce.id}/results`),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(Ob,{}),"Kt qu"]})]})]})},ce.id))})]}),xa=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Bi ng trong lp"}),ue==="teacher"&&!B&&a.jsxs("button",{type:"button",onClick:()=>P(!0),className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:[a.jsx(pi,{}),"To bi ng mi"]})]}),B&&a.jsxs("div",{className:"rounded-2xl border border-indigo-200 bg-indigo-50/60 p-6",children:[a.jsx("h4",{className:"mb-4 text-lg font-semibold text-indigo-900",children:W?"Chnh sa bi ng":"To bi ng mi"}),a.jsxs("form",{onSubmit:W?Ni:Wc,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Tiu "}),a.jsx("input",{type:"text",value:Q.title,onChange:ce=>Y({...Q,title:ce.target.value}),placeholder:"Nhp tiu  bi ng",className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ni dung"}),a.jsx("textarea",{value:Q.post,onChange:ce=>Y({...Q,post:ce.target.value}),placeholder:"Nhp ni dung bi ng",rows:6,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",required:!0})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:W?"Cp nht":"ng"}),a.jsx("button",{type:"button",onClick:ts,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"Hy"})]})]})]}),H?a.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[a.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bi ng..."]}):_.length===0?a.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c bi ng no. Hy to bi ng u tin."}):a.jsx("div",{className:"space-y-4",children:_.map(ce=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:ce.title}),ce.author&&a.jsxs("span",{className:"text-xs text-slate-500",children:["bi ",ce.author.fullName||ce.author.fullname]})]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 whitespace-pre-wrap",children:ce.text||ce.post}),a.jsx("p",{className:"mt-3 text-xs text-slate-400",children:jt(ce.created_at)})]}),ue==="teacher"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>ia(ce),className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:[a.jsx(fi,{}),"Sa"]}),a.jsxs("button",{type:"button",onClick:()=>es(ce.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-3 py-1 text-xs font-semibold text-red-600 hover:bg-red-50",children:[a.jsx(bs,{}),"Xa"]})]})]}),a.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-4",children:[a.jsxs("button",{type:"button",onClick:()=>qc(ce.id),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition",children:[a.jsx(tr,{}),O.has(ce.id)?"n bnh lun":"Xem bnh lun",F[ce.id]&&a.jsx("span",{className:"rounded-full bg-slate-200 px-2 py-0.5 text-xs",children:F[ce.id].length})]}),O.has(ce.id)&&a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("form",{onSubmit:Ne=>Gc(Ne,ce.id),className:"flex gap-2",children:[a.jsx("input",{type:"text",value:ne[ce.id]||"",onChange:Ne=>K(st=>({...st,[ce.id]:Ne.target.value})),placeholder:"Vit bnh lun...",className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:[a.jsx(pi,{}),"Gi"]})]}),q[ce.id]?a.jsxs("div",{className:"flex items-center justify-center py-4 text-slate-500",children:[a.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bnh lun..."]}):!F[ce.id]||F[ce.id].length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50/60 p-4 text-center text-sm text-slate-500",children:"Cha c bnh lun no."}):a.jsx("div",{className:"space-y-3",children:F[ce.id].map(Ne=>a.jsxs("div",{className:"flex items-start justify-between rounded-lg border border-slate-200 bg-slate-50/60 p-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:Ne.author?.fullName||"Ngi dng"}),a.jsx("span",{className:"text-xs text-slate-400",children:jt(Ne.created_at)})]}),a.jsx("p",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:Ne.text})]}),ue==="teacher"&&a.jsx("button",{type:"button",onClick:()=>on(Ne.id,ce.id),className:"ml-2 inline-flex items-center gap-1 rounded-lg border border-red-200 px-2 py-1 text-xs font-semibold text-red-600 hover:bg-red-50",children:a.jsx(bs,{})})]},Ne.id))})]})]})]},ce.id))})]}),dn={students:Pl(),posts:xa(),exams:cn()};return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(ta,{}),"Quay li"]}),mt?a.jsxs("form",{onSubmit:Uc,className:"mt-3 flex items-center gap-3",children:[a.jsx("input",{type:"text",value:Ts,onChange:ce=>_s(ce.target.value),disabled:Ot,className:"rounded-lg border border-indigo-300 px-4 py-2 text-2xl font-bold text-slate-900 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 disabled:opacity-60",placeholder:"Nhp tn lp",required:!0,autoFocus:!0}),a.jsx("button",{type:"submit",disabled:Ot,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500 disabled:opacity-60",children:Ot?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"animate-spin"}),"ang lu..."]}):"Lu"}),a.jsx("button",{type:"button",onClick:rn,disabled:Ot,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-60",children:"Hy"})]}):a.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:o?.className||"Chi tit lp hc"}),ue==="teacher"&&o&&a.jsxs("button",{type:"button",onClick:Hl,className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-3 py-1.5 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",title:"Chnh sa tn lp",children:[a.jsx(fi,{}),"Sa tn"]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 px-4 py-2 text-center",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"M lp"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:o?.classCode}),a.jsxs("button",{type:"button",onClick:async()=>{if(o?.classCode)try{await navigator.clipboard.writeText(o.classCode),alert(" copy m lp.")}catch{alert("Khng th copy m lp.")}},className:"mt-1 inline-flex items-center gap-1 text-xs font-semibold text-indigo-600",children:[a.jsx($i,{}),"Copy"]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 px-4 py-2 text-center",children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"S hc sinh"}),a.jsx("p",{className:"text-lg font-semibold text-slate-900",children:o?.totalStudents??h.length})]}),a.jsxs("button",{type:"button",onClick:Ol,disabled:E,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-red-50 disabled:opacity-60",children:[a.jsx(bs,{}),E?"ang xa...":"Xa lp"]})]})]})}),g?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border border-slate-200 bg-white p-10 text-slate-500",children:[a.jsx(He,{className:"mb-3 animate-spin text-3xl"}),"ang ti d liu lp..."]}):m?a.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-red-200 bg-red-50 p-6 text-red-600",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Mc,{}),a.jsx("p",{className:"font-semibold",children:m})]}),a.jsx("button",{type:"button",onClick:Ut,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-white",children:"Th li"})]}):a.jsxs("section",{className:"space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"flex flex-wrap gap-3",children:[{key:"students",label:"Danh sch hc sinh"},{key:"posts",label:"Bi ng"},{key:"exams",label:" thi"}].map(ce=>a.jsx("button",{type:"button",onClick:()=>C(ce.key),className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${T===ce.key?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:ce.label},ce.key))}),dn[T]]})]})})}const GS="modulepreload",$S=function(r){return"/"+r},k0={},KS=function(e,t,s){let i=Promise.resolve();if(t&&t.length>0){let g=function(x){return Promise.all(x.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var c=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),u=h?.nonce||h?.getAttribute("nonce");i=g(t.map(x=>{if(x=$S(x),x in k0)return;k0[x]=!0;const m=x.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${p}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":GS,m||(b.as="script"),b.crossOrigin="",b.href=x,u&&b.setAttribute("nonce",u),document.head.appendChild(b),m)return new Promise((w,y)=>{b.addEventListener("load",w),b.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${x}`)))})}))}function o(h){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=h,window.dispatchEvent(u),!u.defaultPrevented)throw h}return i.then(h=>{for(const u of h||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function rv(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/comments`)}function jc(r){if(!r.exam_id||!r.text)throw new Error("exam_id v text l bt buc.");return pe.post("/api/exam-comments",r)}function lv(r){if(!r)throw new Error("commentId l bt buc.");return pe.delete(`/api/exam-comments/${r}`)}const ZS=[{value:"",label:"Tt c"},{value:"upcoming",label:"Sp din ra"},{value:"ongoing",label:"ang din ra"},{value:"ended",label:" kt thc"}];function QS({start_time:r,end_time:e}){const t=new Date,s=r?new Date(r):null,i=e?new Date(e):null;if(s&&t<s)return"upcoming";if(s&&i){if(t>=s&&t<=i)return"ongoing";if(t>i)return"ended"}return i&&t>i?"ended":"ongoing"}function JS(r){switch(r){case"upcoming":return{label:"Sp din ra",className:"bg-blue-50 text-blue-600 border-blue-200"};case"ongoing":return{label:"ang din ra",className:"bg-emerald-50 text-emerald-600 border-emerald-200"};case"ended":return{label:" kt thc",className:"bg-slate-100 text-slate-600 border-slate-200"};default:return{label:"Khng xc nh",className:"bg-slate-100 text-slate-500 border-slate-200"}}}function ek(r){const e=QS(r);let t=[];r.classes&&Array.isArray(r.classes)?t=r.classes:r.class&&(t=[r.class]);const s=t.length>0?t.map(i=>i.className??i.name??"Khng tn").join(", "):null;return{id:r.id??r.exam_id??r._id,title:r.title??"Khng tiu ",description:r.des??r.description??"",minutes:r.minutes??r.duration??null,totalScore:r.total_score??r.totalScore??null,startTime:r.start_time??r.startTime??null,endTime:r.end_time??r.endTime??null,questionCount:r.question_count??r.questionsCount??r.questionCount??0,submissionCount:r.submission_count??r.attemptCount??r.student_submissions??0,status:e,classes:t,classesDisplay:s,className:s,questionMethod:r.question_creation_method??r.questionMethod??r.question_method??null}}function tk(){const r=rt(),[e,t]=M.useState({keyword:"",classId:"",status:"",startDate:"",endDate:""}),[s,i]=M.useState([]),[o,c]=M.useState(!0),[h,u]=M.useState(""),[g,x]=M.useState([]),[m,p]=M.useState(!0),[b,w]=M.useState(!1),[y,k]=M.useState(null),[A,S]=M.useState([]),[T,C]=M.useState(!1),[E,L]=M.useState(!1),[_,D]=M.useState(null),[H,z]=M.useState(""),[B,P]=M.useState("");M.useEffect(()=>{async function K(){p(!0);try{const ue=await Bc();x(ue?Array.isArray(ue)?ue:ue.data??[]:[])}catch(ue){console.error("Khng th ti lp:",ue)}finally{p(!1)}}K()},[]);const W=async(K={})=>{c(!0),u("");try{const ue=await Xc({search:K.keyword,class_id:K.classId,status:K.status,start_time:K.startDate,end_time:K.endDate}),ae=Array.isArray(ue)?ue:Array.isArray(ue?.data)?ue.data:Array.isArray(ue?.exams)?ue.exams:[];i(ae.map(ek))}catch(ue){u(ue?.body?.message||ue?.message||"Khng th ti danh sch  thi. Vui lng th li.")}finally{c(!1)}};M.useEffect(()=>{W(e)},[]);const V=(K,ue)=>{t(ae=>({...ae,[K]:ue}))},Q=()=>{W(e)},Y=()=>{const K={keyword:"",classId:"",status:"",startDate:"",endDate:""};t(K),W(K)},F=async K=>{if(K)try{C(!0);const ue=await rv(K);S(Array.isArray(ue)?ue:ue?.data||[])}catch(ue){console.error("Error loading comments:",ue),$.error("Khng th ti bnh lun")}finally{C(!1)}},U=async K=>{k(K),L(!0),await F(K)},q=()=>{L(!1),k(null),S([]),D(null),z(""),P("")},G=async()=>{if(!B.trim()){$.error("Vui lng nhp ni dung bnh lun");return}if(y)try{await jc({exam_id:y,text:B.trim()}),P(""),$.success(" thm bnh lun"),await F(y)}catch(K){console.error("Error creating comment:",K),$.error(K.message||"Khng th thm bnh lun")}},O=async K=>{if(!H.trim()){$.error("Vui lng nhp ni dung phn hi");return}if(y)try{await jc({exam_id:y,text:H.trim(),parent_id:K}),z(""),D(null),$.success(" thm phn hi"),await F(y)}catch(ue){console.error("Error creating reply:",ue),$.error(ue.message||"Khng th thm phn hi")}},I=async K=>{if(window.confirm("Bn c chc chn mun xa bnh lun ny? Hnh ng ny khng th hon tc."))try{await lv(K),$.success(" xa bnh lun"),y&&await F(y)}catch(ue){console.error("Error deleting comment:",ue),$.error(ue.message||"Khng th xa bnh lun")}},ne=M.useMemo(()=>!e.keyword&&!e.classId&&!e.status&&!e.startDate&&!e.endDate?"Tt c  thi ca bn":" p dng b lc",[e]);return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Bi thi"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Danh sch  thi"}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:ne})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{type:"button",onClick:Y,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[a.jsx(fl,{}),"Xa lc"]}),a.jsxs("button",{type:"button",onClick:()=>r("/dashboard/teacher/exams/create"),className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:[a.jsx(ms,{}),"To  thi mi"]})]})]}),a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm",children:[a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center rounded-lg border border-slate-200 bg-white px-3 py-2 shadow-sm focus-within:border-indigo-500 focus-within:ring-2 focus-within:ring-indigo-200",children:[a.jsx(ha,{className:"mr-2 text-slate-400"}),a.jsx("input",{type:"text",value:e.keyword,onChange:K=>V("keyword",K.target.value),placeholder:"Tm kim  thi...",className:"flex-1 text-sm text-slate-700 focus:outline-none"})]})}),a.jsxs("button",{type:"button",onClick:()=>w(!b),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[a.jsx(fl,{}),"B lc",b?a.jsx(zb,{className:"h-4 w-4"}):a.jsx(Dg,{className:"h-4 w-4"}),(e.status||e.classId||e.startDate||e.endDate)&&a.jsx("span",{className:"ml-1 rounded-full bg-indigo-600 px-1.5 py-0.5 text-xs font-semibold text-white",children:[e.status,e.classId,e.startDate,e.endDate].filter(Boolean).length})]})]})}),b&&a.jsxs("div",{className:"border-t border-slate-200 bg-slate-50 p-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Trng thi"}),a.jsx("select",{value:e.status,onChange:K=>V("status",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:ZS.map(K=>a.jsx("option",{value:K.value,children:K.label},K.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Lp hc"}),a.jsxs("select",{value:e.classId,onChange:K=>V("classId",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",children:[a.jsx("option",{value:"",children:"Tt c lp"}),!m&&g.map(K=>a.jsx("option",{value:K.id??K.classId,children:K.className??K.name??"Khng tn"},K.id??K.classId))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Khong thi gian"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("input",{type:"date",value:e.startDate,onChange:K=>V("startDate",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"T ngy"}),a.jsx("input",{type:"date",value:e.endDate,onChange:K=>V("endDate",K.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-2 py-2 text-xs shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"n ngy"})]})]})]}),a.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-200 pt-4",children:[a.jsx("div",{className:"text-xs text-slate-500",children:(e.status||e.classId||e.startDate||e.endDate)&&a.jsxs("span",{children:["ang p dng ",a.jsx("strong",{children:[e.status,e.classId,e.startDate,e.endDate].filter(Boolean).length})," b lc"]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:Q,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-xs font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:"p dng"}),(e.status||e.classId||e.startDate||e.endDate)&&a.jsxs("button",{type:"button",onClick:Y,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50",children:[a.jsx(ps,{className:"h-3 w-3"}),"Xa"]})]})]})]})]}),a.jsx("section",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:o?a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),a.jsx(He,{className:"absolute inset-0 m-auto animate-pulse text-xl text-indigo-600"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"ang ti danh sch  thi..."})]}):h?a.jsx("div",{className:"rounded-xl border border-red-200 bg-red-50 p-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"rounded-full bg-red-100 p-2",children:a.jsx(ms,{className:"h-5 w-5 text-red-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"mb-1 font-semibold text-red-900",children:"Li ti d liu"}),a.jsx("p",{className:"text-sm text-red-700",children:h})]})]})}):s.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-slate-100 to-slate-50",children:a.jsx(ms,{className:"text-4xl text-slate-400"})}),a.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-700",children:"Khng tm thy  thi no"}),a.jsx("p",{className:"mb-6 text-sm text-slate-500",children:Object.values(e).some(K=>K)?"Th iu chnh b lc  tm thy  thi ph hp.":"Bt u to  thi u tin ca bn."}),a.jsxs("button",{type:"button",onClick:()=>r("/dashboard/teacher/exams/create"),className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg",children:[a.jsx(ms,{}),"To  thi u tin"]})]}):a.jsx("div",{className:"space-y-4",children:s.map((K,ue)=>{const ae=JS(K.status);return a.jsxs("div",{className:"group rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition-all duration-300 hover:border-indigo-300 hover:shadow-lg hover:-translate-y-0.5",style:{animationDelay:`${ue*50}ms`},children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900 transition-colors group-hover:text-indigo-700",children:K.title}),a.jsx("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold transition-all ${ae.className}`,children:ae.label}),K.classes&&K.classes.length>0&&a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-lg bg-indigo-50 px-2.5 py-1 text-xs font-medium text-indigo-700",children:[a.jsx(Bt,{className:"h-3 w-3"}),K.classes.length," ",(K.classes.length===1,"lp")]}),!K.classes&&K.className&&a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-lg bg-indigo-50 px-2.5 py-1 text-xs font-medium text-indigo-700",children:[a.jsx(Bt,{className:"h-3 w-3"}),"1 lp"]})]}),a.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-slate-600",children:K.description||"Cha c m t."}),a.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[a.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-slate-50 to-white px-3 py-1.5 text-slate-700 shadow-sm transition-all hover:shadow-md",children:[a.jsx(Qi,{className:"text-indigo-500"}),K.minutes?`${K.minutes} pht`:"Khng gii hn"]}),a.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-slate-50 to-white px-3 py-1.5 text-slate-700 shadow-sm transition-all hover:shadow-md",children:[a.jsx(ms,{className:"text-indigo-500"}),K.questionCount," cu hi"]}),a.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-slate-50 to-white px-3 py-1.5 text-slate-700 shadow-sm transition-all hover:shadow-md",children:[a.jsx(Bt,{className:"text-indigo-500"}),K.submissionCount," lt lm"]}),K.totalScore&&a.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-lg bg-gradient-to-r from-indigo-50 to-indigo-100 px-3 py-1.5 font-semibold text-indigo-700 shadow-sm",children:[K.totalScore," im"]})]})]}),a.jsx("div",{className:"rounded-lg border border-slate-100 bg-gradient-to-br from-slate-50 to-white p-4 text-sm shadow-sm",children:a.jsxs("div",{className:"flex items-start gap-2 text-slate-600",children:[a.jsx(Lc,{className:"mt-0.5 text-indigo-500"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium text-slate-700",children:K.startTime?new Date(K.startTime).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Khng t lch"}),a.jsxs("p",{className:"text-xs text-slate-500",children:[" ",K.endTime?new Date(K.endTime).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Khng gii hn"]})]})]})})]}),a.jsxs("div",{className:"mt-5 flex flex-wrap gap-2 border-t border-slate-100 pt-4",children:[(()=>{const te=K.questionMethod,ve=te?`/dashboard/teacher/exams/${K.id}/questions/${te==="text"?"text":"editor"}`:`/dashboard/teacher/exams/${K.id}/questions`;return a.jsx(Ct,{to:ve,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-xs font-semibold text-slate-700 shadow-sm transition-all hover:bg-slate-50 hover:shadow-md hover:-translate-y-0.5",children:"Qun l cu hi"})})(),a.jsx(Ct,{to:`/dashboard/teacher/exams/${K.id}/edit`,className:"inline-flex items-center gap-2 rounded-lg border border-indigo-200 bg-white px-4 py-2 text-xs font-semibold text-indigo-600 shadow-sm transition-all hover:bg-indigo-50 hover:shadow-md hover:-translate-y-0.5",children:"Chnh sa"}),a.jsx(Ct,{to:`/dashboard/teacher/exams/${K.id}/results`,className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 bg-white px-4 py-2 text-xs font-semibold text-emerald-600 shadow-sm transition-all hover:bg-emerald-50 hover:shadow-md hover:-translate-y-0.5",children:"Xem kt qu"}),a.jsxs("button",{type:"button",onClick:()=>U(K.id),className:"inline-flex items-center gap-2 rounded-lg border border-purple-200 bg-white px-4 py-2 text-xs font-semibold text-purple-600 shadow-sm transition-all hover:bg-purple-50 hover:shadow-md hover:-translate-y-0.5",children:[a.jsx(tr,{}),"Qun l bnh lun"]}),a.jsx("button",{type:"button",className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-600 shadow-sm transition-all hover:bg-red-50 hover:shadow-md hover:-translate-y-0.5",onClick:async()=>{if(window.confirm(`Bn chc chn mun xa  thi "${K.title}"?`))try{const{deleteExam:te}=await KS(async()=>{const{deleteExam:ve}=await Promise.resolve().then(()=>VS);return{deleteExam:ve}},[]);await te(K.id),$.success(" xa  thi thnh cng."),W(e)}catch(te){$.error(te?.body?.message||te?.message||"Khng th xa  thi.")}},children:"Xa"})]})]},K.id)})})}),E&&y&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-2xl border border-slate-200 bg-white shadow-xl flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 p-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Qun l bnh lun"}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:s.find(K=>K.id===y)?.title||" thi"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>F(y),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(He,{className:"animate-spin"}),"Lm mi"]}),a.jsx("button",{type:"button",onClick:q,className:"rounded-lg p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:a.jsx(ps,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"mb-6 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[a.jsx("h3",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Vit bnh lun mi"}),a.jsx("textarea",{value:B,onChange:K=>P(K.target.value),placeholder:"Nhp bnh lun ca bn...",className:"w-full rounded-lg border border-slate-300 bg-white p-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:3}),a.jsx("div",{className:"mt-3 flex justify-end",children:a.jsx("button",{type:"button",onClick:G,disabled:!B.trim(),className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng bnh lun"})})]}),T?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})}):A.length===0?a.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:[a.jsx(tr,{className:"mx-auto mb-2 text-4xl text-slate-300"}),a.jsx("p",{children:"Cha c bnh lun no"}),a.jsx("p",{className:"mt-1 text-xs",children:"Hy l ngi u tin bnh lun!"})]}):a.jsx("div",{className:"space-y-4",children:A.map(K=>a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-700",children:a.jsx("span",{className:"text-sm font-bold",children:K.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-slate-900",children:[K.user?.fullName||"Ngi dng",K.user?.role&&a.jsx("span",{className:"ml-2 rounded bg-slate-100 px-2 py-0.5 text-xs text-slate-600",children:K.user.role==="teacher"?"Gio vin":"Hc sinh"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:jt(K.created_at)})]})]}),a.jsxs("button",{type:"button",onClick:()=>I(K.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-red-50 px-3 py-1.5 text-xs font-semibold text-red-600 transition hover:bg-red-100",title:"Xa bnh lun",children:[a.jsx(bs,{className:"h-3 w-3"}),"Xa"]})]}),a.jsx("p",{className:"mb-3 text-slate-700 whitespace-pre-wrap",children:K.text}),a.jsx("button",{type:"button",onClick:()=>D(_===K.id?null:K.id),className:"mb-3 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:_===K.id?"Hy phn hi":"Phn hi"}),_===K.id&&a.jsxs("div",{className:"mb-3 rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("textarea",{value:H,onChange:ue=>z(ue.target.value),placeholder:"Nhp phn hi ca bn...",className:"w-full rounded-lg border border-slate-300 bg-white p-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:3}),a.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{D(null),z("")},className:"rounded-lg border border-slate-300 bg-white px-3 py-1.5 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Hy"}),a.jsx("button",{type:"button",onClick:()=>O(K.id),disabled:!H.trim(),className:"rounded-lg bg-indigo-600 px-3 py-1.5 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng phn hi"})]})]}),K.replies&&K.replies.length>0&&a.jsx("div",{className:"mt-4 space-y-3 border-l-2 border-slate-200 pl-4",children:K.replies.map(ue=>a.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[a.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 text-slate-700",children:a.jsx("span",{className:"text-xs font-bold",children:ue.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-semibold text-slate-900",children:[ue.user?.fullName||"Ngi dng",ue.user?.role&&a.jsx("span",{className:"ml-2 rounded bg-slate-100 px-1.5 py-0.5 text-xs text-slate-600",children:ue.user.role==="teacher"?"GV":"HS"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:jt(ue.created_at)})]})]}),a.jsx("button",{type:"button",onClick:()=>I(ue.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-red-50 px-2 py-1 text-xs font-semibold text-red-600 transition hover:bg-red-100",title:"Xa phn hi",children:a.jsx(bs,{className:"h-3 w-3"})})]}),a.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ue.text})]},ue.id))})]},K.id))})]})]})})]})})}const sk="http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000";function ak(){try{const r=localStorage.getItem("accessToken");return r?{Authorization:`Bearer ${r}`,"x-access-token":r}:{}}catch{return{}}}async function ov(r){if(!r)throw new Error("File l bt buc.");if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(r.type))throw new Error("Ch cho php upload file nh (jpeg, jpg, png, gif, webp)");const t=5*1024*1024;if(r.size>t)throw new Error("Kch thc file khng c vt qu 5MB");const s=new FormData;s.append("image",r);const i=await fetch(`${sk}/api/upload/exam-image`,{method:"POST",headers:{...ak()},body:s}),o=i.headers.get("content-type"),h=o&&o.includes("application/json")?await i.json():await i.text();if(!i.ok){const u=new Error(h&&h.message||i.statusText||"Upload failed");throw u.status=i.status,u.body=h,u}return h}const ik={title:"",minutes:45,startTime:"",endTime:"",noTimeLimit:!1,classIds:[],description:"",totalScore:"",isPublic:!0,isPaid:!1,fee:"",imageUrl:""};function C0(){const r=new Date;return r.setMinutes(r.getMinutes()-r.getTimezoneOffset()),r.toISOString().slice(0,16)}function nk(r){return r?(Array.isArray(r)?r:Array.isArray(r?.data)?r.data:Array.isArray(r?.classes)?r.classes:[]).map(t=>({id:t.id??t.classId??t._id??t.class_id,className:t.className??t.name??"Khng tn",classCode:t.classCode??t.class_code??""})):[]}function mu({title:r,description:e,children:t}){return a.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:r}),e&&a.jsx("p",{className:"text-sm text-slate-500",children:e})]}),t]})}const A0=({label:r,checked:e,onChange:t,description:s})=>a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700",children:[r,a.jsx("button",{type:"button",onClick:()=>t(!e),className:`relative inline-flex h-6 w-11 items-center rounded-full ${e?"bg-indigo-600":"bg-gray-300"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${e?"translate-x-6":"translate-x-1"}`})})]}),s&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s})]});function rk(){const r=rt(),[e,t]=M.useState({...ik,startTime:C0(),imageUrl:""}),[s,i]=M.useState([]),[o,c]=M.useState(!0),[h,u]=M.useState({loading:!1,message:"",examId:null}),[g,x]=M.useState(null),[m,p]=M.useState(null),[b,w]=M.useState(!1),[y,k]=M.useState("");M.useEffect(()=>{async function L(){c(!0);try{const _=await Bc();i(nk(_))}catch(_){console.error("Khng th ti lp:",_)}finally{c(!1)}}L()},[]);const A=(L,_)=>{t(D=>{const H={...D,[L]:_};if(L==="startTime"&&H.endTime&&_){const z=new Date(_);if(new Date(H.endTime)<=z){const P=new Date(z);P.setHours(P.getHours()+1);const W=P.getFullYear(),V=String(P.getMonth()+1).padStart(2,"0"),Q=String(P.getDate()).padStart(2,"0"),Y=String(P.getHours()).padStart(2,"0"),F=String(P.getMinutes()).padStart(2,"0");H.endTime=`${W}-${V}-${Q}T${Y}:${F}`}}return H})},S=()=>{if(!e.title.trim())return alert("Vui lng nhp tn  thi."),!1;if(!e.minutes||Number(e.minutes)<=0)return alert("Thi gian lm bi phi ln hn 0."),!1;if(e.totalScore&&Number(e.totalScore)<=0)return alert("Tng im phi ln hn 0."),!1;if(!e.noTimeLimit){if(!e.startTime||!e.endTime)return alert("Vui lng chn thi gian bt u v kt thc, hoc chn 'Khng gii hn thi gian'."),!1;if(e.startTime>=e.endTime)return alert("Thi gian kt thc phi sau thi gian bt u."),!1}if(e.isPaid){const L=Number(e.fee);if(!e.fee||isNaN(L)||L<=0)return alert("Vui lng nhp mc ph hp l (ln hn 0)."),!1}return!0},T=async L=>{const _=L.target.files[0];if(!_)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(_.type)){$.error("Ch cho php upload file nh (jpeg, jpg, png, gif, webp)");return}const H=5*1024*1024;if(_.size>H){$.error("Kch thc file khng c vt qu 5MB");return}x(_);const z=new FileReader;z.onloadend=()=>{p(z.result)},z.readAsDataURL(_);try{w(!0);const B=await ov(_),P=B.image_url||B.data?.image_url;if(P){const W="http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000",V=P.startsWith("http")?P:`${W}${P}`;t(Q=>({...Q,imageUrl:P})),p(V),$.success("Upload nh thnh cng!")}}catch(B){console.error("Error uploading image:",B),$.error(B.message||"Khng th upload nh"),x(null),p(null)}finally{w(!1)}},C=()=>{x(null),p(null),t(L=>({...L,imageUrl:""}))},E=async()=>{if(!S())return;const L=D=>D?new Date(D).toISOString():void 0,_={title:e.title.trim(),minutes:Number(e.minutes),start_time:e.noTimeLimit?null:L(e.startTime),end_time:e.noTimeLimit?null:L(e.endTime),class_ids:e.classIds&&e.classIds.length>0?e.classIds:void 0,des:e.description.trim()||void 0,total_score:e.totalScore?Number(e.totalScore):void 0,is_public:e.isPublic,is_paid:e.isPaid,fee:e.isPaid?Number(e.fee):void 0,image_url:e.imageUrl.trim()||void 0};if(_.is_paid&&(!_.fee||isNaN(_.fee)||_.fee<=0)){alert("Vui lng nhp mc ph hp l (ln hn 0).");return}u({loading:!0,message:"",examId:null});try{const D=await av(_),H=D?.id??D?.exam_id??D?.examId??D?.data?.id??D?.data?.exam_id??null;u({loading:!1,message:" to  thi. Tip tc thm cu hi  hon thin.",examId:H}),H&&window.confirm(" thi  c to. Bn c mun chuyn sang trang thm cu hi ngay by gi?")&&r(`/dashboard/teacher/exams/${H}/questions`)}catch(D){const H=D?.body?.message||D?.message||"Khng th to  thi. Vui lng th li.";u({loading:!1,message:H,examId:null}),alert(H)}};return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"To  thi"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:e.title||"Cha t tn"}),a.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"Bc 1: cu hnh thng tin  thi. Sau khi to thnh cng, bn s thm cu hi  bc tip theo."})]}),a.jsxs("button",{type:"button",onClick:E,disabled:h.loading,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg disabled:opacity-60",children:[h.loading&&a.jsx(He,{className:"animate-spin"}),"To  thi"]})]}),a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),h.message&&a.jsxs("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:[a.jsx("p",{children:h.message}),h.examId&&a.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:a.jsx("button",{type:"button",onClick:()=>r(`/dashboard/teacher/exams/${h.examId}/questions`),className:"inline-flex items-center justify-center rounded-full border border-indigo-200 px-4 py-2 text-sm font-semibold text-indigo-600 hover:bg-indigo-50",children:"Thm cu hi"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(mu,{title:"Thng tin chung",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn  thi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:e.title,onChange:L=>A("title",L.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Nhp tn  thi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tng im"}),a.jsx("input",{type:"number",value:e.totalScore,min:0,onChange:L=>A("totalScore",L.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 100"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("input",{type:"checkbox",id:"noTimeLimit",checked:e.noTimeLimit,onChange:L=>{A("noTimeLimit",L.target.checked),L.target.checked?(A("startTime",""),A("endTime","")):A("startTime",C0())},className:"mt-0.5 h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"noTimeLimit",className:"text-sm font-semibold text-gray-700 cursor-pointer",children:"Khng gii hn thi gian"}),a.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"Nu chn, hc sinh c th lm bi thi bt c lc no m khng b gii hn bi thi gian bt u v kt thc."})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Thi gian lm bi (pht) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",min:1,value:e.minutes,onChange:L=>A("minutes",L.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),!e.noTimeLimit&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bt u ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"datetime-local",value:e.startTime,onChange:L=>A("startTime",L.target.value),step:"60",max:e.endTime||void 0,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt thc ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"datetime-local",value:e.endTime,min:e.startTime||void 0,onChange:L=>{const _=L.target.value;if(e.startTime&&_){const D=new Date(e.startTime);if(new Date(_)<=D){alert("Thi gian kt thc phi ln hn thi gian bt u!");return}}A("endTime",_)},step:"60",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"}),e.startTime&&e.endTime&&new Date(e.endTime)<=new Date(e.startTime)&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Thi gian kt thc phi ln hn thi gian bt u"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),a.jsx("textarea",{rows:3,value:e.description,onChange:L=>A("description",L.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 resize-none",placeholder:"Thng tin m t  thi, hng dn, ghi ch..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"nh  thi (ty chn)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-700 transition hover:border-indigo-400 hover:bg-indigo-50",children:[b?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 animate-spin"}),"ang upload..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Chn nh"]}),a.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:T,className:"hidden",disabled:b})]}),m&&a.jsx("button",{type:"button",onClick:C,className:"rounded-lg border border-red-300 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition hover:bg-red-100",children:"Xa nh"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Chn nh t my tnh (ti a 5MB).  trng s s dng nh mc nh."}),m&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-slate-700",children:"Xem trc:"}),a.jsx("img",{src:m,alt:"Preview",className:"h-48 w-full rounded-lg border border-slate-200 object-cover"})]})]})]})]}),a.jsx(mu,{title:"Giao  cho lp",children:o?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[a.jsx(He,{className:"animate-spin"}),"ang ti danh sch lp..."]}):s.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"Bn cha c lp no. Vo mc Lp hc  to mi hoc b trng trng ny."}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn lp (c th chn nhiu lp)"}),a.jsxs("div",{className:"mb-3 relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{type:"text",value:y,onChange:L=>k(L.target.value),placeholder:"Tm kim lp theo tn hoc m lp...",className:"w-full rounded-lg border border-slate-200 pl-10 pr-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-slate-200 bg-slate-50 p-2",children:[s.filter(L=>{if(!y.trim())return!0;const _=y.toLowerCase();return L.className?.toLowerCase().includes(_)||L.classCode?.toLowerCase().includes(_)}).map(L=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-white p-2 rounded transition-colors",children:[a.jsx("input",{type:"checkbox",checked:e.classIds?.includes(L.id)||!1,onChange:_=>{const D=e.classIds||[];_.target.checked?A("classIds",[...D,L.id]):A("classIds",D.filter(H=>H!==L.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-slate-300 rounded"}),a.jsxs("span",{className:"text-sm text-gray-700 flex-1",children:[a.jsx("span",{className:"font-medium",children:L.className}),L.classCode&&a.jsxs("span",{className:"text-slate-500 ml-1",children:["(",L.classCode,")"]})]})]},L.id)),s.filter(L=>{if(!y.trim())return!0;const _=y.toLowerCase();return L.className?.toLowerCase().includes(_)||L.classCode?.toLowerCase().includes(_)}).length===0&&a.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Khng tm thy lp no ph hp"})]}),e.classIds&&e.classIds.length>0&&a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-slate-500",children:[" chn ",a.jsx("span",{className:"font-semibold text-indigo-600",children:e.classIds.length})," lp"]}),a.jsx("button",{type:"button",onClick:()=>A("classIds",[]),className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"B chn tt c"})]})]})}),a.jsxs(mu,{title:"Cng khai v thu ph",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:a.jsx(A0,{label:"Cho php hc sinh bn ngoi lp truy cp",checked:e.isPublic,onChange:L=>A("isPublic",L),description:"Nu bt, hc sinh khng thuc lp c gn cng c th lm bi thi ny."})}),a.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:a.jsx(A0,{label:"Thu ph mi ln lm bi",checked:e.isPaid,onChange:L=>{A("isPaid",L),L&&(!e.fee||Number(e.fee)<=0)&&A("fee","10000")},description:"Hc sinh s b tr tin mi ln bt u lm bi thi ny (n v VN)."})})]}),e.isPaid&&a.jsxs("div",{className:"mt-4 rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Ph mi ln lm bi (VN) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",min:1,required:!0,value:e.fee,onChange:L=>A("fee",L.target.value),className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-4 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 50000"}),(!e.fee||Number(e.fee)<=0)&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Vui lng nhp mc ph hp l (ln hn 0)"}),a.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"S tin s c tr t ti khon hc sinh mi ln h bt u lm bi thi."})]})]})]})]})})}function lk(r){return r?Array.isArray(r)?r:Array.isArray(r?.data)?r.data:Array.isArray(r?.questions)?r.questions:[]:[]}function ok(r={}){const e=new URLSearchParams;Object.entries(r).forEach(([s,i])=>{i==null||i===""||e.set(s,i)});const t=e.toString();return t?`?${t}`:""}async function Fg({examId:r,page:e,limit:t}={}){const s=ok({exam_id:r,page:e,limit:t}),i=await pe.get(`/api/questions${s}`);return lk(i)}function eg(r){if(!r?.exam_id)throw new Error("exam_id l bt buc khi to cu hi.");if(!r?.question_text?.trim())throw new Error("question_text l bt buc.");return pe.post("/api/questions",r)}function tg(r,e){if(!r)throw new Error("questionId l bt buc khi cp nht.");return pe.put(`/api/questions/${r}`,e)}function ck(r){if(!r)throw new Error("questionId l bt buc khi xa.");return pe.delete(`/api/questions/${r}`)}function dk(r,e=[]){if(!r)throw new Error("examId l bt buc khi sp xp cu hi.");if(!Array.isArray(e)||e.length===0)throw new Error("question_orders phi l mng v khng c rng.");return pe.put(`/api/exams/${r}/questions/order`,{question_orders:e})}function hk(r){return r?{id:r.id??r.exam_id??r._id,title:r.title??r.name??" thi",question_creation_method:r.question_creation_method??r.questionMethod??r.question_method??null}:null}const hi={text:{label:"Vn bn",description:"To  thi nhanh bng cch son tho vn bn",pathSuffix:"text",accentClasses:"bg-gradient-to-r from-pink-500 to-orange-500 text-white hover:shadow-xl hover:-translate-y-1",iconAccent:"text-white"},editor:{label:"Trnh son tho",description:"To  thi t u v chnh sa th cng",pathSuffix:"editor",accentClasses:"bg-slate-100 border-2 border-slate-200 text-slate-800 hover:border-indigo-300 hover:shadow-xl hover:-translate-y-1",iconAccent:"text-slate-400"}};function uk(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(null),[i,o]=M.useState(!0),[c,h]=M.useState(""),[u,g]=M.useState(""),[x,m]=M.useState(0),[p,b]=M.useState(!1),[w,y]=M.useState(!1),k=M.useCallback(async()=>{if(r){o(!0);try{const D=await an(r);s(hk(D)),g("")}catch(D){console.error("Khng th ti thng tin  thi:",D),g("Khng th ti thng tin  thi.")}finally{o(!1)}}},[r]),A=M.useCallback(async()=>{if(r){b(!0);try{const D=await Fg({examId:r});m(D.length)}catch(D){console.error("Khng th ti danh sch cu hi:",D)}finally{b(!1)}}},[r]);M.useEffect(()=>{k()},[k]),M.useEffect(()=>{A()},[A]);const S=async D=>{if(!r||!D)return;g("");const H=hi[D];if(!H){g("Phng thc khng hp l.");return}if(t?.question_creation_method){if(t.question_creation_method===D){e(`/dashboard/teacher/exams/${r}/questions/${H.pathSuffix}`);return}g(`Bn  chn phng thc "${hi[t.question_creation_method].label}". Khng th thay i phng thc khc.`);return}try{h(D),await Yg(r,{question_creation_method:D}),s(z=>({...z||{},question_creation_method:D})),e(`/dashboard/teacher/exams/${r}/questions/${H.pathSuffix}`)}catch(z){g(z?.body?.message||z?.message||"Khng th lu phng thc to cu hi.")}finally{h("")}},T=async()=>{if(!r||!t?.question_creation_method)return;const D=t.question_creation_method==="text"?"editor":t.question_creation_method==="editor"?"text":null;if(!D)return;const H=hi[D]?.label||D,z=`Thao tc ny s xa ${x} cu hi hin c v chuyn sang phng thc "${H}". Bn c chc chn mun tip tc?`;if(window.confirm(z))try{y(!0),await nv(r,D),await Promise.all([k(),A()]),e(`/dashboard/teacher/exams/${r}/questions/${hi[D].pathSuffix}`,{replace:!0})}catch(B){g(B?.body?.message||B?.message||"Khng th chuyn phng thc to cu hi.")}finally{y(!1)}},E=!!t?.question_creation_method?"Chnh sa  thi":"To  thi mi",L=t?.question_creation_method??null,_=L==="text"?"editor":L==="editor"?"text":null;return i?a.jsx(Ye,{role:"teacher",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(He,{className:"animate-spin h-8 w-8 text-indigo-600"})})}):a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("button",{type:"button",onClick:()=>e("/dashboard/teacher/exams"),className:"mb-6 inline-flex items-center gap-2 text-sm text-slate-600 hover:text-slate-900",children:[a.jsx(ta,{}),"Quay li danh sch  thi"]}),a.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:E}),a.jsx("p",{className:"text-slate-600",children:t?.title||" thi"})]}),t?.question_creation_method&&a.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-emerald-200 bg-emerald-50 px-6 py-4 text-emerald-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ca,{className:"h-5 w-5 mt-0.5"}),a.jsxs("div",{className:"flex-1 text-sm",children:[a.jsxs("p",{className:"font-semibold",children:["Bn  chn phng thc:"," ",hi[t.question_creation_method]?.label||"Khng xc nh"]}),a.jsx("p",{className:"mt-1 text-emerald-700/80",children:p?"ang kim tra s lng cu hi...":`Hin c ${x} cu hi  c to bng phng thc ny.`})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/questions/${hi[t.question_creation_method]?.pathSuffix}`),className:"rounded-full bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700",children:"Tip tc"}),_&&a.jsxs("button",{type:"button",disabled:w,onClick:T,className:"inline-flex items-center gap-2 rounded-full border border-amber-300 bg-amber-50 px-4 py-2 text-sm font-semibold text-amber-800 hover:bg-amber-100 disabled:cursor-not-allowed disabled:opacity-60",children:[w?a.jsx(He,{className:"h-4 w-4 animate-spin"}):a.jsx(Aj,{className:"h-4 w-4"}),"Chuyn sang ",hi[_]?.label||"phng thc khc"]})]})]})}),u&&a.jsx("div",{className:"w-full max-w-3xl rounded-2xl border border-red-200 bg-red-50 px-6 py-4 text-sm text-red-700",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Rg,{className:"h-4 w-4 mt-1"}),a.jsx("p",{children:u})]})}),a.jsx("div",{className:"flex flex-col md:flex-row gap-6 max-w-4xl w-full px-4",children:Object.entries(hi).map(([D,H])=>{const z=!!t?.question_creation_method&&t.question_creation_method!==D||w,B=t?.question_creation_method===D,P=c===D;return a.jsxs("button",{type:"button",onClick:()=>S(D),disabled:z||P,className:`flex-1 relative overflow-hidden rounded-2xl p-8 shadow-lg transition-all duration-300 ${H.accentClasses} ${z?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[a.jsxs("div",{className:"relative z-10 text-left",children:[a.jsxs("h3",{className:"text-2xl font-bold mb-3 flex items-center gap-2",children:[H.label,B&&a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-200 px-2 py-1 text-xs font-semibold text-emerald-800",children:[a.jsx(ca,{}),"  chn"]})]}),a.jsx("p",{className:"text-sm mb-6 opacity-90",children:H.description}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx(ms,{className:`w-16 h-16 ${H.iconAccent}`}),D==="text"?a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-xs font-bold text-white",children:"</>"}):a.jsx(Rb,{className:"absolute bottom-0 right-0 w-8 h-8 text-indigo-500"})]})})]}),P&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/10 backdrop-blur-sm",children:a.jsx(He,{className:"h-8 w-8 animate-spin"})})]},D)})})]})})}const gk={text:"Vn bn",editor:"Trnh son tho"};function cv(r){const e=r.split(`
`),t=[],s=[];let i=null;return e.forEach((c,h)=>{const u=c.trim();if(u==="")i&&(t.push(i),i=null);else if(u.startsWith("*")||/^[A-Z]\./.test(u)){if(!i){s.push({line:h+1,content:c,message:"p n khng thuc cu hi no."});return}if(i.type!=="MCQ"){s.push({line:h+1,content:c,message:"Cu hi in t khng h tr p n A/B/C."});return}const g=u.startsWith("*"),x=c.replace(/^\*?[A-Z]\.\s*/,"").replace(/<br \/>/g,`
`);i.options.push({text:x,isCorrect:g})}else u.length>0&&(i&&t.push(i),i={type:"MCQ",text:c.replace(/<br \/>/g,`
`),options:[]})}),i&&t.push(i),{questions:t.filter(c=>{const h=c.text?.trim(),u=c.options?.some(g=>g.text?.trim());return!!h||!!u}),errors:s}}function fk(r={}){return{text:(r.text??r.answer_text??r.content??"").trim(),isCorrect:!!(r.isCorrect??r.is_correct??r.correct??r.is_true??!1)}}function xk(r=[],e=[]){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t+=1){const s=r[t],i=e[t];if((s.text??"").trim()!==(i.text??"").trim()||!!s.isCorrect!=!!i.isCorrect)return!1}return!0}function mk(r,e){if(!r)return!0;const t=(r.text??"").trim(),s=(e.text??"").trim();return t!==s||!xk(r.options??[],e.options??[])}function dl(r=[]){return!Array.isArray(r)||r.length===0?"":r.map(t=>{const s=(t.text??"").trimEnd(),i=(t.options??[]).map((o,c)=>{const h=String.fromCharCode(65+c),u=o.isCorrect?`*${h}.`:`${h}.`,g=(o.text??"").trim();return`${u} ${g}`.trimEnd()});return[s,...i].join(`
`).trim()}).join(`

`).trim()}function pk(r,e,t){const s=cv(r);if(!s.questions)return dl([t]);const i=[...s.questions];return e<i.length?i[e]={text:t.text||"",options:t.options||[],type:"MCQ"}:i.push({text:t.text||"",options:t.options||[],type:"MCQ"}),dl(i)}function pu(r){const e=(r.options??[]).filter(o=>(o.text??"").trim().length>0).map(o=>({text:(o.text??"").trim(),is_correct:!!o.isCorrect}));if(e.length<2)throw new Error("Mi cu hi phi c  2 p n.");const t=e.filter(o=>o.is_correct).length;if(t===0)throw new Error("Mi cu hi phi c t nht 1 p n ng.");const s=t===1?"single_choice":"multiple_choice";return{question_text:(r.text??"").trim(),type:s,answers:e}}const bk=()=>a.jsxs("div",{className:"space-y-4 rounded-lg border border-blue-200 bg-blue-50 p-4 text-sm text-gray-700",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Quy tc son cu hi"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Mi cu hi cch nhau 1 dng trng."}),a.jsxs("li",{children:["p n ng c du ",a.jsx("span",{className:"font-semibold text-blue-600",children:"*"})," "," u (v d: ",a.jsx("code",{className:"rounded bg-gray-200 px-1",children:"*B. p n ng"}),")."]}),a.jsxs("li",{children:["Xung dng trong cu hi/p n hy dng"," ",a.jsx("code",{className:"rounded bg-gray-200 px-1",children:"<br />"})]})]}),a.jsxs("div",{className:"mt-4 rounded-lg border border-blue-300 bg-white p-3",children:[a.jsx("h5",{className:"mb-2 font-semibold text-gray-800",children:"Ni dung mu:"}),a.jsx("pre",{className:"whitespace-pre-wrap text-xs text-gray-700 font-mono bg-gray-50 p-3 rounded border border-gray-200 overflow-x-auto",children:`Phn 1

When we went back to the bookstore, the bookseller _ the book we wanted.
A. sold    
*B. had sold    
C. sells     
D. has sold

By the end of last summer, the farmers _ all the crop.
A. harvested    
*B. had harvested   
C. harvest     
D. are harvested`})]})]});function vk({questions:r,errors:e,hasContent:t,selectedQuestionIndex:s,onSelectQuestion:i,savedQuestions:o,onSaveQuestion:c,savingQuestionIndex:h}){return t?a.jsxs("div",{className:"space-y-4",children:[e.length>0&&a.jsxs("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:[a.jsx("h4",{className:"font-semibold",children:"Li c php"}),a.jsx("ul",{className:"mt-2 space-y-1",children:e.map((u,g)=>a.jsxs("li",{children:["Dng ",u.line,": ",u.message]},g))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Danh sch cu hi"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map((u,g)=>{const x=u.isExisting||o.has(g),m=s===g;return a.jsx("button",{type:"button",onClick:()=>i(g),className:`w-10 h-10 rounded-lg font-semibold text-sm transition-all ${m?"bg-indigo-600 text-white ring-2 ring-indigo-300":x?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-white border-2 border-slate-300 text-slate-700 hover:border-indigo-400 hover:bg-indigo-50"}`,children:g+1},g)})})]}),s!==null&&r[s]&&a.jsxs("div",{className:"rounded-lg border-2 border-indigo-200 bg-white p-4 shadow-sm",children:[(()=>{const u=r[s],g=u?.isExisting,x=!g&&o.has(s),m=g&&u.hasChanges;return a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("p",{className:"text-sm font-semibold text-slate-600",children:["Cu ",s+1," (Mt p n)"]}),!g&&a.jsx("button",{type:"button",onClick:()=>c(s),disabled:h===s||x,className:`inline-flex items-center gap-2 rounded-lg px-3 py-1.5 text-xs font-semibold transition ${x?"bg-emerald-100 text-emerald-700 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-50"}`,children:h===s?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"animate-spin"}),"ang lu..."]}):x?a.jsxs(a.Fragment,{children:[a.jsx(ca,{})," lu"]}):a.jsxs(a.Fragment,{children:[a.jsx(bi,{}),"Lu cu hi"]})}),g&&(m?a.jsx("button",{type:"button",onClick:()=>c(s),disabled:h===s,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-3 py-1.5 text-xs font-semibold text-white hover:bg-indigo-700 disabled:opacity-50",children:h===s?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"animate-spin"}),"ang cp nht..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bi,{}),"Cp nht cu hi"]})}):a.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg px-3 py-1.5 text-xs font-semibold bg-emerald-100 text-emerald-700",children:[a.jsx(ca,{})," lu"]}))]})})(),a.jsx("p",{className:"font-semibold text-gray-800 whitespace-pre-wrap mb-4",children:r[s].text}),a.jsx("div",{className:"space-y-2",children:r[s].options.map((u,g)=>a.jsxs("div",{className:`flex items-center gap-3 rounded-lg border-2 p-3 ${u.isCorrect?"border-emerald-500 bg-emerald-50":"border-red-300 bg-red-50"}`,children:[a.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full font-semibold ${u.isCorrect?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:u.isCorrect?a.jsx(ca,{className:"h-5 w-5"}):a.jsx(Bb,{className:"h-5 w-5"})}),a.jsxs("span",{className:`flex-1 whitespace-pre-wrap ${u.isCorrect?"font-semibold text-emerald-800":"text-red-800"}`,children:[String.fromCharCode(65+g),". ",u.text]})]},g))})]}),s===null&&r.length>0&&a.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"Chn mt cu hi  xem chi tit"})]}):a.jsx("div",{className:"flex h-full items-center justify-center text-gray-500",children:"Vui lng son cu hi theo hng dn."})}function yk(r){return r?{id:r.id??r.exam_id??r._id,title:r.title??r.name??" thi",minutes:r.minutes??r.duration??null,question_creation_method:r.question_creation_method??r.questionMethod??r.question_method??null}:null}function wk(r){if(!r)return null;const e=r.answers??r.question_answers??[];return{id:r.id??r.question_id??r._id,text:(r.question_text??r.question??r.text??"").trim(),type:r.type??"single_choice",options:e.map(t=>({text:(t.text??t.answer_text??t.content??"").trim(),isCorrect:!!(t.is_correct??t.correct??t.isCorrect??t.is_true)}))}}function jk(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(null),[i,o]=M.useState(!0),[c,h]=M.useState(""),[u,g]=M.useState(!1),[x,m]=M.useState({questions:[],errors:[]}),[p,b]=M.useState([]),[w,y]=M.useState(!1),[k,A]=M.useState(null),[S,T]=M.useState(new Set),[C,E]=M.useState(null),L=M.useCallback(async()=>{if(!r)return;const G=(await Fg({examId:r})??[]).map(wk).filter(Boolean);return b(G),G},[r]);M.useEffect(()=>{async function q(){if(r){o(!0);try{const G=await an(r);s(yk(G)),await L()}catch(G){console.error("Khng th ti thng tin  thi:",G)}finally{o(!1)}}}q()},[r,L]),M.useEffect(()=>{if(i||!r||!t)return;const q=t.question_creation_method;if(!q){e(`/dashboard/teacher/exams/${r}/questions`,{replace:!0});return}q!=="text"&&e(`/dashboard/teacher/exams/${r}/questions/${q}`,{replace:!0})},[t,r,i,e]),M.useEffect(()=>{if(u||c.trim().length>0||p.length===0)return;const q=dl(p);q&&h(q)},[p,u,c]),M.useEffect(()=>{m(cv(c))},[c]);const _=M.useMemo(()=>!x.questions||x.questions.length===0?[]:x.questions.map((q,G)=>{const O=(q.text??"").trim(),I=(q.options??[]).map(ue=>fk(ue)),ne=p[G],K=mk(ne,{text:O,options:I});return ne?{...ne,text:O,options:I,isExisting:!0,hasChanges:K}:{id:void 0,text:O,options:I,isExisting:!1,hasChanges:!0}}),[x.questions,p]),D=M.useMemo(()=>{if(_.length>0){const q=p.slice(_.length).map(G=>({...G,isExisting:!0,hasChanges:!1}));return[..._,...q]}return p.map(q=>({...q,isExisting:!0,hasChanges:!1}))},[_,p]),H=M.useMemo(()=>D.map((q,G)=>q.isExisting?null:G).filter(q=>q!==null),[D]),z=M.useMemo(()=>D.map((q,G)=>q.isExisting?q.hasChanges?G:null:S.has(G)?null:G).filter(q=>q!==null),[D,S]),B=H.length;M.useEffect(()=>{if(D.length===0){A(null);return}if(k===null){A(0);return}k>=D.length&&A(D.length-1)},[D,k]);const P=M.useMemo(()=>c.trim().length>0||D.length>0,[c,D.length]),W=q=>{const G=D[q];return G?G.options.length<2?(alert("Mi cu hi phi c  2 la chn."),!1):G.options.some(O=>O.isCorrect)?!0:(alert("Mi cu hi phi c t nht 1 p n ng."),!1):!1},V=async q=>{const G=D[q];if(!G)return;const O=G.isExisting;if(!(O?!G.hasChanges:S.has(q))&&W(q)){E(q);try{const ne=pu(G);if(O){if(!ne.answers||!Array.isArray(ne.answers)||ne.answers.length===0){alert("Li: Khng th to payload cp nht v thiu p n. Vui lng th li.");return}if(ne.answers.filter(ae=>ae.is_correct).length===0){alert("Li: Phi c t nht 1 p n ng.");return}}O?await tg(G.id,ne):await eg({exam_id:r,order:p.length+1,...ne}),O||T(ue=>new Set([...ue,q]));const K=await L();if(O&&G.id&&K){const ue=K.find(ae=>ae.id===G.id);ue&&h(ae=>pk(ae,q,ue))}else if(!O&&K){const ue=dl(K);ue&&(h(ue),g(!1))}T(new Set)}catch(ne){const K=ne?.body?.message||ne?.message||"Khng th lu cu hi. Vui lng th li.";alert(K)}finally{E(null)}}},Q=async()=>{if(z.length===0){alert("Tt c cu hi  c lu.");return}for(const I of z)if(!W(I))return;let q=0;const G=p.length;let O=0;for(const I of z){const ne=D[I];if(ne)try{E(I),ne.isExisting?await tg(ne.id,pu(ne)):(await eg({exam_id:r,order:G+O+1,...pu(ne)}),O+=1),q+=1}catch(K){const ue=K?.body?.message||K?.message||`Khng th lu cu hi ${I+1}.`;alert(ue);break}finally{E(null)}}q>0&&(alert(` lu ${q} cu hi thnh cng!`),await L(),T(new Set))},Y=q=>{h(q),g(!0)},F=()=>{const q=dl(p);if(!q){alert("Hin khng c cu hi  lu  khi phc.");return}g(!1),h(q)},U=()=>{if(p.length===0){alert("Vui lng lu t nht mt cu hi trc khi quay li.");return}e("/dashboard/teacher/exams")};return i?a.jsx(Ye,{role:"teacher",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(He,{className:"animate-spin h-8 w-8 text-indigo-600"})})}):a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/questions`),className:"rounded-full border border-slate-200 p-2 hover:bg-slate-50",children:a.jsx(ta,{className:"h-5 w-5 text-slate-600"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thm cu hi bng vn bn"}),a.jsx("h1",{className:"mt-2 text-2xl lg:text-3xl font-bold text-slate-900 break-words",children:t?.title||" thi"}),t?.question_creation_method&&a.jsxs("p",{className:"mt-1 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-600",children:["Phng thc:"," ",gk[t.question_creation_method]||"Khng xc nh"]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("button",{type:"button",onClick:Q,disabled:B===0||x.errors.length>0||z.length===0||C!==null,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md disabled:opacity-60 disabled:cursor-not-allowed hover:bg-indigo-700 whitespace-nowrap",children:C!==null?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"animate-spin"}),a.jsx("span",{className:"hidden sm:inline",children:"ang lu..."}),a.jsx("span",{className:"sm:hidden",children:"ang lu"})]}):a.jsxs(a.Fragment,{children:[a.jsx(bi,{}),a.jsxs("span",{className:"hidden md:inline",children:["Lu tt c (",z.length," cu cha lu)"]}),a.jsxs("span",{className:"md:hidden",children:["Lu tt c (",z.length,")"]})]})}),a.jsxs("button",{type:"button",onClick:U,disabled:p.length===0,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-4 py-2.5 text-sm font-semibold text-white shadow-md disabled:opacity-60 disabled:cursor-not-allowed hover:bg-emerald-700 whitespace-nowrap",children:[a.jsx(bi,{}),a.jsxs("span",{className:"hidden md:inline",children:["Lu  thi (",p.length," cu  lu)"]}),a.jsxs("span",{className:"md:hidden",children:["Lu  thi (",p.length,")"]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>y(!w),className:"inline-flex items-center gap-2 rounded-full bg-pink-100 px-4 py-2 text-sm font-medium text-pink-700 hover:bg-pink-200",children:[a.jsx(Rg,{}),w?"n":"Xem"," hng dn"]}),w&&a.jsx("div",{className:"mt-3",children:a.jsx(bk,{})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Son cu hi"}),a.jsx("textarea",{value:c,onChange:q=>Y(q.target.value),placeholder:`V d:
When we went back to the bookstore, the bookseller_ the book we wanted.
A. sold
*B. had sold
C. sells
D. has sold

By the end of last summer, the farmers_ all the crop.
A. harvested
*B. had harvested
C. harvest
D. are harvested`,rows:30,className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-sm focus:border-indigo-500 focus:bg-white focus:outline-none"}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-xs text-slate-500",children:[a.jsx("button",{type:"button",onClick:F,disabled:p.length===0,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Khi phc vn bn t cu hi  lu"}),a.jsx("span",{children:p.length>0?`ang c ${p.length} cu hi  lu.`:"Cha c cu hi  lu  khi phc."})]})]})]}),a.jsxs("div",{className:"sticky top-6 rounded-2xl border border-slate-200 bg-slate-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm font-semibold text-slate-700",children:[a.jsx(Lc,{}),"Xem trc (",D.length," cu - ",p.length,"  lu,"," ",B," mi)"]}),a.jsx("div",{className:"max-h-[80vh] overflow-y-auto pr-2",children:a.jsx(vk,{questions:D,errors:x.errors,hasContent:P,selectedQuestionIndex:k,onSelectQuestion:A,savedQuestions:S,onSaveQuestion:V,savingQuestionIndex:C})})]})]})]})})}const bu=[{value:"single_choice",label:"Trc nghim (1 p n ng)"},{value:"multiple_choice",label:"Trc nghim (nhiu p n ng)"}],T0=[{value:"easy",label:"D"},{value:"medium",label:"Trung bnh"},{value:"hard",label:"Kh"}],dv=["single_choice","multiple_choice"],Nk={text:"Vn bn",editor:"Trnh son tho"},cc=(r=4)=>Array.from({length:r},(e,t)=>({text:"",is_correct:t===0})),ac=(r="single_choice")=>({question_text:"",type:r,difficulty:"medium",image_url:"",answers:cc()});function Sk(r){if(!r)return null;const e=(r.answers??r.question_answers??[]).map((t,s)=>({id:t.id??t.answer_id??t._id??`${s}`,text:t.text??t.answer_text??t.content??"",is_correct:!!(t.is_correct??t.correct??t.isCorrect??t.is_true),order:t.order??t.answer_order??s+1}));return{id:r.id??r.question_id??r._id,question_text:r.question_text??r.question??r.text??"Khng c tiu ",type:r.type??r.question_type??"single_choice",order:r.order??r.question_order??r.position??0,difficulty:r.difficulty??"medium",image_url:r.image_url??"",answers:e}}function kk(r){return r?{id:r.id??r.exam_id??r._id,title:r.title??r.name??" thi",minutes:r.minutes??r.duration??null,start_time:r.start_time??r.startTime??null,end_time:r.end_time??r.endTime??null,class_name:r.class?.className??r.className??r.class_name,question_creation_method:r.question_creation_method??r.questionMethod??r.question_method??null}:null}function _0({type:r,answers:e,onChange:t,disabled:s}){if(!dv.includes(r))return null;const i=(g,x)=>{const m=e.map((p,b)=>b===g?{...p,...x}:p);t(m)},o=g=>{if(r==="single_choice"){const x=e.map((m,p)=>({...m,is_correct:p===g}));t(x)}else if(r==="multiple_choice"){const x=e.map((m,p)=>p===g?{...m,is_correct:!m.is_correct}:m);t(x)}},c=()=>{r!=="single_choice"&&r!=="multiple_choice"||t([...e,{text:"",is_correct:!1}])},h=g=>{if(e.length<=2)return;const x=e.filter((m,p)=>p!==g);t(x)},u=2;return a.jsxs("div",{className:"space-y-3",children:[e.map((g,x)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("button",{type:"button",disabled:s,onClick:()=>o(x),className:`mt-2 flex h-10 w-10 items-center justify-center rounded-full border text-sm font-semibold ${g.is_correct?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-200 bg-white text-slate-500"}`,title:"nh du p n ng",children:String.fromCharCode(65+x)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("input",{type:"text",disabled:s,value:g.text,onChange:m=>i(x,{text:m.target.value}),placeholder:`p n ${String.fromCharCode(65+x)}`,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),a.jsx("p",{className:"mt-1 text-xs text-slate-400",children:g.is_correct?"p n ng":"p n sai"})]}),(r==="single_choice"||r==="multiple_choice")&&e.length>u&&a.jsx("button",{type:"button",disabled:s,onClick:()=>h(x),className:"mt-2 rounded-full border border-red-200 p-2 text-red-500 hover:bg-red-50",title:"Xa p n",children:a.jsx(bs,{})})]},x)),(r==="single_choice"||r==="multiple_choice")&&a.jsxs("button",{type:"button",disabled:s,onClick:c,className:"flex items-center gap-2 rounded-lg border border-dashed border-slate-300 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50",children:[a.jsx(pi,{}),"Thm p n"]})]})}function Ck(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(null),[i,o]=M.useState(!0),[c,h]=M.useState([]),[u,g]=M.useState(!0),[x,m]=M.useState(!1),[p,b]=M.useState(()=>ac("single_choice")),[w,y]=M.useState(!1),[k,A]=M.useState(""),[S,T]=M.useState(""),[C,E]=M.useState(null),[L,_]=M.useState(()=>ac("single_choice")),[D,H]=M.useState(!1),[z,B]=M.useState(null);M.useEffect(()=>{r&&(Q(),Y())},[r]),M.useEffect(()=>{if(i||!r||!t)return;const ie=t.question_creation_method;if(!ie){e(`/dashboard/teacher/exams/${r}/questions`,{replace:!0});return}ie!=="editor"&&e(`/dashboard/teacher/exams/${r}/questions/${ie}`,{replace:!0})},[t,r,i,e]);const P=M.useMemo(()=>[...c].sort((ie,je)=>(ie.order??1/0)-(je.order??1/0)),[c]),W=ie=>dv.includes(ie),V=()=>{b(ie=>ac(ie.type))};async function Q(){o(!0);try{const ie=await an(r);s(kk(ie))}catch(ie){T(ie?.body?.message||ie?.message||"Khng th ti thng tin  thi, vui lng th li.")}finally{o(!1)}}async function Y(){g(!0);try{const je=(await Fg({examId:r})).map(Sk).filter(Boolean);h(je),je.length>0&&z===null&&B(je[0].id)}catch(ie){T(ie?.body?.message||ie?.message||"Khng th ti danh sch cu hi.")}finally{g(!1)}}function F(ie){if(!ie.question_text?.trim())throw new Error("Vui lng nhp ni dung cu hi.");if(W(ie.type)){const je=ie.answers??[];if(je.length<2)throw new Error("Cn t nht 2 p n cho cu hi trc nghim.");const Le=je.filter(Ce=>Ce.is_correct).length;if(Le===0)throw new Error("Vui lng chn t nht 1 p n ng.");if(ie.type==="single_choice"&&Le!==1)throw new Error("Cu hi trc nghim (1 p n ng) phi c ng 1 p n ng.");if(je.some(Ce=>!Ce.text?.trim()))throw new Error("p n khng c  trng.")}else delete ie.answers;return ie}const U=(ie,je,Le="create")=>{(Le==="edit"?_:b)(mt=>{const We={...mt,[ie]:je};return ie==="type"&&(je==="single_choice"||je==="multiple_choice"||(We.type="single_choice"),We.answers=cc()),We})},q=(ie,je="create")=>{je==="edit"?_(Le=>({...Le,answers:ie})):b(Le=>({...Le,answers:ie}))},G=(ie,je={})=>{const Le={question_text:ie.question_text?.trim(),type:ie.type,difficulty:ie.difficulty||void 0,image_url:ie.image_url||void 0,answers:ie.answers?.map(Ce=>({text:Ce.text?.trim(),is_correct:!!Ce.is_correct})),...je};return F(Le)},O=async()=>{try{y(!0),T("");const ie=G(p,{exam_id:r,order:P.length+1}),je=await eg(ie),Le=je?.id??je?.question_id??je?.data?.id??null;A(" thm cu hi mi."),V(),await Y(),Le&&setTimeout(()=>{B(Le);const Ce=document.getElementById(`question-${Le}`);Ce&&Ce.scrollIntoView({behavior:"smooth",block:"center"})},200)}catch(ie){T(ie?.body?.message||ie?.message||"Khng th to cu hi.")}finally{y(!1)}},I=ie=>{E(ie.id),B(ie.id),_({question_text:ie.question_text,type:ie.type,difficulty:ie.difficulty??"medium",image_url:ie.image_url??"",answers:W(ie.type)?ie.answers?.map(je=>({id:je.id,text:je.text,is_correct:je.is_correct}))??cc():[]})},ne=()=>{E(null),B(null),_(ac())},K=async()=>{if(C)try{H(!0),T("");const ie=G(L);await tg(C,ie),A(" cp nht cu hi.");const je=C;ne(),Y(),setTimeout(()=>{B(je)},100)}catch(ie){T(ie?.body?.message||ie?.message||"Khng th cp nht.")}finally{H(!1)}},ue=async ie=>{if(window.confirm("Xa cu hi ny?"))try{await ck(ie),A(" xa cu hi."),z===ie&&B(null),Y()}catch(je){T(je?.body?.message||je?.message||"Khng th xa cu hi.")}},ae=async(ie,je)=>{const Le=P.findIndex(Ot=>Ot.id===ie.id);if(Le===-1)return;const Ce=Le+je;if(Ce<0||Ce>=P.length)return;const mt=z===ie.id,We=[...P],[Ts]=We.splice(Le,1);We.splice(Ce,0,Ts);const _s=We.map((Ot,fa)=>({...Ot,order:fa+1}));h(_s),mt&&B(ie.id),m(!0);try{await dk(r,_s.map(Ot=>({question_id:Ot.id,order:Ot.order}))),A(" cp nht th t cu hi.")}catch(Ot){T(Ot?.body?.message||Ot?.message||"Khng th sp xp cu hi."),Y()}finally{m(!1)}},te=ie=>{const je=C===ie.id,Le=z===ie.id;return a.jsxs("div",{id:`question-${ie.id}`,className:`rounded-2xl border bg-white p-5 shadow-sm transition-all duration-300 ease-in-out ${Le&&!je?"ring-2 ring-indigo-300 border-indigo-400":""}`,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:["Cu hi ",ie.order||P.indexOf(ie)+1]}),a.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-900",children:ie.question_text}),a.jsx("p",{className:"text-sm text-slate-500",children:bu.find(Ce=>Ce.value===ie.type)?.label||"Khng xc nh"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>ae(ie,-1),disabled:x||P.findIndex(Ce=>Ce.id===ie.id)===0,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[x?a.jsx(He,{className:"animate-spin"}):a.jsx(Lb,{})," Ln"]}),a.jsxs("button",{type:"button",onClick:()=>ae(ie,1),disabled:x||P.findIndex(Ce=>Ce.id===ie.id)===P.length-1,className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-xs font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[x?a.jsx(He,{className:"animate-spin"}):a.jsx(Mb,{})," Xung"]}),a.jsxs("button",{type:"button",onClick:()=>I(ie),className:"inline-flex items-center gap-1 rounded-full border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:[a.jsx(vj,{})," Chnh sa"]}),a.jsxs("button",{type:"button",onClick:()=>ue(ie.id),className:"inline-flex items-center gap-1 rounded-full border border-red-200 px-3 py-1 text-xs font-semibold text-red-600 hover:bg-red-50",children:[a.jsx(bs,{})," Xa"]})]})]}),W(ie.type)&&ie.answers?.length>0&&a.jsx("div",{className:"mt-4 space-y-2",children:ie.answers.map(Ce=>a.jsxs("div",{className:`flex items-center gap-2 rounded-lg border px-3 py-2 text-sm ${Ce.is_correct?"border-emerald-200 bg-emerald-50 text-emerald-800":"border-slate-200 bg-slate-50 text-slate-600"}`,children:[Ce.is_correct?a.jsx(ca,{}):a.jsx(Mc,{}),a.jsx("span",{className:"font-medium",children:Ce.text})]},Ce.id))}),je&&a.jsxs("div",{className:"mt-5 rounded-2xl border border-indigo-100 bg-indigo-50/60 p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-indigo-700",children:"ang chnh sa cu hi"}),a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Ni dung cu hi"}),a.jsx("textarea",{value:L.question_text,onChange:Ce=>U("question_text",Ce.target.value,"edit"),rows:3,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Loi cu hi"}),a.jsx("select",{value:L.type,onChange:Ce=>U("type",Ce.target.value,"edit"),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:bu.map(Ce=>a.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:" kh"}),a.jsx("select",{value:L.difficulty,onChange:Ce=>U("difficulty",Ce.target.value,"edit"),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:T0.map(Ce=>a.jsx("option",{value:Ce.value,children:Ce.label},Ce.value))})]})]}),a.jsx(_0,{type:L.type,answers:L.answers,onChange:Ce=>q(Ce,"edit"),disabled:D}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{type:"button",onClick:K,disabled:D,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-sm disabled:opacity-70",children:[D&&a.jsx(He,{className:"animate-spin"}),"Lu thay i"]}),a.jsx("button",{type:"button",onClick:ne,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600",children:"Hy"})]})]})]})]},`${ie.id}-${ie.order}`)},ve=()=>a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thm cu hi"}),a.jsx("h2",{className:"mt-1 text-xl font-semibold text-slate-900",children:"Xy dng ngn hng cu hi cho  thi"})]}),a.jsxs("button",{type:"button",onClick:O,disabled:w,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow-sm disabled:opacity-70",children:[w?a.jsx(He,{className:"animate-spin"}):a.jsx(pi,{}),"Lu cu hi"]})]}),a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-slate-700",children:["Ni dung cu hi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{rows:4,value:p.question_text,onChange:ie=>U("question_text",ie.target.value),placeholder:"Nhp cu hi...",className:"mt-1 w-full rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm focus:border-indigo-500 focus:bg-white focus:outline-none"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Loi cu hi"}),a.jsx("select",{value:p.type,onChange:ie=>U("type",ie.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:bu.map(ie=>a.jsx("option",{value:ie.value,children:ie.label},ie.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-slate-700",children:" kh"}),a.jsx("select",{value:p.difficulty,onChange:ie=>U("difficulty",ie.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:T0.map(ie=>a.jsx("option",{value:ie.value,children:ie.label},ie.value))})]})]}),a.jsx(_0,{type:p.type,answers:p.answers,onChange:q,disabled:w})]})]});return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-500 hover:text-slate-700",children:[a.jsx(ta,{})," Quay li"]}),a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Qun l cu hi"}),i?a.jsx("h1",{className:"mt-2 text-2xl font-bold text-slate-900",children:"ang ti..."}):a.jsx("h1",{className:"mt-2 text-2xl font-bold text-slate-900",children:t?.title||" thi"}),t?.minutes&&a.jsxs("p",{className:"text-sm text-slate-500",children:["Thi lng: ",t.minutes," pht"]}),t?.question_creation_method&&a.jsxs("p",{className:"mt-2 inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.3em] text-emerald-600",children:["Phng thc:"," ",Nk[t.question_creation_method]||"Khng xc nh"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/questions`),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 hover:bg-slate-50",children:[a.jsx(ta,{}),"Chn phng thc khc"]}),a.jsx("div",{className:"rounded-2xl border border-indigo-100 bg-indigo-50 px-4 py-3 text-sm text-indigo-700",children:"Trnh son tho - To v chnh sa cu hi th cng"}),a.jsxs("button",{type:"button",onClick:()=>e("/dashboard/teacher/exams"),disabled:P.length===0,className:"inline-flex items-center gap-2 rounded-full bg-emerald-600 px-6 py-3 text-sm font-semibold text-white shadow-md disabled:opacity-60 disabled:cursor-not-allowed hover:bg-emerald-700",children:[a.jsx(bi,{}),"Lu  thi (",P.length," cu hi)"]})]})]}),k&&a.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700",children:k}),S&&a.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:S}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx("div",{className:"space-y-6",children:ve()}),a.jsx("div",{className:"sticky top-6 space-y-6",children:a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-slate-400",children:"Danh sch cu hi"}),a.jsxs("h2",{className:"mt-1 text-xl font-semibold text-slate-900",children:[P.length," cu hi"]})]})}),u?a.jsxs("div",{className:"flex items-center gap-2 py-10 text-slate-500",children:[a.jsx(He,{className:"animate-spin"}),"ang ti cu hi..."]}):P.length===0?a.jsx("div",{className:"py-10 text-center text-slate-500",children:"Cha c cu hi no cho  ny. Hy s dng biu mu bn tri  thm cu hi u tin."}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Danh sch cu hi"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:P.map((ie,je)=>{const Le=z===ie.id,Ce=C===ie.id;return a.jsx("button",{type:"button",onClick:()=>{B(ie.id)},className:`w-10 h-10 rounded-lg font-semibold text-sm transition-all duration-300 ease-in-out transform ${Le||Ce?"bg-indigo-600 text-white ring-2 ring-indigo-300 scale-110":"bg-white border-2 border-slate-300 text-slate-700 hover:border-indigo-400 hover:bg-indigo-50 hover:scale-105"}`,style:{transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)"},children:je+1},`${ie.id}-${ie.order}`)})})]}),z&&P.find(ie=>ie.id===z)&&a.jsx("div",{className:"mt-6",children:te(P.find(ie=>ie.id===z))}),!z&&P.length>0&&a.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"Chn mt cu hi  xem chi tit"})]})]})})]})]})})}function Ak(r){return r?(Array.isArray(r)?r:Array.isArray(r?.data)?r.data:Array.isArray(r?.classes)?r.classes:[]).map(t=>({id:t.id??t.classId??t._id??t.class_id,className:t.className??t.name??"Khng tn",classCode:t.classCode??t.class_code??""})):[]}function Tk(r){if(!r)return null;const e=s=>{if(!s)return"";const i=new Date(s),o=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),h=String(i.getDate()).padStart(2,"0"),u=String(i.getHours()).padStart(2,"0"),g=String(i.getMinutes()).padStart(2,"0");return`${o}-${c}-${h}T${u}:${g}`};let t=[];return r.classes&&Array.isArray(r.classes)?t=r.classes.map(s=>s.id??s.classId??s._id??s.class_id).filter(Boolean):r.class_id&&(t=[r.class_id]),{id:r.id??r.exam_id??r._id,title:r.title??"",minutes:r.minutes??45,startTime:e(r.start_time),endTime:e(r.end_time),noTimeLimit:!r.start_time||!r.end_time,classIds:t,description:r.des??r.description??"",totalScore:r.total_score??r.totalScore??"",isPublic:r.is_public??r.isPublic??!0,isPaid:r.is_paid??r.isPaid??!1,fee:r.fee??"",imageUrl:r.image_url??r.imageUrl??""}}function vu({title:r,description:e,children:t}){return a.jsxs("section",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:r}),e&&a.jsx("p",{className:"text-sm text-slate-500",children:e})]}),t]})}const E0=({label:r,checked:e,onChange:t,description:s})=>a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-center justify-between text-sm font-medium text-gray-700",children:[r,a.jsx("button",{type:"button",onClick:()=>t(!e),className:`relative inline-flex h-6 w-11 items-center rounded-full ${e?"bg-indigo-600":"bg-gray-300"}`,children:a.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${e?"translate-x-6":"translate-x-1"}`})})]}),s&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:s})]});function _k(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(null),[i,o]=M.useState([]),[c,h]=M.useState(!0),[u,g]=M.useState(!0),[x,m]=M.useState({loading:!1,message:""}),[p,b]=M.useState(!1),[w,y]=M.useState(null),[k,A]=M.useState(null),[S,T]=M.useState(!1),[C,E]=M.useState("");M.useEffect(()=>{async function P(){h(!0);try{const[W,V]=await Promise.all([an(r),Bc()]),Q=Tk(W);if(!Q){$.error("Khng tm thy  thi."),e("/dashboard/teacher/exams");return}if(s(Q),o(Ak(V)),Q.imageUrl){const Y="http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000",F=Q.imageUrl.startsWith("http")?Q.imageUrl:`${Y}${Q.imageUrl}`;A(F)}}catch(W){$.error(W?.body?.message||W?.message||"Khng th ti d liu."),e("/dashboard/teacher/exams")}finally{h(!1),g(!1)}}r&&P()},[r,e]);const L=(P,W)=>{s(V=>{const Q={...V,[P]:W};if(P==="startTime"&&Q.endTime&&W){const Y=new Date(W);if(new Date(Q.endTime)<=Y){const U=new Date(Y);U.setHours(U.getHours()+1);const q=U.getFullYear(),G=String(U.getMonth()+1).padStart(2,"0"),O=String(U.getDate()).padStart(2,"0"),I=String(U.getHours()).padStart(2,"0"),ne=String(U.getMinutes()).padStart(2,"0");Q.endTime=`${q}-${G}-${O}T${I}:${ne}`}}return Q})},_=()=>{if(!t.title.trim())return $.error("Vui lng nhp tn  thi."),!1;if(!t.minutes||Number(t.minutes)<=0)return $.error("Thi gian lm bi phi ln hn 0."),!1;if(t.totalScore&&Number(t.totalScore)<=0)return $.error("Tng im phi ln hn 0."),!1;if(!t.noTimeLimit){if(!t.startTime||!t.endTime)return $.error("Vui lng chn thi gian bt u v kt thc, hoc chn 'Khng gii hn thi gian'."),!1;if(t.startTime>=t.endTime)return $.error("Thi gian kt thc phi sau thi gian bt u."),!1}if(t.isPaid){const P=Number(t.fee);if(!t.fee||isNaN(P)||P<=0)return $.error("Vui lng nhp mc ph hp l (ln hn 0)."),!1}return!0},D=async P=>{const W=P.target.files[0];if(!W)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(W.type)){$.error("Ch cho php upload file nh (jpeg, jpg, png, gif, webp)");return}const Q=5*1024*1024;if(W.size>Q){$.error("Kch thc file khng c vt qu 5MB");return}y(W);const Y=new FileReader;Y.onloadend=()=>{A(Y.result)},Y.readAsDataURL(W);try{T(!0);const F=await ov(W),U=F.image_url||F.data?.image_url;if(U){const q="http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000",G=U.startsWith("http")?U:`${q}${U}`;s(O=>({...O,imageUrl:U})),A(G),$.success("Upload nh thnh cng!")}}catch(F){console.error("Error uploading image:",F),$.error(F.message||"Khng th upload nh"),y(null),A(null)}finally{T(!1)}},H=()=>{y(null),A(null),s(P=>({...P,imageUrl:""}))},z=async()=>{if(!_())return;const P=V=>V?new Date(V).toISOString():void 0,W={title:t.title.trim(),minutes:Number(t.minutes),start_time:t.noTimeLimit?null:P(t.startTime),end_time:t.noTimeLimit?null:P(t.endTime),class_ids:t.classIds&&t.classIds.length>0?t.classIds:null,des:t.description.trim()||null,total_score:t.totalScore?Number(t.totalScore):null,is_public:t.isPublic,is_paid:t.isPaid,fee:t.isPaid?Number(t.fee):null,image_url:t.imageUrl.trim()||null};if(W.is_paid&&(!W.fee||isNaN(W.fee)||W.fee<=0)){$.error("Vui lng nhp mc ph hp l (ln hn 0).");return}m({loading:!0,message:""});try{await Yg(r,W),$.success(" cp nht  thi thnh cng."),m({loading:!1,message:" cp nht  thi thnh cng."})}catch(V){const Q=V?.body?.message||V?.message||"Khng th cp nht  thi. Vui lng th li.";m({loading:!1,message:Q}),$.error(Q)}},B=async()=>{if(window.confirm("Bn chc chn mun xa  thi ny? Hnh ng ny khng th hon tc.")){b(!0);try{await iv(r),$.success(" xa  thi thnh cng."),e("/dashboard/teacher/exams")}catch(P){$.error(P?.body?.message||P?.message||"Khng th xa  thi."),b(!1)}}};return c||!t?a.jsx(Ye,{role:"teacher",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[a.jsx(ta,{}),"Quay li"]}),a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Chnh sa  thi"})]}),a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t.title}),a.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"Cp nht thng tin  thi. Sau khi lu, bn c th tip tc qun l cu hi."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{type:"button",onClick:B,disabled:p,className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2.5 text-sm font-semibold text-red-600 shadow-sm transition hover:bg-red-50 hover:shadow-md disabled:opacity-60",children:[p?a.jsx(He,{className:"animate-spin"}):a.jsx(bs,{}),"Xa  thi"]}),a.jsxs("button",{type:"button",onClick:z,disabled:x.loading,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-6 py-3 text-sm font-semibold text-white shadow-md transition hover:bg-indigo-700 hover:shadow-lg disabled:opacity-60",children:[x.loading&&a.jsx(He,{className:"animate-spin"}),"Lu thay i"]})]})]}),a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),x.message&&a.jsx("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-medium text-emerald-700 shadow-sm",children:x.message}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(vu,{title:"Thng tin chung",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Tn  thi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:t.title,onChange:P=>L("title",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"Nhp tn  thi"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tng im"}),a.jsx("input",{type:"number",value:t.totalScore,min:0,onChange:P=>L("totalScore",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 100"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-slate-200 bg-slate-50 p-3",children:[a.jsx("input",{type:"checkbox",id:"noTimeLimit",checked:t.noTimeLimit,onChange:P=>{if(L("noTimeLimit",P.target.checked),P.target.checked)L("startTime",""),L("endTime","");else{const W=new Date,V=W.getFullYear(),Q=String(W.getMonth()+1).padStart(2,"0"),Y=String(W.getDate()).padStart(2,"0"),F=String(W.getHours()).padStart(2,"0"),U=String(W.getMinutes()).padStart(2,"0"),q=`${V}-${Q}-${Y}T${F}:${U}`;L("startTime",q)}},className:"mt-0.5 h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-2 focus:ring-indigo-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{htmlFor:"noTimeLimit",className:"text-sm font-semibold text-gray-700 cursor-pointer",children:"Khng gii hn thi gian"}),a.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"Nu chn, hc sinh c th lm bi thi bt c lc no m khng b gii hn bi thi gian bt u v kt thc."})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Thi gian lm bi (pht) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",min:1,value:t.minutes,onChange:P=>L("minutes",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),!t.noTimeLimit&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bt u ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"datetime-local",value:t.startTime,onChange:P=>L("startTime",P.target.value),step:"60",max:t.endTime||void 0,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Kt thc ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"datetime-local",value:t.endTime,min:t.startTime||void 0,onChange:P=>{const W=P.target.value;if(t.startTime&&W){const V=new Date(t.startTime);if(new Date(W)<=V){$.error("Thi gian kt thc phi ln hn thi gian bt u!");return}}L("endTime",W)},step:"60",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"}),t.startTime&&t.endTime&&new Date(t.endTime)<=new Date(t.startTime)&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Thi gian kt thc phi ln hn thi gian bt u"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M t"}),a.jsx("textarea",{rows:3,value:t.description,onChange:P=>L("description",P.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200 resize-none",placeholder:"Thng tin m t  thi, hng dn, ghi ch..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"nh  thi (ty chn)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 px-4 py-3 text-sm font-medium text-slate-700 transition hover:border-indigo-400 hover:bg-indigo-50",children:[S?a.jsxs(a.Fragment,{children:[a.jsx(He,{className:"mr-2 animate-spin"}),"ang upload..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"mr-2 h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Chn nh"]}),a.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:D,className:"hidden",disabled:S})]}),k&&a.jsx("button",{type:"button",onClick:H,className:"rounded-lg border border-red-300 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition hover:bg-red-100",children:"Xa nh"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Chn nh t my tnh (ti a 5MB).  trng s s dng nh mc nh."}),k&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-slate-700",children:"Xem trc:"}),a.jsx("img",{src:k,alt:"Preview",className:"h-48 w-full rounded-lg border border-slate-200 object-cover"})]})]})]})]}),a.jsx(vu,{title:"Giao  cho lp",children:u?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[a.jsx(He,{className:"animate-spin"}),"ang ti danh sch lp..."]}):i.length===0?a.jsx("p",{className:"text-sm text-slate-500",children:"Bn cha c lp no. Vo mc Lp hc  to mi hoc b trng trng ny."}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chn lp (c th chn nhiu lp)"}),a.jsxs("div",{className:"mb-3 relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx("input",{type:"text",value:C,onChange:P=>E(P.target.value),placeholder:"Tm kim lp theo tn hoc m lp...",className:"w-full rounded-lg border border-slate-200 pl-10 pr-3 py-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsxs("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-slate-200 bg-slate-50 p-2",children:[i.filter(P=>{if(!C.trim())return!0;const W=C.toLowerCase();return P.className?.toLowerCase().includes(W)||P.classCode?.toLowerCase().includes(W)}).map(P=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer hover:bg-white p-2 rounded transition-colors",children:[a.jsx("input",{type:"checkbox",checked:t.classIds?.includes(P.id)||!1,onChange:W=>{const V=t.classIds||[];W.target.checked?L("classIds",[...V,P.id]):L("classIds",V.filter(Q=>Q!==P.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-slate-300 rounded"}),a.jsxs("span",{className:"text-sm text-gray-700 flex-1",children:[a.jsx("span",{className:"font-medium",children:P.className}),P.classCode&&a.jsxs("span",{className:"text-slate-500 ml-1",children:["(",P.classCode,")"]})]})]},P.id)),i.filter(P=>{if(!C.trim())return!0;const W=C.toLowerCase();return P.className?.toLowerCase().includes(W)||P.classCode?.toLowerCase().includes(W)}).length===0&&a.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"Khng tm thy lp no ph hp"})]}),t.classIds&&t.classIds.length>0&&a.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-slate-500",children:[" chn ",a.jsx("span",{className:"font-semibold text-indigo-600",children:t.classIds.length})," lp"]}),a.jsx("button",{type:"button",onClick:()=>L("classIds",[]),className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"B chn tt c"})]})]})}),a.jsxs(vu,{title:"Cng khai v thu ph",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:a.jsx(E0,{label:"Cho php hc sinh bn ngoi lp truy cp",checked:t.isPublic,onChange:P=>L("isPublic",P),description:"Nu bt, hc sinh khng thuc lp c gn cng c th lm bi thi ny."})}),a.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:a.jsx(E0,{label:"Thu ph mi ln lm bi",checked:t.isPaid,onChange:P=>{L("isPaid",P),P&&(!t.fee||Number(t.fee)<=0)&&L("fee","10000")},description:"Hc sinh s b tr tin mi ln bt u lm bi thi ny (n v VN)."})})]}),t.isPaid&&a.jsxs("div",{className:"mt-4 rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Ph mi ln lm bi (VN) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",min:1,required:!0,value:t.fee,onChange:P=>L("fee",P.target.value),className:"w-full max-w-md rounded-lg border border-slate-300 bg-white px-4 py-2.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",placeholder:"V d: 50000"}),(!t.fee||Number(t.fee)<=0)&&a.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Vui lng nhp mc ph hp l (ln hn 0)"}),a.jsx("p",{className:"mt-2 text-xs text-slate-600",children:"S tin s c tr t ti khon hc sinh mi ln h bt u lm bi thi."})]})]})]})]})})}function Ek(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/results`)}function Mk(r,e){if(!r)throw new Error("resultId l bt buc.");if(e.feedback===void 0)throw new Error("feedback l bt buc.");return pe.put(`/api/exam-results/${r}/feedback`,{feedback:e.feedback})}async function Lk(r,e="csv"){if(!r)throw new Error("examId l bt buc.");const t="http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000",s=localStorage.getItem("accessToken"),i=await fetch(`${t}/api/exams/${r}/results/export?format=${e}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"x-access-token":s}});if(!i.ok){const o=await i.json().catch(()=>({message:i.statusText})),c=new Error(o.message||"Export failed");throw c.status=i.status,c.body=o,c}return e==="csv"?await i.blob():await i.json()}function hv(r={}){const e=new URLSearchParams;r.exam_id&&e.set("exam_id",r.exam_id);const t=e.toString();return pe.get(`/api/exam-results/my-results${t?`?${t}`:""}`)}function zk(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/my-comparison`)}function Dk(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(null),[i,o]=M.useState([]),[c,h]=M.useState(!0),[u,g]=M.useState(null),[x,m]=M.useState(""),[p,b]=M.useState(!1),[w,y]=M.useState(!1);M.useEffect(()=>{r&&k()},[r]);const k=async()=>{h(!0);try{const[L,_]=await Promise.all([an(r),Ek(r)]);s(L);const D=_?.results||[];o(D)}catch(L){$.error(L?.body?.message||L?.message||"Khng th ti d liu kt qu thi.")}finally{h(!1)}},A=L=>{g(L.id),m(L.feedback||"")},S=()=>{g(null),m("")},T=async L=>{b(!0);try{await Mk(L,{feedback:x}),$.success(" cp nht feedback thnh cng."),g(null),m(""),k()}catch(_){$.error(_?.body?.message||_?.message||"Khng th cp nht feedback.")}finally{b(!1)}},C=(L,_)=>{if(!_||_===0)return 0;const D=typeof L=="number"?L:parseFloat(L)||0,H=typeof _=="number"?_:parseFloat(_)||0;return H===0?0:(D/H*100).toFixed(1)},E=async()=>{if(!r||i.length===0){$.warning("Khng c d liu  xut.");return}y(!0);try{const L=await Lk(r,"csv"),_=new Blob([L],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),H=URL.createObjectURL(_);D.setAttribute("href",H),D.setAttribute("download",`ket-qua-thi-${t?.title?.replace(/[^a-z0-9]/gi,"_")||"exam"}-${Date.now()}.csv`),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D),$.success(" xut kt qu thi thnh cng.")}catch(L){$.error(L?.body?.message||L?.message||"Khng th xut kt qu thi.")}finally{y(!1)}};return c?a.jsx(Ye,{role:"teacher",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(ta,{}),"Quay li"]}),a.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Kt qu thi"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:t?.title||" thi"}),t?.total_score&&a.jsxs("p",{className:"text-sm text-slate-500",children:["Tng im: ",t.total_score," im"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.length>0&&a.jsxs("button",{type:"button",onClick:E,disabled:w,className:"inline-flex items-center gap-2 rounded-xl border border-indigo-200 bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-700 transition hover:bg-indigo-100 disabled:opacity-60",children:[w?a.jsx(He,{className:"animate-spin"}):a.jsx(bj,{}),w?"ang xut...":"Xut Excel/CSV"]}),a.jsxs("button",{type:"button",onClick:()=>e(`/dashboard/teacher/exams/${r}/monitoring`),className:"inline-flex items-center gap-2 rounded-xl border border-amber-200 bg-amber-50 px-4 py-2 text-xs font-semibold text-amber-700 transition hover:bg-amber-100",children:[a.jsx(Us,{}),"Gim st gian ln"]})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsxs("h2",{className:"text-lg font-semibold text-slate-900",children:["Danh sch kt qu (",i.length," bi lm)"]}),a.jsxs("button",{type:"button",onClick:k,className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(He,{className:"animate-spin"}),"Lm mi"]})]}),i.length===0?a.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c hc sinh no lm bi thi ny."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"Hc sinh"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"im s"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"ng/Sai"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"T l"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Thi gian np"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Feedback"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Hnh ng"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:i.map(L=>{const _=u===L.id,D=C(L.total_score,t?.total_score);return a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qn,{className:"text-slate-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900",children:L.student?.fullName||"Khng tn"}),a.jsx("p",{className:"text-xs text-slate-500",children:L.student?.email||""})]})]})}),a.jsxs("td",{className:"px-4 py-4 text-center",children:[a.jsx("span",{className:"font-bold text-lg text-slate-900",children:(typeof L.total_score=="number"?L.total_score:parseFloat(L.total_score)||0).toFixed(1)}),t?.total_score&&a.jsxs("span",{className:"text-xs text-slate-500",children:[" ","/ ",t.total_score]})]}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1 text-emerald-600",children:[a.jsx(ca,{}),L.correct_count||0]}),a.jsx("span",{className:"text-slate-400",children:"/"}),a.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[a.jsx(Bb,{}),L.wrong_count||0]})]})}),a.jsx("td",{className:"px-4 py-4 text-center",children:a.jsxs("span",{className:`font-semibold ${D>=80?"text-emerald-600":D>=50?"text-yellow-600":"text-red-600"}`,children:[D,"%"]})}),a.jsx("td",{className:"px-4 py-4 text-center text-xs text-slate-600",children:L.submitted_at?jt(L.submitted_at):""}),a.jsx("td",{className:"px-4 py-4",children:_?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:x,onChange:H=>m(H.target.value),placeholder:"Nhp feedback cho hc sinh...",rows:3,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>T(L.id),disabled:p,className:"inline-flex items-center gap-1 rounded-lg bg-indigo-600 px-3 py-1 text-xs font-semibold text-white disabled:opacity-60",children:[p?a.jsx(He,{className:"animate-spin"}):a.jsx(bi,{}),"Lu"]}),a.jsxs("button",{type:"button",onClick:S,className:"inline-flex items-center gap-1 rounded-lg border border-slate-200 px-3 py-1 text-xs font-semibold text-slate-600",children:[a.jsx(ps,{}),"Hy"]})]})]}):a.jsx("div",{children:L.feedback?a.jsx("p",{className:"text-sm text-slate-700",children:L.feedback}):a.jsx("p",{className:"text-xs text-slate-400",children:"Cha c feedback"})})}),a.jsx("td",{className:"px-4 py-4 text-center",children:!_&&a.jsxs("button",{type:"button",onClick:()=>A(L),className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:[a.jsx(fi,{}),L.feedback?"Sa":"Thm"]})})]},L.id)})})]})})]})]})})}function Rk(r,e){if(!r)throw new Error("sessionId l bt buc.");if(!e?.cheating_type)throw new Error("cheating_type l bt buc.");return pe.post(`/api/sessions/${r}/cheating-log`,e)}function Ok(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/cheating-logs`)}const M0={low:"bg-blue-100 text-blue-700 border-blue-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",high:"bg-orange-100 text-orange-700 border-orange-200",critical:"bg-red-100 text-red-700 border-red-200"},uv={low:"Thp",medium:"Trung bnh",high:"Cao",critical:"Nghim trng"},gv={tab_switch:"Chuyn tab",window_blur:"Mt focus ca s",fullscreen_exit:"Thot fullscreen",copy_paste:"Copy/Paste",right_click:"Click chut phi",keyboard_shortcut:"Phm tt",multiple_tabs:"Nhiu tab",time_suspicious:"Thi gian bt thng",answer_pattern:"Mu tr li bt thng",device_change:"Thay i thit b",ip_change:"Thay i IP",browser_change:"Thay i trnh duyt",other:"Khc"};function Hk({log:r}){const[e,t]=M.useState(!1),s=(o,c)=>{if(!o||typeof o!="object")return null;const h=[];return o.timestamp&&h.push({label:"Thi gian",value:new Date(o.timestamp).toLocaleString("vi-VN"),icon:a.jsx(Qi,{className:"text-slate-400"})}),o.user_agent&&h.push({label:"Trnh duyt",value:o.user_agent,icon:a.jsx(yj,{className:"text-slate-400"})}),o.window_count!==void 0&&c==="multiple_tabs"&&h.push({label:"S ca s",value:o.window_count,icon:a.jsx(Pb,{className:"text-slate-400"})}),Object.keys(o).forEach(u=>{const g=["timestamp","user_agent"];c==="tab_switch"&&u==="window_count"||!g.includes(u)&&!(u==="window_count"&&c!=="multiple_tabs")&&h.push({label:u.replace(/_/g," ").replace(/\b\w/g,x=>x.toUpperCase()),value:typeof o[u]=="object"?JSON.stringify(o[u],null,2):String(o[u]),icon:a.jsx(Rg,{className:"text-slate-400"})})}),h},i=r.metadata?s(r.metadata,r.cheating_type):null;return a.jsx("div",{className:"group transition hover:bg-slate-50",children:a.jsx("div",{className:"px-6 py-4",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${r.severity==="critical"?"bg-red-100":r.severity==="high"?"bg-orange-100":r.severity==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:a.jsx(Mc,{className:`text-lg ${r.severity==="critical"?"text-red-600":r.severity==="high"?"text-orange-600":r.severity==="medium"?"text-yellow-600":"text-blue-600"}`})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Qn,{className:"text-slate-400 flex-shrink-0"}),a.jsx("p",{className:"font-semibold text-slate-900 truncate",children:r.student?.fullName||"Khng tn"})]}),a.jsx("p",{className:"text-xs text-slate-500 truncate",children:r.student?.email||""})]}),a.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:a.jsx("span",{className:`inline-flex items-center rounded-full border px-3 py-1 text-xs font-semibold ${M0[r.severity]||M0.medium}`,children:uv[r.severity]||r.severity})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600",children:[a.jsx(Qi,{className:"text-slate-400"}),a.jsx("span",{className:"text-xs",children:r.detected_at?jt(r.detected_at):""})]}),a.jsx("div",{className:"flex items-center gap-1.5",children:a.jsx("span",{className:"text-xs font-medium text-slate-700",children:gv[r.cheating_type]||r.cheating_type})})]}),r.description&&a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:r.description})]})]}),i&&i.length>0&&a.jsxs("div",{className:"ml-14",children:[a.jsx("button",{type:"button",onClick:()=>t(!e),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-1.5 text-xs font-semibold text-indigo-600 shadow-sm transition hover:bg-indigo-50 hover:shadow-md",children:e?a.jsxs(a.Fragment,{children:[a.jsx(zb,{}),"n chi tit"]}):a.jsxs(a.Fragment,{children:[a.jsx(Dg,{}),"Xem chi tit"]})}),e&&a.jsx("div",{className:"mt-3 rounded-lg border border-slate-200 bg-slate-50 p-4 space-y-3",children:i.map((o,c)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-semibold text-slate-700 mb-0.5",children:o.label}),a.jsx("p",{className:"text-xs text-slate-600 break-words",children:o.value})]})]},c))})]})]})})})})}function Pk(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(null),[i,o]=M.useState([]),[c,h]=M.useState(null),[u,g]=M.useState(!0),[x,m]=M.useState(!1),[p,b]=M.useState({severity:"",type:"",studentId:""});M.useEffect(()=>{r&&w()},[r]),M.useEffect(()=>{if(x){const T=setInterval(()=>{y()},5e3);return()=>clearInterval(T)}},[x,r,p]);const w=async()=>{g(!0);try{const[T]=await Promise.all([an(r),y()]);s(T)}catch(T){$.error(T?.body?.message||T?.message||"Khng th ti d liu.")}finally{g(!1)}},y=async()=>{try{const T=await Ok(r);o(T.logs||[]),h(T.statistics||null)}catch(T){console.error("Error loading logs:",T),x||$.error(T?.body?.message||T?.message||"Khng th ti logs.")}},k=i.filter(T=>!(p.severity&&T.severity!==p.severity||p.type&&T.cheating_type!==p.type||p.studentId&&T.student_id?.toString()!==p.studentId)),A=Array.from(new Set(i.map(T=>T.student_id))).map(T=>{const C=i.find(E=>E.student_id===T);return{id:T,name:C?.student?.fullName||"Khng tn",email:C?.student?.email||""}}),S=Array.from(new Set(i.map(T=>T.cheating_type)));return u?a.jsx(Ye,{role:"teacher",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-red-100 bg-gradient-to-br from-red-50 via-white to-orange-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-xs font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[a.jsx(ta,{}),"Quay li"]}),a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-red-500",children:"Gim st gian ln"})]}),a.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:t?.title||" thi"}),a.jsx("p",{className:"mt-1.5 text-sm text-slate-600",children:"Theo di cc hnh vi gian ln trong thi gian thc"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("button",{type:"button",onClick:y,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm font-semibold text-slate-600 shadow-sm transition hover:bg-slate-50 hover:shadow-md",children:[a.jsx(sr,{className:u?"animate-spin":""}),"Lm mi"]}),a.jsxs("button",{type:"button",onClick:()=>m(!x),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2.5 text-sm font-semibold shadow-sm transition ${x?"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-lg":"border border-slate-200 bg-white text-slate-600 hover:bg-slate-50 hover:shadow-md"}`,children:[a.jsx(Qi,{}),x?"Tt t ng":"Bt t ng"]})]})]}),a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-red-200 opacity-20 blur-2xl"})]}),c&&a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm text-slate-500",children:"Tng s kin"}),a.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:c.total_events||i.length})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm text-slate-500",children:"S hc sinh"}),a.jsx("div",{className:"mt-1 text-2xl font-bold text-slate-900",children:c.total_students||A.length})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm text-slate-500",children:"Mc  cao"}),a.jsx("div",{className:"mt-1 text-2xl font-bold text-red-600",children:(c.by_severity?.high||0)+(c.by_severity?.critical||0)})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm text-slate-500",children:"ang theo di"}),a.jsx("div",{className:"mt-1 flex items-center gap-2",children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-3 w-3 animate-pulse rounded-full bg-emerald-500"}),a.jsx("span",{className:"text-lg font-semibold text-emerald-600",children:"Hot ng"})]}):a.jsx("span",{className:"text-lg font-semibold text-slate-400",children:"Tm dng"})})]})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[a.jsx(fl,{className:"text-slate-500"}),a.jsx("h3",{className:"font-semibold text-slate-900",children:"B lc"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Mc  nghim trng"}),a.jsxs("select",{value:p.severity,onChange:T=>b(C=>({...C,severity:T.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:"",children:"Tt c"}),Object.entries(uv).map(([T,C])=>a.jsx("option",{value:T,children:C},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Loi gian ln"}),a.jsxs("select",{value:p.type,onChange:T=>b(C=>({...C,type:T.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:"",children:"Tt c"}),S.map(T=>a.jsx("option",{value:T,children:gv[T]||T},T))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-xs font-medium text-slate-700",children:"Hc sinh"}),a.jsxs("select",{value:p.studentId,onChange:T=>b(C=>({...C,studentId:T.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:"",children:"Tt c"}),A.map(T=>a.jsxs("option",{value:T.id,children:[T.name," (",T.email,")"]},T.id))]})]})]})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-slate-200 bg-slate-50 px-6 py-4",children:a.jsxs("h2",{className:"text-lg font-bold text-slate-900",children:["Danh sch s kin (",k.length,")"]})}),k.length===0?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Mc,{className:"mx-auto mb-3 text-4xl text-slate-300"}),a.jsx("p",{className:"text-sm text-slate-500",children:i.length===0?"Cha c s kin gian ln no c ghi nhn.":"Khng c s kin no khp vi b lc."})]}):a.jsx("div",{className:"divide-y divide-slate-100",children:k.map(T=>a.jsx(Hk,{log:T},T.id))})]})]})})}function Bk(r={}){const e=new URLSearchParams;Object.entries(r).forEach(([s,i])=>{i==null||i===""||e.set(s,i)});const t=e.toString();return t?`?${t}`:""}function fv(r={}){const e=Bk({page:r.page,limit:r.limit,unread_only:r.unread_only});return pe.get(`/api/notifications${e}`)}function xv(){return pe.get("/api/notifications/unread-count")}function sg(r){if(!r)throw new Error("notificationId l bt buc.");return pe.put(`/api/notifications/${r}/read`)}function mv(){return pe.put("/api/notifications/read-all")}function pv(r){if(!r)throw new Error("notificationId l bt buc.");return pe.delete(`/api/notifications/${r}`)}function Xk(){const r=rt(),[e,t]=M.useState([]),[s,i]=M.useState(0),[o,c]=M.useState(!0),[h,u]=M.useState({page:1,limit:20,total:0,totalPages:1}),[g,x]=M.useState("all"),m=S=>{if(!S.data)return null;let T;try{T=typeof S.data=="string"?JSON.parse(S.data):S.data}catch{return null}switch(S.type){case"exam_submitted":if(T.exam_id)return`/dashboard/teacher/exams/${T.exam_id}/results`;break;case"student_joined_class":if(T.class_id)return`/teacher/classes/${T.class_id}`;break;case"exam_assigned_to_class":if(T.class_id)return`/teacher/classes/${T.class_id}`;break;case"feedback_updated":if(T.exam_id)return`/dashboard/teacher/exams/${T.exam_id}`;break;default:return null}return null},p=async S=>{const T=m(S);if(T){if(!S.is_read)try{await sg(S.id),w(),b()}catch(C){console.error("Error marking notification as read:",C)}r(T)}};M.useEffect(()=>{b(),w()},[h.page,g]);const b=async()=>{try{const S=await xv();i(S?.unread_count||0)}catch(S){console.error("Khng th ti s lng thng bo cha c:",S)}},w=async()=>{c(!0);try{const S=await fv({page:h.page,limit:h.limit,unread_only:g==="unread"}),T=S?.notifications||[],C=S?.pagination||{};t(T),u(E=>({...E,total:C.total||0,totalPages:C.total_pages||1}))}catch(S){$.error(S?.body?.message||S?.message||"Khng th ti thng bo.")}finally{c(!1)}},y=async S=>{try{await sg(S),$.success(" nh du  c."),w(),b()}catch(T){$.error(T?.body?.message||T?.message||"Khng th nh du  c.")}},k=async()=>{try{await mv(),$.success(" nh du tt c l  c."),w(),b()}catch(S){$.error(S?.body?.message||S?.message||"Khng th nh du tt c l  c.")}},A=async S=>{if(window.confirm("Bn chc chn mun xa thng bo ny?"))try{await pv(S),$.success(" xa thng bo."),w(),b()}catch(T){$.error(T?.body?.message||T?.message||"Khng th xa thng bo.")}};return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"relative overflow-hidden rounded-2xl border border-indigo-100 bg-gradient-to-br from-indigo-50 via-white to-purple-50 p-6 shadow-sm",children:[a.jsxs("div",{className:"relative z-10 flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thng bo"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Qun l thng bo"}),s>0&&a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex h-2 w-2 animate-pulse rounded-full bg-indigo-600"}),a.jsxs("p",{className:"text-sm font-medium text-slate-600",children:["C ",a.jsx("span",{className:"font-bold text-indigo-600",children:s})," thng bo cha c"]})]})]}),s>0&&a.jsxs("button",{type:"button",onClick:k,className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-semibold text-white shadow-md transition-all hover:bg-indigo-700 hover:shadow-lg hover:-translate-y-0.5",children:[a.jsx(ca,{}),"nh du tt c  c"]})]}),a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 rounded-full bg-indigo-200 opacity-20 blur-2xl"})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{x("all"),u(S=>({...S,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${g==="all"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Tt c"}),a.jsxs("button",{type:"button",onClick:()=>{x("unread"),u(S=>({...S,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${g==="unread"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:["Cha c (",s,")"]})]})}),o?a.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-indigo-200 border-t-indigo-600"}),a.jsx(He,{className:"absolute inset-0 m-auto animate-pulse text-xl text-indigo-600"})]}),a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"ang ti thng bo..."})]}):e.length===0?a.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-gradient-to-br from-slate-50 to-white p-12 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-slate-100",children:a.jsx(bc,{className:"text-3xl text-slate-400"})}),a.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-700",children:g==="unread"?"Khng c thng bo cha c":"Cha c thng bo no"}),a.jsx("p",{className:"text-sm text-slate-500",children:g==="unread"?"Tt c thng bo ca bn  c c.":"Cc thng bo mi s xut hin  y."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:e.map((S,T)=>{const E=m(S)!==null;return a.jsx("div",{className:`rounded-xl border p-4 transition-all duration-200 ${S.is_read?"border-slate-200 bg-white":"border-indigo-200 bg-gradient-to-r from-indigo-50/50 to-white"} ${E?"cursor-pointer hover:shadow-lg hover:-translate-y-0.5":""}`,onClick:E?()=>p(S):void 0,style:{animationDelay:`${T*30}ms`},children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:S.title}),!S.is_read&&a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-600 px-2.5 py-1 text-xs font-semibold text-white shadow-sm",children:[a.jsx("span",{className:"h-1.5 w-1.5 animate-pulse rounded-full bg-white"}),"Mi"]}),E&&a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-100 px-2.5 py-1 text-xs font-semibold text-emerald-700 shadow-sm",children:[a.jsx(Ob,{className:"h-3 w-3"}),"Xem chi tit"]})]}),a.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-600",children:S.message}),a.jsxs("p",{className:"mt-3 flex items-center gap-1.5 text-xs text-slate-400",children:[a.jsx(Lc,{className:"h-3 w-3"}),jt(S.created_at)]})]}),a.jsxs("div",{className:"flex gap-2",onClick:L=>L.stopPropagation(),children:[!S.is_read&&a.jsxs("button",{type:"button",onClick:()=>y(S.id),className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 bg-white px-3 py-1.5 text-xs font-semibold text-indigo-600 shadow-sm transition-all hover:bg-indigo-50 hover:shadow-md",title:"nh du  c",children:[a.jsx(ol,{})," c"]}),a.jsx("button",{type:"button",onClick:()=>A(S.id),className:"inline-flex items-center gap-1 rounded-lg border border-red-200 bg-white px-3 py-1.5 text-xs font-semibold text-red-600 shadow-sm transition-all hover:bg-red-50 hover:shadow-md",title:"Xa thng bo",children:a.jsx(bs,{})})]})]})},S.id)})}),h.totalPages>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[a.jsxs("p",{className:"text-slate-500",children:["Trang ",h.page,"/",h.totalPages]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>u(S=>({...S,page:Math.max(1,S.page-1)})),disabled:h.page===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),a.jsx("button",{type:"button",onClick:()=>u(S=>({...S,page:Math.min(h.totalPages,S.page+1)})),disabled:h.page===h.totalPages,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]})]})]})})}function Yk(){const r=rt(),[e,t]=M.useState(!0),[s,i]=M.useState([]),[o,c]=M.useState(null),[h,u]=M.useState([]),[g,x]=M.useState(""),[m,p]=M.useState(""),[b,w]=M.useState(""),[y,k]=M.useState(1),[A,S]=M.useState(null);M.useEffect(()=>{T(),E()},[g,m,b]),M.useEffect(()=>{C()},[g,y]);const T=async()=>{try{const _=await Xc(),H=(Array.isArray(_)?_:[]).filter(z=>z.is_paid);u(H)}catch(_){console.error("Error loading exams:",_)}},C=async()=>{try{t(!0);const _=await WN({exam_id:g||void 0,page:y,limit:20}),D=_?.data||_;i(D.purchases||[]),S(D.pagination||null)}catch(_){$.error(_?.body?.message||_?.message||"Khng th ti danh sch mua  thi.")}finally{t(!1)}},E=async()=>{try{const _=await VN({exam_id:g||void 0,date_from:m||void 0,date_to:b||void 0}),D=_?.data||_;c(D)}catch(_){console.error("Error loading revenue:",_)}},L=_=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(_||0);return e&&!s.length?a.jsx(Ye,{role:"teacher",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex flex-wrap items-center justify-between gap-4",children:a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>r(-1),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(ta,{}),"Quay li"]}),a.jsx("p",{className:"mt-3 text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thng k mua  thi"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Doanh thu t  thi tr ph"})]})}),o&&a.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-500",children:"Tng doanh thu"}),a.jsx("p",{className:"mt-1 text-3xl font-bold text-slate-900",children:L(o.totalRevenue||0)})]}),a.jsx(Ji,{className:"text-3xl text-emerald-500 opacity-50"})]})}),a.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-500",children:"Tng s lt mua"}),a.jsx("p",{className:"mt-1 text-3xl font-bold text-slate-900",children:o.totalPurchases||0})]}),a.jsx(vc,{className:"text-3xl text-blue-500 opacity-50"})]})}),a.jsx("article",{className:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-500",children:"S  thi tr ph"}),a.jsx("p",{className:"mt-1 text-3xl font-bold text-slate-900",children:o.totalPaidExams??h.length})]}),a.jsx(ms,{className:"text-3xl text-indigo-500 opacity-50"})]})})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:"B lc"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Chn  thi"}),a.jsxs("select",{value:g,onChange:_=>{x(_.target.value),k(1)},className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:"",children:"Tt c  thi"}),h.map(_=>a.jsx("option",{value:_.id,children:_.title},_.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"T ngy"}),a.jsx("input",{type:"date",value:m,onChange:_=>p(_.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"n ngy"}),a.jsx("input",{type:"date",value:b,onChange:_=>w(_.target.value),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"})]})]}),a.jsxs("div",{className:"mt-4 flex gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{x(""),p(""),w(""),k(1)},className:"rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:"Xa b lc"}),a.jsxs("button",{type:"button",onClick:()=>{C(),E()},className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(sr,{}),"Lm mi"]})]})]}),o?.revenueByExam&&o.revenueByExam.length>0&&a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-900",children:"Doanh thu theo  thi"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:" thi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"S lt mua"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Doanh thu"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:o.revenueByExam.map(_=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-4 font-medium text-slate-900",children:_.exam_title}),a.jsx("td",{className:"px-4 py-4 text-center",children:_.purchase_count}),a.jsx("td",{className:"px-4 py-4 text-right font-semibold text-emerald-600",children:L(_.revenue)})]},_.exam_id))})]})})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Danh sch mua  thi"}),A&&a.jsxs("p",{className:"text-sm text-slate-500",children:["Trang ",A.page," / ",A.totalPages," (",A.total," lt mua)"]})]}),e?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx(He,{className:"animate-spin text-2xl text-indigo-600"})}):s.length===0?a.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c lt mua no."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"STT"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Hc sinh"}),a.jsx("th",{className:"px-4 py-3 text-left",children:" thi"}),a.jsx("th",{className:"px-4 py-3 text-right",children:"Gi"}),a.jsx("th",{className:"px-4 py-3 text-center",children:"Ngy mua"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:s.map((_,D)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-4 text-slate-500",children:(y-1)*20+D+1}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bt,{className:"text-slate-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-slate-900",children:_.user?.fullName||"Khng tn"}),a.jsx("p",{className:"text-xs text-slate-500",children:_.user?.email||""})]})]})}),a.jsx("td",{className:"px-4 py-4 font-medium text-slate-900",children:_.exam?.title||"Khng tn"}),a.jsx("td",{className:"px-4 py-4 text-right font-semibold text-emerald-600",children:L(_.purchase_price)}),a.jsx("td",{className:"px-4 py-4 text-center text-xs text-slate-600",children:_.purchase_date?jt(_.purchase_date):""})]},_.id))})]})}),A&&A.totalPages>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>k(_=>Math.max(1,_-1)),disabled:y===1,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-600 disabled:opacity-50",children:"Trc"}),a.jsxs("span",{className:"px-4 text-sm text-slate-600",children:["Trang ",y," / ",A.totalPages]}),a.jsx("button",{type:"button",onClick:()=>k(_=>Math.min(A.totalPages,_+1)),disabled:y===A.totalPages,className:"rounded-lg border border-slate-200 px-3 py-2 text-sm font-semibold text-slate-600 disabled:opacity-50",children:"Sau"})]})]})]})]})})}const L0=["bg-indigo-50","bg-purple-50","bg-blue-50"],Fk=({classInfo:r,index:e=0})=>{const t=rt(),s=()=>{t(`/dashboard/student/classes/${r.id}`)};return a.jsxs("article",{className:"flex flex-col rounded-3xl border border-slate-100 bg-white shadow-sm transition hover:-translate-y-1 hover:shadow-lg",children:[a.jsx("div",{className:`relative h-32 w-full rounded-3xl ${L0[e%L0.length]} px-5 py-4`,children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/85 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(Fs,{className:"h-4 w-4"}),r.code]}),a.jsx("p",{className:"text-base font-semibold text-slate-800 line-clamp-2",children:r.name})]})})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-5 text-sm text-slate-600",children:[a.jsxs("p",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx("span",{className:"text-indigo-400",children:"GV:"}),r.teacherName]}),a.jsx("div",{className:"flex flex-wrap gap-3 text-xs font-medium text-slate-500",children:a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(Ub,{className:"h-3 w-3"}),"Lp hc"]})}),a.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2 border-t border-slate-100 pt-4",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:["Ngy to: ",a.jsx("span",{className:"font-semibold text-slate-700",children:r.date})]}),a.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1.5 rounded-full bg-indigo-600 px-4 py-2 text-xs font-semibold text-white shadow transition hover:bg-indigo-700",children:[a.jsx(yc,{className:"h-3.5 w-3.5"}),"Xem chi tit"]})]})]})]})},Ik=({isOpen:r,onClose:e})=>{if(!r)return null;const[t,s]=M.useState(""),[i,o]=M.useState(!1);M.useEffect(()=>{r&&(s(""),o(!1))},[r]);const c=async()=>{if(o(!0),!t||t.trim()===""){$.error("Vui lng in y  thng tin");return}const h=await LS(t.trim());if(console.log(h),!h.status){$.error(h.message),o(!1),e();return}$.success("Tham gia lp hc thnh cng",{autoClose:2e3,onClose:()=>{o(!1),e(),window.location.reload()}})};return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden animate-fade-in-up",children:[a.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-100 bg-gray-50",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Tham gia lp hc mi"}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-200",children:a.jsx(cl,{size:24})})]}),a.jsx("div",{className:"p-6 space-y-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"classCode",className:"block text-sm font-medium text-gray-700",children:"Nhp m lp"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",id:"classCode",value:t,onChange:h=>s(h.target.value),placeholder:"V d: INT3306",className:"block w-full px-4 py-3 rounded-xl border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Hy hi gio vin ca bn  bit m lp hc."})]})}),a.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[a.jsx("button",{onClick:e,className:"px-5 py-2.5 rounded-xl text-gray-700 font-medium hover:bg-gray-200 transition-colors",children:"Hy b"}),a.jsx("button",{onClick:c,className:"px-6 py-2.5 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 focus:ring-4 focus:ring-indigo-300 transition-all shadow-md hover:shadow-lg flex items-center",children:i?a.jsx(a.Fragment,{children:a.jsx(wN,{className:"mr-2 animate-spin",children:"Process"})}):a.jsxs(a.Fragment,{children:[a.jsx(Gu,{className:"mr-2"})," Tham gia ngay"]})})]})]})})};function Uk(){const[r,e]=M.useState(!1),[t,s]=M.useState([]),[i,o]=M.useState(1),[c,h]=M.useState(0),[u,g]=M.useState(!1),x=8;M.useEffect(()=>{(async()=>{g(!0);try{const k=(i-1)*x,A=await Qb(x,k);if(A.status){const S=A.data.map(C=>({id:C.id,name:C.className,code:C.classCode,teacherName:C.teacher?.fullName||"N/A",date:new Date(C.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}),image:null}));s(S);const T=A.total||0;h(Math.ceil(T/x))}}catch(k){console.error("Failed to fetch classes:",k)}finally{g(!1)}})()},[i]);const m=()=>o(y=>Math.min(y+1,c)),p=()=>o(y=>Math.max(y-1,1)),b=()=>e(!0),w=()=>e(!1);return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx("div",{children:a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Danh sch lp hc ca ti"})}),a.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 rounded-full bg-indigo-600 px-5 py-3 text-sm font-semibold text-white shadow-lg transition hover:bg-indigo-700",children:[a.jsx(Gu,{className:"h-5 w-5"}),"Tham gia lp hc"]})]})}),a.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-full border border-slate-200 px-4 py-2",children:[a.jsx(Cl,{className:"text-slate-400",size:20}),a.jsx("input",{type:"text",className:"w-full border-none bg-transparent text-sm text-slate-600 outline-none focus:ring-0",placeholder:"Nhp t kha tm kim lp hc..."})]}),a.jsxs("button",{className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(Ib,{size:20}),"B lc"]})]}),u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-slate-500",children:[a.jsx("div",{className:"mb-3 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),"ang ti danh sch lp..."]}):t.length===0?a.jsxs("div",{className:"mt-10 flex flex-col items-center justify-center rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center",children:[a.jsx("p",{className:"text-lg font-semibold text-slate-800",children:"Cha c lp hc no"}),a.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Hy bt u bng cch tham gia lp hc mi."}),a.jsxs("button",{onClick:b,className:"mt-4 inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-5 py-2 text-sm font-semibold text-white shadow hover:bg-indigo-500",children:[a.jsx(Gu,{}),"Tham gia lp hc"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mt-8 grid gap-6 lg:grid-cols-2 xl:grid-cols-3",children:t.map((y,k)=>a.jsx(Fk,{classInfo:y,index:k},y.id))}),c>1&&a.jsxs("div",{className:"mt-8 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm",children:[a.jsxs("p",{className:"text-slate-500",children:["Trang ",i,"/",c]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:p,disabled:i===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Trc"}),a.jsx("button",{type:"button",onClick:m,disabled:i===c,className:"rounded-lg border border-slate-200 px-3 py-1 text-slate-600 transition hover:bg-white disabled:opacity-50",children:"Sau"})]})]})]})]}),a.jsx(Ik,{isOpen:r,onClose:w})]})})}function Wk(){const{classId:r}=aa(),e=rt(),[t,s]=M.useState(null),[i,o]=M.useState([]),[c,h]=M.useState(!0),[u,g]=M.useState("posts"),[x,m]=M.useState([]),[p,b]=M.useState(!1),[w,y]=M.useState({}),[k,A]=M.useState({}),[S,T]=M.useState(new Set),[C,E]=M.useState({}),[L,_]=M.useState("");M.useEffect(()=>{D(),u==="posts"?z():u==="students"&&H()},[r,u]);const D=async()=>{h(!0);try{const U=await Ju({classId:r}),q=U?.class||U?.classInfo||U?.data||U||{};s({id:q.id??q.classId,className:q.className??q.name??"Cha t tn",classCode:q.classCode??q.class_code??""})}catch(U){$.error(U?.body?.message||U?.message||"Khng th ti thng tin lp hc.")}finally{h(!1)}},H=async()=>{if(r)try{const U=await Ju({classId:r}),q=Array.isArray(U?.students)?U.students:Array.isArray(U?.data?.students)?U.data.students:[];o(q.map(G=>({id:G.id??G.student_id,fullName:G.fullName??G.name??"Cha cp nht",email:G.email??"",joinedAt:G.joinedAt??G.joined_at})))}catch(U){$.error(U?.body?.message||U?.message||"Khng th ti danh sch hc sinh.")}},z=async()=>{if(r){b(!0);try{const U=await ev(r),q=Array.isArray(U)?U:[];m(q)}catch(U){$.error(U?.body?.message||U?.message||"Khng th ti bi ng.")}finally{b(!1)}}},B=async U=>{if(U){A(q=>({...q,[U]:!0}));try{const q=await tv(U),G=Array.isArray(q)?q:[];y(O=>({...O,[U]:G}))}catch(q){$.error(q?.body?.message||q?.message||"Khng th ti bnh lun.")}finally{A(q=>({...q,[U]:!1}))}}},P=U=>{T(q=>{const G=new Set(q);return G.has(U)?G.delete(U):(G.add(U),w[U]||B(U)),G})},W=async(U,q)=>{U.preventDefault();const G=C[q]?.trim();if(!G){$.error("Vui lng nhp ni dung bnh lun.");return}try{const O=await sv({postId:q,comment:G});y(I=>({...I,[q]:[...I[q]||[],O]})),E(I=>({...I,[q]:""})),$.success(" thm bnh lun thnh cng.")}catch(O){$.error(O?.body?.message||O?.message||"Khng th thm bnh lun.")}},V=async()=>{if(window.confirm("Bn chc chn mun ri khi lp hc ny?"))try{$.success(" ri khi lp hc thnh cng."),e("/dashboard/student/classes")}catch(U){$.error(U?.body?.message||U?.message||"Khng th ri khi lp hc.")}},Q=i.filter(U=>U.fullName.toLowerCase().includes(L.toLowerCase())||U.email.toLowerCase().includes(L.toLowerCase())),Y=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Bi ng trong lp"})}),p?a.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[a.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bi ng..."]}):x.length===0?a.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center text-sm text-slate-500",children:"Cha c bi ng no trong lp ny."}):a.jsx("div",{className:"space-y-4",children:x.map(U=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:U.title}),U.author&&a.jsxs("span",{className:"text-xs text-slate-500",children:["bi ",U.author.fullName||U.author.fullname]})]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600 whitespace-pre-wrap",children:U.text||U.post}),a.jsx("p",{className:"mt-3 text-xs text-slate-400",children:jt(U.created_at)})]})}),a.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-4",children:[a.jsxs("button",{type:"button",onClick:()=>P(U.id),className:"inline-flex items-center gap-2 text-sm font-semibold text-slate-600 hover:text-indigo-600 transition",children:[a.jsx(tr,{}),S.has(U.id)?"n bnh lun":"Xem bnh lun",w[U.id]&&a.jsx("span",{className:"rounded-full bg-slate-200 px-2 py-0.5 text-xs",children:w[U.id].length})]}),S.has(U.id)&&a.jsxs("div",{className:"mt-4 space-y-4",children:[a.jsxs("form",{onSubmit:q=>W(q,U.id),className:"flex gap-2",children:[a.jsx("input",{type:"text",value:C[U.id]||"",onChange:q=>E(G=>({...G,[U.id]:q.target.value})),placeholder:"Vit bnh lun...",className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none"}),a.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-500",children:[a.jsx(pi,{}),"Gi"]})]}),k[U.id]?a.jsxs("div",{className:"flex items-center justify-center py-4 text-slate-500",children:[a.jsx(He,{className:"mr-2 animate-spin"}),"ang ti bnh lun..."]}):!w[U.id]||w[U.id].length===0?a.jsx("div",{className:"rounded-lg border border-dashed border-slate-200 bg-slate-50/60 p-4 text-center text-sm text-slate-500",children:"Cha c bnh lun no."}):a.jsx("div",{className:"space-y-3",children:w[U.id].map(q=>a.jsx("div",{className:"flex items-start justify-between rounded-lg border border-slate-200 bg-slate-50/60 p-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-900",children:q.author?.fullName||"Ngi dng"}),a.jsx("span",{className:"text-xs text-slate-400",children:jt(q.created_at)})]}),a.jsx("p",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:q.text})]})},q.id))})]})]})]},U.id))})]}),F=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2",children:[a.jsx(Bt,{className:"text-slate-400"}),a.jsx("input",{value:L,onChange:U=>_(U.target.value),placeholder:"Tm kim hc sinh theo tn hoc email...",className:"w-full border-none text-sm outline-none focus:ring-0"})]})}),a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-xs uppercase text-slate-500",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:"STT"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"H v tn"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left",children:"Ngy tham gia"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white text-slate-700",children:Q.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-sm text-slate-500",children:"Khng tm thy hc sinh ph hp."})}):Q.map((U,q)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-slate-500",children:q+1}),a.jsx("td",{className:"px-4 py-3 font-semibold text-slate-900",children:U.fullName}),a.jsx("td",{className:"px-4 py-3",children:U.email}),a.jsx("td",{className:"px-4 py-3",children:U.joinedAt?new Intl.DateTimeFormat("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(U.joinedAt)):""})]},U.id))})]})})]});return c?a.jsx(Ye,{role:"student",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx(He,{className:"animate-spin text-3xl text-indigo-600"})})}):a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("button",{type:"button",onClick:()=>e("/dashboard/student/classes"),className:"mb-3 inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-slate-50",children:[a.jsx(ta,{}),"Quay li"]}),a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Chi tit lp hc"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:t?.className||"Lp hc"}),a.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["M lp: ",t?.classCode||""]})]}),a.jsxs("button",{onClick:V,className:"inline-flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-red-100",children:[a.jsx(Wu,{}),"Ri khi lp hc"]})]})}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"mb-6 flex gap-2 border-b border-slate-200",children:[a.jsx("button",{onClick:()=>g("posts"),className:`px-4 py-2 text-sm font-semibold transition ${u==="posts"?"border-b-2 border-indigo-600 text-indigo-600":"text-slate-600 hover:text-indigo-600"}`,children:"Bi ng"}),a.jsx("button",{onClick:()=>g("students"),className:`px-4 py-2 text-sm font-semibold transition ${u==="students"?"border-b-2 border-indigo-600 text-indigo-600":"text-slate-600 hover:text-indigo-600"}`,children:"Danh sch sinh vin"})]}),u==="posts"?Y():F()]})]})})}function Vk(){const r=rt(),[e,t]=M.useState([]),[s,i]=M.useState(!1),[o,c]=M.useState(1),[h,u]=M.useState(""),g=10;ga(()=>{x()},[]);const x=async()=>{i(!0);try{const C=await hv();console.log("API Response:",C);const E=Array.isArray(C)?C:C?.data||[];if(Array.isArray(E)&&E.length>0){const L=E.map(_=>{const D=_.exam||{},H=_.session||{};return{id:_.id,examId:D.id,examCode:`${D.id}`,examTitle:D.title||"Khng c tiu ",score:parseFloat(_.total_score)||0,correctCount:_.correct_count||0,wrongCount:_.wrong_count||0,completedAt:_.submitted_at||H.submitted_at,endTime:H.end_time,sessionId:H.id||_.session_id}});console.log("Mapped exams:",L),t(L)}else console.log("No results found"),t([])}catch(C){console.error("Error loading completed exams:",C),$.error("Khng th ti lch s lm bi"),t([])}finally{i(!1)}},m=M.useMemo(()=>{if(!h.trim())return e;const C=h.toLowerCase().trim();return e.filter(E=>E.examTitle.toLowerCase().includes(C)||E.examCode.toLowerCase().includes(C))},[e,h]),p=Math.ceil(m.length/g),b=(o-1)*g,w=b+g,y=m.slice(b,w);M.useEffect(()=>{c(1)},[h]);const k=C=>C?new Date(C).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",A=(C,E)=>{r(`/student/exams/${C}/result/${E}`)},S=C=>{c(C)},T=()=>{const C=[];if(p<=5)for(let L=1;L<=p;L++)C.push(L);else if(o<=3)for(let L=1;L<=5;L++)C.push(L);else if(o>=p-2)for(let L=p-4;L<=p;L++)C.push(L);else for(let L=o-2;L<=o+2;L++)C.push(L);return C};return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsx("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:a.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-full border border-slate-200 px-4 py-2",children:[a.jsx(Cl,{className:"text-slate-400",size:20}),a.jsx("input",{type:"text",value:h,onChange:C=>u(C.target.value),placeholder:"Tm kim theo tn bi thi hoc m bi thi...",className:"w-full border-none bg-transparent text-sm text-slate-600 outline-none focus:ring-0"})]})})}),a.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:s?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),"ang ti d liu..."]})}):y.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500",children:[a.jsx(Pg,{className:"mx-auto mb-4 h-12 w-12 text-slate-400"}),a.jsx("p",{children:h?"Khng tm thy bi thi no ph hp":"Cha c bi thi no  hon thnh"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b-2 border-slate-200 bg-gradient-to-r from-slate-50 to-white",children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"M bi thi"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Tn bi thi"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"S cu lm ng"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"S cu lm sai"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"im s"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Ngy hon thnh"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:"Ngy kt thc bi thi"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold uppercase tracking-wider text-slate-700",children:"Hnh ng"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:y.map(C=>{const E=C.score>=5;return a.jsxs("tr",{className:"transition-colors hover:bg-indigo-50/50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-semibold text-indigo-600",children:C.examCode})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-slate-900",children:C.examTitle})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"inline-flex items-center rounded-full bg-emerald-100 px-3 py-1 text-sm font-semibold text-emerald-700",children:[C.correctCount," cu"]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"inline-flex items-center rounded-full bg-red-100 px-3 py-1 text-sm font-semibold text-red-700",children:[C.wrongCount," cu"]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`text-base font-bold ${E?"text-emerald-600":"text-red-600"}`,children:C.score.toFixed(1)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-600",children:k(C.completedAt)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-slate-600",children:k(C.endTime)})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("button",{onClick:()=>A(C.examId,C.sessionId),className:"inline-flex items-center gap-1.5 rounded-full border border-indigo-300 bg-indigo-50 px-4 py-2 text-xs font-semibold text-indigo-700 transition hover:bg-indigo-100 hover:border-indigo-400",children:[a.jsx(yc,{className:"h-4 w-4"}),"Xem chi tit"]})})]},C.id)})})]})}),p>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-slate-200 pt-4",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",a.jsx("span",{className:"font-semibold",children:b+1})," -"," ",a.jsx("span",{className:"font-semibold",children:Math.min(w,m.length)})," ","trong tng s ",a.jsx("span",{className:"font-semibold",children:m.length})," bi thi"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>S(o-1),disabled:o===1,className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Og,{className:"h-4 w-4"})}),T().map(C=>a.jsx("button",{onClick:()=>S(C),className:`h-10 w-10 rounded-lg border text-sm font-semibold transition ${o===C?"border-indigo-600 bg-indigo-600 text-white shadow-md":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50"}`,children:C},C)),a.jsx("button",{onClick:()=>S(o+1),disabled:o===p,className:"inline-flex items-center justify-center rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Hg,{className:"h-4 w-4"})})]})]})]})})]})})}function qk(){return pe.get("/api/exam-favorites")}function Gk(r){if(!r)throw new Error("examId l bt buc.");return pe.post("/api/exam-favorites",{exam_id:r})}function bv(r){if(!r)throw new Error("examId l bt buc.");return pe.delete(`/api/exam-favorites/${r}`)}function $k(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exam-favorites/${r}/check`)}function Kk(r){if(!r.exam_id||!r.rating)throw new Error("exam_id v rating l bt buc.");if(r.rating<1||r.rating>5)throw new Error("Rating phi t 1 n 5.");return pe.post("/api/exam-ratings",r)}function z0(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/my-rating`)}function Zk(r,e={}){if(!r)throw new Error("examId l bt buc.");const t=new URLSearchParams;e.page&&t.set("page",e.page),e.limit&&t.set("limit",e.limit);const s=t.toString();return pe.get(`/api/exams/${r}/ratings${s?`?${s}`:""}`)}function Qk(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(!0),[i,o]=M.useState(null),[c,h]=M.useState([]),[u,g]=M.useState(!1),[x,m]=M.useState("info"),[p,b]=M.useState([]),[w,y]=M.useState(!1),[k,A]=M.useState(1),[S,T]=M.useState(0),C=10,[E,L]=M.useState([]),[_,D]=M.useState(!1),[H,z]=M.useState(null),[B,P]=M.useState(!1),[W,V]=M.useState([]),[Q,Y]=M.useState(!1),[F,U]=M.useState(""),[q,G]=M.useState(null),[O,I]=M.useState(""),[ne,K]=M.useState(!1);ga(()=>{ue()},[r]);const ue=async()=>{try{s(!0);const he=await ES(r),ze=Array.isArray(he)?he[0]:he?.data||he;if(o(ze),ze){try{const It=await $k(r),ji=Array.isArray(It)?It[0]:It?.data||It;g(ji?.is_favorited||!1)}catch(It){console.error("Error checking favorite:",It),g(!1)}ae(ze)}}catch(he){console.error("Error loading exam detail:",he),$.error(he.message||"Khng th ti thng tin  thi"),e("/dashboard/student")}finally{s(!1)}},ae=async he=>{try{const ze=await MS(r,{limit:6}),It=Array.isArray(ze)?ze:ze?.data||[];h(It)}catch(ze){console.error("Error loading similar exams:",ze)}},te=he=>he?new Date(he).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",ve=async()=>{try{u?(await bv(r),g(!1),$.success(" xa khi danh sch yu thch")):(await Gk(r),g(!0),$.success(" thm vo danh sch yu thch"))}catch(he){console.error("Error toggling favorite:",he),$.error(he.message||"Khng th cp nht yu thch")}},ie=()=>{i?.is_paid&&parseFloat(i?.fee||0)>0?K(!0):e(`/student/exams/${r}/take`)},je=()=>{K(!1),e(`/student/exams/${r}/take`)},Le=async(he=1)=>{if(r)try{y(!0);const ze=await Zk(r,{page:he,limit:C});b(ze.ratings||[]),T(ze.total||0),A(he)}catch(ze){console.error("Error loading ratings:",ze),$.error("Khng th ti nh gi")}finally{y(!1)}},Ce=async()=>{if(r)try{D(!0);const he=await hv({exam_id:r});L(Array.isArray(he)?he:[])}catch(he){console.error("Error loading results:",he),$.error("Khng th ti kt qu thi")}finally{D(!1)}},mt=async()=>{if(r)try{P(!0);const he=await zk(r);z(he)}catch(he){console.error("Error loading comparison:",he),he.status!==404&&$.error("Khng th ti thng tin xp hng")}finally{P(!1)}},We=async()=>{if(r)try{Y(!0);const he=await rv(r);V(Array.isArray(he)?he:he?.data||[])}catch(he){console.error("Error loading comments:",he),$.error("Khng th ti bnh lun")}finally{Y(!1)}},Ts=async()=>{if(!F.trim()){$.error("Vui lng nhp ni dung bnh lun");return}try{await jc({exam_id:r,text:F.trim()}),U(""),$.success(" thm bnh lun"),We()}catch(he){console.error("Error creating comment:",he),$.error(he.message||"Khng th thm bnh lun")}},_s=async he=>{if(!O.trim()){$.error("Vui lng nhp ni dung phn hi");return}try{await jc({exam_id:r,text:O.trim(),parent_id:he}),I(""),G(null),$.success(" thm phn hi"),We()}catch(ze){console.error("Error creating reply:",ze),$.error(ze.message||"Khng th thm phn hi")}},Ot=async he=>{if(window.confirm("Bn c chc chn mun xa bnh lun ny?"))try{await lv(he),$.success(" xa bnh lun"),We()}catch(ze){console.error("Error deleting comment:",ze),$.error(ze.message||"Khng th xa bnh lun")}};M.useEffect(()=>{r&&(x==="ratings"?Le(1):x==="results"?Ce():x==="ranking"?mt():x==="comments"&&We())},[x,r]);const fa=he=>a.jsxs("div",{onClick:()=>{e(`/dashboard/student/exams/${he.id}`),window.scrollTo({top:0,behavior:"smooth"})},className:"group flex flex-col rounded-2xl border border-slate-200 bg-white shadow-sm transition cursor-pointer hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-t-2xl",children:[he.image_url?a.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[a.jsx("img",{src:he.image_url.startsWith("http")?he.image_url:`${"http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000"}${he.image_url}`,alt:he.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105",onError:ze=>{ze.target.style.display="none",ze.target.nextElementSibling.style.display="block"}}),a.jsxs("div",{className:"hidden h-full w-full bg-slate-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),he.class?.className||"Public"]}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:te(he.created_at)})]}),a.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:he.title}),a.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:he.des||he.class?.className||"Khng c m t"})]})]}):a.jsxs("div",{className:"bg-slate-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),he.class?.className||"Public"]}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:te(he.created_at)})]}),a.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:he.title}),a.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:he.des||he.class?.className||"Khng c m t"})]}),he.image_url&&a.jsxs("div",{className:"absolute inset-0 z-[5] flex flex-col justify-between bg-black/60 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),he.class?.className||"Public"]}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white",children:te(he.created_at)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-white",children:he.title}),a.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-white/90",children:he.des||he.class?.className||"Khng c m t"})]})]})]}),a.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-600",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(xi,{className:"h-4 w-4 text-slate-400"}),he.minutes," pht"]}),a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(Fs,{className:"h-4 w-4 text-slate-400"}),he.question_count||0," cu"]}),he.status&&a.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 ${he.status==="ongoing"?"bg-green-100 text-green-700":he.status==="upcoming"?"bg-blue-100 text-blue-700":he.status==="ended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:he.status==="ongoing"?"ang din ra":he.status==="upcoming"?"Sp ti":he.status==="ended"?" kt thc":"Khng gii hn"})]}),he.class&&a.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[a.jsx("p",{className:"font-semibold text-slate-800",children:he.class.className}),he.class.classCode&&a.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",he.class.classCode]})]}),a.jsx("div",{className:"mt-auto",children:a.jsxs("button",{onClick:ze=>{ze.stopPropagation(),e(`/dashboard/student/exams/${he.id}`),window.scrollTo({top:0,behavior:"smooth"})},className:"flex w-full items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:[a.jsx(xl,{className:"h-4 w-4"}),"Vo n thi"]})})]})]},he.id);return t?a.jsx(Ye,{role:"student",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),a.jsx("p",{className:"text-slate-600",children:"ang ti thng tin  thi..."})]})})}):i?a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 px-4",children:[a.jsxs("button",{onClick:()=>e("/dashboard/student"),className:"flex items-center gap-2 text-slate-600 hover:text-indigo-600",children:[a.jsx(Fb,{className:"h-5 w-5"}),a.jsx("span",{children:"Quay li"})]}),a.jsxs("div",{className:"flex gap-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"w-1/2",children:a.jsx("img",{src:i.image_url?i.image_url.startsWith("http")?i.image_url:`${"http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000"}${i.image_url}`:"https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg",alt:i.title,className:"h-full w-full rounded-lg object-cover",onError:he=>{he.target.src="https://images.pexels.com/photos/167682/pexels-photo-167682.jpeg"}})}),a.jsxs("div",{className:"w-1/2",children:[a.jsx("h1",{className:"mb-4 text-2xl font-bold text-slate-900",children:i.title}),i.creator&&a.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm text-slate-600",children:[a.jsx("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-green-100 text-green-600",children:a.jsx("span",{className:"text-xs font-bold",children:i.creator.fullName?.charAt(0)?.toUpperCase()||"T"})}),a.jsx("span",{className:"font-medium",children:i.creator.fullName||"Gio vin"}),i.classes&&i.classes.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{className:"line-clamp-1",title:i.classes.map(he=>he.className).join(", "),children:i.classes.length>1?`${i.classes.length} lp: ${i.classes.map(he=>he.className).join(", ")}`:i.classes[0].className})]}),!i.classes&&i.class&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{className:"line-clamp-1",children:i.class.className})]})]}),a.jsxs("div",{className:"mb-4 flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(xi,{className:"h-4 w-4"}),a.jsx("span",{children:te(i.created_at)})]}),a.jsxs("div",{className:"mb-4 flex flex-wrap gap-6 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Fs,{className:"h-4 w-4"}),a.jsxs("span",{children:[i.question_count||0," cu hi"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(yc,{className:"h-4 w-4"}),a.jsxs("span",{children:[i.count||0," lt lm"]})]}),i.is_paid&&parseFloat(i.fee||0)>0&&a.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[a.jsx(Bg,{className:"h-4 w-4"}),a.jsxs("span",{className:"font-semibold",children:[Rt(i.fee),"/ lt thi"]})]})]}),i.average_rating!==void 0&&a.jsxs("button",{onClick:()=>m("ratings"),className:"mb-4 flex items-center gap-3 rounded-lg p-2 transition hover:bg-slate-50",children:[a.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["nh gi (",i.average_rating>0?i.average_rating.toFixed(1):"Cha c",")"]}),a.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(he=>a.jsx(wc,{className:`h-5 w-5 ${he<=Math.round(i.average_rating||0)?"fill-amber-400 text-amber-400":"text-slate-300"}`},he))}),i.total_ratings>0&&a.jsxs("span",{className:"text-xs text-slate-500",children:["(",i.total_ratings," nh gi)"]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:ve,className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm transition ${u?"bg-red-100 text-red-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[a.jsx(qu,{className:`h-4 w-4 ${u?"fill-red-600":""}`}),a.jsx("span",{children:u?" yu thch":"Yu thch"})]})}),i.classes&&i.classes.length>0&&a.jsx("div",{className:"mb-4 rounded-lg bg-green-50 p-3",children:a.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-600",children:""}),a.jsx("span",{className:"font-semibold text-green-700",children:i.classes.length>1?`Lp hc (${i.classes.length}):`:"Lp hc:"})]}),a.jsx("div",{className:"ml-6 flex flex-wrap gap-2",children:i.classes.map((he,ze)=>a.jsxs("span",{className:"rounded bg-green-100 px-2 py-1 text-xs text-green-700",children:[he.className," ",he.classCode?`(${he.classCode})`:""]},he.id||ze))})]})}),!i.classes&&i.class&&a.jsx("div",{className:"mb-4 rounded-lg bg-green-50 p-3",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:"text-green-600",children:""}),a.jsxs("span",{className:"font-semibold text-green-700",children:["Lp hc: ",i.class.className]})]})}),a.jsx("button",{onClick:ie,className:"w-full rounded-xl bg-indigo-600 px-6 py-3 text-center font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(xl,{className:"h-5 w-5"}),a.jsx("span",{children:"Bt u lm bi"})]})})]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-slate-200",children:a.jsxs("div",{className:"flex gap-1 p-2",children:[a.jsxs("button",{onClick:()=>m("info"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${x==="info"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(Fs,{className:"h-4 w-4"}),"Thng tin"]}),a.jsxs("button",{onClick:()=>m("ratings"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${x==="ratings"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(ec,{className:"h-4 w-4"}),"nh gi ",i?.total_ratings>0&&`(${i.total_ratings})`]}),a.jsxs("button",{onClick:()=>m("results"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${x==="results"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(oc,{className:"h-4 w-4"}),"Kt qu thi"]}),a.jsxs("button",{onClick:()=>m("ranking"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${x==="ranking"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(y0,{className:"h-4 w-4"}),"Xp hng"]}),a.jsxs("button",{onClick:()=>m("comments"),className:`flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition ${x==="comments"?"bg-indigo-100 text-indigo-700":"text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(ec,{className:"h-4 w-4"}),"Bnh lun ",W.length>0&&`(${W.length})`]})]})}),a.jsxs("div",{className:"p-6",children:[x==="info"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-900",children:"M t"}),a.jsx("p",{className:"text-slate-600",children:i.des||"Khng c m t"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2 text-lg font-semibold text-slate-900",children:"Thng tin  thi"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(xi,{className:"h-4 w-4"}),a.jsxs("span",{children:["Thi lng: ",i.minutes," pht"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Fs,{className:"h-4 w-4"}),a.jsxs("span",{children:["S cu hi: ",i.question_count||0]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(oc,{className:"h-4 w-4"}),a.jsxs("span",{children:["Tng im: ",i.total_score]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(yc,{className:"h-4 w-4"}),a.jsxs("span",{children:["Lt lm: ",i.count||0]})]})]})]})]}),x==="ratings"&&a.jsx("div",{className:"space-y-4",children:w?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):p.length===0?a.jsxs("div",{className:"py-10 text-center text-slate-500",children:[a.jsx(ec,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),a.jsx("p",{children:"Cha c nh gi no"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-4",children:p.map(he=>a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[a.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-indigo-100 text-indigo-700",children:a.jsx("span",{className:"text-xs font-bold",children:he.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),a.jsx("span",{className:"font-medium text-slate-900",children:he.user?.fullName||"Ngi dng"})]}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(ze=>a.jsx(wc,{className:`h-4 w-4 ${ze<=he.rating?"fill-amber-400 text-amber-400":"text-slate-300"}`},ze))})]}),he.comment&&a.jsx("p",{className:"text-sm text-slate-600",children:he.comment}),a.jsx("p",{className:"mt-2 text-xs text-slate-400",children:new Date(he.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},he.id))}),S>C&&a.jsxs("div",{className:"flex items-center justify-between border-t border-slate-200 pt-4",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",(k-1)*C+1," - ",Math.min(k*C,S)," trong ",S," nh gi"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Le(k-1),disabled:k===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-sm disabled:opacity-50",children:a.jsx(Og,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-slate-600",children:["Trang ",k," / ",Math.ceil(S/C)]}),a.jsx("button",{onClick:()=>Le(k+1),disabled:k>=Math.ceil(S/C),className:"rounded-lg border border-slate-200 px-3 py-1 text-sm disabled:opacity-50",children:a.jsx(Hg,{className:"h-4 w-4"})})]})]})]})}),x==="results"&&a.jsx("div",{className:"space-y-4",children:_?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):E.length===0?a.jsxs("div",{className:"py-10 text-center text-slate-500",children:[a.jsx(oc,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),a.jsx("p",{children:"Bn cha c kt qu thi no cho  thi ny"})]}):a.jsx("div",{className:"space-y-3",children:E.map(he=>a.jsx("div",{onClick:()=>e(`/student/exams/${r}/result/${he.session_id}`),className:"cursor-pointer rounded-lg border border-slate-200 bg-white p-4 transition hover:border-indigo-300 hover:shadow-md",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:[parseFloat(he.total_score||0).toFixed(1)," / ",i.total_score]}),a.jsxs("span",{className:"text-sm text-slate-500",children:["(",parseFloat(he.percentage||0).toFixed(1),"%)"]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[a.jsxs("span",{children:["ng: ",he.correct_count||0]}),a.jsxs("span",{children:["Sai: ",he.wrong_count||0]})]})]}),a.jsxs("div",{className:"text-right text-sm text-slate-500",children:[a.jsx("p",{children:new Date(he.submitted_at||he.session?.submitted_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}),a.jsxs("p",{className:"text-xs",children:["M phin: ",he.session?.code||"N/A"]})]})]})},he.id))})}),x==="ranking"&&a.jsx("div",{className:"space-y-4",children:B?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):H?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-lg border-2 border-indigo-200 bg-indigo-50 p-4",children:[a.jsx("h3",{className:"mb-2 text-lg font-semibold text-indigo-900",children:"im ca bn"}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-3xl font-bold text-indigo-600",children:parseFloat(H.student?.score||0).toFixed(1)}),a.jsxs("span",{className:"text-slate-600",children:["/ ",H.exam?.total_score]})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-slate-600",children:[a.jsxs("span",{children:["ng: ",H.student?.correct_count||0]}),a.jsxs("span",{children:["Sai: ",H.student?.wrong_count||0]})]})]}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"So snh vi tt c"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Xp hng"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:["#",H.comparison?.global?.rank||"N/A"]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",H.comparison?.global?.total||0," ngi"]})]}),a.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Phn trm"}),a.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[H.comparison?.global?.percentile||0,"%"]}),a.jsx("p",{className:"text-xs text-slate-500",children:"tt hn"})]}),a.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"im trung bnh"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:parseFloat(H.comparison?.global?.average_score||0).toFixed(1)})]}),a.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"So vi trung bnh"}),a.jsxs("p",{className:`text-2xl font-bold ${parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.global?.average_score||0)?"text-green-600":"text-red-600"}`,children:[parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.global?.average_score||0)?"+":"",(parseFloat(H.student?.score||0)-parseFloat(H.comparison?.global?.average_score||0)).toFixed(1)]}),a.jsx("p",{className:"text-xs text-slate-500",children:parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.global?.average_score||0)?"im trn trung bnh":"im di trung bnh"})]})]})]}),H.comparison?.class?.available?a.jsxs("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-green-900",children:"So snh trong lp"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"rounded-lg bg-white p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Xp hng trong lp"}),a.jsxs("p",{className:"text-2xl font-bold text-green-700",children:["#",H.comparison?.class?.rank||"N/A"]}),a.jsxs("p",{className:"text-xs text-slate-500",children:["/ ",H.comparison?.class?.total||0," hc sinh"]})]}),a.jsxs("div",{className:"rounded-lg bg-white p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Phn trm trong lp"}),a.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[H.comparison?.class?.percentile||0,"%"]}),a.jsx("p",{className:"text-xs text-slate-500",children:"tt hn"})]}),a.jsxs("div",{className:"rounded-lg bg-white p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"im trung bnh lp"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:parseFloat(H.comparison?.class?.average_score||0).toFixed(1)})]}),a.jsxs("div",{className:"rounded-lg bg-white p-3",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"So vi trung bnh lp"}),a.jsxs("p",{className:`text-2xl font-bold ${parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.class?.average_score||0)?"text-green-600":"text-red-600"}`,children:[parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.class?.average_score||0)?"+":"",(parseFloat(H.student?.score||0)-parseFloat(H.comparison?.class?.average_score||0)).toFixed(1)]}),a.jsx("p",{className:"text-xs text-slate-500",children:parseFloat(H.student?.score||0)>=parseFloat(H.comparison?.class?.average_score||0)?"im trn trung bnh lp":"im di trung bnh lp"})]})]})]}):a.jsx("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:a.jsx("p",{className:"text-sm text-slate-600",children:H.comparison?.class?.reason||"Khng c thng tin so snh trong lp"})})]}):a.jsxs("div",{className:"py-10 text-center text-slate-500",children:[a.jsx(y0,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),a.jsx("p",{children:"Bn cha c kt qu thi  so snh"}),a.jsx("p",{className:"mt-1 text-sm",children:"Hy lm bi thi trc  xem xp hng"})]})}),x==="comments"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Vit bnh lun"}),a.jsx("textarea",{value:F,onChange:he=>U(he.target.value),placeholder:"Nhp bnh lun ca bn...",className:"w-full rounded-lg border border-slate-300 p-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:3}),a.jsx("div",{className:"mt-3 flex justify-end",children:a.jsx("button",{onClick:Ts,disabled:!F.trim(),className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng bnh lun"})})]}),Q?a.jsx("div",{className:"flex items-center justify-center py-10",children:a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"})}):W.length===0?a.jsxs("div",{className:"py-10 text-center text-slate-500",children:[a.jsx(ec,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),a.jsx("p",{children:"Cha c bnh lun no"}),a.jsx("p",{className:"mt-1 text-sm",children:"Hy l ngi u tin bnh lun!"})]}):a.jsx("div",{className:"space-y-4",children:W.map(he=>a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-indigo-100 text-indigo-700",children:a.jsx("span",{className:"text-sm font-bold",children:he.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-slate-900",children:he.user?.fullName||"Ngi dng"}),a.jsx("p",{className:"text-xs text-slate-500",children:new Date(he.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),he.user_id===parseInt(localStorage.getItem("userId")||"0")&&a.jsx("button",{onClick:()=>Ot(he.id),className:"rounded-lg p-1 text-slate-400 transition hover:bg-red-50 hover:text-red-600",children:a.jsx(cl,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"mb-3 text-slate-700 whitespace-pre-wrap",children:he.text}),a.jsx("button",{onClick:()=>G(q===he.id?null:he.id),className:"text-sm text-indigo-600 hover:text-indigo-700",children:q===he.id?"Hy phn hi":"Phn hi"}),q===he.id&&a.jsxs("div",{className:"mt-3 rounded-lg border border-indigo-200 bg-indigo-50 p-3",children:[a.jsx("textarea",{value:O,onChange:ze=>I(ze.target.value),placeholder:"Nhp phn hi ca bn...",className:"w-full rounded-lg border border-slate-300 bg-white p-2 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",rows:2}),a.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>{G(null),I("")},className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm text-slate-700 transition hover:bg-slate-50",children:"Hy"}),a.jsx("button",{onClick:()=>_s(he.id),disabled:!O.trim(),className:"rounded-lg bg-indigo-600 px-3 py-1 text-sm font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"ng phn hi"})]})]}),he.replies&&he.replies.length>0&&a.jsx("div",{className:"mt-4 space-y-3 border-l-2 border-slate-200 pl-4",children:he.replies.map(ze=>a.jsxs("div",{className:"rounded-lg bg-slate-50 p-3",children:[a.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-200 text-slate-700",children:a.jsx("span",{className:"text-xs font-bold",children:ze.user?.fullName?.charAt(0)?.toUpperCase()||"U"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900",children:ze.user?.fullName||"Ngi dng"}),a.jsx("p",{className:"text-xs text-slate-500",children:new Date(ze.created_at).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),ze.user_id===parseInt(localStorage.getItem("userId")||"0")&&a.jsx("button",{onClick:()=>Ot(ze.id),className:"rounded-lg p-1 text-slate-400 transition hover:bg-red-50 hover:text-red-600",children:a.jsx(cl,{className:"h-3 w-3"})})]}),a.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ze.text})]},ze.id))})]},he.id))})]})]})]}),c.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-6 text-2xl font-bold text-slate-900",children:" thi tng t"}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:c.map(fa)})]}),ne&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-xl",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Xc nhn mua lt thi"}),a.jsx("button",{onClick:()=>K(!1),className:"rounded-lg p-1 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:a.jsx(cl,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"mb-6 space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm text-slate-600",children:[a.jsx(Pg,{className:"h-4 w-4 text-amber-500"}),a.jsx("span",{children:"Bn s c tr s tin t ti khon"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Gi tin:"}),a.jsx("span",{className:"text-lg font-bold text-emerald-600",children:Rt(i?.fee||0)})]})]}),a.jsxs("div",{className:"rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[a.jsxs("p",{className:"text-sm text-indigo-900",children:[a.jsx("strong",{children:" thi:"})," ",i?.title]}),a.jsx("p",{className:"mt-1 text-xs text-indigo-700",children:"Sau khi mua, bn s c th lm bi thi ngay lp tc."})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>K(!1),className:"flex-1 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"Hy"}),a.jsxs("button",{onClick:je,className:"flex-1 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700",children:["Xc nhn - ",Rt(i?.fee||0)]})]})]})})]})}):a.jsx(Ye,{role:"student",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-slate-600",children:"Khng tm thy  thi"}),a.jsx("button",{onClick:()=>e("/dashboard/student"),className:"mt-4 rounded-lg bg-indigo-600 px-4 py-2 text-white",children:"Quay li"})]})})})}function Jk(r){if(!r)throw new Error("examId l bt buc.");return pe.post(`/api/exams/${r}/start`)}function eC(r){if(!r)throw new Error("examId l bt buc.");return pe.get(`/api/exams/${r}/session`)}function tC(r){if(!r)throw new Error("sessionId l bt buc.");return pe.get(`/api/sessions/${r}/questions`)}function sC(r,e){if(!r)throw new Error("sessionId l bt buc.");if(!e?.question_id)throw new Error("question_id l bt buc.");return pe.post(`/api/sessions/${r}/answer`,e)}function aC(r){if(!r)throw new Error("sessionId l bt buc.");return pe.get(`/api/sessions/${r}/answers`)}function D0(r){if(!r)throw new Error("sessionId l bt buc.");return pe.post(`/api/sessions/${r}/submit`)}function iC(r){if(!r)throw new Error("sessionId l bt buc.");return pe.get(`/api/sessions/${r}/result`)}function nC(){return pe.get("/api/exam-sessions/my-sessions")}function rC(r,e){const[t,s]=M.useState(0),i=M.useRef(!1),o=M.useCallback(async(c,h,u="medium",g={})=>{if(!(!r||!e))try{await Rk(r,{cheating_type:c,description:h,severity:u,metadata:{timestamp:new Date().toISOString(),user_agent:navigator.userAgent,...g}}),s(x=>{const m=x+1;return!i.current&&m>=2&&($.warning("H thng  pht hin nhiu hnh vi bt thng. Vui lng lm bi nghim tc!",{autoClose:5e3}),i.current=!0),m})}catch(x){console.error("Error logging cheating event:",x)}},[r,e]);return M.useEffect(()=>{if(!e)return;let c=0;const h=500,u=()=>{const x=Date.now();x-c<h||document.hidden&&(c=x,o("tab_switch","Student switched to another tab","medium",{}))},g=()=>{document.hasFocus()&&(i.current=!1)};return document.addEventListener("visibilitychange",u),window.addEventListener("focus",g),()=>{document.removeEventListener("visibilitychange",u),window.removeEventListener("focus",g)}},[e,o]),M.useEffect(()=>{if(!e)return;const c=g=>{g.preventDefault(),o("copy_paste","Copy detected","high",{clipboard_data:g.clipboardData?.getData("text")?.substring(0,50)}),$.error("Khng c php copy trong lc thi!",{autoClose:3e3})},h=g=>{g.preventDefault(),o("copy_paste","Paste detected","high",{clipboard_data:g.clipboardData?.getData("text")?.substring(0,50)}),$.error("Khng c php paste trong lc thi!",{autoClose:3e3})},u=g=>{g.preventDefault(),o("copy_paste","Cut detected","high"),$.error("Khng c php cut trong lc thi!",{autoClose:3e3})};return document.addEventListener("copy",c),document.addEventListener("paste",h),document.addEventListener("cut",u),()=>{document.removeEventListener("copy",c),document.removeEventListener("paste",h),document.removeEventListener("cut",u)}},[e,o]),M.useEffect(()=>{if(!e)return;const c=h=>{h.preventDefault(),o("right_click","Right click detected","medium",{target:h.target?.tagName}),$.warning("Khng c php click chut phi!",{autoClose:2e3})};return document.addEventListener("contextmenu",c),()=>{document.removeEventListener("contextmenu",c)}},[e,o]),M.useEffect(()=>{if(!e)return;const c=h=>{(h.ctrlKey||h.metaKey)&&(h.key==="c"||h.key==="v"||h.key==="x"||h.key==="a"||h.key==="s"||h.key==="p")&&(h.preventDefault(),o("keyboard_shortcut",`Keyboard shortcut detected: ${h.key}`,"high",{key:h.key,ctrlKey:h.ctrlKey,metaKey:h.metaKey}),$.error(`Khng c php s dng phm tt ${h.key.toUpperCase()}!`,{autoClose:3e3})),h.key==="F12"&&(h.preventDefault(),o("keyboard_shortcut","F12 (DevTools) detected","critical"),$.error("Khng c php m DevTools!",{autoClose:3e3})),(h.ctrlKey||h.metaKey)&&h.shiftKey&&(h.key==="I"||h.key==="J")&&(h.preventDefault(),o("keyboard_shortcut","DevTools shortcut detected","critical"),$.error("Khng c php m DevTools!",{autoClose:3e3}))};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[e,o]),M.useEffect(()=>{if(!e)return;const h=setInterval(()=>{window.length>1&&o("multiple_tabs","Multiple tabs detected","medium",{window_count:window.length})},5e3);return()=>clearInterval(h)},[e,o]),{cheatingCount:t}}function lC(){const{examId:r}=aa(),e=rt(),[t,s]=M.useState(!0),[i,o]=M.useState(null),[c,h]=M.useState(null),[u,g]=M.useState([]),[x,m]=M.useState(0),[p,b]=M.useState({}),[w,y]=M.useState(0),[k,A]=M.useState(!1),[S,T]=M.useState(!1),[C,E]=M.useState(!1),L=M.useRef(!1),_=M.useRef(!1),D=M.useRef(null),{cheatingCount:H}=rC(i?.id,S);M.useEffect(()=>{if(D.current!==r&&(_.current=!1,L.current=!1,D.current=r),_.current||L.current||!r)return;(async()=>{L.current=!0;try{s(!0);let G=null;try{G=await eC(r)}catch(O){if(O.status===400){const I=O.body?.message||O.message||"";if(I.includes("expired")||I.includes("ht hn")){$.warning("Phin lm bi  ht hn. Bi thi  c t ng np. Bn c th xem kt qu bng cch nhn nt 'Xem kt qu'.",{autoClose:7e3}),O.body?.result&&(E(!0),T(!1),O.body.result.session_id&&o({id:O.body.result.session_id,exam_id:r})),s(!1);return}}if(O.status===404)try{const I=await Jk(r);G=I.session,I.message&&I.message.includes("started")}catch(I){if(I.status===400){const ne=I.body?.message||I.message||"Khng th bt u bi thi";if(ne.includes("Insufficient balance")||ne.includes("khng ")){$.error("S d khng   lm bi thi ny. Vui lng np thm tin.",{autoClose:5e3}),e("/dashboard/student/payment");return}else if(ne.includes("ended")||ne.includes("kt thc")){$.warning("Bi thi  kt thc. Bn khng th lm bi thi ny na.",{autoClose:5e3}),s(!1);return}else if(ne.includes("not started")||ne.includes("cha bt u")){$.info("Bi thi cha bt u. Vui lng i n thi gian quy nh.",{autoClose:5e3}),s(!1);return}else{$.error(ne),s(!1);return}}throw I}else throw O}o(G);try{const O=await tC(G.id);h(O.exam),g(O.questions||[]),y(O.session.remaining_time_ms||0),T(!0),z(G.id),_.current=!0}catch(O){if(O.status===400){const I=O.body?.message||O.message||"";if(I.includes("expired")||I.includes("ht hn")){$.warning("Phin lm bi  ht hn. Bi thi  c t ng np. Bn c th xem kt qu bng cch nhn nt 'Xem kt qu'.",{autoClose:7e3}),O.body?.result&&(E(!0),T(!1),O.body.result.session_id&&o({id:O.body.result.session_id,exam_id:r})),s(!1);return}}throw O}}catch(G){console.error("Error initializing session:",G);const O=G.body?.message||G.message||"";!O.includes("expired")&&!O.includes("ht hn")&&!O.includes("ended")&&!O.includes("kt thc")&&!O.includes("not started")&&!O.includes("cha bt u")&&($.error(O||"Khng th khi to bi thi"),G.status!==400&&e("/dashboard/student"))}finally{s(!1),L.current=!1}})()},[r,e]);const z=async q=>{try{const{answers:G}=await aC(q),O={};G.forEach(I=>{I.selected_answer_id?O[I.exam_question_id]={selected_answer_id:I.selected_answer_id}:I.answer_text&&(O[I.exam_question_id]={answer_text:I.answer_text})}),b(O)}catch(G){console.error("Error loading saved answers:",G)}};M.useEffect(()=>{if(w<=0||!S)return;const q=setInterval(()=>{y(G=>G<=1e3?(T(!1),V(),0):G-1e3)},1e3);return()=>clearInterval(q)},[w,S]);const B=q=>{const G=Math.floor(q/1e3),O=Math.floor(G/3600),I=Math.floor(G%3600/60),ne=G%60;return O>0?`${O}:${I.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}`:`${I}:${ne.toString().padStart(2,"0")}`},P=async(q,G)=>{if(!(!i||!S))try{const O={question_id:q,...G};await sC(i.id,O),b(I=>({...I,[q]:G})),$.success(" lu cu tr li",{autoClose:1e3})}catch(O){console.error("Error submitting answer:",O);const I=O?.body?.message||O?.message||(O?.status===404?"Khng tm thy session hoc cu hi":"Khng th lu cu tr li");O.status===400&&(I.includes("expired")||I.includes("ht hn")||I.includes(" c np")||I.includes(" ht hn"))?($.warning("Phin lm bi  ht hn. Bn khng th tip tc tr li cu hi.",{autoClose:5e3}),T(!1)):$.error(I,{autoClose:3e3})}},W=async()=>{if(!(!i||k||!window.confirm("Bn c chc chn mun np bi? Sau khi np bi, bn khng th chnh sa."))){A(!0),T(!1);try{await D0(i.id),$.success("Np bi thnh cng!"),e(`/student/exams/${r}/result/${i.id}`)}catch(G){console.error("Error submitting exam:",G),$.error(G.message||"Khng th np bi"),A(!1),T(!0)}}},V=async()=>{if(!(!i||k)){A(!0),T(!1);try{await D0(i.id),E(!0),$.success(" ht thi gian! Bi thi  c t ng np. Bn c th xem kt qu bng cch nhn nt 'Xem kt qu' bn di.",{autoClose:7e3})}catch(q){console.error("Error auto-submitting exam:",q),$.error(" ht thi gian nhng khng th np bi t ng. Vui lng th li.",{autoClose:5e3}),A(!1),T(!0)}}},Q=Object.keys(p).length,Y=Q/u.length*100;if(M.useEffect(()=>{if(!S)return;const q=G=>(G.preventDefault(),G.returnValue="Bn c chc chn mun ri khi trang? Tin trnh lm bi s b mt!",G.returnValue);return window.addEventListener("beforeunload",q),()=>window.removeEventListener("beforeunload",q)},[S]),M.useEffect(()=>{if(!S)return;const q=G=>{G.target.tagName==="INPUT"||G.target.tagName==="TEXTAREA"||(G.key==="ArrowLeft"&&x>0?m(O=>O-1):G.key==="ArrowRight"&&x<u.length-1&&m(O=>O+1))};return window.addEventListener("keydown",q),()=>window.removeEventListener("keydown",q)},[S,x,u.length]),t)return a.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-indigo-50 to-blue-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),a.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"ang ti bi thi..."}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Vui lng ch trong giy lt"})]})});if(!i||!c||u.length===0)return a.jsx("div",{className:"flex h-screen items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(w0,{className:"mx-auto mb-4 h-16 w-16 text-red-500"}),a.jsx("p",{className:"text-xl font-semibold text-red-600",children:"Khng tm thy bi thi hoc cu hi"}),a.jsx("button",{onClick:()=>e("/dashboard/student/exams"),className:"mt-4 rounded-lg bg-indigo-600 px-6 py-2 text-white hover:bg-indigo-700",children:"Quay li danh sch bi thi"})]})});const F=u[x],U=p[F.id];return a.jsxs("div",{className:"flex h-screen flex-col bg-gradient-to-br from-slate-50 to-blue-50",children:[a.jsx("header",{className:"sticky top-0 z-50 border-b border-slate-200 bg-white/95 backdrop-blur-sm shadow-lg",children:a.jsx("div",{className:"mx-auto max-w-[1920px] px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:c.title}),c.des&&a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:c.des})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"hidden md:block w-32",children:[a.jsxs("div",{className:"mb-1 flex items-center justify-between text-xs text-slate-600",children:[a.jsx("span",{children:"Tin "}),a.jsxs("span",{className:"font-semibold",children:[Q,"/",u.length]})]}),a.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-200",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-blue-500 transition-all duration-300",style:{width:`${Y}%`}})})]}),H>0&&a.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-amber-50 border border-amber-200 px-4 py-2",children:[a.jsx(w0,{className:"h-5 w-5 text-amber-600"}),a.jsxs("span",{className:"text-sm font-semibold text-amber-800",children:[H," cnh bo"]})]}),a.jsxs("div",{className:`flex items-center gap-3 rounded-xl border-2 px-5 py-3 shadow-md transition-all ${w<3e5?"border-red-400 bg-gradient-to-r from-red-50 to-red-100 text-red-700 animate-pulse":w<6e5?"border-orange-400 bg-gradient-to-r from-orange-50 to-orange-100 text-orange-700":"border-indigo-400 bg-gradient-to-r from-indigo-50 to-blue-50 text-indigo-700"}`,children:[a.jsx(xi,{className:`h-6 w-6 ${w<3e5?"animate-pulse":""}`}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium opacity-75",children:"Thi gian cn li"}),a.jsx("div",{className:"text-2xl font-bold tabular-nums",children:B(w)})]})]})]})]})})}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("aside",{className:"hidden lg:block w-80 border-r border-slate-200 bg-white/80 backdrop-blur-sm overflow-y-auto",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-900 mb-2",children:"Danh sch cu hi"}),a.jsxs("div",{className:"text-sm text-slate-600",children:[Q," / ",u.length," cu  tr li"]})]}),a.jsx("div",{className:"grid grid-cols-5 gap-2 mb-6",children:u.map((q,G)=>{const O=p[q.id],I=G===x;return a.jsxs("button",{onClick:()=>m(G),className:`relative h-12 rounded-lg border-2 font-semibold transition-all transform hover:scale-105 ${I?"border-indigo-500 bg-gradient-to-br from-indigo-500 to-blue-500 text-white shadow-lg scale-110 z-10":O?"border-emerald-400 bg-gradient-to-br from-emerald-50 to-green-50 text-emerald-700 hover:border-emerald-500":"border-slate-200 bg-white text-slate-600 hover:border-slate-300 hover:bg-slate-50"}`,children:[G+1,O&&!I&&a.jsx(Jn,{className:"absolute -top-1 -right-1 h-4 w-4 text-emerald-500 bg-white rounded-full"})]},q.id)})}),a.jsxs("div",{className:"space-y-3 rounded-lg border border-slate-200 bg-slate-50 p-4",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Ch thch:"}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"h-4 w-4 rounded border-2 border-indigo-500 bg-gradient-to-br from-indigo-500 to-blue-500"}),a.jsx("span",{className:"text-slate-600",children:"ang lm"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"h-4 w-4 rounded border-2 border-emerald-400 bg-gradient-to-br from-emerald-50 to-green-50"}),a.jsx("span",{className:"text-slate-600",children:" tr li"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("div",{className:"h-4 w-4 rounded border-2 border-slate-200 bg-white"}),a.jsx("span",{className:"text-slate-600",children:"Cha tr li"})]})]}),C?a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("div",{className:"rounded-xl border-2 border-emerald-500 bg-emerald-50 p-4 text-center",children:[a.jsx(Jn,{className:"mx-auto mb-2 h-8 w-8 text-emerald-600"}),a.jsx("p",{className:"text-sm font-semibold text-emerald-700",children:"Bi thi  c t ng np"})]}),a.jsx("button",{onClick:()=>e(`/student/exams/${r}/result/${i.id}`),className:"w-full rounded-xl bg-gradient-to-r from-indigo-500 to-blue-600 px-6 py-3 font-bold text-white shadow-lg transition-all hover:from-indigo-600 hover:to-blue-700 hover:shadow-xl",children:"Xem kt qu"})]}):a.jsx("button",{onClick:W,disabled:k||!S,className:"mt-6 w-full rounded-xl bg-gradient-to-r from-emerald-500 to-green-600 px-6 py-3 font-bold text-white shadow-lg transition-all hover:from-emerald-600 hover:to-green-700 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:shadow-lg",children:k?a.jsxs("span",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"ang np bi..."]}):"Np bi"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto",children:a.jsxs("div",{className:"mx-auto max-w-4xl px-6 py-8",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-xl",children:[a.jsx("div",{className:"border-b border-slate-200 bg-gradient-to-r from-slate-50 to-blue-50 px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-blue-500 text-lg font-bold text-white shadow-md",children:x+1}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-slate-500",children:["Cu hi ",x+1," / ",u.length]}),a.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[F.type==="single_choice"&&"Trc nghim (1 p n ng)",F.type==="multiple_choice"&&"Trc nghim (nhiu p n ng)",F.type==="true_false"&&"ng / Sai",F.type==="short_answer"&&"T lun ngn",F.type==="essay"&&"Bi lun"]})]})]}),U&&a.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-emerald-50 px-4 py-2 border border-emerald-200",children:[a.jsx(Jn,{className:"h-5 w-5 text-emerald-600"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-700",children:" tr li"})]})]})}),a.jsxs("div",{className:"p-8",children:[a.jsx("h2",{className:"mb-6 text-2xl font-bold leading-relaxed text-slate-900",children:F.question_text}),F.image_url&&a.jsx("div",{className:"mb-8 overflow-hidden rounded-xl border border-slate-200",children:a.jsx("img",{src:F.image_url,alt:"Question",className:"w-full object-contain"})}),(F.type==="single_choice"||F.type==="true_false")&&a.jsx("div",{className:"space-y-3",children:F.answers?.map((q,G)=>{const O=U?.selected_answer_id===q.id,I=String.fromCharCode(65+G);return a.jsxs("label",{className:`group flex cursor-pointer items-center gap-4 rounded-xl border-2 p-5 transition-all hover:shadow-md ${O?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-blue-50 shadow-md":"border-slate-200 bg-white hover:border-slate-300"}`,children:[a.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg font-bold transition-all ${O?"bg-gradient-to-br from-indigo-500 to-blue-500 text-white shadow-md":"bg-slate-100 text-slate-600 group-hover:bg-slate-200"}`,children:I}),a.jsx("input",{type:"radio",name:`question-${F.id}`,checked:O,onChange:()=>P(F.id,{selected_answer_id:q.id}),className:"h-5 w-5 cursor-pointer text-indigo-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}),a.jsx("span",{className:"flex-1 text-lg text-slate-700",children:q.text})]},q.id)})}),F.type==="multiple_choice"&&a.jsx("div",{className:"space-y-3",children:F.answers?.map((q,G)=>{const O=U?.selected_answer_id===q.id,I=String.fromCharCode(65+G);return a.jsxs("label",{className:`group flex cursor-pointer items-center gap-4 rounded-xl border-2 p-5 transition-all hover:shadow-md ${O?"border-indigo-500 bg-gradient-to-r from-indigo-50 to-blue-50 shadow-md":"border-slate-200 bg-white hover:border-slate-300"}`,children:[a.jsx("div",{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg font-bold transition-all ${O?"bg-gradient-to-br from-indigo-500 to-blue-500 text-white shadow-md":"bg-slate-100 text-slate-600 group-hover:bg-slate-200"}`,children:I}),a.jsx("input",{type:"checkbox",checked:O,onChange:()=>P(F.id,{selected_answer_id:O?null:q.id}),className:"h-5 w-5 cursor-pointer text-indigo-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded"}),a.jsx("span",{className:"flex-1 text-lg text-slate-700",children:q.text})]},q.id)})}),(F.type==="short_answer"||F.type==="essay")&&a.jsxs("div",{children:[a.jsx("textarea",{value:U?.answer_text||"",onChange:q=>P(F.id,{answer_text:q.target.value}),placeholder:"Nhp cu tr li ca bn...",className:"w-full rounded-xl border-2 border-slate-200 p-5 text-lg text-slate-700 placeholder-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-4 focus:ring-indigo-200 transition-all",rows:F.type==="essay"?12:6}),a.jsxs("div",{className:"mt-2 text-sm text-slate-500",children:[(U?.answer_text||"").length," k t"]})]}),a.jsxs("div",{className:"mt-10 flex items-center justify-between border-t border-slate-200 pt-6",children:[a.jsxs("button",{onClick:()=>m(q=>q>0?q-1:q),disabled:x===0,className:"flex items-center gap-2 rounded-xl border-2 border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 transition-all hover:border-indigo-400 hover:bg-indigo-50 hover:text-indigo-700 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-slate-300 disabled:hover:bg-white disabled:hover:text-slate-700",children:[a.jsx("span",{children:""})," Cu trc"]}),a.jsxs("div",{className:"text-sm text-slate-500",children:["S dng ",a.jsx("kbd",{className:"rounded bg-slate-100 px-2 py-1 font-mono",children:""})," ",a.jsx("kbd",{className:"rounded bg-slate-100 px-2 py-1 font-mono",children:""}),"  iu hng"]}),a.jsxs("button",{onClick:()=>m(q=>q<u.length-1?q+1:q),disabled:x===u.length-1,className:"flex items-center gap-2 rounded-xl border-2 border-slate-300 bg-white px-6 py-3 font-semibold text-slate-700 transition-all hover:border-indigo-400 hover:bg-indigo-50 hover:text-indigo-700 disabled:cursor-not-allowed disabled:opacity-50 disabled:hover:border-slate-300 disabled:hover:bg-white disabled:hover:text-slate-700",children:["Cu sau ",a.jsx("span",{children:""})]})]})]})]}),a.jsx("div",{className:"mt-6 lg:hidden",children:a.jsx("button",{onClick:W,disabled:k||!S,className:"w-full rounded-xl bg-gradient-to-r from-emerald-500 to-green-600 px-6 py-4 font-bold text-white shadow-lg transition-all hover:from-emerald-600 hover:to-green-700 hover:shadow-xl disabled:cursor-not-allowed disabled:opacity-50",children:k?"ang np bi...":"Np bi"})})]})})]})]})}function oC(){const{examId:r,sessionId:e}=aa(),t=rt(),[s,i]=M.useState(!0),[o,c]=M.useState(null),[h,u]=M.useState([]),[g,x]=M.useState(0),[m,p]=M.useState(""),[b,w]=M.useState(null),[y,k]=M.useState(!1);M.useEffect(()=>{e&&(async()=>{try{i(!0);const E=await iC(e);if(c(E.result),u(E.answers||[]),E.result?.exam_id)try{const L=await z0(E.result.exam_id);L&&(w(L),x(L.rating||0),p(L.comment||""))}catch(L){console.error("Error loading user rating:",L)}}catch(E){console.error("Error loading result:",E),$.error(E.message||"Khng th ti kt qu"),t("/dashboard/student")}finally{i(!1)}})()},[e,t]);const A=async()=>{if(!g||g<1||g>5){$.error("Vui lng chn s sao t 1 n 5");return}if(!o?.exam_id){$.error("Khng tm thy thng tin  thi");return}try{k(!0),await Kk({exam_id:o.exam_id,rating:g,comment:m.trim()||null,result_id:o.id}),$.success("nh gi  c lu thnh cng!");const C=await z0(o.exam_id);C&&w(C)}catch(C){console.error("Error submitting rating:",C),$.error(C.message||"Khng th lu nh gi")}finally{k(!1)}};if(s)return a.jsx(Ye,{role:"student",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mb-4 inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),a.jsx("p",{className:"text-slate-600",children:"ang ti kt qu..."})]})})});if(!o)return a.jsx(Ye,{role:"student",children:a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-6 text-red-600",children:a.jsx("p",{className:"font-semibold",children:"Khng tm thy kt qu"})})})});const S=typeof o.percentage=="number"?o.percentage:parseFloat(o.percentage)||0,T=S>=50;return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>t("/dashboard/student"),className:"flex items-center gap-2 text-slate-600 transition hover:text-slate-900",children:[a.jsx(Fb,{className:"h-5 w-5"}),a.jsx("span",{children:"Quay li"})]}),r&&a.jsxs("button",{onClick:()=>t(`/dashboard/student/exams/${r}`),className:"flex items-center gap-2 rounded-lg border border-indigo-200 bg-indigo-50 px-4 py-2 text-sm font-medium text-indigo-700 transition hover:bg-indigo-100",children:[a.jsx(Fs,{className:"h-4 w-4"}),a.jsx("span",{children:"Quay li  thi"})]})]}),a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Kt qu thi"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Kt qu bi thi"}),a.jsx("p",{className:"mt-2 text-slate-600",children:o.exam?.title})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center shadow-sm",children:[a.jsx("div",{className:"mb-2 flex items-center justify-center",children:a.jsx(eN,{className:`h-12 w-12 ${T?"text-emerald-500":"text-red-500"}`})}),a.jsx("div",{className:"text-3xl font-bold text-slate-900",children:o.total_score||0}),a.jsxs("div",{className:"text-sm text-slate-500",children:["/ ",o.exam?.total_score||0," im"]})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center shadow-sm",children:[a.jsx("div",{className:"mb-2 flex items-center justify-center",children:a.jsx("div",{className:`flex h-16 w-16 items-center justify-center rounded-full ${T?"bg-emerald-100":"bg-red-100"}`,children:a.jsxs("span",{className:`text-2xl font-bold ${T?"text-emerald-600":"text-red-600"}`,children:[S.toFixed(1),"%"]})})}),a.jsx("div",{className:"text-sm text-slate-500",children:"T l ng"})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-5 text-center shadow-sm",children:[a.jsxs("div",{className:"mb-2 flex items-center justify-center gap-2",children:[a.jsx(Jn,{className:"h-6 w-6 text-emerald-500"}),a.jsx("span",{className:"text-2xl font-bold text-slate-900",children:o.correct_count||0})]}),a.jsx("div",{className:"text-sm text-slate-500",children:"Cu ng"}),a.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[a.jsx(xu,{className:"h-6 w-6 text-red-500"}),a.jsx("span",{className:"text-xl font-semibold text-slate-700",children:o.wrong_count||0})]}),a.jsx("div",{className:"text-sm text-slate-500",children:"Cu sai"})]})]}),o.feedback&&a.jsxs("div",{className:"mt-6 rounded-lg border border-indigo-200 bg-indigo-50 p-4",children:[a.jsx("h3",{className:"mb-2 font-semibold text-indigo-900",children:"Nhn xt t gio vin:"}),a.jsx("p",{className:"text-indigo-800",children:o.feedback})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"nh gi  thi"}),a.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"Hy chia s nh gi ca bn v  thi ny  gip ci thin cht lng"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"S sao nh gi *"}),a.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(C=>a.jsx("button",{type:"button",onClick:()=>x(C),className:"transition-transform hover:scale-110",children:a.jsx(wc,{className:`h-8 w-8 ${C<=g?"fill-amber-400 text-amber-400":"text-slate-300"}`})},C))}),g>0&&a.jsxs("p",{className:"mt-2 text-sm text-slate-600",children:["Bn  chn ",g," ","sao"]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"rating-comment",className:"mb-2 block text-sm font-medium text-slate-700",children:"Nhn xt (ty chn)"}),a.jsx("textarea",{id:"rating-comment",value:m,onChange:C=>p(C.target.value),placeholder:"Chia s suy ngh ca bn v  thi ny...",rows:4,className:"w-full rounded-lg border border-slate-200 px-4 py-3 text-sm text-slate-900 placeholder-slate-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsx("button",{onClick:A,disabled:y||!g,className:"w-full rounded-lg bg-indigo-600 px-6 py-3 font-semibold text-white transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"ang lu...":b?"Cp nht nh gi":"Gi nh gi"}),b&&a.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Bn  nh gi  thi ny vo"," ",new Date(b.created_at).toLocaleDateString("vi-VN")]})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-6 text-xl font-semibold text-slate-900",children:"Chi tit cu tr li"}),a.jsx("div",{className:"space-y-6",children:h.map((C,E)=>{const L=C.question,_=C.is_correct,D=C.selectedAnswer,z=!(C.id!==null&&C.id!==void 0);return a.jsxs("div",{className:`rounded-2xl border-2 p-5 ${_?"border-emerald-200 bg-emerald-50":z?"border-amber-200 bg-amber-50":"border-red-200 bg-red-50"}`,children:[a.jsx("div",{className:"mb-4 flex items-start justify-between",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[a.jsxs("span",{className:"font-semibold text-slate-700",children:["Cu ",E+1,":"]}),_?a.jsx(Jn,{className:"h-5 w-5 text-emerald-600"}):z?a.jsx(xi,{className:"h-5 w-5 text-amber-600"}):a.jsx(xu,{className:"h-5 w-5 text-red-600"}),a.jsxs("span",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${_?"border-emerald-200 bg-emerald-100 text-emerald-700":z?"border-amber-200 bg-amber-100 text-amber-700":"border-red-200 bg-red-100 text-red-700"}`,children:[_?"ng":z?"B trng":"Sai"," (",C.score||0," ","im)"]})]}),a.jsx("p",{className:"text-lg font-medium text-slate-900",children:L?.question_text})]})}),(L?.type==="single_choice"||L?.type==="multiple_choice"||L?.type==="true_false")&&a.jsx("div",{className:"space-y-2",children:L.answers?.map(B=>{const P=D?.id===B.id,W=B.is_correct;return a.jsx("div",{className:`rounded-xl border-2 p-3 ${W?"border-emerald-500 bg-emerald-100":P&&!W?"border-red-500 bg-red-100":"border-slate-200 bg-white"}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[W&&a.jsx(Jn,{className:"h-5 w-5 text-emerald-600"}),P&&!W&&a.jsx(xu,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:`font-medium ${W?"text-emerald-800":P&&!W?"text-red-800":"text-slate-700"}`,children:B.text}),P&&a.jsx("span",{className:"ml-auto text-xs text-slate-500",children:"(Bn chn)"}),W&&!P&&a.jsx("span",{className:"ml-auto text-xs text-emerald-600",children:"(p n ng)"}),z&&W&&a.jsx("span",{className:"ml-auto text-xs text-amber-600",children:"(p n ng - bn cha chn)"})]})},B.id)})}),(L?.type==="short_answer"||L?.type==="essay")&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Cu tr li ca bn:"}),a.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:a.jsx("p",{className:`${z?"text-amber-600 italic":"text-slate-900"}`,children:C.answer_text||"Cha tr li"})})]}),z&&a.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-3",children:a.jsx("p",{className:"text-sm text-amber-800",children:" Cu hi ny cn gio vin chm im th cng"})})]})]},C.exam_question_id||L?.id||E)})})]}),a.jsxs("div",{className:"flex justify-center gap-4",children:[r&&a.jsxs("button",{onClick:()=>t(`/dashboard/student/exams/${r}`),className:"flex items-center gap-2 rounded-full border border-indigo-200 bg-indigo-50 px-6 py-3 text-sm font-semibold text-indigo-700 transition hover:bg-indigo-100",children:[a.jsx(Fs,{className:"h-4 w-4"}),"Quay li  thi"]}),a.jsx("button",{onClick:()=>t("/dashboard/student"),className:"rounded-full border border-slate-200 bg-white px-6 py-3 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:"V trang ch"})]})]})})}function cC(){const r=rt(),[e,t]=M.useState(!1),[s,i]=M.useState([]);ga(()=>{o()},[]);const o=async()=>{t(!0);try{const g=await nC(),x=Array.isArray(g)?g:[],m=new Map;x.forEach(b=>{if(!b.exam)return;const w=b.exam.id;if(!m.has(w))m.set(w,{examId:w,examTitle:b.exam.title,minutes:b.exam.minutes||0,createdAt:b.exam.created_at||b.start_time,lastAccessTime:b.start_time,attemptCount:1,sessionCode:b.code,status:b.status});else{const y=m.get(w);y.attemptCount+=1,new Date(b.start_time)>new Date(y.lastAccessTime)&&(y.lastAccessTime=b.start_time,y.sessionCode=b.code,y.status=b.status)}});const p=Array.from(m.values()).sort((b,w)=>new Date(w.lastAccessTime)-new Date(b.lastAccessTime)).slice(0,12);i(p)}catch(g){console.error("Error loading recent exams:",g),$.error("Khng th ti danh sch bi thi truy cp gn y"),i([])}finally{t(!1)}},c=g=>g?new Date(g).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",h=g=>{r(`/dashboard/student/exams/${g}`)},u=(g,x)=>{x.stopPropagation(),r(`/student/exams/${g}/take`)};return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsx("div",{children:a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Bi thi truy cp gn y"})})}),e?a.jsx("div",{className:"flex items-center justify-center py-20",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-indigo-600 border-r-transparent"}),"ang ti d liu..."]})}):s.length===0?a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-12 text-center shadow-sm",children:[a.jsx(Pg,{className:"mx-auto mb-4 h-12 w-12 text-slate-400"}),a.jsx("p",{className:"text-slate-600",children:"Cha c bi thi no c truy cp gn y"})]}):a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(g=>a.jsxs("div",{onClick:()=>h(g.examId),className:"group cursor-pointer rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition-all hover:border-indigo-200 hover:shadow-lg",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"mb-3",children:a.jsx("span",{className:"inline-block rounded-full bg-indigo-100 px-2.5 py-1 text-xs font-bold text-indigo-700",children:g.sessionCode||`EXAM${g.examId}`})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2",children:g.examTitle})]}),a.jsxs("div",{className:"mb-4 space-y-2 text-sm text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xi,{className:"h-4 w-4 text-slate-400"}),a.jsxs("span",{children:["Thi lng: ",g.minutes," pht"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(iN,{className:"h-4 w-4 text-slate-400"}),a.jsxs("span",{children:["Truy cp: ",c(g.lastAccessTime)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(TN,{className:"h-4 w-4 text-slate-400"}),a.jsxs("span",{children:[" lm: ",g.attemptCount," ln"]})]}),g.status&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fs,{className:"h-4 w-4 text-slate-400"}),a.jsx("span",{className:`${g.status==="submitted"?"text-green-600":g.status==="in_progress"?"text-blue-600":"text-slate-600"}`,children:g.status==="submitted"?" np":g.status==="in_progress"?"ang lm":g.status})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:x=>u(g.examId,x),className:"flex-1 flex items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow transition hover:bg-indigo-700",children:[a.jsx(xl,{className:"h-4 w-4"}),"Lm bi"]}),a.jsx("button",{onClick:x=>{x.stopPropagation(),h(g.examId)},className:"flex items-center justify-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50",children:a.jsx(Fs,{className:"h-4 w-4"})})]})]},g.examId))})]})})}function dC(){const r=rt(),[e,t]=M.useState(!0),[s,i]=M.useState(""),[o,c]=M.useState([]),[h,u]=M.useState(1),g=12;ga(()=>{x()},[]);const x=async()=>{try{t(!0);const C=await qk(),E=Array.isArray(C)?C:C?.data||[];if(Array.isArray(E)&&E.length>0){const L=E.map(_=>{const D=_.exam||{};return{id:D.id,title:D.title||"Khng c tiu ",des:D.des,minutes:D.minutes||0,question_count:D.question_count||0,count:D.count||0,created_at:D.created_at,status:D.status,image_url:D.image_url,class:D.class,classes:D.classes,favorite_id:_.id}});c(L)}else c([])}catch(C){console.error("Error loading favorite exams:",C),$.error("Khng th ti danh sch bi thi yu thch"),c([])}finally{t(!1)}},m=async(C,E)=>{E.stopPropagation();try{await bv(C),c(L=>L.filter(_=>_.id!==C)),$.success(" xa khi danh sch yu thch")}catch(L){console.error("Error removing favorite:",L),$.error("Khng th xa khi danh sch yu thch")}},p=M.useMemo(()=>{if(!s.trim())return o;const C=s.toLowerCase().trim();return o.filter(E=>{const L=E.title?.toLowerCase().includes(C),_=E.des?.toLowerCase().includes(C),D=E.classes?.some(H=>H.className?.toLowerCase().includes(C))||E.class?.className?.toLowerCase().includes(C);return L||_||D})},[o,s]),b=Math.max(1,Math.ceil(p.length/g)),w=(h-1)*g,y=w+g,k=p.slice(w,y);M.useEffect(()=>{u(1)},[s]);const A=C=>{r(`/dashboard/student/exams/${C}`)},S=C=>C?new Date(C).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",T=C=>a.jsxs("div",{className:"group relative flex flex-col rounded-2xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-1 hover:border-indigo-200 hover:shadow-lg",children:[a.jsx("button",{onClick:E=>m(C.id,E),className:"absolute right-4 top-4 z-20 rounded-full bg-white/90 p-2 shadow-md transition hover:scale-110 hover:bg-white",children:a.jsx(qu,{className:"h-5 w-5 fill-red-500 text-red-500"})}),a.jsx("div",{className:"relative overflow-hidden rounded-t-2xl",children:C.image_url?a.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[a.jsx("img",{src:C.image_url.startsWith("http")?C.image_url:`${"http://14.225.191.135".replace(/\/$/,"")||"http://localhost:3000"}${C.image_url}`,alt:C.title,className:"h-full w-full object-cover transition-transform group-hover:scale-105",onError:E=>{E.target.style.display="none",E.target.nextElementSibling.style.display="block"}}),a.jsxs("div",{className:"hidden h-full w-full bg-gradient-to-br from-indigo-50 via-white to-amber-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),C.classes&&C.classes.length>0?C.classes.length>1?`${C.classes.length} lp`:C.classes[0].className:C.class?.className||"Public"]}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:S(C.created_at)})]}),a.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:C.title}),a.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:C.des||(C.classes&&C.classes.length>0?C.classes.map(E=>E.className).join(", "):null)||C.class?.className||"Khng c m t"})]}),a.jsxs("div",{className:"absolute inset-0 z-[5] flex flex-col justify-between bg-gradient-to-t from-black/60 via-transparent to-transparent p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/90 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),C.class?.className||"Public"]}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-white",children:S(C.created_at)})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"line-clamp-2 text-lg font-bold text-white",children:C.title}),a.jsx("p",{className:"mt-1 line-clamp-1 text-sm text-white/90",children:C.des||(C.classes&&C.classes.length>0?C.classes.map(E=>E.className).join(", "):null)||C.class?.className||"Khng c m t"})]})]})]}):a.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-amber-50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-3 py-1 text-xs font-semibold text-indigo-700",children:[a.jsx(da,{className:"h-3.5 w-3.5"}),C.class?.className||"Public"]}),a.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:S(C.created_at)})]}),a.jsx("h3",{className:"mt-3 line-clamp-2 text-lg font-bold text-slate-900",children:C.title}),a.jsx("p",{className:"mt-2 text-sm font-medium text-indigo-600",children:C.des||C.class?.className||"Khng c m t"})]})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-3 p-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-600",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(xi,{className:"h-4 w-4 text-slate-400"}),C.minutes," pht"]}),a.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1",children:[a.jsx(Fs,{className:"h-4 w-4 text-slate-400"}),C.question_count||0," cu"]}),C.status&&a.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 ${C.status==="ongoing"?"bg-green-100 text-green-700":C.status==="upcoming"?"bg-blue-100 text-blue-700":C.status==="ended"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:C.status==="ongoing"?"ang din ra":C.status==="upcoming"?"Sp ti":C.status==="ended"?" kt thc":"Khng gii hn"})]}),C.classes&&C.classes.length>0&&a.jsx("div",{className:"space-y-1 text-sm text-slate-600",children:C.classes.length>1?a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-slate-800",children:[C.classes.length," lp hc"]}),a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:C.classes.map((E,L)=>a.jsxs("span",{className:"rounded bg-indigo-50 px-2 py-0.5 text-xs text-indigo-700",children:[E.className," ",E.classCode?`(${E.classCode})`:""]},E.id||L))})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"font-semibold text-slate-800",children:C.classes[0].className}),C.classes[0].classCode&&a.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",C.classes[0].classCode]})]})}),!C.classes&&C.class&&a.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[a.jsx("p",{className:"font-semibold text-slate-800",children:C.class.className}),C.class.classCode&&a.jsxs("p",{className:"text-slate-500 line-clamp-1",children:["M lp: ",C.class.classCode]})]}),a.jsx("div",{className:"mt-auto",children:a.jsxs("button",{onClick:()=>A(C.id),className:"flex w-full items-center justify-center gap-2 rounded-xl bg-indigo-600 px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:[a.jsx(xl,{className:"h-4 w-4"}),"Vo n thi"]})})]})]},C.id);return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[a.jsx("div",{children:a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Bi thi yu thch"})}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:p.length.toLocaleString("vi-VN")}),"kt qu"]})]})}),a.jsx("section",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm md:p-6",children:a.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{className:"flex w-full items-center gap-3 rounded-full border border-slate-200 px-4 py-2 shadow-sm focus-within:border-indigo-400 focus-within:ring-1 focus-within:ring-indigo-200",children:[a.jsx(Cl,{className:"h-5 w-5 text-slate-400"}),a.jsx("input",{value:s,onChange:C=>i(C.target.value),type:"text",placeholder:"Nhp t kha tn bi thi, mn hc, tc gi...",className:"w-full border-none bg-transparent text-sm text-slate-700 outline-none focus:ring-0"})]})})}),a.jsx("section",{children:e?a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto h-10 w-10 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"}),a.jsx("p",{className:"mt-3 text-sm font-medium text-slate-600",children:"ang ti danh sch  thi yu thch..."})]}):k.length===0?a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[a.jsx(qu,{className:"mx-auto mb-4 h-12 w-12 text-slate-400"}),a.jsx("p",{className:"text-base font-semibold text-slate-800",children:s?"Khng tm thy  thi yu thch ph hp":"Cha c bi thi no c nh du yu thch"}),a.jsx("p",{className:"mt-1 text-sm text-slate-500",children:s?"Th i t kha khc hoc kim tra chnh t.":"Hy nh du yu thch cc bi thi bn quan tm."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:k.map(T)}),p.length>g&&a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th",a.jsx("span",{className:"mx-1 font-semibold",children:w+1}),"-",a.jsx("span",{className:"mx-1 font-semibold",children:Math.min(y,p.length)}),"trong",a.jsx("span",{className:"mx-1 font-semibold",children:p.length})," thi"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>u(C=>Math.max(1,C-1)),disabled:h===1,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Trc"}),a.jsx("div",{className:"hidden items-center gap-2 md:flex",children:Array.from({length:b}).map((C,E)=>{const L=E+1;return a.jsx("button",{onClick:()=>u(L),className:`h-10 w-10 rounded-lg border text-sm font-semibold transition ${h===L?"border-indigo-600 bg-indigo-600 text-white shadow-md":"border-slate-200 bg-white text-slate-600 hover:bg-slate-50"}`,children:L},L)})}),a.jsx("button",{onClick:()=>u(C=>Math.min(b,C+1)),disabled:h===b,className:"h-10 rounded-lg border border-slate-200 px-3 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:"Sau"})]})]})]})})]})})}const hC=async r=>{try{return await pe.post("/api/wallet/deposit",r)}catch(e){throw e}},R0=async(r,e)=>{try{return await pe.get(`/api/wallet/deposit-history?page=${r}&limit=${e}`)}catch(t){throw t}},uC=async(r,e)=>{try{return await pe.get(`/api/wallet/withdraw-history?page=${r}&limit=${e}`)}catch(t){throw t}},gC=async r=>{try{return await pe.post("/api/wallet/withdraw/send-otp",r)}catch(e){throw e}},fC=async r=>{try{return await pe.post("/api/wallet/withdraw/verify-otp",r)}catch(e){throw e}};function xC(){const[r,e]=M.useState(5e4),[t,s]=M.useState(""),[i,o]=M.useState("Chuyn khon ngn hng ACB"),[c,h]=M.useState(!1),[u,g]=M.useState(null),[x,m]=M.useState([]),[p,b]=M.useState({total:0,page:1,limit:10,totalPages:1}),[w,y]=M.useState(1),[k,A]=M.useState(10),[S,T]=M.useState(""),[C,E]=M.useState("all"),[L,_]=M.useState(null),[D,H]=M.useState(""),[z,B]=M.useState(!1),P=M.useCallback(async()=>{B(!0);try{const G=await R0(w,k);G?.data&&G?.message?(m(G.data.deposits||[]),b(G.data.pagination||{total:0,page:1,limit:10,totalPages:1})):m([])}catch(G){console.error("Error fetching deposit history:",G),m([]),$.error("Khng th ti lch s giao dch")}finally{B(!1)}},[w,k]);M.useEffect(()=>{P()},[P]),M.useEffect(()=>{if(!x.some(I=>I.deposit_status==="pending"))return;const O=setInterval(()=>{P()},1e4);return()=>{clearInterval(O)}},[x,P]);const W=G=>{e(O=>Math.max(1e4,O+G))},V=async()=>{if(r<1e4){$.error("S tin ti thiu l 10,000 ");return}try{B(!0);const G=i==="Chuyn khon ngn hng",I=await hC({bankName:"ACB",bankAccountName:"DAO TUNG LAM",bankAccountNumber:"22929031",amount:r});if(I?.message&&I?.data){const ne=I.data;console.log(ne),g({deposit_code:ne.deposit_code,bankName:ne.bankName,bankAccountName:ne.bankAccountName,bankAccountNumber:ne.bankAccountNumber,deposit_amount:ne.amount.toString(),deposit_status:ne.deposit_status||"pending"}),H(`data:image/png;base64,${ne.qr_base64}`),h(!0),$.success("To yu cu np tin thnh cng");const K=await R0(1,k);K?.data&&(m(K.data.deposits||[]),b(K.data.pagination||{total:0,page:1,limit:10,totalPages:1}),y(1))}else $.error(I?.message||"Khng th to yu cu np tin")}catch(G){console.error("Error creating deposit request:",G),$.error(G?.response?.data?.message||"Khng th to yu cu np tin")}finally{B(!1)}},Q=async(G,O)=>{if(!G){$.error("Khng c ni dung  sao chp");return}try{await navigator.clipboard.writeText(G),_(O),$.success(" sao chp!"),setTimeout(()=>_(null),2e3)}catch(I){console.error("Error copying to clipboard:",I),$.error("Khng th sao chp")}},Y=G=>new Date(G).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),F=G=>new Intl.NumberFormat("vi-VN").format(G),U=(x||[]).filter(G=>{const O=G.deposit_code?.toLowerCase().includes(S.toLowerCase())||Y(G.created_at).toLowerCase().includes(S.toLowerCase()),I=C==="all"||G.deposit_status===C;return O&&I}),q=G=>G.deposit_status==="pending"?a.jsx("span",{className:"text-sm font-semibold text-amber-600",children:"ang ch"}):G.deposit_status==="success"?a.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"Thnh Cng"}):G.deposit_status==="failed"?a.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Tht bi"}):a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Khng xc nh"});return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Np tin"}),a.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"Qu khch vui lng la chn phng thc giao dch v s tin giao dch"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:"Phng thc giao dch"}),a.jsx("button",{type:"button",className:"w-full rounded-lg border-2 border-indigo-600 bg-indigo-50 px-4 py-3 text-left font-semibold text-indigo-700 transition hover:bg-indigo-100",children:i})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["S tin giao dch ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>W(-1e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"-"}),a.jsx("input",{type:"number",value:r,onChange:G=>e(Math.max(1e4,parseInt(G.target.value)||1e4)),className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-center text-lg font-semibold focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",min:"10000",step:"10000"}),a.jsx("button",{type:"button",onClick:()=>W(1e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"+"}),a.jsx("span",{className:"text-lg font-semibold text-slate-700",children:""})]})]}),a.jsx("button",{onClick:V,disabled:z,className:"w-full rounded-lg bg-indigo-600 px-6 py-3 text-base font-semibold text-white shadow-lg transition hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:z?"ang x l...":"To yu cu np tin"})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Danh sch lnh thanh ton"}),a.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[a.jsxs("button",{type:"button",onClick:P,disabled:z,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50",children:[a.jsx(sr,{className:z?"animate-spin":""}),"Lm Mi"]}),a.jsxs("select",{value:k,onChange:G=>{A(Number(G.target.value)),y(1)},className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"border-b-2 border-slate-200 bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"NGY TO"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"Ni Dung"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"PHNG THC"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"S TIN NP"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"TRNG THI"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:z?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-indigo-600 border-t-transparent"}),a.jsx("span",{children:"ang ti d liu..."})]})})}):U.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:"Cha c lnh thanh ton no"})}):U.map((G,O)=>a.jsxs("tr",{className:"transition-colors hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-3 text-slate-600",children:Y(G.created_at)}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("button",{onClick:()=>{g(G)},className:"font-semibold text-indigo-600 hover:text-indigo-700",children:G.deposit_code})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-emerald-500"}),a.jsx("span",{className:"font-medium text-slate-700",children:G.bankName})]})}),a.jsxs("td",{className:"px-4 py-3 font-semibold text-slate-700",children:[F(parseFloat(G.deposit_amount||0))," "]}),a.jsx("td",{className:"px-4 py-3",children:q(G)})]},G.id))})]})}),p.totalPages>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-600",children:[a.jsxs("p",{children:["ang hin th ",(p.page-1)*p.limit+1," n"," ",Math.min(p.page*p.limit,p.total)," ca"," ",p.total," bn ghi"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>y(Math.max(1,w-1)),disabled:w===1,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(zc,{className:"h-4 w-4"})}),Array.from({length:Math.min(5,p.totalPages)},(G,O)=>{let I;return p.totalPages<=5||w<=3?I=O+1:w>=p.totalPages-2?I=p.totalPages-4+O:I=w-2+O,a.jsx("button",{onClick:()=>y(I),className:`h-9 w-9 rounded-lg border text-sm font-semibold transition ${w===I?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:I},I)}),a.jsx("button",{onClick:()=>y(Math.min(p.totalPages,w+1)),disabled:w===p.totalPages,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(Dc,{className:"h-4 w-4"})})]})]})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("section",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-amber-900",children:"Mo"}),a.jsxs("ul",{className:"space-y-3 text-sm text-amber-800",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"Qu khch vui lng chuyn khon ng s tin, ni dung theo hng dn  hon tt np ti khon t ng."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"Ti khon nhn c th s ch hot ng mt khong thi gian nht nh. Ngoi khong thi gian , giao dch c th s khng c ghi nhn."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"Trng hp qu 10 pht sau khi giao dch thnh cng m ti khon qu khch vn cha c cng ti khon, qu khch vui lng lin h CSKH  c h tr."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"Mi ln thanh ton, h thng s to ra cc lnh thanh ton  bng di y, qu khch c th kim tra li v hon tt thanh ton nu khng may thot khi mn hnh thanh ton."})]})]})]})})]}),c&&u&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"relative w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl",children:[a.jsx("button",{onClick:()=>h(!1),className:"absolute right-4 top-4 rounded-full p-2 text-slate-400 transition hover:bg-slate-100 hover:text-slate-600",children:a.jsx(ps,{className:"h-5 w-5"})}),a.jsx("h2",{className:"mb-2 text-2xl font-bold text-slate-900",children:"M np ti khon"}),a.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"H thng s t ng thng bo v cng s d ti khon cho qu khch. Qu khch c th ng popup ngay sau khi giao dch thnh cng."}),a.jsx("div",{className:"mb-6 flex flex-col items-center",children:D&&a.jsx("img",{src:D,alt:"QR Code",className:"mb-4 h-64 w-64 rounded-lg border-2 border-slate-200"})}),a.jsx("div",{className:"mb-6 rounded-lg border border-slate-200 bg-slate-50 p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Ch ti khon"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:u.bankAccountName||"N/A"}),a.jsx("button",{onClick:()=>Q(u.bankAccountName||"","accountHolder"),className:"rounded-lg p-1.5 text-slate-600 transition hover:bg-white",children:L==="accountHolder"?a.jsx(ol,{className:"h-4 w-4 text-emerald-600"}):a.jsx($i,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"S ti khon"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-slate-900",children:u.bankAccountNumber||"N/A"}),a.jsx("button",{onClick:()=>Q(u.bankAccountNumber||"","accountNumber"),className:"rounded-lg p-1.5 text-slate-600 transition hover:bg-white",children:L==="accountNumber"?a.jsx(ol,{className:"h-4 w-4 text-emerald-600"}):a.jsx($i,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Ngn hng"}),a.jsx("span",{className:"font-semibold text-slate-900",children:u.bankName||"N/A"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Ni dung giao dch"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold text-indigo-600",children:u.deposit_code}),a.jsx("button",{onClick:()=>Q(u.deposit_code||"","transactionContent"),className:"rounded-lg p-1.5 text-slate-600 transition hover:bg-white",children:L==="transactionContent"?a.jsx(ol,{className:"h-4 w-4 text-emerald-600"}):a.jsx($i,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"S tin np"}),a.jsxs("span",{className:"font-semibold text-slate-900",children:[F(parseFloat(u.deposit_amount||0))," "]})]})]})}),a.jsx("button",{onClick:()=>h(!1),className:"w-full rounded-lg bg-indigo-600 px-6 py-3 font-semibold text-white transition hover:bg-indigo-700",children:"ng"})]})})]})})}function mC(){const r=rt(),[e,t]=M.useState([]),[s,i]=M.useState(0),[o,c]=M.useState(!0),[h,u]=M.useState({page:1,limit:20,total:0,totalPages:1}),[g,x]=M.useState("all");ga(()=>{m(),p()},[]),M.useEffect(()=>{p()},[h.page,g]);const m=async()=>{try{const T=await xv();i(T?.unread_count||0)}catch(T){console.error("Khng th ti s lng thng bo cha c:",T)}},p=async()=>{c(!0);try{const T=await fv({page:h.page,limit:h.limit,unread_only:g==="unread"}),C=T?.notifications||[],E=T?.pagination||{};t(C),u(L=>({...L,total:E.total||0,totalPages:E.total_pages||1}))}catch(T){$.error(T?.body?.message||T?.message||"Khng th ti thng bo.")}finally{c(!1)}},b=async T=>{try{await sg(T),$.success(" nh du  c."),p(),m()}catch(C){$.error(C?.body?.message||C?.message||"Khng th nh du  c.")}},w=async()=>{try{await mv(),$.success(" nh du tt c l  c."),p(),m()}catch(T){$.error(T?.body?.message||T?.message||"Khng th nh du tt c l  c.")}},y=async T=>{if(window.confirm("Bn chc chn mun xa thng bo ny?"))try{await pv(T),$.success(" xa thng bo."),p(),m()}catch(C){$.error(C?.body?.message||C?.message||"Khng th xa thng bo.")}},k=T=>{if(T.is_read||b(T.id),T.data){const C=typeof T.data=="string"?JSON.parse(T.data):T.data;switch(T.type){case"exam_assigned_to_class":case"exam_reminder":C.exam_id&&r(`/dashboard/student/exams/${C.exam_id}`);break;case"exam_submitted":case"feedback_updated":C.exam_id&&C.session_id?r(`/student/exams/${C.exam_id}/result/${C.session_id}`):C.exam_id&&r(`/dashboard/student/exams/${C.exam_id}`);break;case"student_joined_class":C.class_id&&r(`/dashboard/student/classes/${C.class_id}`);break}}},A=T=>{switch(T){case"exam_assigned_to_class":case"exam_reminder":return a.jsx(Fs,{className:"h-5 w-5"});case"exam_submitted":case"feedback_updated":return a.jsx(oc,{className:"h-5 w-5"});case"student_joined_class":return a.jsx(da,{className:"h-5 w-5"});default:return a.jsx(v0,{className:"h-5 w-5"})}},S=T=>{if(!T)return"N/A";const C=new Date(T),L=new Date-C,_=Math.floor(L/6e4),D=Math.floor(L/36e5),H=Math.floor(L/864e5);return _<1?"Va xong":_<60?`${_} pht trc`:D<24?`${D} gi trc`:H<7?`${H} ngy trc`:C.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})};return a.jsx(Ye,{role:"student",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-indigo-500",children:"Thng bo"}),a.jsx("h1",{className:"mt-2 text-3xl font-bold text-slate-900",children:"Thng bo ca ti"}),s>0&&a.jsxs("p",{className:"mt-1 text-sm text-slate-500",children:["C ",s," thng bo cha c"]})]}),s>0&&a.jsxs("button",{type:"button",onClick:w,className:"inline-flex items-center gap-2 rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700",children:[a.jsx(lN,{className:"h-4 w-4"}),"nh du tt c  c"]})]})}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-4 flex items-center justify-between",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{x("all"),u(T=>({...T,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${g==="all"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Tt c"}),a.jsxs("button",{type:"button",onClick:()=>{x("unread"),u(T=>({...T,page:1}))},className:`rounded-xl px-4 py-2 text-sm font-semibold transition ${g==="unread"?"bg-indigo-600 text-white":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:["Cha c ",s>0&&`(${s})`]})]})}),o?a.jsxs("div",{className:"flex items-center justify-center py-10 text-slate-500",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-indigo-600 border-r-transparent"}),a.jsx("span",{className:"ml-3",children:"ang ti thng bo..."})]}):e.length===0?a.jsxs("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50/60 p-10 text-center",children:[a.jsx(v0,{className:"mx-auto mb-3 h-12 w-12 text-slate-400"}),a.jsx("p",{className:"text-sm text-slate-500",children:g==="unread"?"Khng c thng bo cha c no.":"Cha c thng bo no."})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:e.map(T=>a.jsx("div",{onClick:()=>k(T),className:`cursor-pointer rounded-xl border p-4 transition hover:shadow-md ${T.is_read?"border-slate-200 bg-white":"border-indigo-200 bg-indigo-50/30"}`,children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-1 items-start gap-3",children:[a.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${T.is_read?"bg-slate-100 text-slate-600":"bg-indigo-100 text-indigo-600"}`,children:A(T.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:T.title}),!T.is_read&&a.jsx("span",{className:"rounded-full bg-indigo-600 px-2 py-0.5 text-xs font-semibold text-white",children:"Mi"})]}),a.jsx("p",{className:"mt-1 text-sm text-slate-600",children:T.message}),a.jsx("p",{className:"mt-2 text-xs text-slate-400",children:S(T.created_at)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[!T.is_read&&a.jsxs("button",{type:"button",onClick:C=>{C.stopPropagation(),b(T.id)},className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 transition hover:bg-indigo-50",title:"nh du  c",children:[a.jsx(cN,{className:"h-3 w-3"})," c"]}),a.jsx("button",{type:"button",onClick:C=>{C.stopPropagation(),y(T.id)},className:"inline-flex items-center gap-1 rounded-lg border border-red-200 px-3 py-1 text-xs font-semibold text-red-600 transition hover:bg-red-50",title:"Xa thng bo",children:a.jsx(DN,{className:"h-3 w-3"})})]})]})},T.id))}),h.totalPages>1&&a.jsxs("div",{className:"mt-6 flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-4 py-3",children:[a.jsxs("p",{className:"text-sm text-slate-500",children:["Trang ",h.page,"/",h.totalPages]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>u(T=>({...T,page:Math.max(1,T.page-1)})),disabled:h.page===1,className:"rounded-lg border border-slate-200 px-3 py-1 text-sm text-slate-600 transition hover:bg-white disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(Og,{className:"h-4 w-4"})}),a.jsx("button",{type:"button",onClick:()=>u(T=>({...T,page:Math.min(h.totalPages,T.page+1)})),disabled:h.page===h.totalPages,className:"rounded-lg border border-slate-200 px-3 py-1 text-sm text-slate-600 transition hover:bg-white disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(Hg,{className:"h-4 w-4"})})]})]})]})]})]})})}const pC=async(r={})=>{try{const{page:e=1,limit:t=10,sortBy:s="created_at",order:i="DESC",transactionType:o,transactionStatus:c,user_id:h,fromDate:u,toDate:g,minAmount:x,maxAmount:m,transferType:p}=r,b=new URLSearchParams;return b.append("page",e),b.append("limit",t),b.append("sortBy",s),b.append("order",i),o&&b.append("transactionType",o),c&&b.append("transactionStatus",c),h&&b.append("user_id",h),u&&b.append("fromDate",u),g&&b.append("toDate",g),x&&b.append("minAmount",x),m&&b.append("maxAmount",m),p&&b.append("transferType",p),await pe.get(`/api/wallet/transaction-history?${b.toString()}`)}catch(e){throw e}},O0={deposit:{label:"Np Tin",badge:"bg-blue-50 text-blue-600"},withdraw:{label:"Rt Tin",badge:"bg-red-50 text-red-600"},purchase:{label:"Mua",badge:"bg-emerald-50 text-emerald-600"},adjustment:{label:"iu Chnh",badge:"bg-purple-50 text-purple-600"},revenue:{label:"Doanh Thu",badge:"bg-green-50 text-green-600"}},bC=r=>r.description&&r.description.includes("Doanh thu t  thi")?O0.revenue:O0[r.transactionType]||{label:"Khc",badge:"bg-gray-50 text-gray-600"},H0={success:{label:" Xong",badge:"bg-emerald-50 text-emerald-600"},done:{label:" Xong",badge:"bg-emerald-50 text-emerald-600"},pending:{label:"ang x l",badge:"bg-amber-50 text-amber-600"},failed:{label:"Tht bi",badge:"bg-rose-50 text-rose-600"}},yu=r=>new Intl.NumberFormat("vi-VN").format(Math.abs(r)),P0=r=>new Date(r).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});function B0({role:r="student"}){const[e,t]=M.useState([]),[s,i]=M.useState({total:0,page:1,limit:10,totalPages:1}),[o,c]=M.useState(!1),[h,u]=M.useState(""),[g,x]=M.useState("all"),[m,p]=M.useState(""),[b,w]=M.useState(""),[y,k]=M.useState(10),[A,S]=M.useState(1),T=async()=>{c(!0);try{const V={page:A,limit:y,sortBy:"created_at",order:"DESC"};g!=="all"&&(V.transactionType=g),m&&(V.fromDate=m),b&&(V.toDate=b);const Q=await pC(V);if(Q?.data&&Q?.message){const Y=Q.data.transactions||[];t(Y),i(Q.data.pagination||{total:0,page:1,limit:10,totalPages:1})}else t([])}catch(V){console.error("Error fetching transaction history:",V),t([]),$.error("Khng th ti lch s giao dch")}finally{c(!1)}};M.useEffect(()=>{T()},[A,y,g,m,b]),M.useEffect(()=>{if(!C.some(Y=>Y.status==="pending"))return;const Q=setInterval(()=>{T()},1e4);return()=>{clearInterval(Q)}},[C,A,y,g,m,b]);const C=M.useMemo(()=>e.map(V=>{const Q=parseFloat(V.amount||0),F=V.transferType==="in"||V.description&&V.description.includes("Doanh thu t  thi")?Q:-Q,U=V.transactionStatus==="success"?"done":V.transactionStatus,q=bC(V);return{id:V.id,date:V.created_at,content:V.description,type:V.transactionType,typeMeta:q,amount:F,balanceBefore:parseFloat(V.beforeBalance||0),balanceAfter:parseFloat(V.afterBalance||0),status:U}}),[e]),E=M.useMemo(()=>h?C.filter(V=>V.content.toLowerCase().includes(h.toLowerCase())||P0(V.date).toLowerCase().includes(h.toLowerCase())):C,[C,h]),L=s.totalPages||1,_=Math.min(A,L),D=(_-1)*y,H=Math.min(D+y,E.length),z=E.slice(D,H),B=s.total||E.length,P=V=>{V<1||V>L||S(V)},W=V=>{const Q=V>0;return a.jsxs("span",{className:`font-semibold ${Q?"text-emerald-600":"text-rose-500"}`,children:[Q?"+":"-",yu(V)," "]})};return a.jsx(Ye,{role:r,children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{children:a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Lch S Giao Dch"})})}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsxs("div",{className:"mb-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-5",children:[a.jsxs("div",{className:"flex h-11 items-center gap-2 rounded-lg border border-slate-200 px-3",children:[a.jsx(Cl,{className:"h-4 w-4 text-slate-400"}),a.jsx("input",{value:h,onChange:V=>{S(1),u(V.target.value)},placeholder:"Tm kim",className:"flex-1 border-none bg-transparent text-sm outline-none focus:ring-0"})]}),a.jsxs("select",{value:g,onChange:V=>{S(1),x(V.target.value)},className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:"all",children:"Loi giao dch"}),a.jsx("option",{value:"deposit",children:"Np tin"}),a.jsx("option",{value:"withdraw",children:"Rt tin"}),a.jsx("option",{value:"purchase",children:"Mua"}),a.jsx("option",{value:"adjustment",children:"iu chnh"})]}),a.jsx("input",{type:"date",value:m,onChange:V=>{S(1),p(V.target.value)},placeholder:"Ngy bt u",className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none"}),a.jsx("input",{type:"date",value:b,onChange:V=>{S(1),w(V.target.value)},placeholder:"Ngy kt thc",className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none"}),a.jsx("select",{value:y,onChange:V=>{S(1),k(Number(V.target.value))},className:"h-11 rounded-lg border border-slate-200 px-3 text-sm focus:border-indigo-500 focus:outline-none",children:[10,20,50].map(V=>a.jsx("option",{value:V,children:V},V))})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{className:"border-b border-slate-200 bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"M Giao Dch"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"NGY GIAO DCH"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"NI DUNG GIAO DCH"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"LOI GIAO DCH"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"S LNG"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"S D TRC"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"S D SAU"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500",children:"TRNG THI GIAO DCH"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-500",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-indigo-600 border-t-transparent"}),a.jsx("span",{children:"ang ti d liu..."})]})})}):z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-slate-500",children:"Khng tm thy giao dch ph hp"})}):z.map((V,Q)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-3 text-slate-600 ",children:V.id}),a.jsx("td",{className:"px-4 py-3 text-slate-700",children:P0(V.date)}),a.jsx("td",{className:"px-4 py-3 text-slate-700",children:V.content}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${V.typeMeta?.badge||"bg-gray-50 text-gray-600"}`,children:V.typeMeta?.label||"Khc"})}),a.jsx("td",{className:"px-4 py-3",children:W(V.amount)}),a.jsx("td",{className:"px-4 py-3 text-slate-700",children:yu(V.balanceBefore)}),a.jsx("td",{className:"px-4 py-3 text-slate-700",children:yu(V.balanceAfter)}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${H0[V.status]?.badge}`,children:H0[V.status]?.label||"Khc"})})]},V.id))})]})}),a.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 text-sm text-slate-600 sm:flex-row",children:[a.jsxs("p",{children:["ang hin th ",z.length===0?0:D+1," n ",H," ca"," ",h?E.length:B," ","bn ghi"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>P(_-1),className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",disabled:_===1,"aria-label":"Trang trc",children:a.jsx(zc,{})}),a.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,L)},(V,Q)=>{let Y;return L<=5||_<=3?Y=Q+1:_>=L-2?Y=L-4+Q:Y=_-2+Q,a.jsx("button",{onClick:()=>P(Y),className:`h-9 w-9 rounded-lg border text-sm font-semibold transition ${_===Y?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:Y},Y)})}),a.jsx("button",{onClick:()=>P(_+1),className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",disabled:_===L,"aria-label":"Trang sau",children:a.jsx(Dc,{})})]})]})]})]})})}function vC(){const[r,e]=M.useState(""),[t,s]=M.useState(""),[i,o]=M.useState(""),[c,h]=M.useState(5e4),[u,g]=M.useState(0),[x,m]=M.useState([]),[p,b]=M.useState({total:0,page:1,limit:10,totalPages:1}),[w,y]=M.useState(1),[k,A]=M.useState(10),[S,T]=M.useState(""),[C,E]=M.useState("all"),[L,_]=M.useState(null),[D,H]=M.useState(!1),[z,B]=M.useState(!1),[P,W]=M.useState(""),[V,Q]=M.useState(1);M.useEffect(()=>{Y(),F()},[w,k]);const Y=async()=>{try{const te=await Rc();g(te.balance||0)}catch(te){console.error("Error fetching wallet balance:",te),g(0)}},F=async()=>{H(!0);try{const te=await uC(w,k);te?.data&&te?.message?(m(te.data.withdraws||[]),b(te.data.pagination||{total:0,page:1,limit:10,totalPages:1})):m([])}catch(te){console.error("Error fetching withdraw history:",te),m([]),$.error("Khng th ti lch s rt tin")}finally{H(!1)}},U=te=>{h(ve=>Math.max(5e4,ve+te))},q=async()=>{if(!r.trim()){$.error("Vui lng nhp tn ngn hng");return}if(!t.trim()){$.error("Vui lng nhp tn ti khon ngn hng");return}if(!i.trim()){$.error("Vui lng nhp s ti khon ngn hng");return}if(c<5e4){$.error("S tin rt ti thiu l 50,000 ");return}if(c>u){$.error("S tin rt khng c vt qu s d v");return}try{B(!0);const te={bankName:r.trim(),bankAccountName:t.trim(),bankAccountNumber:i.trim(),amount:c},ve=await gC(te);ve?.success&&ve?.message?($.success(ve.message||"M OTP  c gi n email ca bn"),Q(2)):$.error(ve?.message||"Khng th gi m OTP")}catch(te){console.error("Error sending OTP for withdraw:",te);const ve=te?.body?.message||te?.message||"Khng th gi m OTP";$.error(ve)}finally{B(!1)}},G=async()=>{if(!P||P.length!==6){$.error("Vui lng nhp m OTP 6 ch s");return}try{H(!0);const ve=await fC({otp:P});ve?.success&&ve?.message?($.success(ve.message||"Rt tin thnh cng"),e(""),s(""),o(""),h(5e4),W(""),Q(1),await Y(),await F()):$.error(ve?.message||"Khng th thc hin rt tin")}catch(te){console.error("Error verifying OTP and withdrawing:",te);const ve=te?.body?.message||te?.message||"Khng th thc hin rt tin";$.error(ve)}finally{H(!1)}},O=()=>{Q(1),W("")},I=async(te,ve)=>{if(!te){$.error("Khng c ni dung  sao chp");return}try{await navigator.clipboard.writeText(te),_(ve),$.success(" sao chp!"),setTimeout(()=>_(null),2e3)}catch(ie){console.error("Error copying to clipboard:",ie),$.error("Khng th sao chp")}},ne=te=>te?new Date(te).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"N/A",K=te=>new Intl.NumberFormat("vi-VN").format(te),ue=(x||[]).filter(te=>{const ve=te.withdraw_code?.toLowerCase().includes(S.toLowerCase())||ne(te.created_at).toLowerCase().includes(S.toLowerCase()),ie=C==="all"||te.withdraw_status===C;return ve&&ie}),ae=te=>(console.log("getStatusBadge:",{status:te.status,withdraw_status:te.withdraw_status}),te.status==="pending"?a.jsx("span",{className:"text-sm font-semibold text-amber-600",children:"ang ch"}):te.status==="success"||te.withdraw_status==="approved"||te.status==="approved"?a.jsx("span",{className:"text-sm font-semibold text-emerald-600",children:"Thnh cng"}):te.status==="failed"||te.withdraw_status==="rejected"||te.status==="rejected"?a.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Tht bi"}):a.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Khng xc nh"}));return a.jsx(Ye,{role:"teacher",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Rt tin"}),a.jsx("p",{className:"mb-6 text-sm text-slate-600",children:"Vui lng in y  thng tin ti khon ngn hng  rt tin"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["Tn ngn hng ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:r,onChange:te=>e(te.target.value),placeholder:"V d: ACB, Vietcombank, BIDV...",className:"w-full rounded-lg border border-slate-300 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["Tn ti khon ngn hng ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:t,onChange:te=>s(te.target.value),placeholder:"Nhp tn ch ti khon",className:"w-full rounded-lg border border-slate-300 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["S ti khon ngn hng ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:i,onChange:te=>o(te.target.value.replace(/\D/g,"")),placeholder:"Nhp s ti khon",className:"w-full rounded-lg border border-slate-300 px-4 py-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-slate-700",children:["S tin rt ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>U(-5e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"-"}),a.jsx("input",{type:"number",value:c,onChange:te=>h(Math.max(5e4,parseInt(te.target.value)||5e4)),className:"flex-1 rounded-lg border border-slate-300 px-4 py-2 text-center text-lg font-semibold focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",min:"50000",step:"50000",max:u}),a.jsx("button",{type:"button",onClick:()=>U(5e4),className:"flex h-10 w-10 items-center justify-center rounded-lg border border-slate-300 bg-white text-slate-700 transition hover:bg-slate-50",children:"+"}),a.jsx("span",{className:"text-lg font-semibold text-slate-700",children:""})]}),a.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["S d kh dng: ",K(u)," "]})]}),a.jsx("button",{onClick:q,disabled:z,className:"w-full rounded-lg bg-[#432DD7] px-6 py-3 text-base font-semibold text-white shadow-lg transition hover:bg-[#3a26c0] disabled:opacity-50 disabled:cursor-not-allowed",children:z?"ang gi OTP Xc minh...":"To yu cu rt tin"})]})]}),a.jsxs("section",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-slate-900",children:"Lch s yu cu rt tin"}),a.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[a.jsxs("button",{type:"button",onClick:async()=>{await Y(),await F()},disabled:D,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-600 transition hover:bg-slate-50 disabled:opacity-50",children:[a.jsx(sr,{className:D?"animate-spin":""}),"Lm Mi"]}),a.jsxs("select",{value:C,onChange:te=>E(te.target.value),className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:"all",children:"Tt c trng thi"}),a.jsx("option",{value:"pending",children:"ang ch"}),a.jsx("option",{value:"approved",children:" duyt"}),a.jsx("option",{value:"success",children:"Thnh cng"}),a.jsx("option",{value:"rejected",children:"T chi"}),a.jsx("option",{value:"failed",children:"Tht bi"})]}),a.jsxs("select",{value:k,onChange:te=>{A(Number(te.target.value)),y(1)},className:"rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-indigo-500 focus:outline-none",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"border-b-2 border-slate-200 bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"NGY TO"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"M N"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"NGN HNG"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"TN TI KHON"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"S TI KHON"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"S TIN RT"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold uppercase text-slate-700",children:"TRNG THI"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:D?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-indigo-600 border-t-transparent"}),a.jsx("span",{children:"ang ti d liu..."})]})})}):ue.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-slate-500",children:"Cha c yu cu rt tin no"})}):ue.map(te=>a.jsxs("tr",{className:"transition-colors hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-3 text-slate-600",children:ne(te.created_at)}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("button",{onClick:()=>I(te.withdraw_code,`withdraw-${te.id}`),className:"font-semibold text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[te.withdraw_code,L===`withdraw-${te.id}`?a.jsx(ol,{className:"h-3 w-3 text-emerald-600"}):a.jsx($i,{className:"h-3 w-3"})]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-blue-500"}),a.jsx("span",{className:"font-medium text-slate-700",children:te.bankName})]})}),a.jsx("td",{className:"px-4 py-3 text-slate-600",children:te.bankAccountName}),a.jsx("td",{className:"px-4 py-3 text-slate-600",children:te.bankAccountNumber}),a.jsxs("td",{className:"px-4 py-3 font-semibold text-slate-700",children:[K(parseFloat(te.amount||0))," "]}),a.jsx("td",{className:"px-4 py-3",children:ae(te)})]},te.id))})]})}),p.totalPages>1&&a.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-600",children:[a.jsxs("p",{children:["ang hin th ",(p.page-1)*p.limit+1," n"," ",Math.min(p.page*p.limit,p.total)," ca"," ",p.total," bn ghi"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>y(Math.max(1,w-1)),disabled:w===1,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(zc,{className:"h-4 w-4"})}),Array.from({length:Math.min(5,p.totalPages)},(te,ve)=>{let ie;return p.totalPages<=5||w<=3?ie=ve+1:w>=p.totalPages-2?ie=p.totalPages-4+ve:ie=w-2+ve,a.jsx("button",{onClick:()=>y(ie),className:`h-9 w-9 rounded-lg border text-sm font-semibold transition ${w===ie?"border-indigo-600 bg-indigo-600 text-white":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:ie},ie)}),a.jsx("button",{onClick:()=>y(Math.min(p.totalPages,w+1)),disabled:w===p.totalPages,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-slate-200 text-slate-600 transition hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-50",children:a.jsx(Dc,{className:"h-4 w-4"})})]})]})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("section",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6 shadow-sm",children:[a.jsx("h2",{className:"mb-4 text-xl font-semibold text-amber-900",children:"Lu "}),a.jsxs("ul",{className:"space-y-3 text-sm text-amber-800",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"Vui lng kim tra k thng tin ti khon ngn hng trc khi gi yu cu rt tin."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"S tin rt ti thiu l 50,000  v khng c vt qu s d v hin ti."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"Yu cu rt tin s c x l trong vng 1-3 ngy lm vic."})]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"mt-1",children:""}),a.jsx("span",{children:"Nu c thc mc, vui lng lin h b phn h tr  c gii p."})]})]})]})})]}),V===2&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden animate-fade-in-up",children:[a.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-gray-100 bg-gray-50",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Xc thc OTP"}),a.jsx("button",{type:"button",onClick:O,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-200",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"M OTP  c gi n email ca bn. Vui lng nhp m OTP  xc thc v hon tt rt tin."}),a.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 p-4 space-y-2",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Thng tin rt tin:"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm text-slate-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Ngn hng:"})," ",r]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Tn ti khon:"})," ",t]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"S ti khon:"})," ",i]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"S tin:"})," ",K(c)," "]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nhp m OTP"}),a.jsx("div",{className:"relative",children:a.jsx("input",{type:"text",value:P,onChange:te=>W(te.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Nhp m OTP 6 ch s",maxLength:6,autoFocus:!0,className:"block w-full px-4 py-3 rounded-xl border border-slate-200 text-center text-small"})}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra email v nhp m OTP 6 ch s"})]})]}),a.jsxs("div",{className:"p-5 border-t border-gray-100 bg-gray-50 flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:O,className:"px-5 py-2.5 rounded-xl text-gray-700 font-medium hover:bg-gray-200 transition-colors",children:"Hy b"}),a.jsx("button",{onClick:G,disabled:D,className:"px-6 py-2.5 bg-[#432DD7] text-white font-bold rounded-xl hover:bg-[#3a26c0] focus:ring-4 focus:ring-indigo-300 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:D?"ang x l...":"Xc thc v rt tin"})]})]})})]})})}const X0=[{label:"Tng quan",path:"/dashboard/admin",icon:Hb,superAdminOnly:!1},{label:"Qun l ngi dng",path:"/dashboard/admin/users",icon:Bt,superAdminOnly:!0},{label:"Qun l rt tin",path:"/dashboard/admin/withdrawals",icon:Db,superAdminOnly:!1},{label:"Bo co thng k",path:"/dashboard/admin/reports",icon:zg,superAdminOnly:!1},{label:"Thng bo",path:"/dashboard/admin/notifications",icon:bc,superAdminOnly:!1},{label:"Kim duyt ni dung",path:"/dashboard/admin/moderation",icon:tr,superAdminOnly:!1}];function yC(){const r=rt(),e=ua(),[t,s]=Ue.useState(!1),[i,o]=Ue.useState(null);Ue.useEffect(()=>{try{const u=localStorage.getItem("currentUser");u&&o(JSON.parse(u))}catch(u){console.error("Error loading user:",u)}},[]);const c=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("currentUser"),r("/auth/login")},h=()=>{s(!t)};return a.jsxs("div",{className:"flex h-screen bg-slate-50",children:[a.jsxs("aside",{className:"hidden w-64 flex-col border-r border-slate-200 bg-white md:flex",children:[a.jsx("div",{className:"border-b border-slate-200 p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-600 text-white font-bold text-lg",children:"A"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-red-600 leading-none",children:"ADMIN PANEL"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"PTIT Quiz"})]})]})}),a.jsx("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:X0.filter(u=>!(u.superAdminOnly&&i?.role!=="superadmin")).map(u=>{const g=e.pathname===u.path,x=u.icon;return a.jsxs(Ct,{to:u.path,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition ${g?"bg-red-50 text-red-600":"text-slate-600 hover:bg-red-50 hover:text-red-600"}`,children:[a.jsx(x,{className:"h-5 w-5"}),a.jsx("span",{children:u.label})]},u.path)})}),a.jsx("div",{className:"border-t border-slate-200 p-4",children:a.jsxs("button",{onClick:c,className:"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-600 transition hover:bg-red-50 hover:text-red-600",children:[a.jsx(Wu,{className:"h-5 w-5"}),a.jsx("span",{children:"ng xut"})]})})]}),t&&a.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:h}),a.jsxs("aside",{className:"absolute left-0 top-0 bottom-0 w-64 bg-white flex flex-col",children:[a.jsxs("div",{className:"border-b border-slate-200 p-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-600 text-white font-bold text-lg",children:"A"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-red-600 leading-none",children:"ADMIN PANEL"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"PTIT Quiz"})]})]}),a.jsx("button",{onClick:h,className:"text-slate-500 hover:text-slate-700",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsx("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:X0.filter(u=>!(u.superAdminOnly&&i?.role!=="superadmin")).map(u=>{const g=e.pathname===u.path,x=u.icon;return a.jsxs(Ct,{to:u.path,onClick:h,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition ${g?"bg-red-50 text-red-600":"text-slate-600 hover:bg-red-50 hover:text-red-600"}`,children:[a.jsx(x,{className:"h-5 w-5"}),a.jsx("span",{children:u.label})]},u.path)})}),a.jsx("div",{className:"border-t border-slate-200 p-4",children:a.jsxs("button",{onClick:c,className:"flex w-full items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-600 transition hover:bg-red-50 hover:text-red-600",children:[a.jsx(Wu,{className:"h-5 w-5"}),a.jsx("span",{children:"ng xut"})]})})]})]}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[a.jsx("header",{className:"border-b border-slate-200 bg-white px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:h,className:"text-slate-500 hover:text-slate-700 md:hidden",children:a.jsx(kj,{className:"h-6 w-6"})}),a.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Qun tr h thng"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-slate-800",children:i?.fullName||"Admin"}),a.jsx("p",{className:"text-xs text-slate-500",children:i?.email})]}),a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-600 text-white font-semibold",children:i?.fullName?.charAt(0).toUpperCase()||"A"})]})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsx(A2,{})})]})]})}const Ge="/api/admin",wC=()=>pe.get(`${Ge}/dashboard`),jC=()=>pe.get(`${Ge}/dashboard/stats-30-days`),NC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/users${e?`?${e}`:""}`)},SC=r=>pe.get(`${Ge}/users/${r}`),kC=r=>pe.post(`${Ge}/users`,r),CC=(r,e)=>pe.put(`${Ge}/users/${r}`,e),AC=r=>pe.delete(`${Ge}/users/${r}`),TC=(r,e)=>pe.post(`${Ge}/users/${r}/adjust-balance`,e),_C=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/exams${e?`?${e}`:""}`)},EC=r=>pe.get(`${Ge}/exams/${r}`),MC=(r,e)=>pe.put(`${Ge}/exams/${r}`,e),LC=r=>pe.delete(`${Ge}/exams/${r}`),zC=(r,e={})=>{const t=new URLSearchParams(e).toString();return pe.get(`${Ge}/exams/${r}/results${t?`?${t}`:""}`)},DC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/classes${e?`?${e}`:""}`)},RC=r=>pe.get(`${Ge}/classes/${r}`),OC=r=>pe.delete(`${Ge}/classes/${r}`),HC=(r,e={})=>{const t=new URLSearchParams(e).toString();return pe.get(`${Ge}/classes/${r}/students${t?`?${t}`:""}`)},PC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/purchases${e?`?${e}`:""}`)},BC=r=>pe.get(`${Ge}/purchases/${r}`),XC=(r,e)=>pe.post(`${Ge}/purchases/${r}/refund`,e),YC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/transactions${e?`?${e}`:""}`)},FC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/reports/revenue${e?`?${e}`:""}`)},IC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/reports/user-activity${e?`?${e}`:""}`)},UC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/reports/exam-stats${e?`?${e}`:""}`)},WC=r=>pe.post(`${Ge}/notifications/broadcast`,r),VC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/notifications/history${e?`?${e}`:""}`)},qC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/posts${e?`?${e}`:""}`)},GC=(r,e)=>pe.put(`${Ge}/posts/${r}/hide`,e),$C=r=>pe.put(`${Ge}/posts/${r}/show`),KC=r=>pe.delete(`${Ge}/posts/${r}`),ZC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/comments${e?`?${e}`:""}`)},QC=r=>pe.delete(`${Ge}/comments/${r}`),JC=(r={})=>{const e=new URLSearchParams(r).toString();return pe.get(`${Ge}/withdrawals${e?`?${e}`:""}`)},eA=r=>pe.get(`${Ge}/withdrawals/${r}`),tA=(r,e)=>pe.put(`${Ge}/withdrawals/${r}/approve`,e),sA=(r,e)=>pe.put(`${Ge}/withdrawals/${r}/reject`,e),Nt={getDashboardOverview:wC,getDashboardStats30Days:jC,getAllUsers:NC,getUserById:SC,createUser:kC,updateUser:CC,deleteUser:AC,adjustUserBalance:TC,getAllExams:_C,getExamById:EC,updateExam:MC,deleteExam:LC,getExamResults:zC,getAllClasses:DC,getClassById:RC,deleteClass:OC,getClassStudents:HC,getAllPurchases:PC,getPurchaseById:BC,refundPurchase:XC,getTransactionHistory:YC,getRevenueReport:FC,getUserActivityReport:IC,getExamStatsReport:UC,broadcastNotification:WC,getNotificationHistory:VC,getAllPosts:qC,hidePost:GC,showPost:$C,deletePost:KC,getAllComments:ZC,deleteComment:QC,getWithdrawals:JC,getWithdrawalById:eA,approveWithdrawal:tA,rejectWithdrawal:sA};/*!
 * ApexCharts v5.3.6
 * (c) 2018-2025 ApexCharts
 */function ag(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=Array(e);t<e;t++)s[t]=r[t];return s}function vv(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ye(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Y0(r,e){for(var t=0;t<e.length;t++){var s=e[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,jv(s.key),s)}}function we(r,e,t){return e&&Y0(r.prototype,e),t&&Y0(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function ll(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=Ig(r))||e){t&&(r=t);var s=0,i=function(){};return{s:i,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,c=!0,h=!1;return{s:function(){t=t.call(r)},n:function(){var u=t.next();return c=u.done,u},e:function(u){h=!0,o=u},f:function(){try{c||t.return==null||t.return()}finally{if(h)throw o}}}}function _l(r){var e=yv();return function(){var t,s=Sc(r);if(e){var i=Sc(this).constructor;t=Reflect.construct(s,arguments,i)}else t=s.apply(this,arguments);return(function(o,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vv(o)})(this,t)}}function Nc(r,e,t){return(e=jv(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Sc(r){return Sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sc(r)}function El(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&ig(r,e)}function yv(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(yv=function(){return!!r})()}function F0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),t.push.apply(t,s)}return t}function be(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F0(Object(t),!0).forEach((function(s){Nc(r,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):F0(Object(t)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))}))}return r}function ig(r,e){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},ig(r,e)}function wv(r,e){return(function(t){if(Array.isArray(t))return t})(r)||(function(t,s){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,c,h,u,g=[],x=!0,m=!1;try{if(h=(i=i.call(t)).next,s===0){if(Object(i)!==i)return;x=!1}else for(;!(x=(o=h.call(i)).done)&&(g.push(o.value),g.length!==s);x=!0);}catch(p){m=!0,c=p}finally{try{if(!x&&i.return!=null&&(u=i.return(),Object(u)!==u))return}finally{if(m)throw c}}return g}})(r,e)||Ig(r,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Xt(r){return(function(e){if(Array.isArray(e))return ag(e)})(r)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(r)||Ig(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function jv(r){var e=(function(t,s){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var o=i.call(t,s);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)})(r,"string");return typeof e=="symbol"?e:e+""}function is(r){return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},is(r)}function Ig(r,e){if(r){if(typeof r=="string")return ag(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ag(r,e):void 0}}var J=(function(){function r(){ye(this,r)}return we(r,[{key:"shadeRGBColor",value:function(e,t){var s=t.split(","),i=e<0?0:255,o=e<0?-1*e:e,c=parseInt(s[0].slice(4),10),h=parseInt(s[1],10),u=parseInt(s[2],10);return"rgb("+(Math.round((i-c)*o)+c)+","+(Math.round((i-h)*o)+h)+","+(Math.round((i-u)*o)+u)+")"}},{key:"shadeHexColor",value:function(e,t){var s=parseInt(t.slice(1),16),i=e<0?0:255,o=e<0?-1*e:e,c=s>>16,h=s>>8&255,u=255&s;return"#"+(16777216+65536*(Math.round((i-c)*o)+c)+256*(Math.round((i-h)*o)+h)+(Math.round((i-u)*o)+u)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return r.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&is(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,s=[];for(t=0;t<e.length;t++)s[t]=e[t];return s}},{key:"extend",value:function(e,t){var s=this;typeof Object.assign!="function"&&(Object.assign=function(o){if(o==null)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(o),h=1;h<arguments.length;h++){var u=arguments[h];if(u!=null)for(var g in u)u.hasOwnProperty(g)&&(c[g]=u[g])}return c});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach((function(o){s.isObject(t[o])&&o in e?i[o]=s.extend(e[o],t[o]):Object.assign(i,Nc({},o,t[o]))})),i}},{key:"extendArray",value:function(e,t){var s=[];return e.map((function(i){s.push(r.extend(t,i))})),e=s}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||is(e)!=="object")return e;if(s.has(e))return s.get(e);if(Array.isArray(e)){t=[],s.set(e,t);for(var i=0;i<e.length;i++)t[i]=this.clone(e[i],s)}else if(e instanceof Date)t=new Date(e.getTime());else for(var o in t={},s.set(e,t),e)e.hasOwnProperty(o)&&(t[o]=this.clone(e[o],s));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"isInShadowDOM",value:function(e){if(!e||!e.getRootNode)return!1;var t=e.getRootNode();return t&&t!==document&&r.is("ShadowRoot",t)}},{key:"getShadowRootHost",value:function(e){return r.isInShadowDOM(e)&&e.getRootNode().host||null}},{key:"getDimensions",value:function(e){if(!e)return[0,0];var t,s=e.getRootNode&&e.getRootNode();if(s&&s!==document&&s.host){var i=s.host.getBoundingClientRect();return[i.width,i.height]}try{t=getComputedStyle(e,null)}catch{return[e.clientWidth||0,e.clientHeight||0]}var o=e.clientHeight,c=e.clientWidth;return o-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[c-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),o]}},{key:"getBoundingClientRect",value:function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce((function(t,s){return Array.isArray(s)&&(s=s.reduce((function(i,o){return i.length>o.length?i:o}))),t.length>s.length?t:s}),0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var s=e.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var i=0;i<s.length;i++)s[i]=parseInt(s[i].length===1?s[i]+s[i]:s[i],16);return t!==void 0&&s.push(t),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var s=[],i=2*Math.PI/t,o=0;o<t;o++){var c={};c.x=e*Math.sin(o*i),c.y=-e*Math.cos(o*i),s.push(c)}return s}},{key:"polarToCartesian",value:function(e,t,s,i){var o=(i-90)*Math.PI/180;return{x:e+s*Math.cos(o),y:t+s*Math.sin(o)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=e.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,s){if(s>=e.length)for(var i=s-e.length+1;i--;)e.push(void 0);return e.splice(s,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e.style.key=t[s])}},{key:"preciseAddition",value:function(e,t){var s=(String(e).split(".")[1]||"").length,i=(String(t).split(".")[1]||"").length,o=Math.pow(10,Math.max(s,i));return(Math.round(e*o)+Math.round(t*o))/o}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));for(i>1?(e=Math.round(Math.abs(e)*i),t=Math.round(Math.abs(t)*i)):i=1;t;){var o=t;t=e%t,e=o}return e/i}},{key:"getPrimeFactors",value:function(e){for(var t=[],s=2;e>=2;)e%s==0?(t.push(s),e/=s):s++;return t}},{key:"mod",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,i=Math.pow(10,s-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*i))%(t=Math.round(Math.abs(t)*i))/i}}]),r})(),or=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"animateLine",value:function(e,t,s,i){e.attr(t).animate(i).attr(s)}},{key:"animateMarker",value:function(e,t,s,i){e.attr({opacity:0}).animate(t).attr({opacity:1}).after((function(){i()}))}},{key:"animateRect",value:function(e,t,s,i,o){e.attr(t).animate(i).attr(s).after((function(){return o()}))}},{key:"animatePathsGradually",value:function(e){var t=e.el,s=e.realIndex,i=e.j,o=e.fill,c=e.pathFrom,h=e.pathTo,u=e.speed,g=e.delay,x=this.w,m=0;x.config.chart.animations.animateGradually.enabled&&(m=x.config.chart.animations.animateGradually.delay),x.config.chart.animations.dynamicAnimation.enabled&&x.globals.dataChanged&&x.config.chart.type!=="bar"&&(m=0),this.morphSVG(t,s,i,x.config.chart.type!=="line"||x.globals.comboCharts?o:"stroke",c,h,u,g*m)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach((function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")}))}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,s,i,o,c,h,u){var g=this,x=this.w;o||(o=e.attr("pathFrom")),c||(c=e.attr("pathTo"));var m=function(p){return x.config.chart.type==="radar"&&(h=1),"M 0 ".concat(x.globals.gridHeight)};(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=m()),(!c.trim()||c.indexOf("undefined")>-1||c.indexOf("NaN")>-1)&&(c=m()),x.globals.shouldAnimate||(h=1),e.plot(o).animate(1,u).plot(o).animate(h,u).plot(c).after((function(){J.isNumber(s)?s===x.globals.series[x.globals.maxValsInArrayIndex].length-2&&x.globals.shouldAnimate&&g.animationCompleted(e):i!=="none"&&x.globals.shouldAnimate&&(!x.globals.comboCharts&&t===x.globals.series.length-1||x.globals.comboCharts)&&g.animationCompleted(e),g.showDelayedElements()}))}}]),r})();const ng={},Nv=[];function Xe(r,e){if(Array.isArray(r))for(const t of r)Xe(t,e);else if(typeof r!="object")Sv(Object.getOwnPropertyNames(e)),ng[r]=Object.assign(ng[r]||{},e);else for(const t in r)Xe(t,r[t])}function xs(r){return ng[r]||{}}function Sv(r){Nv.push(...r)}function Ug(r,e){let t;const s=r.length,i=[];for(t=0;t<s;t++)i.push(e(r[t]));return i}function wu(r){return r%360*Math.PI/180}function cr(r){return r.charAt(0).toUpperCase()+r.slice(1)}function dr(r,e,t,s){return e!=null&&t!=null||(s=s||r.bbox(),e==null?e=s.width/s.height*t:t==null&&(t=s.height/s.width*e)),{width:e,height:t}}function rg(r,e){const t=r.origin;let s=r.ox!=null?r.ox:r.originX!=null?r.originX:"center",i=r.oy!=null?r.oy:r.originY!=null?r.originY:"center";t!=null&&([s,i]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const o=typeof s=="string",c=typeof i=="string";if(o||c){const{height:h,width:u,x:g,y:x}=e.bbox();o&&(s=s.includes("left")?g:s.includes("right")?g+u:g+u/2),c&&(i=i.includes("top")?x:i.includes("bottom")?x+h:x+h/2)}return[s,i]}const aA=new Set(["desc","metadata","title"]),lg=r=>aA.has(r.nodeName),kv=(r,e,t={})=>{const s={...e};for(const i in s)s[i].valueOf()===t[i]&&delete s[i];Object.keys(s).length?r.node.setAttribute("data-svgjs",JSON.stringify(s)):(r.node.removeAttribute("data-svgjs"),r.node.removeAttribute("svgjs:data"))},Wg="http://www.w3.org/2000/svg",ju="http://www.w3.org/2000/xmlns/",hr="http://www.w3.org/1999/xlink",Ke={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Ml(){return Ke.window}let Vg=class{};const Zi={},qg="___SYMBOL___ROOT___";function pl(r,e=Wg){return Ke.document.createElementNS(e,r)}function ns(r,e=!1){if(r instanceof Vg)return r;if(typeof r=="object")return Nu(r);if(r==null)return new Zi[qg];if(typeof r=="string"&&r.charAt(0)!=="<")return Nu(Ke.document.querySelector(r));const t=e?Ke.document.createElement("div"):pl("svg");return t.innerHTML=r,r=Nu(t.firstChild),t.removeChild(t.firstChild),r}function ft(r,e){return e&&(e instanceof Ke.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:pl(r)}function Ys(r){if(!r)return null;if(r.instance instanceof Vg)return r.instance;if(r.nodeName==="#document-fragment")return new Zi.Fragment(r);let e=cr(r.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Zi[e]||(e="Dom"),new Zi[e](r)}let Nu=Ys;function Ze(r,e=r.name,t=!1){return Zi[e]=r,t&&(Zi[qg]=r),Sv(Object.getOwnPropertyNames(r.prototype)),r}let iA=1e3;function Cv(r){return"Svgjs"+cr(r)+iA++}function Av(r){for(let e=r.children.length-1;e>=0;e--)Av(r.children[e]);return r.id&&(r.id=Cv(r.nodeName)),r}function Ee(r,e){let t,s;for(s=(r=Array.isArray(r)?r:[r]).length-1;s>=0;s--)for(t in e)r[s].prototype[t]=e[t]}function gt(r){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?r.apply(this,e):r.apply(this,e.slice(0,-1)).attr(t)}}Xe("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const r=this.position();return this.parent().add(this.remove(),r+1),this},backward:function(){const r=this.position();return this.parent().add(this.remove(),r?r-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(r){(r=ns(r)).remove();const e=this.position();return this.parent().add(r,e),this},after:function(r){(r=ns(r)).remove();const e=this.position();return this.parent().add(r,e+1),this},insertBefore:function(r){return(r=ns(r)).before(this),this},insertAfter:function(r){return(r=ns(r)).after(this),this}});const Tv=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,nA=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rA=/rgb\((\d+),(\d+),(\d+)\)/,lA=/(#[a-z_][a-z0-9\-_]*)/i,oA=/\)\s*,?\s*/,cA=/\s/g,I0=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,U0=/^rgb\(/,W0=/^(\s+)?$/,V0=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dA=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Ba=/[\s,]+/,Gg=/[MLHVCSQTAZ]/i;function hA(r){const e=Math.round(r),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function $n(r,e){for(let t=e.length;t--;)if(r[e[t]]==null)return!1;return!0}function Su(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(e-r)*t:t<.5?e:t<2/3?r+(e-r)*(2/3-t)*6:r}Xe("Dom",{classes:function(){const r=this.attr("class");return r==null?[]:r.trim().split(Ba)},hasClass:function(r){return this.classes().indexOf(r)!==-1},addClass:function(r){if(!this.hasClass(r)){const e=this.classes();e.push(r),this.attr("class",e.join(" "))}return this},removeClass:function(r){return this.hasClass(r)&&this.attr("class",this.classes().filter((function(e){return e!==r})).join(" ")),this},toggleClass:function(r){return this.hasClass(r)?this.removeClass(r):this.addClass(r)}}),Xe("Dom",{css:function(r,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter((function(s){return!!s.length})).forEach((function(s){const i=s.split(/\s*:\s*/);t[i[0]]=i[1]})),t;if(arguments.length<2){if(Array.isArray(r)){for(const s of r){const i=s;t[s]=this.node.style.getPropertyValue(i)}return t}if(typeof r=="string")return this.node.style.getPropertyValue(r);if(typeof r=="object")for(const s in r)this.node.style.setProperty(s,r[s]==null||W0.test(r[s])?"":r[s])}return arguments.length===2&&this.node.style.setProperty(r,e==null||W0.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),Xe("Dom",{data:function(r,e,t){if(r==null)return this.data(Ug((function(s,i){let o;const c=s.length,h=[];for(o=0;o<c;o++)i(s[o])&&h.push(s[o]);return h})(this.node.attributes,(s=>s.nodeName.indexOf("data-")===0)),(s=>s.nodeName.slice(5))));if(r instanceof Array){const s={};for(const i of r)s[i]=this.data(i);return s}if(typeof r=="object")for(e in r)this.data(e,r[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+r))}catch{return this.attr("data-"+r)}else this.attr("data-"+r,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),Xe("Dom",{remember:function(r,e){if(typeof arguments[0]=="object")for(const t in r)this.remember(t,r[t]);else{if(arguments.length===1)return this.memory()[r];this.memory()[r]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let r=arguments.length-1;r>=0;r--)delete this.memory()[arguments[r]];return this},memory:function(){return this._memory=this._memory||{}}});class ct{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof ct||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:s,round:i,sin:o,PI:c}=Math;if(e==="vibrant"){const h=24*s()+57,u=38*s()+45,g=360*s();return new ct(h,u,g,"lch")}if(e==="sine"){const h=i(80*o(2*c*(t=t??s())/.5+.01)+150),u=i(50*o(2*c*t/.5+4.6)+200),g=i(100*o(2*c*t/.5+2.3)+150);return new ct(h,u,g)}if(e==="pastel"){const h=8*s()+86,u=17*s()+9,g=360*s();return new ct(h,u,g,"lch")}if(e==="dark"){const h=10+10*s(),u=50*s()+86,g=360*s();return new ct(h,u,g,"lch")}if(e==="rgb"){const h=255*s(),u=255*s(),g=255*s();return new ct(h,u,g)}if(e==="lab"){const h=100*s(),u=256*s()-128,g=256*s()-128;return new ct(h,u,g,"lab")}if(e==="grey"){const h=255*s();return new ct(h,h,h)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(I0.test(e)||U0.test(e))}cmyk(){const{_a:e,_b:t,_c:s}=this.rgb(),[i,o,c]=[e,t,s].map((u=>u/255)),h=Math.min(1-i,1-o,1-c);return h===1?new ct(0,0,0,1,"cmyk"):new ct((1-i-h)/(1-h),(1-o-h)/(1-h),(1-c-h)/(1-h),h,"cmyk")}hsl(){const{_a:e,_b:t,_c:s}=this.rgb(),[i,o,c]=[e,t,s].map((p=>p/255)),h=Math.max(i,o,c),u=Math.min(i,o,c),g=(h+u)/2,x=h===u,m=h-u;return new ct(360*(x?0:h===i?((o-c)/m+(o<c?6:0))/6:h===o?((c-i)/m+2)/6:h===c?((i-o)/m+4)/6:0),100*(x?0:g>.5?m/(2-h-u):m/(h+u)),100*g,"hsl")}init(e=0,t=0,s=0,i=0,o="rgb"){if(e=e||0,this.space)for(const m in this.space)delete this[this.space[m]];if(typeof e=="number")o=typeof i=="string"?i:o,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:t,_c:s,_d:i,space:o});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const m=(function(p,b){const w=$n(p,"rgb")?{_a:p.r,_b:p.g,_c:p.b,_d:0,space:"rgb"}:$n(p,"xyz")?{_a:p.x,_b:p.y,_c:p.z,_d:0,space:"xyz"}:$n(p,"hsl")?{_a:p.h,_b:p.s,_c:p.l,_d:0,space:"hsl"}:$n(p,"lab")?{_a:p.l,_b:p.a,_c:p.b,_d:0,space:"lab"}:$n(p,"lch")?{_a:p.l,_b:p.c,_c:p.h,_d:0,space:"lch"}:$n(p,"cmyk")?{_a:p.c,_b:p.m,_c:p.y,_d:p.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return w.space=b||w.space,w})(e,t);Object.assign(this,m)}else if(typeof e=="string")if(U0.test(e)){const m=e.replace(cA,""),[p,b,w]=rA.exec(m).slice(1,4).map((y=>parseInt(y)));Object.assign(this,{_a:p,_b:b,_c:w,_d:0,space:"rgb"})}else{if(!I0.test(e))throw Error("Unsupported string format, can't construct Color");{const m=y=>parseInt(y,16),[,p,b,w]=nA.exec((function(y){return y.length===4?["#",y.substring(1,2),y.substring(1,2),y.substring(2,3),y.substring(2,3),y.substring(3,4),y.substring(3,4)].join(""):y})(e)).map(m);Object.assign(this,{_a:p,_b:b,_c:w,_d:0,space:"rgb"})}}const{_a:c,_b:h,_c:u,_d:g}=this,x=this.space==="rgb"?{r:c,g:h,b:u}:this.space==="xyz"?{x:c,y:h,z:u}:this.space==="hsl"?{h:c,s:h,l:u}:this.space==="lab"?{l:c,a:h,b:u}:this.space==="lch"?{l:c,c:h,h:u}:this.space==="cmyk"?{c,m:h,y:u,k:g}:{};Object.assign(this,x)}lab(){const{x:e,y:t,z:s}=this.xyz();return new ct(116*t-16,500*(e-t),200*(t-s),"lab")}lch(){const{l:e,a:t,b:s}=this.lab(),i=Math.sqrt(t**2+s**2);let o=180*Math.atan2(s,t)/Math.PI;return o<0&&(o*=-1,o=360-o),new ct(e,i,o,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:s,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:b,a:w,b:y}=this;if(this.space==="lch"){const{c:L,h:_}=this,D=Math.PI/180;w=L*Math.cos(D*_),y=L*Math.sin(D*_)}const k=(b+16)/116,A=w/500+k,S=k-y/200,T=16/116,C=.008856,E=7.787;t=.95047*(A**3>C?A**3:(A-T)/E),s=1*(k**3>C?k**3:(k-T)/E),i=1.08883*(S**3>C?S**3:(S-T)/E)}const o=3.2406*t+-1.5372*s+-.4986*i,c=-.9689*t+1.8758*s+.0415*i,h=.0557*t+-.204*s+1.057*i,u=Math.pow,g=.0031308,x=o>g?1.055*u(o,1/2.4)-.055:12.92*o,m=c>g?1.055*u(c,1/2.4)-.055:12.92*c,p=h>g?1.055*u(h,1/2.4)-.055:12.92*h;return new ct(255*x,255*m,255*p)}if(this.space==="hsl"){let{h:t,s,l:i}=this;if(t/=360,s/=100,i/=100,s===0)return i*=255,new ct(i,i,i);const o=i<.5?i*(1+s):i+s-i*s,c=2*i-o,h=255*Su(c,o,t+1/3),u=255*Su(c,o,t),g=255*Su(c,o,t-1/3);return new ct(h,u,g)}if(this.space==="cmyk"){const{c:t,m:s,y:i,k:o}=this,c=255*(1-Math.min(1,t*(1-o)+o)),h=255*(1-Math.min(1,s*(1-o)+o)),u=255*(1-Math.min(1,i*(1-o)+o));return new ct(c,h,u)}return this;var e}toArray(){const{_a:e,_b:t,_c:s,_d:i,space:o}=this;return[e,t,s,i,o]}toHex(){const[e,t,s]=this._clamped().map(hA);return`#${e}${t}${s}`}toRgb(){const[e,t,s]=this._clamped();return`rgb(${e},${t},${s})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:s}=this.rgb(),[i,o,c]=[e,t,s].map((k=>k/255)),h=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,u=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,g=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,x=(.4124*h+.3576*u+.1805*g)/.95047,m=(.2126*h+.7152*u+.0722*g)/1,p=(.0193*h+.1192*u+.9505*g)/1.08883,b=x>.008856?Math.pow(x,1/3):7.787*x+16/116,w=m>.008856?Math.pow(m,1/3):7.787*m+16/116,y=p>.008856?Math.pow(p,1/3):7.787*p+16/116;return new ct(b,w,y,"xyz")}_clamped(){const{_a:e,_b:t,_c:s}=this.rgb(),{max:i,min:o,round:c}=Math;return[e,t,s].map((h=>i(0,o(c(h),255))))}}class it{constructor(...e){this.init(...e)}clone(){return new it(this)}init(e,t){const o=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=o.x==null?0:o.x,this.y=o.y==null?0:o.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Te.isMatrixLike(e)||(e=new Te(e));const{x:t,y:s}=this;return this.x=e.a*t+e.c*s+e.e,this.y=e.b*t+e.d*s+e.f,this}}function Kn(r,e,t){return Math.abs(e-r)<1e-6}class Te{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,s=e.flip&&(t||e.flip==="x")?-1:1,i=e.flip&&(t||e.flip==="y")?-1:1,o=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,c=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,h=e.scale&&e.scale.length?e.scale[0]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleX)?e.scaleX*s:s,u=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,g=e.shear||0,x=e.rotate||e.theta||0,m=new it(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),p=m.x,b=m.y,w=new it(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),y=w.x,k=w.y,A=new it(e.translate||e.tx||e.translateX,e.ty||e.translateY),S=A.x,T=A.y,C=new it(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:h,scaleY:u,skewX:o,skewY:c,shear:g,theta:x,rx:C.x,ry:C.y,tx:S,ty:T,ox:p,oy:b,px:y,py:k}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,s){const i=e.a*t.a+e.c*t.b,o=e.b*t.a+e.d*t.b,c=e.a*t.c+e.c*t.d,h=e.b*t.c+e.d*t.d,u=e.e+e.a*t.e+e.c*t.f,g=e.f+e.b*t.e+e.d*t.f;return s.a=i,s.b=o,s.c=c,s.d=h,s.e=u,s.f=g,s}around(e,t,s){return this.clone().aroundO(e,t,s)}aroundO(e,t,s){const i=e||0,o=t||0;return this.translateO(-i,-o).lmultiplyO(s).translateO(i,o)}clone(){return new Te(this)}decompose(e=0,t=0){const s=this.a,i=this.b,o=this.c,c=this.d,h=this.e,u=this.f,g=s*c-i*o,x=g>0?1:-1,m=x*Math.sqrt(s*s+i*i),p=Math.atan2(x*i,x*s),b=180/Math.PI*p,w=Math.cos(p),y=Math.sin(p),k=(s*o+i*c)/g,A=o*m/(k*s-i)||c*m/(k*i+s);return{scaleX:m,scaleY:A,shear:k,rotate:b,translateX:h-e+e*w*m+t*(k*w*m-y*A),translateY:u-t+e*y*m+t*(k*y*m+w*A),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Te(e);return Kn(this.a,t.a)&&Kn(this.b,t.b)&&Kn(this.c,t.c)&&Kn(this.d,t.d)&&Kn(this.e,t.e)&&Kn(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Te.fromArray([1,0,0,1,0,0]);return e=e instanceof Qt?e.matrixify():typeof e=="string"?Te.fromArray(e.split(Ba).map(parseFloat)):Array.isArray(e)?Te.fromArray(e):typeof e=="object"&&Te.isMatrixLike(e)?e:typeof e=="object"?new Te().transform(e):arguments.length===6?Te.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,s=this.c,i=this.d,o=this.e,c=this.f,h=e*i-t*s;if(!h)throw new Error("Cannot invert "+this);const u=i/h,g=-t/h,x=-s/h,m=e/h,p=-(u*o+x*c),b=-(g*o+m*c);return this.a=u,this.b=g,this.c=x,this.d=m,this.e=p,this.f=b,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Te?e:new Te(e);return Te.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Te?e:new Te(e);return Te.matrixMultiply(this,t,this)}rotate(e,t,s){return this.clone().rotateO(e,t,s)}rotateO(e,t=0,s=0){e=wu(e);const i=Math.cos(e),o=Math.sin(e),{a:c,b:h,c:u,d:g,e:x,f:m}=this;return this.a=c*i-h*o,this.b=h*i+c*o,this.c=u*i-g*o,this.d=g*i+u*o,this.e=x*i-m*o+s*o-t*i+t,this.f=m*i+x*o-t*o-s*i+s,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,s=0,i=0){arguments.length===3&&(i=s,s=t,t=e);const{a:o,b:c,c:h,d:u,e:g,f:x}=this;return this.a=o*e,this.b=c*t,this.c=h*e,this.d=u*t,this.e=g*e-s*e+s,this.f=x*t-i*t+i,this}shear(e,t,s){return this.clone().shearO(e,t,s)}shearO(e,t=0,s=0){const{a:i,b:o,c,d:h,e:u,f:g}=this;return this.a=i+o*e,this.c=c+h*e,this.e=u+g*e-s*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,s=0,i=0){arguments.length===3&&(i=s,s=t,t=e),e=wu(e),t=wu(t);const o=Math.tan(e),c=Math.tan(t),{a:h,b:u,c:g,d:x,e:m,f:p}=this;return this.a=h+u*o,this.b=u+h*c,this.c=g+x*o,this.d=x+g*c,this.e=m+p*o-i*o,this.f=p+m*c-s*c,this}skewX(e,t,s){return this.skew(e,0,t,s)}skewY(e,t,s){return this.skew(0,e,t,s)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Te.isMatrixLike(e))return new Te(e).multiplyO(this);const t=Te.formatTransforms(e),{x:s,y:i}=new it(t.ox,t.oy).transform(this),o=new Te().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-s,-i).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(s,i);if(isFinite(t.px)||isFinite(t.py)){const c=new it(s,i).transform(o),h=isFinite(t.px)?t.px-c.x:0,u=isFinite(t.py)?t.py-c.y:0;o.translateO(h,u)}return o.translateO(t.tx,t.ty),o}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function ui(){if(!ui.nodes){const r=ns().size(2,0);r.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),r.attr("focusable","false"),r.attr("aria-hidden","true");const e=r.path().node;ui.nodes={svg:r,path:e}}if(!ui.nodes.svg.node.parentNode){const r=Ke.document.body||Ke.document.documentElement;ui.nodes.svg.addTo(r)}return ui.nodes}function _v(r){return!(r.width||r.height||r.x||r.y)}Ze(Te,"Matrix");class At{constructor(...e){this.init(...e)}addOffset(){return this.x+=Ke.window.pageXOffset,this.y+=Ke.window.pageYOffset,new At(this)}init(e){return e=typeof e=="string"?e.split(Ba).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return _v(this)}merge(e){const t=Math.min(this.x,e.x),s=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-t,o=Math.max(this.y+this.height,e.y+e.height)-s;return new At(t,s,i,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Te||(e=new Te(e));let t=1/0,s=-1/0,i=1/0,o=-1/0;return[new it(this.x,this.y),new it(this.x2,this.y),new it(this.x,this.y2),new it(this.x2,this.y2)].forEach((function(c){c=c.transform(e),t=Math.min(t,c.x),s=Math.max(s,c.x),i=Math.min(i,c.y),o=Math.max(o,c.y)})),new At(t,i,s-t,o-i)}}function q0(r,e,t){let s;try{if(s=e(r.node),_v(s)&&(i=r.node)!==Ke.document&&!(Ke.document.documentElement.contains||function(o){for(;o.parentNode;)o=o.parentNode;return o===Ke.document}).call(Ke.document.documentElement,i))throw new Error("Element not in the dom")}catch{s=t(r)}var i;return s}Xe({viewbox:{viewbox(r,e,t,s){return r==null?new At(this.attr("viewBox")):this.attr("viewBox",new At(r,e,t,s))},zoom(r,e){let{width:t,height:s}=this.attr(["width","height"]);if((t||s)&&typeof t!="string"&&typeof s!="string"||(t=this.node.clientWidth,s=this.node.clientHeight),!t||!s)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const i=this.viewbox(),o=t/i.width,c=s/i.height,h=Math.min(o,c);if(r==null)return h;let u=h/r;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),e=e||new it(t/2/o+i.x,s/2/c+i.y);const g=new At(i).transform(new Te({scale:u,origin:e}));return this.viewbox(g)}}}),Ze(At,"Box");class tn extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}Ee([tn],{each(r,...e){return typeof r=="function"?this.map(((t,s,i)=>r.call(t,t,s,i))):this.map((t=>t[r](...e)))},toArray(){return Array.prototype.concat.apply([],this)}});const uA=["toArray","constructor","each"];function nn(r,e){return new tn(Ug((e||Ke.document).querySelectorAll(r),(function(t){return Ys(t)})))}tn.extend=function(r){r=r.reduce(((e,t)=>(uA.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...s){return this.each(t,...s)}),e)),{}),Ee([tn],r)};let gA=0;const Ev={};function Mv(r){let e=r.getEventHolder();return e===Ke.window&&(e=Ev),e.events||(e.events={}),e.events}function $g(r){return r.getEventTarget()}function Da(r,e,t,s,i){const o=t.bind(s||r),c=ns(r),h=Mv(c),u=$g(c);e=Array.isArray(e)?e:e.split(Ba),t._svgjsListenerId||(t._svgjsListenerId=++gA),e.forEach((function(g){const x=g.split(".")[0],m=g.split(".")[1]||"*";h[x]=h[x]||{},h[x][m]=h[x][m]||{},h[x][m][t._svgjsListenerId]=o,u.addEventListener(x,o,i||!1)}))}function Is(r,e,t,s){const i=ns(r),o=Mv(i),c=$g(i);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(Ba)).forEach((function(h){const u=h&&h.split(".")[0],g=h&&h.split(".")[1];let x,m;if(t)o[u]&&o[u][g||"*"]&&(c.removeEventListener(u,o[u][g||"*"][t],s||!1),delete o[u][g||"*"][t]);else if(u&&g){if(o[u]&&o[u][g]){for(m in o[u][g])Is(c,[u,g].join("."),m);delete o[u][g]}}else if(g)for(h in o)for(x in o[h])g===x&&Is(c,[h,g].join("."));else if(u){if(o[u]){for(x in o[u])Is(c,[u,x].join("."));delete o[u]}}else{for(h in o)Is(c,h);(function(p){let b=p.getEventHolder();b===Ke.window&&(b=Ev),b.events&&(b.events={})})(i)}}))}class Ll extends Vg{addEventListener(){}dispatch(e,t,s){return(function(i,o,c,h){const u=$g(i);return o instanceof Ke.window.Event||(o=new Ke.window.CustomEvent(o,{detail:c,cancelable:!0,...h})),u.dispatchEvent(o),o})(this,e,t,s)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const s=t[e.type];for(const i in s)for(const o in s[i])s[i][o](e);return!e.defaultPrevented}fire(e,t,s){return this.dispatch(e,t,s),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,s){return Is(this,e,t,s),this}on(e,t,s,i){return Da(this,e,t,s,i),this}removeEventListener(){}}function G0(){}Ze(Ll,"EventTarget");const ku=400,fA=">",xA=0,mA={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class sn extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(Ba).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Oe{constructor(...e){this.init(...e)}convert(e){return new Oe(this.value,e)}divide(e){return e=new Oe(e),new Oe(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(Tv))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Oe&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Oe(e),new Oe(this-e,this.unit||e.unit)}plus(e){return e=new Oe(e),new Oe(this+e,this.unit||e.unit)}times(e){return e=new Oe(e),new Oe(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const pA=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Lv=[];class vi extends Ll{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=ns(e)).removeNamespace&&this.node instanceof Ke.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return ns(e).put(this,t)}children(){return new tn(Ug(this.node.children,(function(e){return Ys(e)})))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let s=this.node.cloneNode(e);return t&&(s=Av(s)),new this.constructor(s)}each(e,t){const s=this.children();let i,o;for(i=0,o=s.length;i<o;i++)e.apply(s[i],[i,s]),t&&s[i].each(e,t);return this}element(e,t){return this.put(new vi(pl(e),t))}first(){return Ys(this.node.firstChild)}get(e){return Ys(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=Cv(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Ys(this.node.lastChild)}matches(e){const t=this.node,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return s&&s.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Ys(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Ys(t.node.parentNode));return t}put(e,t){return e=ns(e),this.add(e,t),e}putIn(e,t){return ns(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=ns(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const s=10**e,i=this.attr(t);for(const o in i)typeof i[o]=="number"&&(i[o]=Math.round(i[o]*s)/s);return this.attr(i),this}svg(e,t){return this.xml(e,t,Wg)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const s=t.index(this);return t.put(e,s).put(this)}writeDataToDom(){return this.each((function(){this.writeDataToDom()})),this}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let h=this;if(e!=null){if(h=Ys(h.node.cloneNode(!0)),t){const u=e(h);if(h=u||h,u===!1)return""}h.each((function(){const u=e(this),g=u||this;u===!1?this.remove():u&&this!==g&&this.replace(g)}),!0)}return t?h.node.outerHTML:h.node.innerHTML}t=t!=null&&t;const i=pl("wrapper",s),o=Ke.document.createDocumentFragment();i.innerHTML=e;for(let h=i.children.length;h--;)o.appendChild(i.firstElementChild);const c=this.parent();return t?this.replace(o)&&c:this.add(o)}}Ee(vi,{attr:function(r,e,t){if(r==null){r={},e=this.node.attributes;for(const s of e)r[s.nodeName]=V0.test(s.nodeValue)?parseFloat(s.nodeValue):s.nodeValue;return r}if(r instanceof Array)return r.reduce(((s,i)=>(s[i]=this.attr(i),s)),{});if(typeof r=="object"&&r.constructor===Object)for(e in r)this.attr(e,r[e]);else if(e===null)this.node.removeAttribute(r);else{if(e==null)return(e=this.node.getAttribute(r))==null?mA[r]:V0.test(e)?parseFloat(e):e;typeof(e=Lv.reduce(((s,i)=>i(r,s,this)),e))=="number"?e=new Oe(e):pA.has(r)&&ct.isColor(e)?e=new ct(e):e.constructor===Array&&(e=new sn(e)),r==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,r,e.toString()):this.node.setAttribute(r,e.toString()),!this.rebuild||r!=="font-size"&&r!=="x"||this.rebuild()}return this},find:function(r){return nn(r,this.node)},findOne:function(r){return Ys(this.node.querySelector(r))}}),Ze(vi,"Dom");let Qt=class extends vi{constructor(r,e){super(r,e),this.dom={},this.node.instance=this,(r.hasAttribute("data-svgjs")||r.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(r.getAttribute("data-svgjs"))??JSON.parse(r.getAttribute("svgjs:data"))??{})}center(r,e){return this.cx(r).cy(e)}cx(r){return r==null?this.x()+this.width()/2:this.x(r-this.width()/2)}cy(r){return r==null?this.y()+this.height()/2:this.y(r-this.height()/2)}defs(){const r=this.root();return r&&r.defs()}dmove(r,e){return this.dx(r).dy(e)}dx(r=0){return this.x(new Oe(r).plus(this.x()))}dy(r=0){return this.y(new Oe(r).plus(this.y()))}getEventHolder(){return this}height(r){return this.attr("height",r)}move(r,e){return this.x(r).y(e)}parents(r=this.root()){const e=typeof r=="string";e||(r=ns(r));const t=new tn;let s=this;for(;(s=s.parent())&&s.node!==Ke.document&&s.nodeName!=="#document-fragment"&&(t.push(s),e||s.node!==r.node)&&(!e||!s.matches(r));)if(s.node===this.root().node)return null;return t}reference(r){if(!(r=this.attr(r)))return null;const e=(r+"").match(lA);return e?ns(e[1]):null}root(){const r=this.parent((function(e){return Zi[e]})(qg));return r&&r.root()}setData(r){return this.dom=r,this}size(r,e){const t=dr(this,r,e);return this.width(new Oe(t.width)).height(new Oe(t.height))}width(r){return this.attr("width",r)}writeDataToDom(){return kv(this,this.dom),super.writeDataToDom()}x(r){return this.attr("x",r)}y(r){return this.attr("y",r)}};Ee(Qt,{bbox:function(){const r=q0(this,(e=>e.getBBox()),(e=>{try{const t=e.clone().addTo(ui().svg).show(),s=t.node.getBBox();return t.remove(),s}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}}));return new At(r)},rbox:function(r){const e=q0(this,(s=>s.getBoundingClientRect()),(s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)})),t=new At(e);return r?t.transform(r.screenCTM().inverseO()):t.addOffset()},inside:function(r,e){const t=this.bbox();return r>t.x&&e>t.y&&r<t.x+t.width&&e<t.y+t.height},point:function(r,e){return new it(r,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Te(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const r=this.rect(1,1),e=r.node.getScreenCTM();return r.remove(),new Te(e)}return new Te(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Te}}}),Ze(Qt,"Element");const rl={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(r,e){return e==="color"?r:r+"-"+e}};["fill","stroke"].forEach((function(r){const e={};let t;e[r]=function(s){if(s===void 0)return this.attr(r);if(typeof s=="string"||s instanceof ct||ct.isRgb(s)||s instanceof Qt)this.attr(r,s);else for(t=rl[r].length-1;t>=0;t--)s[rl[r][t]]!=null&&this.attr(rl.prefix(r,rl[r][t]),s[rl[r][t]]);return this},Xe(["Element","Runner"],e)})),Xe(["Element","Runner"],{matrix:function(r,e,t,s,i,o){return r==null?new Te(this):this.attr("transform",new Te(r,e,t,s,i,o))},rotate:function(r,e,t){return this.transform({rotate:r,ox:e,oy:t},!0)},skew:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({skew:r,ox:e,oy:t},!0):this.transform({skew:[r,e],ox:t,oy:s},!0)},shear:function(r,e,t){return this.transform({shear:r,ox:e,oy:t},!0)},scale:function(r,e,t,s){return arguments.length===1||arguments.length===3?this.transform({scale:r,ox:e,oy:t},!0):this.transform({scale:[r,e],ox:t,oy:s},!0)},translate:function(r,e){return this.transform({translate:[r,e]},!0)},relative:function(r,e){return this.transform({relative:[r,e]},!0)},flip:function(r="both",e="center"){return"xybothtrue".indexOf(r)===-1&&(e=r,r="both"),this.transform({flip:r,origin:e},!0)},opacity:function(r){return this.attr("opacity",r)}}),Xe("radius",{radius:function(r,e=r){return(this._element||this).type==="radialGradient"?this.attr("r",new Oe(r)):this.rx(r).ry(e)}}),Xe("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(r){return new it(this.node.getPointAtLength(r))}}),Xe(["Element","Runner"],{font:function(r,e){if(typeof r=="object"){for(e in r)this.font(e,r[e]);return this}return r==="leading"?this.leading(e):r==="anchor"?this.attr("text-anchor",e):r==="size"||r==="family"||r==="weight"||r==="stretch"||r==="variant"||r==="style"?this.attr("font-"+r,e):this.attr(r,e)}});Xe("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce((function(r,e){return r[e]=function(t){return t===null?this.off(e):this.on(e,t),this},r}),{})),Xe("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(oA).slice(0,-1).map((function(e){const t=e.trim().split("(");return[t[0],t[1].split(Ba).map((function(s){return parseFloat(s)}))]})).reverse().reduce((function(e,t){return t[0]==="matrix"?e.lmultiply(Te.fromArray(t[1])):e[t[0]].apply(e,t[1])}),new Te)},toParent:function(r,e){if(this===r)return this;if(lg(this.node))return this.addTo(r,e);const t=this.screenCTM(),s=r.screenCTM().inverse();return this.addTo(r,e).untransform().transform(s.multiply(t)),this},toRoot:function(r){return this.toParent(this.root(),r)},transform:function(r,e){if(r==null||typeof r=="string"){const s=new Te(this).decompose();return r==null?s:s[r]}Te.isMatrixLike(r)||(r={...r,origin:rg(r,this)});const t=new Te(e===!0?this:e||!1).transform(r);return this.attr("transform",t)}});class ls extends Qt{flatten(){return this.each((function(){if(this instanceof ls)return this.flatten().ungroup()})),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each((function(s,i){return i[i.length-s-1].toParent(e,t)})),this.remove()}}Ze(ls,"Container");class Yc extends ls{constructor(e,t=e){super(ft("defs",e),t)}flatten(){return this}ungroup(){return this}}Ze(Yc,"Defs");class As extends Qt{}function Kg(r){return this.attr("rx",r)}function Zg(r){return this.attr("ry",r)}function zv(r){return r==null?this.cx()-this.rx():this.cx(r+this.rx())}function Dv(r){return r==null?this.cy()-this.ry():this.cy(r+this.ry())}function Rv(r){return this.attr("cx",r)}function Ov(r){return this.attr("cy",r)}function Hv(r){return r==null?2*this.rx():this.rx(new Oe(r).divide(2))}function Pv(r){return r==null?2*this.ry():this.ry(new Oe(r).divide(2))}Ze(As,"Shape");var bA=Object.freeze({__proto__:null,cx:Rv,cy:Ov,height:Pv,rx:Kg,ry:Zg,width:Hv,x:zv,y:Dv});class dc extends As{constructor(e,t=e){super(ft("ellipse",e),t)}size(e,t){const s=dr(this,e,t);return this.rx(new Oe(s.width).divide(2)).ry(new Oe(s.height).divide(2))}}Ee(dc,bA),Xe("Container",{ellipse:gt((function(r=0,e=r){return this.put(new dc).size(r,e).move(0,0)}))}),Ze(dc,"Ellipse");class Bv extends vi{constructor(e=Ke.document.createDocumentFragment()){super(e)}xml(e,t,s){if(typeof e=="boolean"&&(s=t,t=e,e=null),e==null||typeof e=="function"){const i=new vi(pl("wrapper",s));return i.add(this.node.cloneNode(!0)),i.xml(!1,s)}return super.xml(e,!1,s)}}function Xv(r,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Oe(r),fy:new Oe(e)}):this.attr({x1:new Oe(r),y1:new Oe(e)})}function Yv(r,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Oe(r),cy:new Oe(e)}):this.attr({x2:new Oe(r),y2:new Oe(e)})}Ze(Bv,"Fragment");var vA=Object.freeze({__proto__:null,from:Xv,to:Yv});class hl extends ls{constructor(e,t){super(ft(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,s){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,s)}bbox(){return new At}targets(){return nn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ee(hl,vA),Xe({Container:{gradient(...r){return this.defs().gradient(...r)}},Defs:{gradient:gt((function(r,e){return this.put(new hl(r)).update(e)}))}}),Ze(hl,"Gradient");class bl extends ls{constructor(e,t=e){super(ft("pattern",e),t)}attr(e,t,s){return e==="transform"&&(e="patternTransform"),super.attr(e,t,s)}bbox(){return new At}targets(){return nn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Xe({Container:{pattern(...r){return this.defs().pattern(...r)}},Defs:{pattern:gt((function(r,e,t){return this.put(new bl).update(t).attr({x:0,y:0,width:r,height:e,patternUnits:"userSpaceOnUse"})}))}}),Ze(bl,"Pattern");let hc=class extends As{constructor(r,e=r){super(ft("image",r),e)}load(r,e){if(!r)return this;const t=new Ke.window.Image;return Da(t,"load",(function(s){const i=this.parent(bl);this.width()===0&&this.height()===0&&this.size(t.width,t.height),i instanceof bl&&i.width()===0&&i.height()===0&&i.size(this.width(),this.height()),typeof e=="function"&&e.call(this,s)}),this),Da(t,"load error",(function(){Is(t)})),this.attr("href",t.src=r,hr)}};var $0;$0=function(r,e,t){return r!=="fill"&&r!=="stroke"||dA.test(e)&&(e=t.root().defs().image(e)),e instanceof hc&&(e=t.root().defs().pattern(0,0,(s=>{s.add(e)}))),e},Lv.push($0),Xe({Container:{image:gt((function(r,e){return this.put(new hc).size(0,0).load(r,e)}))}}),Ze(hc,"Image");class yi extends sn{bbox(){let e=-1/0,t=-1/0,s=1/0,i=1/0;return this.forEach((function(o){e=Math.max(o[0],e),t=Math.max(o[1],t),s=Math.min(o[0],s),i=Math.min(o[1],i)})),new At(s,i,e-s,t-i)}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(Ba).map(parseFloat)).length%2!=0&&e.pop();for(let s=0,i=e.length;s<i;s+=2)t.push([e[s],e[s+1]]);return t}size(e,t){let s;const i=this.bbox();for(s=this.length-1;s>=0;s--)i.width&&(this[s][0]=(this[s][0]-i.x)*e/i.width+i.x),i.height&&(this[s][1]=(this[s][1]-i.y)*t/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,s=this.length;t<s;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Te.isMatrixLike(e)||(e=new Te(e));for(let t=this.length;t--;){const[s,i]=this[t];this[t][0]=e.a*s+e.c*i+e.e,this[t][1]=e.b*s+e.d*i+e.f}return this}}const yA=yi;var Qg=Object.freeze({__proto__:null,MorphArray:yA,height:function(r){const e=this.bbox();return r==null?e.height:this.size(e.width,r)},width:function(r){const e=this.bbox();return r==null?e.width:this.size(r,e.height)},x:function(r){return r==null?this.bbox().x:this.move(r,this.bbox().y)},y:function(r){return r==null?this.bbox().y:this.move(this.bbox().x,r)}});let Vi=class extends As{constructor(r,e=r){super(ft("line",r),e)}array(){return new yi([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(r,e){return this.attr(this.array().move(r,e).toLine())}plot(r,e,t,s){return r==null?this.array():(r=e!==void 0?{x1:r,y1:e,x2:t,y2:s}:new yi(r).toLine(),this.attr(r))}size(r,e){const t=dr(this,r,e);return this.attr(this.array().size(t.width,t.height).toLine())}};Ee(Vi,Qg),Xe({Container:{line:gt((function(...r){return Vi.prototype.plot.apply(this.put(new Vi),r[0]!=null?r:[0,0,0,0])}))}}),Ze(Vi,"Line");let uc=class extends ls{constructor(r,e=r){super(ft("marker",r),e)}height(r){return this.attr("markerHeight",r)}orient(r){return this.attr("orient",r)}ref(r,e){return this.attr("refX",r).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(r){return this.clear(),typeof r=="function"&&r.call(this,this),this}width(r){return this.attr("markerWidth",r)}};function Zn(r,e){return function(t){return t==null?this[r]:(this[r]=t,e&&e.call(this),this)}}Xe({Container:{marker(...r){return this.defs().marker(...r)}},Defs:{marker:gt((function(r,e,t){return this.put(new uc).size(r,e).ref(r/2,e/2).viewbox(0,0,r,e).attr("orient","auto").update(t)}))},marker:{marker(r,e,t,s){let i=["marker"];return r!=="all"&&i.push(r),i=i.join("-"),r=arguments[1]instanceof uc?arguments[1]:this.defs().marker(e,t,s),this.attr(i,r)}}}),Ze(uc,"Marker");const wA={"-":function(r){return r},"<>":function(r){return-Math.cos(r*Math.PI)/2+.5},">":function(r){return Math.sin(r*Math.PI/2)},"<":function(r){return 1-Math.cos(r*Math.PI/2)},bezier:function(r,e,t,s){return function(i){return i<0?r>0?e/r*i:t>0?s/t*i:0:i>1?t<1?(1-s)/(1-t)*i+(s-t)/(1-t):r<1?(1-e)/(1-r)*i+(e-r)/(1-r):1:3*i*(1-i)**2*e+3*i**2*(1-i)*s+i**3}},steps:function(r,e="end"){e=e.split("-").reverse()[0];let t=r;return e==="none"?--t:e==="both"&&++t,(s,i=!1)=>{let o=Math.floor(s*r);const c=s*o%1==0;return e!=="start"&&e!=="both"||++o,i&&c&&--o,s>=0&&o<0&&(o=0),s<=1&&o>t&&(o=t),o/t}}};class Jg{done(){return!1}}class og extends Jg{constructor(e=fA){super(),this.ease=wA[e]||e}step(e,t,s){return typeof e!="number"?s<1?e:t:e+(t-e)*this.ease(s)}}class kc extends Jg{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,s,i){return this.stepper(e,t,s,i)}}function K0(){const r=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,s=Math.log(e/100+1e-10),i=-s/Math.sqrt(t*t+s*s),o=3.9/(i*r);this.d=2*i*o,this.k=o*o}Ee(class extends kc{constructor(r=500,e=0){super(),this.duration(r).overshoot(e)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;t>100&&(t=16),t/=1e3;const i=s.velocity||0,o=-this.d*i-this.k*(r-e),c=r+i*t+o*t*t/2;return s.velocity=i+o*t,s.done=Math.abs(e-c)+Math.abs(i)<.002,s.done?e:c}},{duration:Zn("_duration",K0),overshoot:Zn("_overshoot",K0)});Ee(class extends kc{constructor(r=.1,e=.01,t=0,s=1e3){super(),this.p(r).i(e).d(t).windup(s)}step(r,e,t,s){if(typeof r=="string")return r;if(s.done=t===1/0,t===1/0)return e;if(t===0)return r;const i=e-r;let o=(s.integral||0)+i*t;const c=(i-(s.error||0))/t,h=this._windup;return h!==!1&&(o=Math.max(-h,Math.min(o,h))),s.error=i,s.integral=o,s.done=Math.abs(i)<.001,s.done?e:r+(this.P*i+this.I*o+this.D*c)}},{windup:Zn("_windup"),p:Zn("P"),i:Zn("I"),d:Zn("D")});const jA={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},cg={M:function(r,e,t){return e.x=t.x=r[0],e.y=t.y=r[1],["M",e.x,e.y]},L:function(r,e){return e.x=r[0],e.y=r[1],["L",r[0],r[1]]},H:function(r,e){return e.x=r[0],["H",r[0]]},V:function(r,e){return e.y=r[0],["V",r[0]]},C:function(r,e){return e.x=r[4],e.y=r[5],["C",r[0],r[1],r[2],r[3],r[4],r[5]]},S:function(r,e){return e.x=r[2],e.y=r[3],["S",r[0],r[1],r[2],r[3]]},Q:function(r,e){return e.x=r[2],e.y=r[3],["Q",r[0],r[1],r[2],r[3]]},T:function(r,e){return e.x=r[0],e.y=r[1],["T",r[0],r[1]]},Z:function(r,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(r,e){return e.x=r[5],e.y=r[6],["A",r[0],r[1],r[2],r[3],r[4],r[5],r[6]]}},Cu="mlhvqtcsaz".split("");for(let r=0,e=Cu.length;r<e;++r)cg[Cu[r]]=(function(t){return function(s,i,o){if(t==="H")s[0]=s[0]+i.x;else if(t==="V")s[0]=s[0]+i.y;else if(t==="A")s[5]=s[5]+i.x,s[6]=s[6]+i.y;else for(let c=0,h=s.length;c<h;++c)s[c]=s[c]+(c%2?i.y:i.x);return cg[t](s,i,o)}})(Cu[r].toUpperCase());function dg(r){return r.segment.length&&r.segment.length-1===jA[r.segment[0].toUpperCase()]}function NA(r,e){r.inNumber&&Ii(r,!1);const t=Gg.test(e);if(t)r.segment=[e];else{const s=r.lastCommand,i=s.toLowerCase(),o=s===i;r.segment=[i==="m"?o?"l":"L":s]}return r.inSegment=!0,r.lastCommand=r.segment[0],t}function Ii(r,e){if(!r.inNumber)throw new Error("Parser Error");r.number&&r.segment.push(parseFloat(r.number)),r.inNumber=e,r.number="",r.pointSeen=!1,r.hasExponent=!1,dg(r)&&hg(r)}function hg(r){r.inSegment=!1,r.absolute&&(r.segment=(function(e){const t=e.segment[0];return cg[t](e.segment.slice(1),e.p,e.p0)})(r)),r.segments.push(r.segment)}function SA(r){if(!r.segment.length)return!1;const e=r.segment[0].toUpperCase()==="A",t=r.segment.length;return e&&(t===4||t===5)}function kA(r){return r.lastToken.toUpperCase()==="E"}const CA=new Set([" ",",","	",`
`,"\r","\f"]);class Zs extends sn{bbox(){return ui().path.setAttribute("d",this.toString()),new At(ui.nodes.path.getBBox())}move(e,t){const s=this.bbox();if(e-=s.x,t-=s.y,!isNaN(e)&&!isNaN(t))for(let i,o=this.length-1;o>=0;o--)i=this[o][0],i==="M"||i==="L"||i==="T"?(this[o][1]+=e,this[o][2]+=t):i==="H"?this[o][1]+=e:i==="V"?this[o][1]+=t:i==="C"||i==="S"||i==="Q"?(this[o][1]+=e,this[o][2]+=t,this[o][3]+=e,this[o][4]+=t,i==="C"&&(this[o][5]+=e,this[o][6]+=t)):i==="A"&&(this[o][6]+=e,this[o][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),(function(t,s=!0){let i=0,o="";const c={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:s,p0:new it,p:new it};for(;c.lastToken=o,o=t.charAt(i++);)if(c.inSegment||!NA(c,o))if(o!==".")if(isNaN(parseInt(o)))if(CA.has(o))c.inNumber&&Ii(c,!1);else if(o!=="-"&&o!=="+")if(o.toUpperCase()!=="E"){if(Gg.test(o)){if(c.inNumber)Ii(c,!1);else{if(!dg(c))throw new Error("parser Error");hg(c)}--i}}else c.number+=o,c.hasExponent=!0;else{if(c.inNumber&&!kA(c)){Ii(c,!1),--i;continue}c.number+=o,c.inNumber=!0}else{if(c.number==="0"||SA(c)){c.inNumber=!0,c.number=o,Ii(c,!0);continue}c.inNumber=!0,c.number+=o}else{if(c.pointSeen||c.hasExponent){Ii(c,!1),--i;continue}c.inNumber=!0,c.pointSeen=!0,c.number+=o}return c.inNumber&&Ii(c,!1),c.inSegment&&dg(c)&&hg(c),c.segments})(e)}size(e,t){const s=this.bbox();let i,o;for(s.width=s.width===0?1:s.width,s.height=s.height===0?1:s.height,i=this.length-1;i>=0;i--)o=this[i][0],o==="M"||o==="L"||o==="T"?(this[i][1]=(this[i][1]-s.x)*e/s.width+s.x,this[i][2]=(this[i][2]-s.y)*t/s.height+s.y):o==="H"?this[i][1]=(this[i][1]-s.x)*e/s.width+s.x:o==="V"?this[i][1]=(this[i][1]-s.y)*t/s.height+s.y:o==="C"||o==="S"||o==="Q"?(this[i][1]=(this[i][1]-s.x)*e/s.width+s.x,this[i][2]=(this[i][2]-s.y)*t/s.height+s.y,this[i][3]=(this[i][3]-s.x)*e/s.width+s.x,this[i][4]=(this[i][4]-s.y)*t/s.height+s.y,o==="C"&&(this[i][5]=(this[i][5]-s.x)*e/s.width+s.x,this[i][6]=(this[i][6]-s.y)*t/s.height+s.y)):o==="A"&&(this[i][1]=this[i][1]*e/s.width,this[i][2]=this[i][2]*t/s.height,this[i][6]=(this[i][6]-s.x)*e/s.width+s.x,this[i][7]=(this[i][7]-s.y)*t/s.height+s.y);return this}toString(){return(function(e){let t="";for(let s=0,i=e.length;s<i;s++)t+=e[s][0],e[s][1]!=null&&(t+=e[s][1],e[s][2]!=null&&(t+=" ",t+=e[s][2],e[s][3]!=null&&(t+=" ",t+=e[s][3],t+=" ",t+=e[s][4],e[s][5]!=null&&(t+=" ",t+=e[s][5],t+=" ",t+=e[s][6],e[s][7]!=null&&(t+=" ",t+=e[s][7])))));return t+" "})(this)}}const Fv=r=>{const e=typeof r;return e==="number"?Oe:e==="string"?ct.isColor(r)?ct:Ba.test(r)?Gg.test(r)?Zs:sn:Tv.test(r)?Oe:ug:gg.indexOf(r.constructor)>-1?r.constructor:Array.isArray(r)?sn:e==="object"?vl:ug};class Ui{constructor(e){this._stepper=e||new og("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce((function(e,t){return e&&t}),!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(Fv(e));let t=new this._type(e);return this._type===ct&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===vl&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map((function(s){return s.done=!0,s})),t}}class ug{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class zl{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,zl.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}zl.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const AA=(r,e)=>r[0]<e[0]?-1:r[0]>e[0]?1:0;class vl{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let s=0,i=t.length;s<i;++s){if(t[s+1]===e[s+1]){if(t[s+1]===ct&&e[s+7]!==t[s+7]){const h=e[s+7],u=new ct(this.values.splice(s+3,5))[h]().toArray();this.values.splice(s+3,0,...u)}s+=t[s+2]+2;continue}if(!e[s+1])return this;const o=new e[s+1]().toArray(),c=t[s+2]+3;t.splice(s,c,e[s],e[s+1],e[s+2],...o),s+=t[s+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const s in e){const i=Fv(e[s]),o=new i(e[s]).toArray();t.push([s,i,o.length,...o])}return t.sort(AA),this.values=t.reduce(((s,i)=>s.concat(i)),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const s=t.shift(),i=t.shift(),o=t.shift(),c=t.splice(0,o);e[s]=new i(c)}return e}}const gg=[ug,zl,vl];class er extends As{constructor(e,t=e){super(ft("path",e),t)}array(){return this._array||(this._array=new Zs(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Zs(e))}size(e,t){const s=dr(this,e,t);return this.attr("d",this.array().size(s.width,s.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}er.prototype.MorphArray=Zs,Xe({Container:{path:gt((function(r){return this.put(new er).plot(r||new Zs)}))}}),Ze(er,"Path");var Iv=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new yi(this.attr("points")))},clear:function(){return delete this._array,this},move:function(r,e){return this.attr("points",this.array().move(r,e))},plot:function(r){return r==null?this.array():this.clear().attr("points",typeof r=="string"?r:this._array=new yi(r))},size:function(r,e){const t=dr(this,r,e);return this.attr("points",this.array().size(t.width,t.height))}});class qi extends As{constructor(e,t=e){super(ft("polygon",e),t)}}Xe({Container:{polygon:gt((function(r){return this.put(new qi).plot(r||new yi)}))}}),Ee(qi,Qg),Ee(qi,Iv),Ze(qi,"Polygon");class Gi extends As{constructor(e,t=e){super(ft("polyline",e),t)}}Xe({Container:{polyline:gt((function(r){return this.put(new Gi).plot(r||new yi)}))}}),Ee(Gi,Qg),Ee(Gi,Iv),Ze(Gi,"Polyline");class gc extends As{constructor(e,t=e){super(ft("rect",e),t)}}Ee(gc,{rx:Kg,ry:Zg}),Xe({Container:{rect:gt((function(r,e){return this.put(new gc).size(r,e)}))}}),Ze(gc,"Rect");class Au{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const nt={nextDraw:null,frames:new Au,timeouts:new Au,immediates:new Au,timer:()=>Ke.window.performance||Ke.window.Date,transforms:[],frame(r){const e=nt.frames.push({run:r});return nt.nextDraw===null&&(nt.nextDraw=Ke.window.requestAnimationFrame(nt._draw)),e},timeout(r,e){e=e||0;const t=nt.timer().now()+e,s=nt.timeouts.push({run:r,time:t});return nt.nextDraw===null&&(nt.nextDraw=Ke.window.requestAnimationFrame(nt._draw)),s},immediate(r){const e=nt.immediates.push(r);return nt.nextDraw===null&&(nt.nextDraw=Ke.window.requestAnimationFrame(nt._draw)),e},cancelFrame(r){r!=null&&nt.frames.remove(r)},clearTimeout(r){r!=null&&nt.timeouts.remove(r)},cancelImmediate(r){r!=null&&nt.immediates.remove(r)},_draw(r){let e=null;const t=nt.timeouts.last();for(;(e=nt.timeouts.shift())&&(r>=e.time?e.run():nt.timeouts.push(e),e!==t););let s=null;const i=nt.frames.last();for(;s!==i&&(s=nt.frames.shift());)s.run(r);let o=null;for(;o=nt.immediates.shift();)o();nt.nextDraw=nt.timeouts.first()||nt.frames.first()?Ke.window.requestAnimationFrame(nt._draw):null}},TA=function(r){const e=r.start,t=r.runner.duration();return{start:e,duration:t,end:e+t,runner:r.runner}},_A=function(){const r=Ke.window;return(r.performance||r.Date).now()};class Uv extends Ll{constructor(e=_A){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map((t=>t.start+t.runner.duration()));return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const s=Math.abs(t);return this.speed(e?-s:s)}schedule(e,t,s){if(e==null)return this._runners.map(TA);let i=0;const o=this.getEndTime();if(t=t||0,s==null||s==="last"||s==="after")i=o;else if(s==="absolute"||s==="start")i=t,t=0;else if(s==="now")i=this._time;else if(s==="relative"){const u=this.getRunnerInfoById(e.id);u&&(i=u.start+t,t=0)}else{if(s!=="with-last")throw new Error('Invalid value for the "when" parameter');{const u=this.getLastRunnerInfo();i=u?u.start:this._time}}e.unschedule(),e.timeline(this);const c=e.persist(),h={persist:c===null?this._persist:c,start:i+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(h),this._runners.sort(((u,g)=>u.start-g.start)),this._runnerIds=this._runners.map((u=>u.runner.id)),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return nt.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=nt.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let s=t-this._lastSourceTime;e&&(s=0);const i=this._speed*s+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let c=this._runners.length;c--;){const h=this._runners[c],u=h.runner;this._time-h.start<=0&&u.reset()}let o=!1;for(let c=0,h=this._runners.length;c<h;c++){const u=this._runners[c],g=u.runner;let x=i;const m=this._time-u.start;if(m<=0){o=!0;continue}m<x&&(x=m),g.active()&&(g.step(x).done?u.persist!==!0&&g.duration()-g.time()+this._time+u.persist<this._time&&(g.unschedule(),--c,--h):o=!0)}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}Xe({Element:{timeline:function(r){return r==null?(this._timeline=this._timeline||new Uv,this._timeline):(this._timeline=r,this)}}});class Cs extends Ll{constructor(e){super(),this.id=Cs.id++,e=typeof(e=e??ku)=="function"?new kc(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof kc,this._stepper=this._isDeclarative?e:new og,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Te,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,s){let i=1,o=!1,c=0;return t=t??xA,s=s||"last",typeof(e=e??ku)!="object"||e instanceof Jg||(t=e.delay??t,s=e.when??s,o=e.swing||o,i=e.times??i,c=e.wait??c,e=e.duration??ku),{duration:e,delay:t,swing:o,times:i,wait:c,when:s}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,s){const i=Cs.sanitise(e,t,s),o=new Cs(i.duration);return this._timeline&&o.timeline(this._timeline),this._element&&o.element(this._element),o.loop(i).schedule(i.delay,i.when)}clearTransform(){return this.transforms=new Te,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter((e=>!e.isTransform)))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new og(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,s){return typeof e=="object"&&(t=e.swing,s=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=s||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const o=Math.floor(this._time/t),c=(this._time-o*t)/this._duration;return Math.min(o+c,this._times)}const s=e%1,i=t*Math.floor(e)+this._duration*s;return this.time(i)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,s=this._duration,i=this._wait,o=this._times,c=this._swing,h=this._reverse;let u;if(e==null){const m=function(b){const w=c*Math.floor(b%(2*(i+s))/(i+s)),y=w&&!h||!w&&h,k=Math.pow(-1,y)*(b%(i+s))/s+y;return Math.max(Math.min(k,1),0)},p=o*(i+s)-i;return u=t<=0?Math.round(m(1e-5)):t<p?m(t):Math.round(m(p-1e-5)),u}const g=Math.floor(this.loops()),x=c&&g%2==0;return u=g+(x&&!h||h&&x?e:1-e),this.loops(u)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,s,i){return this._queue.push({initialiser:e||G0,runner:t||G0,retarget:s,isTransform:i,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,s){if(e instanceof Uv||(s=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,s),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),s=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const i=this.duration(),o=this._lastTime<=0&&this._time>0,c=this._lastTime<i&&this._time>=i;this._lastTime=this._time,o&&this.fire("start",this);const h=this._isDeclarative;this.done=!h&&!c&&this._time>=i,this._reseted=!1;let u=!1;return(s||h)&&(this._initialise(s),this.transforms=new Te,u=this._run(h?e:t),this.fire("step",this)),this.done=this.done||u&&h,c&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,s=this._queue.length;t<s;++t){const i=this._queue[t],o=this._isDeclarative||!i.initialised&&e;e=!i.finished,o&&e&&(i.initialiser.call(this),i.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const s=this.timeline();s&&s.play()}}_run(e){let t=!0;for(let s=0,i=this._queue.length;s<i;++s){const o=this._queue[s],c=o.runner.call(this,e);o.finished=o.finished||c===!0,t=t&&o.finished}return t}_tryRetarget(e,t,s){if(this._history[e]){if(!this._history[e].caller.initialised){const o=this._queue.indexOf(this._history[e].caller);return this._queue.splice(o,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,s):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const i=this.timeline();return i&&i.play(),!0}return!1}}Cs.id=0;class Cc{constructor(e=new Te,t=-1,s=!0){this.transforms=e,this.id=t,this.done=s}clearTransformsFromQueue(){}}Ee([Cs,Cc],{mergeWith(r){return new Cc(r.transforms.lmultiply(this.transforms),r.id)}});const Wv=(r,e)=>r.lmultiplyO(e),Vv=r=>r.transforms;function EA(){const r=this._transformationRunners.runners.map(Vv).reduce(Wv,new Te);this.transform(r),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class MA{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Cc).forEach((s=>s.clearTransformsFromQueue())),this}edit(e,t){const s=this.ids.indexOf(e+1);return this.ids.splice(s,1,e+1),this.runners.splice(s,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const s=this.runners[t];if(e&&s.done&&e.done&&(!s._timeline||!s._timeline._runnerIds.includes(s.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(s.id);const i=s.mergeWith(e);this.edit(e.id,i),e=i,--t}else e=s}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}Xe({Element:{animate(r,e,t){const s=Cs.sanitise(r,e,t),i=this.timeline();return new Cs(s.duration).loop(s).element(this).timeline(i.play()).schedule(s.delay,s.when)},delay(r,e){return this.animate(0,r,e)},_clearTransformRunnersBefore(r){this._transformationRunners.clearBefore(r.id)},_currentTransform(r){return this._transformationRunners.runners.filter((e=>e.id<=r.id)).map(Vv).reduce(Wv,new Te)},_addRunner(r){this._transformationRunners.add(r),nt.cancelImmediate(this._frameId),this._frameId=nt.immediate(EA.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new MA().add(new Cc(new Te(this))))}}});Ee(Cs,{attr(r,e){return this.styleAttr("attr",r,e)},css(r,e){return this.styleAttr("css",r,e)},styleAttr(r,e,t){if(typeof e=="string")return this.styleAttr(r,{[e]:t});let s=e;if(this._tryRetarget(r,s))return this;let i=new Ui(this._stepper).to(s),o=Object.keys(s);return this.queue((function(){i=i.from(this.element()[r](o))}),(function(c){return this.element()[r](i.at(c).valueOf()),i.done()}),(function(c){const h=Object.keys(c),u=(g=o,h.filter((m=>!g.includes(m))));var g;if(u.length){const m=this.element()[r](u),p=new vl(i.from()).valueOf();Object.assign(p,m),i.from(p)}const x=new vl(i.to()).valueOf();Object.assign(x,c),i.to(x),o=h,s=c})),this._rememberMorpher(r,i),this},zoom(r,e){if(this._tryRetarget("zoom",r,e))return this;let t=new Ui(this._stepper).to(new Oe(r));return this.queue((function(){t=t.from(this.element().zoom())}),(function(s){return this.element().zoom(t.at(s),e),t.done()}),(function(s,i){e=i,t.to(s)})),this._rememberMorpher("zoom",t),this},transform(r,e,t){if(e=r.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",r))return this;const s=Te.isMatrixLike(r);t=r.affine!=null?r.affine:t??!s;const i=new Ui(this._stepper).type(t?zl:Te);let o,c,h,u,g;return this.queue((function(){c=c||this.element(),o=o||rg(r,c),g=new Te(e?void 0:c),c._addRunner(this),e||c._clearTransformRunnersBefore(this)}),(function(x){e||this.clearTransform();const{x:m,y:p}=new it(o).transform(c._currentTransform(this));let b=new Te({...r,origin:[m,p]}),w=this._isDeclarative&&h?h:g;if(t){b=b.decompose(m,p),w=w.decompose(m,p);const k=b.rotate,A=w.rotate,S=[k-360,k,k+360],T=S.map((L=>Math.abs(L-A))),C=Math.min(...T),E=T.indexOf(C);b.rotate=S[E]}e&&(s||(b.rotate=r.rotate||0),this._isDeclarative&&u&&(w.rotate=u)),i.from(w),i.to(b);const y=i.at(x);return u=y.rotate,h=new Te(y),this.addTransform(h),c._addRunner(this),i.done()}),(function(x){(x.origin||"center").toString()!==(r.origin||"center").toString()&&(o=rg(x,c)),r={...x,origin:o}}),!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(r){return this._queueNumber("x",r)},y(r){return this._queueNumber("y",r)},ax(r){return this._queueNumber("ax",r)},ay(r){return this._queueNumber("ay",r)},dx(r=0){return this._queueNumberDelta("x",r)},dy(r=0){return this._queueNumberDelta("y",r)},dmove(r,e){return this.dx(r).dy(e)},_queueNumberDelta(r,e){if(e=new Oe(e),this._tryRetarget(r,e))return this;const t=new Ui(this._stepper).to(e);let s=null;return this.queue((function(){s=this.element()[r](),t.from(s),t.to(s+e)}),(function(i){return this.element()[r](t.at(i)),t.done()}),(function(i){t.to(s+new Oe(i))})),this._rememberMorpher(r,t),this},_queueObject(r,e){if(this._tryRetarget(r,e))return this;const t=new Ui(this._stepper).to(e);return this.queue((function(){t.from(this.element()[r]())}),(function(s){return this.element()[r](t.at(s)),t.done()})),this._rememberMorpher(r,t),this},_queueNumber(r,e){return this._queueObject(r,new Oe(e))},cx(r){return this._queueNumber("cx",r)},cy(r){return this._queueNumber("cy",r)},move(r,e){return this.x(r).y(e)},amove(r,e){return this.ax(r).ay(e)},center(r,e){return this.cx(r).cy(e)},size(r,e){let t;return r&&e||(t=this._element.bbox()),r||(r=t.width/t.height*e),e||(e=t.height/t.width*r),this.width(r).height(e)},width(r){return this._queueNumber("width",r)},height(r){return this._queueNumber("height",r)},plot(r,e,t,s){if(arguments.length===4)return this.plot([r,e,t,s]);if(this._tryRetarget("plot",r))return this;const i=new Ui(this._stepper).type(this._element.MorphArray).to(r);return this.queue((function(){i.from(this._element.array())}),(function(o){return this._element.plot(i.at(o)),i.done()})),this._rememberMorpher("plot",i),this},leading(r){return this._queueNumber("leading",r)},viewbox(r,e,t,s){return this._queueObject("viewbox",new At(r,e,t,s))},update(r){return typeof r!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(r.opacity!=null&&this.attr("stop-opacity",r.opacity),r.color!=null&&this.attr("stop-color",r.color),r.offset!=null&&this.attr("offset",r.offset),this)}}),Ee(Cs,{rx:Kg,ry:Zg,from:Xv,to:Yv}),Ze(Cs,"Runner");class fg extends ls{constructor(e,t=e){super(ft("svg",e),t),this.namespace()}defs(){return this.isRoot()?Ys(this.node.querySelector("defs"))||this.put(new Yc):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Ke.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Wg,version:"1.1"}).attr("xmlns:xlink",hr,ju):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,ju).attr("xmlns:svgjs",null,ju)}root(){return this.isRoot()?this:super.root()}}Xe({Container:{nested:gt((function(){return this.put(new fg)}))}}),Ze(fg,"Svg",!0);let xg=class extends ls{constructor(r,e=r){super(ft("symbol",r),e)}};Xe({Container:{symbol:gt((function(){return this.put(new xg)}))}}),Ze(xg,"Symbol");var qv=Object.freeze({__proto__:null,amove:function(r,e){return this.ax(r).ay(e)},ax:function(r){return this.attr("x",r)},ay:function(r){return this.attr("y",r)},build:function(r){return this._build=!!r,this},center:function(r,e,t=this.bbox()){return this.cx(r,t).cy(e,t)},cx:function(r,e=this.bbox()){return r==null?e.cx:this.attr("x",this.attr("x")+r-e.cx)},cy:function(r,e=this.bbox()){return r==null?e.cy:this.attr("y",this.attr("y")+r-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(r,e,t=this.bbox()){return this.x(r,t).y(e,t)},plain:function(r){return this._build===!1&&this.clear(),this.node.appendChild(Ke.document.createTextNode(r)),this},x:function(r,e=this.bbox()){return r==null?e.x:this.attr("x",this.attr("x")+r-e.x)},y:function(r,e=this.bbox()){return r==null?e.y:this.attr("y",this.attr("y")+r-e.y)}});class Qs extends As{constructor(e,t=e){super(ft("text",e),t),this.dom.leading=this.dom.leading??new Oe(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Oe(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let s=0;const i=this.dom.leading;this.each((function(o){if(lg(this.node))return;const c=Ke.window.getComputedStyle(this.node).getPropertyValue("font-size"),h=i*new Oe(c);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?s+=h:(this.attr("dy",o?h+s:0),s=0))})),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Oe(e.leading||1.3),this}writeDataToDom(){return kv(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let s=0;e="";for(let i=0,o=t.length;i<o;++i)t[i].nodeName==="textPath"||lg(t[i])?i===0&&(s=i+1):(i!==s&&t[i].nodeType!==3&&Ys(t[i]).dom.newLined===!0&&(e+=`
`),e+=t[i].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,s=(e=(e+"").split(`
`)).length;t<s;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Ee(Qs,qv),Xe({Container:{text:gt((function(r=""){return this.put(new Qs).text(r)})),plain:gt((function(r=""){return this.put(new Qs).plain(r)}))}}),Ze(Qs,"Text");class fc extends As{constructor(e,t=e){super(ft("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Qs))return this;const t=e.index(this),s=Ke.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new Oe(s);return this.dy(t?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Ee(fc,qv),Xe({Tspan:{tspan:gt((function(r=""){const e=new fc;return this._build||this.clear(),this.put(e).text(r)}))},Text:{newLine:function(r=""){return this.tspan(r).newLine()}}}),Ze(fc,"Tspan");class Tu extends As{constructor(e,t=e){super(ft("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Oe(e).divide(2))}}Ee(Tu,{x:zv,y:Dv,cx:Rv,cy:Ov,width:Hv,height:Pv}),Xe({Container:{circle:gt((function(r=0){return this.put(new Tu).size(r).move(0,0)}))}}),Ze(Tu,"Circle");class _u extends ls{constructor(e,t=e){super(ft("clipPath",e),t)}remove(){return this.targets().forEach((function(e){e.unclip()})),super.remove()}targets(){return nn("svg [clip-path*="+this.id()+"]")}}Xe({Container:{clip:gt((function(){return this.defs().put(new _u)}))},Element:{clipper(){return this.reference("clip-path")},clipWith(r){const e=r instanceof _u?r:this.parent().clip().add(r);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Ze(_u,"ClipPath");class Z0 extends Qt{constructor(e,t=e){super(ft("foreignObject",e),t)}}Xe({Container:{foreignObject:gt((function(r,e){return this.put(new Z0).size(r,e)}))}}),Ze(Z0,"ForeignObject");var Gv=Object.freeze({__proto__:null,dmove:function(r,e){return this.children().forEach((t=>{let s;try{s=t.node instanceof Ml().SVGSVGElement?new At(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const i=new Te(t),o=i.translate(r,e).transform(i.inverse()),c=new it(s.x,s.y).transform(o);t.move(c.x,c.y)})),this},dx:function(r){return this.dmove(r,0)},dy:function(r){return this.dmove(0,r)},height:function(r,e=this.bbox()){return r==null?e.height:this.size(e.width,r,e)},move:function(r=0,e=0,t=this.bbox()){const s=r-t.x,i=e-t.y;return this.dmove(s,i)},size:function(r,e,t=this.bbox()){const s=dr(this,r,e,t),i=s.width/t.width,o=s.height/t.height;return this.children().forEach((c=>{const h=new it(t).transform(new Te(c).inverse());c.scale(i,o,h.x,h.y)})),this},width:function(r,e=this.bbox()){return r==null?e.width:this.size(r,e.height,e)},x:function(r,e=this.bbox()){return r==null?e.x:this.move(r,e.y,e)},y:function(r,e=this.bbox()){return r==null?e.y:this.move(e.x,r,e)}});class mi extends ls{constructor(e,t=e){super(ft("g",e),t)}}Ee(mi,Gv),Xe({Container:{group:gt((function(){return this.put(new mi)}))}}),Ze(mi,"G");class ic extends ls{constructor(e,t=e){super(ft("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,hr)}}Ee(ic,Gv),Xe({Container:{link:gt((function(r){return this.put(new ic).to(r)}))},Element:{unlink(){const r=this.linker();if(!r)return this;const e=r.parent();if(!e)return this.remove();const t=e.index(r);return e.add(this,t),r.remove(),this},linkTo(r){let e=this.linker();return e||(e=new ic,this.wrap(e)),typeof r=="function"?r.call(e,e):e.to(r),this},linker(){const r=this.parent();return r&&r.node.nodeName.toLowerCase()==="a"?r:null}}}),Ze(ic,"A");class Eu extends ls{constructor(e,t=e){super(ft("mask",e),t)}remove(){return this.targets().forEach((function(e){e.unmask()})),super.remove()}targets(){return nn("svg [mask*="+this.id()+"]")}}Xe({Container:{mask:gt((function(){return this.defs().put(new Eu)}))},Element:{masker(){return this.reference("mask")},maskWith(r){const e=r instanceof Eu?r:this.parent().mask().add(r);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Ze(Eu,"Mask");class Q0 extends Qt{constructor(e,t=e){super(ft("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Oe)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Oe(e.offset)),this}}Xe({Gradient:{stop:function(r,e,t){return this.put(new Q0).update(r,e,t)}}}),Ze(Q0,"Stop");class Mu extends Qt{constructor(e,t=e){super(ft("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,s={}){return this.rule("@font-face",{fontFamily:e,src:t,...s})}rule(e,t){return this.addText((function(s,i){if(!s)return"";if(!i)return s;let o=s+"{";for(const c in i)o+=c.replace(/([A-Z])/g,(function(h,u){return"-"+u.toLowerCase()}))+":"+i[c]+";";return o+="}",o})(e,t))}}Xe("Dom",{style(r,e){return this.put(new Mu).rule(r,e)},fontface(r,e,t){return this.put(new Mu).font(r,e,t)}}),Ze(Mu,"Style");class Lu extends Qs{constructor(e,t=e){super(ft("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let s=null;return t&&(s=t.plot(e)),e==null?s:this}track(){return this.reference("href")}}Xe({Container:{textPath:gt((function(r,e){return r instanceof Qs||(r=this.text(r)),r.path(e)}))},Text:{path:gt((function(r,e=!0){const t=new Lu;let s;if(r instanceof er||(r=this.defs().path(r)),t.attr("href","#"+r,hr),e)for(;s=this.node.firstChild;)t.node.appendChild(s);return this.put(t)})),textPath(){return this.findOne("textPath")}},Path:{text:gt((function(r){return r instanceof Qs||(r=new Qs().addTo(this.parent()).text(r)),r.path(this)})),targets(){return nn("svg textPath").filter((r=>(r.attr("href")||"").includes(this.id())))}}}),Lu.prototype.MorphArray=Zs,Ze(Lu,"TextPath");class J0 extends As{constructor(e,t=e){super(ft("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,hr)}}Xe({Container:{use:gt((function(r,e){return this.put(new J0).use(r,e)}))}}),Ze(J0,"Use");const LA=ns;Ee([fg,xg,hc,bl,uc],xs("viewbox")),Ee([Vi,Gi,qi,er],xs("marker")),Ee(Qs,xs("Text")),Ee(er,xs("Path")),Ee(Yc,xs("Defs")),Ee([Qs,fc],xs("Tspan")),Ee([gc,dc,hl,Cs],xs("radius")),Ee(Ll,xs("EventTarget")),Ee(vi,xs("Dom")),Ee(Qt,xs("Element")),Ee(As,xs("Shape")),Ee([ls,Bv],xs("Container")),Ee(hl,xs("Gradient")),Ee(Cs,xs("Runner")),tn.extend([...new Set(Nv)]),(function(r=[]){gg.push(...[].concat(r))})([Oe,ct,At,Te,sn,yi,Zs,it]),Ee(gg,{to(r){return new Ui().type(this.constructor).from(this.toArray()).to(r)},fromArray(r){return this.init(r),this},toConsumable(){return this.toArray()},morph(r,e,t,s,i){return this.fromArray(r.map((function(o,c){return s.step(o,e[c],t,i[c],i)})))}});class pt extends Qt{constructor(e){super(ft("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return nn('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class ef extends Qt{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Xs=r=>function(...e){for(let t=r.length;t--;)e[t]!=null&&this.attr(r[t],e[t])},zA={blend:Xs(["in","in2","mode"]),colorMatrix:Xs(["type","values"]),composite:Xs(["in","in2","operator"]),convolveMatrix:function(r){r=new sn(r).toString(),this.attr({order:Math.sqrt(r.split(" ").length),kernelMatrix:r})},diffuseLighting:Xs(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Xs(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Xs(["in","dx","dy","stdDeviation"]),flood:Xs(["flood-color","flood-opacity"]),gaussianBlur:function(r=0,e=r){this.attr("stdDeviation",r+" "+e)},image:function(r){this.attr("href",r,hr)},morphology:Xs(["operator","radius"]),offset:Xs(["dx","dy"]),specularLighting:Xs(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Xs([]),turbulence:Xs(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach((r=>{const e=cr(r),t=zA[r];pt[e+"Effect"]=class extends ef{constructor(s){super(ft("fe"+e,s),s)}update(s){return t.apply(this,s),this}},pt.prototype[r]=gt((function(s,...i){const o=new pt[e+"Effect"];return s==null?this.put(o):(typeof s=="function"?s.call(o,o):i.unshift(s),this.put(o).update(i))}))})),Ee(pt,{merge(r){const e=this.put(new pt.MergeEffect);return typeof r=="function"?(r.call(e,e),e):((r instanceof Array?r:[...arguments]).forEach((t=>{t instanceof pt.MergeNode?e.put(t):e.mergeNode(t)})),e)},componentTransfer(r={}){const e=this.put(new pt.ComponentTransferEffect);if(typeof r=="function")return r.call(e,e),e;r.r||r.g||r.b||r.a||(r={r,g:r,b:r,a:r});for(const t in r)e.add(new pt["Func"+t.toUpperCase()](r[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach((r=>{const e=cr(r);pt[e]=class extends ef{constructor(t){super(ft("fe"+e,t),t)}}}));["funcR","funcG","funcB","funcA"].forEach((function(r){const e=pt[cr(r)],t=gt((function(){return this.put(new e)}));pt.ComponentTransferEffect.prototype[r]=t}));["distantLight","pointLight","spotLight"].forEach((r=>{const e=pt[cr(r)],t=gt((function(){return this.put(new e)}));pt.DiffuseLightingEffect.prototype[r]=t,pt.SpecularLightingEffect.prototype[r]=t})),Ee(pt.MergeEffect,{mergeNode(r){return this.put(new pt.MergeNode).attr("in",r)}}),Ee(Yc,{filter:function(r){const e=this.put(new pt);return typeof r=="function"&&r.call(e,e),e}}),Ee(ls,{filter:function(r){return this.defs().filter(r)}}),Ee(Qt,{filterWith:function(r){const e=r instanceof pt?r:this.defs().filter(r);return this.attr("filter",e)},unfilter:function(r){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const DA={blend:function(r,e){return this.parent()&&this.parent().blend(this,r,e)},colorMatrix:function(r,e){return this.parent()&&this.parent().colorMatrix(r,e).in(this)},componentTransfer:function(r){return this.parent()&&this.parent().componentTransfer(r).in(this)},composite:function(r,e){return this.parent()&&this.parent().composite(this,r,e)},convolveMatrix:function(r){return this.parent()&&this.parent().convolveMatrix(r).in(this)},diffuseLighting:function(r,e,t,s){return this.parent()&&this.parent().diffuseLighting(r,t,s).in(this)},displacementMap:function(r,e,t,s){return this.parent()&&this.parent().displacementMap(this,r,e,t,s)},dropShadow:function(r,e,t){return this.parent()&&this.parent().dropShadow(this,r,e,t).in(this)},flood:function(r,e){return this.parent()&&this.parent().flood(r,e)},gaussianBlur:function(r,e){return this.parent()&&this.parent().gaussianBlur(r,e).in(this)},image:function(r){return this.parent()&&this.parent().image(r)},merge:function(r){return r=r instanceof Array?r:[...r],this.parent()&&this.parent().merge(this,...r)},morphology:function(r,e){return this.parent()&&this.parent().morphology(r,e).in(this)},offset:function(r,e){return this.parent()&&this.parent().offset(r,e).in(this)},specularLighting:function(r,e,t,s,i){return this.parent()&&this.parent().specularLighting(r,t,s,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(r,e,t,s,i){return this.parent()&&this.parent().turbulence(r,e,t,s,i).in(this)}};Ee(ef,DA),Ee(pt.MergeEffect,{in:function(r){return r instanceof pt.MergeNode?this.add(r,0):this.add(new pt.MergeNode().in(r),0),this}}),Ee([pt.CompositeEffect,pt.BlendEffect,pt.DisplacementMapEffect],{in2:function(r){if(r==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",r)}}),pt.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Zt=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"getDefaultFilter",value:function(e,t){var s=this.w;e.unfilter(!0),new pt().size("120%","180%","-5%","-40%"),s.config.chart.dropShadow.enabled&&this.dropShadow(e,s.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,s){var i,o=this,c=this.w;if(e.unfilter(!0),s!=="none"){var h,u,g=c.config.chart.dropShadow,x=s==="lighten"?2:.3;e.filterWith((function(m){m.colorMatrix({type:"matrix",values:`
          `.concat(x,` 0 0 0 0
          0 `).concat(x,` 0 0 0
          0 0 `).concat(x,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),g.enabled&&o.addShadow(m,t,g,"brightness")})),!g.noUserSpaceOnUse&&((h=e.filterer())===null||h===void 0||(u=h.node)===null||u===void 0||u.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,s,i){var o,c=this.w,h=s.blur,u=s.top,g=s.left,x=s.color,m=s.opacity;if(x=Array.isArray(x)?x[t]:x,((o=c.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.length)>0&&c.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:i,dx:g,dy:u,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:h,result:"blur"}),e.flood({"flood-color":x,"flood-opacity":m,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",i])}},{key:"dropShadow",value:function(e,t){var s,i,o,c,h,u=this,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,x=this.w;return e.unfilter(!0),J.isMsEdge()&&x.config.chart.type==="radialBar"||((s=x.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&((o=x.config.chart.dropShadow.enabledOnSeries)===null||o===void 0?void 0:o.indexOf(g))===-1?e:(e.filterWith((function(m){u.addShadow(m,g,t,"SourceGraphic")})),t.noUserSpaceOnUse||(c=e.filterer())===null||c===void 0||(h=c.node)===null||h===void 0||h.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((i=e.filterer())===null||i===void 0?void 0:i.node),e)}},{key:"setSelectionFilter",value:function(e,t,s){var i=this.w;if(i.globals.selectedDataPoints[t]!==void 0&&i.globals.selectedDataPoints[t].indexOf(s)>-1){e.node.setAttribute("selected",!0);var o=i.config.states.active.filter;o!=="none"&&this.applyFilter(e,t,o.type)}}},{key:"_scaleFilterSize",value:function(e){e&&(function(t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),r})(),me=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"roundPathCorners",value:function(e,t){function s(D,H,z){var B=H.x-D.x,P=H.y-D.y,W=Math.sqrt(B*B+P*P);return i(D,H,Math.min(1,z/W))}function i(D,H,z){return{x:D.x+(H.x-D.x)*z,y:D.y+(H.y-D.y)*z}}function o(D,H){D.length>2&&(D[D.length-2]=H.x,D[D.length-1]=H.y)}function c(D){return{x:parseFloat(D[D.length-2]),y:parseFloat(D[D.length-1])}}e.indexOf("NaN")>-1&&(e="");var h=e.split(/[,\s]/).reduce((function(D,H){var z=H.match(/^([a-zA-Z])(.+)/);return z?(D.push(z[1]),D.push(z[2])):D.push(H),D}),[]).reduce((function(D,H){return parseFloat(H)==H&&D.length?D[D.length-1].push(H):D.push([H]),D}),[]),u=[];if(h.length>1){var g=c(h[0]),x=null;h[h.length-1][0]=="Z"&&h[0].length>2&&(x=["L",g.x,g.y],h[h.length-1]=x),u.push(h[0]);for(var m=1;m<h.length;m++){var p=u[u.length-1],b=h[m],w=b==x?h[1]:h[m+1];if(w&&p&&p.length>2&&b[0]=="L"&&w.length>2&&w[0]=="L"){var y,k,A=c(p),S=c(b),T=c(w);y=s(S,A,t),k=s(S,T,t),o(b,y),b.origPoint=S,u.push(b);var C=i(y,S,.5),E=i(S,k,.5),L=["C",C.x,C.y,E.x,E.y,k.x,k.y];L.origPoint=S,u.push(L)}else u.push(b)}if(x){var _=c(u[u.length-1]);u.push(["Z"]),o(u[0],_)}}else u=h;return u.reduce((function(D,H){return D+H.join(" ")+" "}),"")}},{key:"drawLine",value:function(e,t,s,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:s,y2:i,stroke:o,"stroke-dasharray":c,"stroke-width":h,"stroke-linecap":u})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,g=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,x=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,m=this.w.globals.dom.Paper.rect();return m.attr({x:e,y:t,width:s>0?s:0,height:i>0?i:0,rx:o,ry:o,opacity:h,"stroke-width":u!==null?u:0,stroke:g!==null?g:"none","stroke-dasharray":x}),m.node.setAttribute("fill",c),m}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":s})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var s=this.w.globals.dom.Paper.circle(2*e);return t!==null&&s.attr(t),s}},{key:"drawPath",value:function(e){var t=e.d,s=t===void 0?"":t,i=e.stroke,o=i===void 0?"#a8a8a8":i,c=e.strokeWidth,h=c===void 0?1:c,u=e.fill,g=e.fillOpacity,x=g===void 0?1:g,m=e.strokeOpacity,p=m===void 0?1:m,b=e.classes,w=e.strokeLinecap,y=w===void 0?null:w,k=e.strokeDashArray,A=k===void 0?0:k,S=this.w;return y===null&&(y=S.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(S.globals.gridHeight)),S.globals.dom.Paper.path(s).attr({fill:u,"fill-opacity":x,stroke:o,"stroke-opacity":p,"stroke-linecap":y,"stroke-width":h,"stroke-dasharray":A,class:b})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var s=["M",e,t].join(" ");return s}},{key:"line",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=null;return s===null?i=[" L",e,t].join(" "):s==="H"?i=[" H",e].join(" "):s==="V"&&(i=[" V",t].join(" ")),i}},{key:"curve",value:function(e,t,s,i,o,c){var h=["C",e,t,s,i,o,c].join(" ");return h}},{key:"quadraticCurve",value:function(e,t,s,i){return["Q",e,t,s,i].join(" ")}},{key:"arc",value:function(e,t,s,i,o,c,h){var u="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(u="a");var g=[u,e,t,s,i,o,c,h].join(" ");return g}},{key:"renderPaths",value:function(e){var t,s=e.j,i=e.realIndex,o=e.pathFrom,c=e.pathTo,h=e.stroke,u=e.strokeWidth,g=e.strokeLinecap,x=e.fill,m=e.animationDelay,p=e.initialSpeed,b=e.dataChangeSpeed,w=e.className,y=e.chartType,k=e.shouldClipToGrid,A=k===void 0||k,S=e.bindEventsOnPaths,T=S===void 0||S,C=e.drawShadow,E=C===void 0||C,L=this.w,_=new Zt(this.ctx),D=new or(this.ctx),H=this.w.config.chart.animations.enabled,z=H&&this.w.config.chart.animations.dynamicAnimation.enabled;if(o&&o.startsWith("M 0 0")&&c){var B=c.match(/^M\s+[\d.-]+\s+[\d.-]+/);B&&(o=o.replace(/^M\s+0\s+0/,B[0]))}var P=!!(H&&!L.globals.resized||z&&L.globals.dataChanged&&L.globals.shouldAnimate);P?t=o:(t=c,L.globals.animationEnded=!0);var W=L.config.stroke.dashArray,V=0;V=Array.isArray(W)?W[i]:L.config.stroke.dashArray;var Q=this.drawPath({d:t,stroke:h,strokeWidth:u,fill:x,fillOpacity:1,classes:w,strokeLinecap:g,strokeDashArray:V});Q.attr("index",i),A&&(y==="bar"&&!L.globals.isHorizontal||L.globals.comboCharts?Q.attr({"clip-path":"url(#gridRectBarMask".concat(L.globals.cuid,")")}):Q.attr({"clip-path":"url(#gridRectMask".concat(L.globals.cuid,")")})),L.config.chart.dropShadow.enabled&&E&&_.dropShadow(Q,L.config.chart.dropShadow,i),T&&(Q.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Q)),Q.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Q)),Q.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Q))),Q.attr({pathTo:c,pathFrom:o});var Y={el:Q,j:s,realIndex:i,pathFrom:o,pathTo:c,fill:x,strokeWidth:u,delay:m};return!H||L.globals.resized||L.globals.dataChanged?!L.globals.resized&&L.globals.dataChanged||D.showDelayedElements():D.animatePathsGradually(be(be({},Y),{},{speed:p})),L.globals.dataChanged&&z&&P&&D.animatePathsGradually(be(be({},Y),{},{speed:b})),Q}},{key:"drawPattern",value:function(e,t,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,s,(function(c){e==="horizontalLines"?c.line(0,0,s,0).stroke({color:i,width:o+1}):e==="verticalLines"?c.line(0,0,0,t).stroke({color:i,width:o+1}):e==="slantedLines"?c.line(0,0,t,s).stroke({color:i,width:o}):e==="squares"?c.rect(t,s).fill("none").stroke({color:i,width:o}):e==="circles"&&c.circle(t).fill("none").stroke({color:i,width:o})}))}},{key:"drawGradient",value:function(e,t,s,i,o){var c,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],x=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,m=this.w;t.length<9&&t.indexOf("#")===0&&(t=J.hexToRgba(t,i)),s.length<9&&s.indexOf("#")===0&&(s=J.hexToRgba(s,o));var p=0,b=1,w=1,y=null;u!==null&&(p=u[0]!==void 0?u[0]/100:0,b=u[1]!==void 0?u[1]/100:1,w=u[2]!==void 0?u[2]/100:1,y=u[3]!==void 0?u[3]/100:null);var k=!(m.config.chart.type!=="donut"&&m.config.chart.type!=="pie"&&m.config.chart.type!=="polarArea"&&m.config.chart.type!=="bubble");if(c=g&&g.length!==0?m.globals.dom.Paper.gradient(k?"radial":"linear",(function(T){(Array.isArray(g[x])?g[x]:g).forEach((function(C){T.stop(C.offset/100,C.color,C.opacity)}))})):m.globals.dom.Paper.gradient(k?"radial":"linear",(function(T){T.stop(p,t,i),T.stop(b,s,o),T.stop(w,s,o),y!==null&&T.stop(y,t,i)})),k){var A=m.globals.gridWidth/2,S=m.globals.gridHeight/2;m.config.chart.type!=="bubble"?c.attr({gradientUnits:"userSpaceOnUse",cx:A,cy:S,r:h}):c.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?c.from(0,0).to(0,1):e==="diagonal"?c.from(0,0).to(1,1):e==="horizontal"?c.from(0,1).to(1,1):e==="diagonal2"&&c.from(1,0).to(0,1);return c}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,s=e.maxWidth,i=e.fontSize,o=e.fontFamily,c=this.getTextRects(t,i,o),h=c.width/t.length,u=Math.floor(s/h);return s<c.width?t.slice(0,u-3)+"...":t}},{key:"drawText",value:function(e){var t=this,s=e.x,i=e.y,o=e.text,c=e.textAnchor,h=e.fontSize,u=e.fontFamily,g=e.fontWeight,x=e.foreColor,m=e.opacity,p=e.maxWidth,b=e.cssClass,w=b===void 0?"":b,y=e.isPlainText,k=y===void 0||y,A=e.dominantBaseline,S=A===void 0?"auto":A,T=this.w;o===void 0&&(o="");var C=o;c||(c="start"),x&&x.length||(x=T.config.chart.foreColor),u=u||T.config.chart.fontFamily,g=g||"regular";var E,L={maxWidth:p,fontSize:h=h||"11px",fontFamily:u};return Array.isArray(o)?E=T.globals.dom.Paper.text((function(_){for(var D=0;D<o.length;D++)C=o[D],p&&(C=t.getTextBasedOnMaxWidth(be({text:o[D]},L))),D===0?_.tspan(C):_.tspan(C).newLine()})):(p&&(C=this.getTextBasedOnMaxWidth(be({text:o},L))),E=k?T.globals.dom.Paper.plain(o):T.globals.dom.Paper.text((function(_){return _.tspan(C)}))),E.attr({x:s,y:i,"text-anchor":c,"dominant-baseline":S,"font-size":h,"font-family":u,"font-weight":g,fill:x,class:"apexcharts-text "+w}),E.node.style.fontFamily=u,E.node.style.opacity=m,E}},{key:"getMarkerPath",value:function(e,t,s,i){var o="";switch(s){case"cross":o="M ".concat(e-(i/=1.4)," ").concat(t-i," L ").concat(e+i," ").concat(t+i,"  M ").concat(e-i," ").concat(t+i," L ").concat(e+i," ").concat(t-i);break;case"plus":o="M ".concat(e-(i/=1.12)," ").concat(t," L ").concat(e+i," ").concat(t,"  M ").concat(e," ").concat(t-i," L ").concat(e," ").concat(t+i);break;case"star":case"sparkle":var c=5;i*=1.15,s==="sparkle"&&(i/=1.1,c=4);for(var h=Math.PI/c,u=0;u<=2*c;u++){var g=u*h,x=u%2==0?i:i/2;o+=(u===0?"M":"L")+(e+x*Math.sin(g))+","+(t-x*Math.cos(g))}o+="Z";break;case"triangle":o="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t+i,` 
             Z`);break;case"square":case"rect":o="M ".concat(e-(i/=1.125)," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t-i,` 
           L `).concat(e+i," ").concat(t+i,` 
           L `).concat(e-i," ").concat(t+i,` 
           Z`);break;case"diamond":i*=1.05,o="M ".concat(e," ").concat(t-i,` 
             L `).concat(e+i," ").concat(t,` 
             L `).concat(e," ").concat(t+i,` 
             L `).concat(e-i," ").concat(t,` 
            Z`);break;case"line":o="M ".concat(e-(i/=1.1)," ").concat(t,` 
           L `).concat(e+i," ").concat(t);break;default:i*=2,o="M ".concat(e,", ").concat(t,` 
           m -`).concat(i/2,`, 0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 ").concat(i,`,0 
           a `).concat(i/2,",").concat(i/2," 0 1,0 -").concat(i,",0")}return o}},{key:"drawMarkerShape",value:function(e,t,s,i,o){var c=this.drawPath({d:this.getMarkerPath(e,t,s,i,o),stroke:o.pointStrokeColor,strokeDashArray:o.pointStrokeDashArray,strokeWidth:o.pointStrokeWidth,fill:o.pointFillColor,fillOpacity:o.pointFillOpacity,strokeOpacity:o.pointStrokeOpacity});return c.attr({cx:e,cy:t,shape:o.shape,class:o.class?o.class:""}),c}},{key:"drawMarker",value:function(e,t,s){e=e||0;var i=s.pSize||0;return J.isNumber(t)||(i=0,t=0),this.drawMarkerShape(e,t,s?.shape,i,be(be({},s),s.shape==="line"||s.shape==="plus"||s.shape==="cross"?{pointStrokeColor:s.pointFillColor,pointStrokeOpacity:s.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var s=this.w,i=new Zt(this.ctx),o=parseInt(e.node.getAttribute("index"),10),c=parseInt(e.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:s}]),(s.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var h=s.config.states.hover.filter;i.applyFilter(e,o,h.type)}}},{key:"pathMouseLeave",value:function(e,t){var s=this.w,i=new Zt(this.ctx),o=parseInt(e.node.getAttribute("index"),10),c=parseInt(e.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:o,dataPointIndex:c,w:s}]),s.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&i.getDefaultFilter(e,o)}},{key:"pathMouseDown",value:function(e,t){var s=this.w,i=new Zt(this.ctx),o=parseInt(e.node.getAttribute("index"),10),c=parseInt(e.node.getAttribute("j"),10),h="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),s.globals.selectedDataPoints[o].indexOf(c)>-1){var u=s.globals.selectedDataPoints[o].indexOf(c);s.globals.selectedDataPoints[o].splice(u,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var g=s.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),x=s.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),m=function(w){Array.prototype.forEach.call(w,(function(y){y.node.setAttribute("selected","false"),i.getDefaultFilter(y,o)}))};m(g),m(x)}e.node.setAttribute("selected","true"),h="true",s.globals.selectedDataPoints[o]===void 0&&(s.globals.selectedDataPoints[o]=[]),s.globals.selectedDataPoints[o].push(c)}if(h==="true"){var p=s.config.states.active.filter;if(p!=="none")i.applyFilter(e,o,p.type);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var b=s.config.states.hover.filter;i.applyFilter(e,o,b.type)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?i.getDefaultFilter(e,o):(b=s.config.states.hover.filter,i.applyFilter(e,o,b.type)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:c,w:s}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:o,dataPointIndex:c,w:s}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,s,i){var o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],c=this.w,h=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:s,foreColor:"#fff",opacity:0});i&&h.attr("transform",i),c.globals.dom.Paper.add(h);var u=h.bbox();return o||(u=h.node.getBoundingClientRect()),h.remove(),{width:u.width,height:u.height}}},{key:"placeTextWithEllipsis",value:function(e,t,s){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=s/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=s/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var s in t)t.hasOwnProperty(s)&&e.setAttribute(s,t[s])}}]),r})(),Tt=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,s=[];if(t.globals.series.length===0)return s;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var o=0,c=0;c<t.globals.series.length;c++)t.globals.series[c][i]!==void 0&&e.indexOf(c)===-1&&(o+=t.globals.series[c][i]);s.push(o)}return s}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce((function(t,s){return t+s}),0):this.w.globals.series[e].reduce((function(t,s){return t+s}),0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,s=[];return t.globals.seriesGroups.forEach((function(i){var o=[];t.config.series.forEach((function(h,u){i.indexOf(t.globals.seriesNames[u])>-1&&o.push(u)}));var c=t.globals.series.map((function(h,u){return o.indexOf(u)===-1?u:-1})).filter((function(h){return h!==-1}));s.push(e.getStackedSeriesTotals(c))})),s}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,s=[],i=[],o=[],c=e.series.length>t.yaxis.length||t.yaxis.some((function(m){return Array.isArray(m.seriesName)}));t.series.forEach((function(m,p){o.push(p),i.push(null)})),t.yaxis.forEach((function(m,p){s[p]=[]}));var h=[];t.yaxis.forEach((function(m,p){var b=!1;if(m.seriesName){var w=[];Array.isArray(m.seriesName)?w=m.seriesName:w.push(m.seriesName),w.forEach((function(y){t.series.forEach((function(k,A){if(k.name===y){var S=A;p===A||c?!c||o.indexOf(A)>-1?s[p].push([p,A]):console.warn("Series '"+k.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(s[A].push([A,p]),S=p),b=!0,(S=o.indexOf(S))!==-1&&o.splice(S,1)}}))}))}b||h.push(p)})),s=s.map((function(m,p){var b=[];return m.forEach((function(w){i[w[1]]=w[0],b.push(w[1])})),b}));for(var u=t.yaxis.length-1,g=0;g<h.length&&(u=h[g],s[u]=[],o);g++){var x=o[0];o.shift(),s[u].push(x),i[x]=u}o.forEach((function(m){s[u].push(m),i[m]=u})),e.seriesYAxisMap=s.map((function(m){return m})),e.seriesYAxisReverseMap=i.map((function(m){return m})),e.seriesYAxisMap.forEach((function(m,p){m.forEach((function(b){t.series[b]&&t.series[b].group===void 0&&(t.series[b].group="apexcharts-axis-".concat(p.toString()))}))}))}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter((function(t){return t!==null})):this.w.config.series[e].data.filter((function(t){return t!==null}))).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every((function(t,s,i){return t===i[0]}))}},{key:"getCategoryLabels",value:function(e){var t=this.w,s=e.slice();return t.config.xaxis.convertedCatToNumeric&&(s=e.map((function(i,o){return t.config.xaxis.labels.formatter(i-t.globals.minX+1)}))),s}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map((function(t){return t.length})).indexOf(Math.max.apply(Math,e.globals.series.map((function(t){return t.length}))))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach((function(s){t=Math.max(t,s)})),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach((function(s){t=Math.max(t,s.size)})),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map((function(t,s){var i=0;if(Array.isArray(t))for(var o=0;o<t.length;o++)i+=t[o];else i+=t;return i}))}},{key:"getSeriesTotalsXRange",value:function(e,t){var s=this.w;return s.globals.series.map((function(i,o){for(var c=0,h=0;h<i.length;h++)s.globals.seriesX[o][h]>e&&s.globals.seriesX[o][h]<t&&(c+=i[h]);return c}))}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map((function(t,s){var i=[];if(Array.isArray(t))for(var o=0;o<t.length;o++){var c=e.globals.stackedSeriesTotals[o],h=0;c&&(h=100*t[o]/c),i.push(h)}else{var u=100*t/e.globals.seriesTotals.reduce((function(g,x){return g+x}),0);i.push(u)}return i}))}},{key:"getCalculatedRatios",value:function(){var e,t,s,i=this,o=this.w,c=o.globals,h=[],u=0,g=[],x=.1,m=0;if(c.yRange=[],c.isMultipleYAxis)for(var p=0;p<c.minYArr.length;p++)c.yRange.push(Math.abs(c.minYArr[p]-c.maxYArr[p])),g.push(0);else c.yRange.push(Math.abs(c.minY-c.maxY));c.xRange=Math.abs(c.maxX-c.minX),c.zRange=Math.abs(c.maxZ-c.minZ);for(var b=0;b<c.yRange.length;b++)h.push(c.yRange[b]/c.gridHeight);if(t=c.xRange/c.gridWidth,e=c.yRange/c.gridWidth,s=c.xRange/c.gridHeight,(u=c.zRange/c.gridHeight*16)||(u=1),c.minY!==Number.MIN_VALUE&&Math.abs(c.minY)!==0&&(c.hasNegs=!0),o.globals.seriesYAxisReverseMap.length>0){var w=function(k,A){var S=o.config.yaxis[o.globals.seriesYAxisReverseMap[A]],T=k<0?-1:1;return k=Math.abs(k),S.logarithmic&&(k=i.getBaseLog(S.logBase,k)),-T*k/h[A]};if(c.isMultipleYAxis){g=[];for(var y=0;y<h.length;y++)g.push(w(c.minYArr[y],y))}else(g=[]).push(w(c.minY,0)),c.minY!==Number.MIN_VALUE&&Math.abs(c.minY)!==0&&(x=-c.minY/e,m=c.minX/t)}else(g=[]).push(0),x=0,m=0;return{yRatio:h,invertedYRatio:e,zRatio:u,xRatio:t,invertedXRatio:s,baseLineInvertedY:x,baseLineY:g,baseLineX:m}}},{key:"getLogSeries",value:function(e){var t=this,s=this.w;return s.globals.seriesLog=e.map((function(i,o){var c=s.globals.seriesYAxisReverseMap[o];return s.config.yaxis[c]&&s.config.yaxis[c].logarithmic?i.map((function(h){return h===null?null:t.getLogVal(s.config.yaxis[c].logBase,h,o)})):i})),s.globals.invalidLogScale?e:s.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var s=this.w,i=s.globals.seriesYAxisReverseMap[t];return s.config.yaxis[i]&&s.config.yaxis[i].logarithmic?this.getLogVal(s.config.yaxis[i].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,s){if(t<=0)return 0;var i=this.w,o=i.globals.minYArr[s]===0?-1:this.getBaseLog(e,i.globals.minYArr[s]),c=(i.globals.maxYArr[s]===0?0:this.getBaseLog(e,i.globals.maxYArr[s]))-o;return t<1?t/c:(this.getBaseLog(e,t)-o)/c}},{key:"getLogYRatios",value:function(e){var t=this,s=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map((function(o,c){var h=s.globals.seriesYAxisReverseMap[c];if(s.config.yaxis[h]&&t.w.config.yaxis[h].logarithmic){var u,g=-Number.MAX_VALUE,x=Number.MIN_VALUE;return i.seriesLog.forEach((function(m,p){m.forEach((function(b){s.config.yaxis[p]&&s.config.yaxis[p].logarithmic&&(g=Math.max(b,g),x=Math.min(b,x))}))})),u=Math.pow(i.yRange[c],Math.abs(x-g)/i.yRange[c]),i.yLogRatio[c]=u/i.gridHeight,u}})),i.invalidLogScale?e.slice():i.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,s,i){var o=this.w,c=[];return e.series.length>0&&t.forEach((function(h){var u=[],g=[];e.i.forEach((function(x,m){o.config.series[x].group===h&&(u.push(e.series[m]),g.push(x))})),u.length>0&&c.push(i.draw(u,s,g))})),c}}],[{key:"checkComboSeries",value:function(e,t){var s=!1,i=0,o=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach((function(c){c.type!=="bar"&&c.type!=="column"&&c.type!=="candlestick"&&c.type!=="boxPlot"||i++,c.type!==void 0&&c.type!==t&&o++})),o>0&&(s=!0),{comboBarCount:i,comboCharts:s}}},{key:"extendArrayProps",value:function(e,t,s){var i,o,c,h,u,g;return(i=t)!==null&&i!==void 0&&i.yaxis&&(t=e.extendYAxis(t,s)),(o=t)!==null&&o!==void 0&&o.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(c=t)!==null&&c!==void 0&&(h=c.annotations)!==null&&h!==void 0&&h.xaxis&&(t=e.extendXAxisAnnotations(t)),(u=t)!==null&&u!==void 0&&(g=u.annotations)!==null&&g!==void 0&&g.points&&(t=e.extendPointAnnotations(t))),t}}]),r})(),Fc=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e}return we(r,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(e.label.orientation==="vertical"){var i=t!==null?t:0,o=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(o!==null){var c=o.getBoundingClientRect();o.setAttribute("x",parseFloat(o.getAttribute("x"))-c.height+4);var h=e.label.position==="top"?c.width:-c.width;o.setAttribute("y",parseFloat(o.getAttribute("y"))+h);var u=this.annoCtx.graphics.rotateAroundCenter(o),g=u.x,x=u.y;o.setAttribute("transform","rotate(-90 ".concat(g," ").concat(x,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var s=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var i=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),o=e.getBoundingClientRect(),c=t.label.style.padding,h=c.left,u=c.right,g=c.top,x=c.bottom;if(t.label.orientation==="vertical"){var m=[h,u,g,x];g=m[0],x=m[1],h=m[2],u=m[3]}var p=o.left-i.left-h,b=o.top-i.top-g,w=this.annoCtx.graphics.drawRect(p-s.globals.barPadForNumericAxis,b,o.width+h+u,o.height+g+x,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&w.node.classList.add(t.id),w}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,s=function(i,o,c){var h=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(c,"-annotations .apexcharts-").concat(c,"-annotation-label[rel='").concat(o,"']"));if(h){var u=h.parentNode,g=e.addBackgroundToAnno(h,i);g&&(u.insertBefore(g.node,h),i.label.mouseEnter&&g.node.addEventListener("mouseenter",i.label.mouseEnter.bind(e,i)),i.label.mouseLeave&&g.node.addEventListener("mouseleave",i.label.mouseLeave.bind(e,i)),i.label.click&&g.node.addEventListener("click",i.label.click.bind(e,i)))}};t.config.annotations.xaxis.forEach((function(i,o){return s(i,o,"xaxis")})),t.config.annotations.yaxis.forEach((function(i,o){return s(i,o,"yaxis")})),t.config.annotations.points.forEach((function(i,o){return s(i,o,"point")}))}},{key:"getY1Y2",value:function(e,t){var s,i=this.w,o=e==="y1"?t.y:t.y2,c=!1;if(this.annoCtx.invertAxis){var h=i.config.xaxis.convertedCatToNumeric?i.globals.categoryLabels:i.globals.labels,u=h.indexOf(o),g=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(u+1,")"));s=g?parseFloat(g.getAttribute("y")):(i.globals.gridHeight/h.length-1)*(u+1)-i.globals.barHeight,t.seriesIndex!==void 0&&i.globals.barHeight&&(s-=i.globals.barHeight/2*(i.globals.series.length-1)-i.globals.barHeight*t.seriesIndex)}else{var x,m=i.globals.seriesYAxisMap[t.yAxisIndex][0],p=i.config.yaxis[t.yAxisIndex].logarithmic?new Tt(this.annoCtx.ctx).getLogVal(i.config.yaxis[t.yAxisIndex].logBase,o,m)/i.globals.yLogRatio[m]:(o-i.globals.minYArr[m])/(i.globals.yRange[m]/i.globals.gridHeight);s=i.globals.gridHeight-Math.min(Math.max(p,0),i.globals.gridHeight),c=p>i.globals.gridHeight||p<0,!t.marker||t.y!==void 0&&t.y!==null||(s=0),(x=i.config.yaxis[t.yAxisIndex])!==null&&x!==void 0&&x.reversed&&(s=p)}return typeof o=="string"&&o.includes("px")&&(s=parseFloat(o)),{yP:s,clipped:c}}},{key:"getX1X2",value:function(e,t){var s=this.w,i=e==="x1"?t.x:t.x2,o=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,c=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,h=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,u=!1,g=this.annoCtx.inversedReversedAxis?(c-i)/(h/s.globals.gridWidth):(i-o)/(h/s.globals.gridWidth);return s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||s.config.chart.sparkline.enabled||(g=this.getStringX(i)),typeof i=="string"&&i.includes("px")&&(g=parseFloat(i)),i==null&&t.marker&&(g=s.globals.gridWidth),t.seriesIndex!==void 0&&s.globals.barWidth&&!this.annoCtx.invertAxis&&(g-=s.globals.barWidth/2*(s.globals.series.length-1)-s.globals.barWidth*t.seriesIndex),typeof g!="number"&&(g=0,u=!0),parseFloat(g.toFixed(10))>parseFloat(s.globals.gridWidth.toFixed(10))?(g=s.globals.gridWidth,u=!0):g<0&&(g=0,u=!0),{x:g,clipped:u}}},{key:"getStringX",value:function(e){var t=this.w,s=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.map((function(c){return Array.isArray(c)?c.join(" "):c})).indexOf(e),o=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(i+1,")"));return o&&(s=parseFloat(o.getAttribute("x"))),s}}]),r})(),RA=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Fc(this.annoCtx)}return we(r,[{key:"addXaxisAnnotation",value:function(e,t,s){var i,o=this.w,c=this.helpers.getX1X2("x1",e),h=c.x,u=c.clipped,g=!0,x=e.label.text,m=e.strokeDashArray;if(J.isNumber(h)){if(e.x2===null||e.x2===void 0){if(!u){var p=this.annoCtx.graphics.drawLine(h+e.offsetX,0+e.offsetY,h+e.offsetX,o.globals.gridHeight+e.offsetY,e.borderColor,m,e.borderWidth);t.appendChild(p.node),e.id&&p.node.classList.add(e.id)}}else{var b=this.helpers.getX1X2("x2",e);if(i=b.x,g=b.clipped,i<h){var w=h;h=i,i=w}var y=this.annoCtx.graphics.drawRect(h+e.offsetX,0+e.offsetY,i-h,o.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,m);y.node.classList.add("apexcharts-annotation-rect"),y.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),t.appendChild(y.node),e.id&&y.node.classList.add(e.id)}if(!u||!g){var k=this.annoCtx.graphics.getTextRects(x,parseFloat(e.label.style.fontSize)),A=e.label.position==="top"?4:e.label.position==="center"?o.globals.gridHeight/2+(e.label.orientation==="vertical"?k.width/2:0):o.globals.gridHeight,S=this.annoCtx.graphics.drawText({x:h+e.label.offsetX,y:A+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?k.width/2-12:-k.width/2:0),text:x,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});S.attr({rel:s}),t.appendChild(S.node),this.annoCtx.helpers.setOrientations(e,s)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map((function(i,o){e.addXaxisAnnotation(i,s.node,o)})),s}}]),r})(),Kt=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return we(r,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var s=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var s=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,o=["\0"].concat(Xt(s.months)),c=[""].concat(Xt(s.shortMonths)),h=[""].concat(Xt(s.days)),u=[""].concat(Xt(s.shortDays));function g(D,H){var z=D+"";for(H=H||2;z.length<H;)z="0"+z;return z}var x=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+x)).replace(/(^|[^\\])yy/g,"$1"+x.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+x);var m=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+o[0])).replace(/(^|[^\\])MMM/g,"$1"+c[0])).replace(/(^|[^\\])MM/g,"$1"+g(m))).replace(/(^|[^\\])M/g,"$1"+m);var p=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+h[0])).replace(/(^|[^\\])ddd/g,"$1"+u[0])).replace(/(^|[^\\])dd/g,"$1"+g(p))).replace(/(^|[^\\])d/g,"$1"+p);var b=i?e.getUTCHours():e.getHours(),w=b>12?b-12:b===0?12:b;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+g(b))).replace(/(^|[^\\])H/g,"$1"+b)).replace(/(^|[^\\])hh+/g,"$1"+g(w))).replace(/(^|[^\\])h/g,"$1"+w);var y=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+g(y))).replace(/(^|[^\\])m/g,"$1"+y);var k=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+g(k))).replace(/(^|[^\\])s/g,"$1"+k);var A=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+g(A,3)),A=Math.round(A/10),t=t.replace(/(^|[^\\])ff/g,"$1"+g(A)),A=Math.round(A/10);var S=b<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+A)).replace(/(^|[^\\])TT+/g,"$1"+S)).replace(/(^|[^\\])T/g,"$1"+S.charAt(0));var T=S.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+T)).replace(/(^|[^\\])t/g,"$1"+T.charAt(0));var C=-e.getTimezoneOffset(),E=i||!C?"Z":C>0?"+":"-";if(!i){var L=(C=Math.abs(C))%60;E+=g(Math.floor(C/60))+":"+g(L)}t=t.replace(/(^|[^\\])K/g,"$1"+E);var _=(i?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(h[0],"g"),h[_])).replace(new RegExp(u[0],"g"),u[_])).replace(new RegExp(o[0],"g"),o[m])).replace(new RegExp(c[0],"g"),c[m])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,s){var i=this.w;i.config.xaxis.min!==void 0&&(e=i.config.xaxis.min),i.config.xaxis.max!==void 0&&(t=i.config.xaxis.max);var o=this.getDate(e),c=this.getDate(t),h=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" "),u=this.formatDate(c,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(h[6],10),maxMillisecond:parseInt(u[6],10),minSecond:parseInt(h[5],10),maxSecond:parseInt(u[5],10),minMinute:parseInt(h[4],10),maxMinute:parseInt(u[4],10),minHour:parseInt(h[3],10),maxHour:parseInt(u[3],10),minDate:parseInt(h[2],10),maxDate:parseInt(u[2],10),minMonth:parseInt(h[1],10)-1,maxMonth:parseInt(u[1],10)-1,minYear:parseInt(h[0],10),maxYear:parseInt(u[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,s){return this.determineDaysOfMonths(e,t)-s}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,s){var i=this.daysCntOfYear[t]+s;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var s=30;switch(e=J.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(s=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:s=31}return s}}]),r})(),Dl=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return we(r,[{key:"xLabelFormat",value:function(e,t,s,i){var o=this.w;if(o.config.xaxis.type==="datetime"&&o.config.xaxis.labels.formatter===void 0&&o.config.tooltip.x.formatter===void 0){var c=new Kt(this.ctx);return c.formatDate(c.getDate(t),o.config.tooltip.x.format)}return e(t,s,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map((function(t){return t})):e}},{key:"defaultYFormatter",value:function(e,t,s){var i=this.w;if(J.isNumber(e))if(i.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:i.globals.yValueDecimal);else{var o=e.toFixed(0);e=e==o?o:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttKeyFormatter=function(s){return e.defaultGeneralFormatter(s)},t.globals.ttZFormatter=function(s){return s},t.globals.legendFormatter=function(s){return e.defaultGeneralFormatter(s)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(s){if(J.isNumber(s)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(J.isNumber(t.config.xaxis.decimalsInFloat))return s.toFixed(t.config.xaxis.decimalsInFloat);var i=t.globals.maxX-t.globals.minX;return i>0&&i<100?s.toFixed(1):s.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach((function(s,i){s.labels.formatter!==void 0?t.globals.yLabelFormatters[i]=s.labels.formatter:t.globals.yLabelFormatters[i]=function(o){return t.globals.xyCharts?Array.isArray(o)?o.map((function(c){return e.defaultYFormatter(c,s,i)})):e.defaultYFormatter(o,s,i):o}})),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce((function(s,i){return s.length>i.length?s:i}),0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),r})(),wi=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"getLabel",value:function(e,t,s,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",h=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],u=this.w,g=e[i]===void 0?"":e[i],x=g,m=u.globals.xLabelFormatter,p=u.config.xaxis.labels.formatter,b=!1,w=new Dl(this.ctx),y=g;h&&(x=w.xLabelFormat(m,g,y,{i,dateFormatter:new Kt(this.ctx).formatDate,w:u}),p!==void 0&&(x=p(g,e[i],{i,dateFormatter:new Kt(this.ctx).formatDate,w:u})));var k,A;t.length>0?(k=t[i].unit,A=null,t.forEach((function(E){E.unit==="month"?A="year":E.unit==="day"?A="month":E.unit==="hour"?A="day":E.unit==="minute"&&(A="hour")})),b=A===k,s=t[i].position,x=t[i].value):u.config.xaxis.type==="datetime"&&p===void 0&&(x=""),x===void 0&&(x=""),x=Array.isArray(x)?x:x.toString();var S=new me(this.ctx),T={};T=u.globals.rotateXLabels&&h?S.getTextRects(x,parseInt(c,10),null,"rotate(".concat(u.config.xaxis.labels.rotate," 0 0)"),!1):S.getTextRects(x,parseInt(c,10));var C=!u.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(x)&&(String(x)==="NaN"||o.indexOf(x)>=0&&C)&&(x=""),{x:s,text:x,textRect:T,isBold:b}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,s){var i=this.w,o=i.config.xaxis.tickAmount;return o==="dataPoints"&&(o=Math.round(i.globals.gridWidth/120)),o>s||e%Math.round(s/(o+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,s,i,o){var c=this.w;if(e===0&&c.globals.skipFirstTimelinelabel&&(t.text=""),e===s-1&&c.globals.skipLastTimelinelabel&&(t.text=""),c.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var h=o[o.length-1];if(c.config.xaxis.labels.trim&&c.config.xaxis.type!=="datetime")return t;t.x<h.textRect.width/(c.globals.rotateXLabels?Math.abs(c.config.xaxis.labels.rotate)/12:1.01)+h.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var s=this.w;return s.config.yaxis[e]&&s.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some((function(s){return t.collapsedSeriesIndices.indexOf(s)===-1}))}},{key:"translateYAxisIndex",value:function(e){var t=this.w,s=t.globals,i=t.config.yaxis;return s.series.length>i.length||i.some((function(o){return Array.isArray(o.seriesName)}))?e:s.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,s=t.config.yaxis[e];if(!s.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!s.showForNullSeries){var i=t.globals.seriesYAxisMap[e],o=new Tt(this.ctx);return i.every((function(c){return o.isSeriesNull(c)}))}return!1}},{key:"getYAxisForeColor",value:function(e,t){var s=this.w;return Array.isArray(e)&&s.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,s.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,s,i,o,c,h){var u=this.w,g=new me(this.ctx),x=u.globals.translateY+u.config.yaxis[o].labels.offsetY;if(u.globals.isBarHorizontal?x=0:u.config.chart.type==="heatmap"&&(x+=c/2),i.show&&t>0){u.config.yaxis[o].opposite===!0&&(e+=i.width);for(var m=t;m>=0;m--){var p=g.drawLine(e+s.offsetX-i.width+i.offsetX,x+i.offsetY,e+s.offsetX+i.offsetX,x+i.offsetY,i.color);h.add(p),x+=c}}}}]),r})(),OA=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Fc(this.annoCtx),this.axesUtils=new wi(this.annoCtx)}return we(r,[{key:"addYaxisAnnotation",value:function(e,t,s){var i,o=this.w,c=e.strokeDashArray,h=this.helpers.getY1Y2("y1",e),u=h.yP,g=h.clipped,x=!0,m=!1,p=e.label.text;if(e.y2===null||e.y2===void 0){if(!g){m=!0;var b=this.annoCtx.graphics.drawLine(0+e.offsetX,u+e.offsetY,this._getYAxisAnnotationWidth(e),u+e.offsetY,e.borderColor,c,e.borderWidth);t.appendChild(b.node),e.id&&b.node.classList.add(e.id)}}else{if(i=(h=this.helpers.getY1Y2("y2",e)).yP,x=h.clipped,i>u){var w=u;u=i,i=w}if(!g||!x){m=!0;var y=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),u-i,0,e.fillColor,e.opacity,1,e.borderColor,c);y.node.classList.add("apexcharts-annotation-rect"),y.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),t.appendChild(y.node),e.id&&y.node.classList.add(e.id)}}if(m){var k=e.label.position==="right"?o.globals.gridWidth:e.label.position==="center"?o.globals.gridWidth/2:0,A=this.annoCtx.graphics.drawText({x:k+e.label.offsetX,y:(i??u)+e.label.offsetY-3,text:p,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});A.attr({rel:s}),t.appendChild(A.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach((function(i,o){i.yAxisIndex=e.axesUtils.translateYAxisIndex(i.yAxisIndex),e.axesUtils.isYAxisHidden(i.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(i.yAxisIndex)||e.addYaxisAnnotation(i,s.node,o)})),s}}]),r})(),HA=(function(){function r(e){ye(this,r),this.w=e.w,this.annoCtx=e,this.helpers=new Fc(this.annoCtx)}return we(r,[{key:"addPointAnnotation",value:function(e,t,s){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var i=this.helpers.getX1X2("x1",e),o=i.x,c=i.clipped,h=(i=this.helpers.getY1Y2("y1",e)).yP,u=i.clipped;if(J.isNumber(o)&&!u&&!c){var g={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},x=this.annoCtx.graphics.drawMarker(o+e.marker.offsetX,h+e.marker.offsetY,g);t.appendChild(x.node);var m=e.label.text?e.label.text:"",p=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:h+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:m,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(p.attr({rel:s}),t.appendChild(p.node),e.customSVG.SVG){var b=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});b.attr({transform:"translate(".concat(o+e.customSVG.offsetX,", ").concat(h+e.customSVG.offsetY,")")}),b.node.innerHTML=e.customSVG.SVG,t.appendChild(b.node)}if(e.image.path){var w=e.image.width?e.image.width:20,y=e.image.height?e.image.height:20;x=this.annoCtx.addImage({x:o+e.image.offsetX-w/2,y:h+e.image.offsetY-y/2,width:w,height:y,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&x.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&x.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&x.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map((function(i,o){e.addPointAnnotation(i,s.node,o)})),s}}]),r})(),$v={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Wi=(function(){function r(){ye(this,r),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return we(r,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[$v],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,s){return t+s}),0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce((function(t,s){return t+s}),0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),r})(),PA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.graphics=new me(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Fc(this),this.xAxisAnnotations=new RA(this),this.yAxisAnnotations=new OA(this),this.pointsAnnotations=new HA(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return we(r,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),o=e.config.chart.animations.enabled,c=[t,s,i],h=[s.node,t.node,i.node],u=0;u<3;u++)e.globals.dom.elGraphical.add(c[u]),!o||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&h[u].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:h[u],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map((function(t,s){e.addImage(t,s)}))}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map((function(t,s){e.addText(t,s)}))}},{key:"addXaxisAnnotation",value:function(e,t,s){this.xAxisAnnotations.addXaxisAnnotation(e,t,s)}},{key:"addYaxisAnnotation",value:function(e,t,s){this.yAxisAnnotations.addYaxisAnnotation(e,t,s)}},{key:"addPointAnnotation",value:function(e,t,s){this.pointsAnnotations.addPointAnnotation(e,t,s)}},{key:"addText",value:function(e,t){var s=e.x,i=e.y,o=e.text,c=e.textAnchor,h=e.foreColor,u=e.fontSize,g=e.fontFamily,x=e.fontWeight,m=e.cssClass,p=e.backgroundColor,b=e.borderWidth,w=e.strokeDashArray,y=e.borderRadius,k=e.borderColor,A=e.appendTo,S=A===void 0?".apexcharts-svg":A,T=e.paddingLeft,C=T===void 0?4:T,E=e.paddingRight,L=E===void 0?4:E,_=e.paddingBottom,D=_===void 0?2:_,H=e.paddingTop,z=H===void 0?2:H,B=this.w,P=this.graphics.drawText({x:s,y:i,text:o,textAnchor:c||"start",fontSize:u||"12px",fontWeight:x||"regular",fontFamily:g||B.config.chart.fontFamily,foreColor:h||B.config.chart.foreColor,cssClass:m}),W=B.globals.dom.baseEl.querySelector(S);W&&W.appendChild(P.node);var V=P.bbox();if(o){var Q=this.graphics.drawRect(V.x-C,V.y-z,V.width+C+L,V.height+D+z,y,p||"transparent",1,b,k,w);W.insertBefore(Q.node,P.node)}}},{key:"addImage",value:function(e,t){var s=this.w,i=e.path,o=e.x,c=o===void 0?0:o,h=e.y,u=h===void 0?0:h,g=e.width,x=g===void 0?20:g,m=e.height,p=m===void 0?20:m,b=e.appendTo,w=b===void 0?".apexcharts-svg":b,y=s.globals.dom.Paper.image(i);y.size(x,p).move(c,u);var k=s.globals.dom.baseEl.querySelector(w);return k&&k.appendChild(y.node),y}},{key:"addXaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(e,t,s){return this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(e,t,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(e){var t=e.params,s=e.pushToMemory,i=e.context,o=e.type,c=e.contextMethod,h=i,u=h.w,g=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations")),x=g.childNodes.length+1,m=new Wi,p=Object.assign({},o==="xaxis"?m.xAxisAnnotation:o==="yaxis"?m.yAxisAnnotation:m.pointAnnotation),b=J.extend(p,t);switch(o){case"xaxis":this.addXaxisAnnotation(b,g,x);break;case"yaxis":this.addYaxisAnnotation(b,g,x);break;case"point":this.addPointAnnotation(b,g,x)}var w=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(x,"']")),y=this.helpers.addBackgroundToAnno(w,b);return y&&g.insertBefore(y.node,w),s&&u.globals.memory.methodsToExec.push({context:h,id:b.id?b.id:J.randomId(),method:c,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){for(var t=e.w,s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),i=t.globals.memory.methodsToExec.length-1;i>=0;i--)t.globals.memory.methodsToExec[i].label!=="addText"&&t.globals.memory.methodsToExec[i].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(i,1);s=J.listToArray(s),Array.prototype.forEach.call(s,(function(o){for(;o.firstChild;)o.removeChild(o.firstChild)}))}},{key:"removeAnnotation",value:function(e,t){var s=e.w,i=s.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(s.globals.memory.methodsToExec.map((function(o,c){o.id===t&&s.globals.memory.methodsToExec.splice(c,1)})),Object.keys(s.config.annotations).forEach((function(o){var c=s.config.annotations[o];Array.isArray(c)&&(s.config.annotations[o]=c.filter((function(h){return h.id!==t})))})),Array.prototype.forEach.call(i,(function(o){o.parentElement.removeChild(o)})))}}]),r})(),zu=function(r){var e,t=r.isTimeline,s=r.ctx,i=r.seriesIndex,o=r.dataPointIndex,c=r.y1,h=r.y2,u=r.w,g=u.globals.seriesRangeStart[i][o],x=u.globals.seriesRangeEnd[i][o],m=u.globals.labels[o],p=u.config.series[i].name?u.config.series[i].name:"",b=u.globals.ttKeyFormatter,w=u.config.tooltip.y.title.formatter,y={w:u,seriesIndex:i,dataPointIndex:o,start:g,end:x};typeof w=="function"&&(p=w(p,y)),(e=u.config.series[i].data[o])!==null&&e!==void 0&&e.x&&(m=u.config.series[i].data[o].x),t||u.config.xaxis.type==="datetime"&&(m=new Dl(s).xLabelFormat(u.globals.ttKeyFormatter,m,m,{i:void 0,dateFormatter:new Kt(s).formatDate,w:u})),typeof b=="function"&&(m=b(m,y)),Number.isFinite(c)&&Number.isFinite(h)&&(g=c,x=h);var k="",A="",S=u.globals.colors[i];if(u.config.tooltip.x.formatter===void 0)if(u.config.xaxis.type==="datetime"){var T=new Kt(s);k=T.formatDate(T.getDate(g),u.config.tooltip.x.format),A=T.formatDate(T.getDate(x),u.config.tooltip.x.format)}else k=g,A=x;else k=u.config.tooltip.x.formatter(g),A=u.config.tooltip.x.formatter(x);return{start:g,end:x,startVal:k,endVal:A,ylabel:m,color:S,seriesName:p}},Du=function(r){var e=r.color,t=r.seriesName,s=r.ylabel,i=r.start,o=r.end,c=r.seriesIndex,h=r.dataPointIndex,u=r.ctx.tooltip.tooltipLabels.getFormatters(c);i=u.yLbFormatter(i),o=u.yLbFormatter(o);var g=u.yLbFormatter(r.w.globals.series[c][h]),x=`<span class="value start-value">
  `.concat(i,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(o,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+s+": </span> "+(r.w.globals.comboCharts?r.w.config.series[c].type==="rangeArea"||r.w.config.series[c].type==="rangeBar"?x:"<span>".concat(g,"</span>"):x)+" </div></div>"},yl=(function(){function r(e){ye(this,r),this.opts=e}return we(r,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),J.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var s=t.w.config.series[t.seriesIndex].name;return e!==null?s+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),be(be({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,i=t.dataPointIndex,o=t.w;return e._getBoxTooltip(o,s,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var s=t.seriesIndex,i=t.dataPointIndex,o=t.w;return e._getBoxTooltip(o,s,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var s=t.seriesIndex,i=t.dataPointIndex,o=t.w,c=function(){var h=o.globals.seriesRangeStart[s][i];return o.globals.seriesRangeEnd[s][i]-h};return o.globals.comboCharts?o.config.series[s].type==="rangeBar"||o.config.series[s].type==="rangeArea"?c():e:c()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?(function(t){var s=zu(be(be({},t),{},{isTimeline:!0})),i=s.color,o=s.seriesName,c=s.ylabel,h=s.startVal,u=s.endVal;return Du(be(be({},t),{},{color:i,seriesName:o,ylabel:c,start:h,end:u}))})(e):(function(t){var s=zu(t),i=s.color,o=s.seriesName,c=s.ylabel,h=s.start,u=s.end;return Du(be(be({},t),{},{color:i,seriesName:o,ylabel:c,start:h,end:u}))})(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,s;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(s=e.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return(function(t){var s=zu(t),i=s.color,o=s.seriesName,c=s.ylabel,h=s.start,u=s.end;return Du(be(be({},t),{},{color:i,seriesName:o,ylabel:c,start:h,end:u}))})(e)}}}}},{key:"brush",value:function(e){return J.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach((function(s,i){e.yaxis[i].min=0,e.yaxis[i].max=100})),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),e}},{key:"stackedBars",value:function(){var e=this.bar();return be(be({},e),{},{plotOptions:be(be({},e.plotOptions),{},{bar:be(be({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,s){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(c){return J.isNumber(c)?Math.floor(c):c};var i=e.xaxis.labels.formatter,o=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return s&&s.length&&(o=s.map((function(c){return Array.isArray(c)?c:String(c)}))),o&&o.length&&(e.xaxis.labels.formatter=function(c){return J.isNumber(c)?i(o[Math.floor(c)-1]):i(c)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,s,i,o){var c=e.globals.seriesCandleO[t][s],h=e.globals.seriesCandleH[t][s],u=e.globals.seriesCandleM[t][s],g=e.globals.seriesCandleL[t][s],x=e.globals.seriesCandleC[t][s];return e.config.series[t].type&&e.config.series[t].type!==o?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+c+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+h+"</span></div>"+(u?"<div>".concat(i[2],': <span class="value">')+u+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+g+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+x+"</span></div></div>"}}]),r})(),wl=(function(){function r(e){ye(this,r),this.opts=e}return we(r,[{key:"init",value:function(e){var t=e.responsiveOverride,s=this.opts,i=new Wi,o=new yl(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var c=i.init(),h={};if(s&&is(s)==="object"){var u,g,x,m,p,b,w,y,k,A,S={};S=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?o[s.chart.type]():o.line(),(u=s.plotOptions)!==null&&u!==void 0&&(g=u.bar)!==null&&g!==void 0&&g.isFunnel&&(S=o.funnel()),s.chart.stacked&&s.chart.type==="bar"&&(S=o.stackedBars()),(x=s.chart.brush)!==null&&x!==void 0&&x.enabled&&(S=o.brush(S)),(m=s.plotOptions)!==null&&m!==void 0&&(p=m.line)!==null&&p!==void 0&&p.isSlopeChart&&(S=o.slope()),s.chart.stacked&&s.chart.stackType==="100%"&&(s=o.stacked100(s)),(b=s.plotOptions)!==null&&b!==void 0&&(w=b.bar)!==null&&w!==void 0&&w.isDumbbell&&(s=o.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},t||(s.xaxis.convertedCatToNumeric=!1),((y=(s=this.checkForCatToNumericXAxis(this.chartType,S,s)).chart.sparkline)!==null&&y!==void 0&&y.enabled||(k=window.Apex.chart)!==null&&k!==void 0&&(A=k.sparkline)!==null&&A!==void 0&&A.enabled)&&(S=o.sparkline(S)),h=J.extend(c,S)}var T=J.extend(h,window.Apex);return c=J.extend(T,s),c=this.handleUserInputErrors(c)}},{key:"checkForCatToNumericXAxis",value:function(e,t,s){var i,o,c=new yl(s),h=(e==="bar"||e==="boxPlot")&&((i=s.plotOptions)===null||i===void 0||(o=i.bar)===null||o===void 0?void 0:o.horizontal),u=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",g=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",x=s.xaxis.tickPlacement?s.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return h||u||!g||x==="between"||(s=c.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(e,t){var s=new Wi;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=J.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[J.extend(s.yAxis,e.yaxis)]:e.yaxis=J.extendArray(e.yaxis,s.yAxis);var i=!1;e.yaxis.forEach((function(c){c.logarithmic&&(i=!0)}));var o=e.series;return t&&!o&&(o=t.config.series),i&&o.length!==e.yaxis.length&&o.length&&(e.yaxis=o.map((function(c,h){if(c.name||(o[h].name="series-".concat(h+1)),e.yaxis[h])return e.yaxis[h].seriesName=o[h].name,e.yaxis[h];var u=J.extend(s.yAxis,e.yaxis[0]);return u.show=!1,u}))),i&&o.length>1&&o.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Wi;return e.annotations.yaxis=J.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Wi;return e.annotations.xaxis=J.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Wi;return e.annotations.points=J.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),r})(),Kv=(function(){function r(){ye(this,r)}return we(r,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=J.extend({},e),t.initialSeries=J.clone(e.series),t.lastXAxis=J.clone(t.initialConfig.xaxis),t.lastYAxis=J.clone(t.initialConfig.yaxis),t}}]),r})(),BA=(function(){function r(e){ye(this,r),this.opts=e}return we(r,[{key:"init",value:function(){var e=new wl(this.opts).init({responsiveOverride:!1});return{config:e,globals:new Kv().init(e)}}}]),r})(),Js=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return we(r,[{key:"clippedImgArea",value:function(e){var t=this.w,s=t.config,i=parseInt(t.globals.gridWidth,10),o=parseInt(t.globals.gridHeight,10),c=i>o?i:o,h=e.image,u=0,g=0;e.width===void 0&&e.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(u=s.fill.image.width+1,g=s.fill.image.height):(u=c+1,g=c):(u=e.width,g=e.height);var x=document.createElementNS(t.globals.SVGNS,"pattern");me.setAttrs(x,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:u+"px",height:g+"px"});var m=document.createElementNS(t.globals.SVGNS,"image");x.appendChild(m),m.setAttributeNS(window.SVG.xlink,"href",h),me.setAttrs(m,{x:0,y:0,preserveAspectRatio:"none",width:u+"px",height:g+"px"}),m.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(x)}},{key:"getSeriesIndex",value:function(e){var t=this.w,s=t.config.chart.type;return(s==="bar"||s==="rangeBar")&&t.config.plotOptions.bar.distributed||s==="heatmap"||s==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var s,i=this.w,o=null,c=null,h=ll(e);try{for(h.s();!(s=h.n()).done;){var u=s.value;u>=t.threshold?(o===null||u>o)&&(o=u):(c===null||u<c)&&(c=u)}}catch(m){h.e(m)}finally{h.f()}o===null&&(o=t.threshold),c===null&&(c=t.threshold);var g=o-t.threshold+(t.threshold-c);g===0&&(g=1);var x=100-(t.threshold-c)/g*100;return[{offset:x=Math.max(0,Math.min(x,100)),color:t.colorAboveThreshold,opacity:i.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:i.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,s,i,o=this.w;this.opts=e;var c,h,u,g=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var x=g.plotOptions.line.colors.colorAboveThreshold&&g.plotOptions.line.colors.colorBelowThreshold,m=this.getFillColors()[this.seriesIndex];o.globals.seriesColors[this.seriesIndex]!==void 0&&(m=o.globals.seriesColors[this.seriesIndex]),typeof m=="function"&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:o}));var p,b,w,y=e.fillType?e.fillType:this.getFillType(this.seriesIndex),k=Array.isArray(g.fill.opacity)?g.fill.opacity[this.seriesIndex]:g.fill.opacity,A=y==="gradient"||x;e.color&&(m=e.color),(t=o.config.series[this.seriesIndex])!==null&&t!==void 0&&(s=t.data)!==null&&s!==void 0&&(i=s[e.dataPointIndex])!==null&&i!==void 0&&i.fillColor&&(m=(p=o.config.series[this.seriesIndex])===null||p===void 0||(b=p.data)===null||b===void 0||(w=b[e.dataPointIndex])===null||w===void 0?void 0:w.fillColor),m||(m="#fff",console.warn("undefined color - ApexCharts"));var S=m;if(m.indexOf("rgb")===-1?m.indexOf("#")===-1?S=m:m.length<9&&(S=J.hexToRgba(m,k)):m.indexOf("rgba")>-1?k=J.getOpacityFromRGBA(m):S=J.hexToRgba(J.rgb2hex(m),k),e.opacity&&(k=e.opacity),y==="pattern"&&(h=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:h,fillColor:m,fillOpacity:k,defaultColor:S})),A){var T=Xt(g.fill.gradient.colorStops)||[],C=g.fill.gradient.type;x&&(T[this.seriesIndex]=this.computeColorStops(o.globals.series[this.seriesIndex],g.plotOptions.line.colors),C="vertical"),u=this.handleGradientFill({type:C,fillConfig:e.fillConfig,fillColor:m,fillOpacity:k,colorStops:T,i:this.seriesIndex})}if(y==="image"){var E=g.fill.image.src,L=e.patternID?e.patternID:"",_="pattern".concat(o.globals.cuid).concat(e.seriesNumber+1).concat(L);this.patternIDs.indexOf(_)===-1&&(this.clippedImgArea({opacity:k,image:Array.isArray(E)?e.seriesNumber<E.length?E[e.seriesNumber]:E[0]:E,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:_}),this.patternIDs.push(_)),c="url(#".concat(_,")")}else c=A?u:y==="pattern"?h:S;return e.solid&&(c=S),c}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,s=this.opts,i=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),s.fillColors!==void 0&&(i=[],Array.isArray(s.fillColors)?i=s.fillColors.slice():i.push(s.fillColors)),i}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,s=e.patternFill,i=e.fillColor,o=e.fillOpacity,c=e.defaultColor,h=this.w.config.fill;t&&(h=t);var u=this.opts,g=new me(this.ctx),x=Array.isArray(h.pattern.strokeWidth)?h.pattern.strokeWidth[this.seriesIndex]:h.pattern.strokeWidth,m=i;return Array.isArray(h.pattern.style)?s=h.pattern.style[u.seriesNumber]!==void 0?g.drawPattern(h.pattern.style[u.seriesNumber],h.pattern.width,h.pattern.height,m,x,o):c:s=g.drawPattern(h.pattern.style,h.pattern.width,h.pattern.height,m,x,o),s}},{key:"handleGradientFill",value:function(e){var t=e.type,s=e.fillColor,i=e.fillOpacity,o=e.fillConfig,c=e.colorStops,h=e.i,u=this.w.config.fill;o&&(u=be(be({},u),o));var g=this.opts,x=new me(this.ctx),m=new J;t=t||u.gradient.type;var p,b=s,w=u.gradient.opacityFrom===void 0?i:Array.isArray(u.gradient.opacityFrom)?u.gradient.opacityFrom[h]:u.gradient.opacityFrom;b.indexOf("rgba")>-1&&(w=J.getOpacityFromRGBA(b));var y=u.gradient.opacityTo===void 0?i:Array.isArray(u.gradient.opacityTo)?u.gradient.opacityTo[h]:u.gradient.opacityTo;if(u.gradient.gradientToColors===void 0||u.gradient.gradientToColors.length===0)p=u.gradient.shade==="dark"?m.shadeColor(-1*parseFloat(u.gradient.shadeIntensity),s.indexOf("rgb")>-1?J.rgb2hex(s):s):m.shadeColor(parseFloat(u.gradient.shadeIntensity),s.indexOf("rgb")>-1?J.rgb2hex(s):s);else if(u.gradient.gradientToColors[g.seriesNumber]){var k=u.gradient.gradientToColors[g.seriesNumber];p=k,k.indexOf("rgba")>-1&&(y=J.getOpacityFromRGBA(k))}else p=s;if(u.gradient.gradientFrom&&(b=u.gradient.gradientFrom),u.gradient.gradientTo&&(p=u.gradient.gradientTo),u.gradient.inverseColors){var A=b;b=p,p=A}return b.indexOf("rgb")>-1&&(b=J.rgb2hex(b)),p.indexOf("rgb")>-1&&(p=J.rgb2hex(p)),x.drawGradient(t,b,p,w,y,g.size,u.gradient.stops,c,h)}}]),r})(),ur=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map((function(s){return e.config.markers.size}))}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,s=e.seriesIndex,i=e.j,o=e.pSize,c=e.alwaysDrawMarker,h=c!==void 0&&c,u=e.isVirtualPoint,g=u!==void 0&&u,x=this.w,m=s,p=t,b=null,w=new me(this.ctx),y=x.config.markers.discrete&&x.config.markers.discrete.length;if(Array.isArray(p.x))for(var k=0;k<p.x.length;k++){var A=void 0,S=i,T=!J.isNumber(p.y[k]);x.globals.markers.largestSize===0&&x.globals.hasNullValues&&x.globals.series[m][i+1]!==null&&!g&&(T=!0),i===1&&k===0&&(S=0),i===1&&k===1&&(S=1);var C="apexcharts-marker";if(x.config.chart.type!=="line"&&x.config.chart.type!=="area"||x.globals.comboCharts||x.config.tooltip.intersect||(C+=" no-pointer-events"),(Array.isArray(x.config.markers.size)?x.globals.markers.size[s]>0:x.config.markers.size>0)||h||y){T||(C+=" w".concat(J.randomId()));var E=this.getMarkerConfig({cssClass:C,seriesIndex:s,dataPointIndex:S});x.config.series[m].data[S]&&(x.config.series[m].data[S].fillColor&&(E.pointFillColor=x.config.series[m].data[S].fillColor),x.config.series[m].data[S].strokeColor&&(E.pointStrokeColor=x.config.series[m].data[S].strokeColor)),o!==void 0&&(E.pSize=o),(p.x[k]<-x.globals.markers.largestSize||p.x[k]>x.globals.gridWidth+x.globals.markers.largestSize||p.y[k]<-x.globals.markers.largestSize||p.y[k]>x.globals.gridHeight+x.globals.markers.largestSize)&&(E.pSize=0),!T&&((x.globals.markers.size[s]>0||h||y)&&!b&&(b=w.group({class:h||y?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(x.globals.cuid,")")),(A=w.drawMarker(p.x[k],p.y[k],E)).attr("rel",S),A.attr("j",S),A.attr("index",s),A.node.setAttribute("default-marker-size",E.pSize),new Zt(this.ctx).setSelectionFilter(A,s,S),this.addEvents(A),b&&b.add(A))}else x.globals.pointsArray[s]===void 0&&(x.globals.pointsArray[s]=[]),x.globals.pointsArray[s].push([p.x[k],p.y[k]])}return b}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,s=e.seriesIndex,i=e.dataPointIndex,o=i===void 0?null:i,c=e.radius,h=c===void 0?null:c,u=e.size,g=u===void 0?null:u,x=e.strokeWidth,m=x===void 0?null:x,p=this.w,b=this.getMarkerStyle(s),w=g===null?p.globals.markers.size[s]:g,y=p.config.markers;return o!==null&&y.discrete.length&&y.discrete.map((function(k){k.seriesIndex===s&&k.dataPointIndex===o&&(b.pointStrokeColor=k.strokeColor,b.pointFillColor=k.fillColor,w=k.size,b.pointShape=k.shape)})),{pSize:h===null?w:h,pRadius:h!==null?h:y.radius,pointStrokeWidth:m!==null?m:Array.isArray(y.strokeWidth)?y.strokeWidth[s]:y.strokeWidth,pointStrokeColor:b.pointStrokeColor,pointFillColor:b.pointFillColor,shape:b.pointShape||(Array.isArray(y.shape)?y.shape[s]:y.shape),class:t,pointStrokeOpacity:Array.isArray(y.strokeOpacity)?y.strokeOpacity[s]:y.strokeOpacity,pointStrokeDashArray:Array.isArray(y.strokeDashArray)?y.strokeDashArray[s]:y.strokeDashArray,pointFillOpacity:Array.isArray(y.fillOpacity)?y.fillOpacity[s]:y.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(e){var t=this.w,s=new me(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,s=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(s)?s[e]:s}}}]),r})(),Zv=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return we(r,[{key:"draw",value:function(e,t,s){var i=this.w,o=new me(this.ctx),c=s.realIndex,h=s.pointsPos,u=s.zRatio,g=s.elParent,x=o.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(x.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(h.x))for(var m=0;m<h.x.length;m++){var p=t+1,b=!0;t===0&&m===0&&(p=0),t===0&&m===1&&(p=1);var w=i.globals.markers.size[c];if(u!==1/0){var y=i.config.plotOptions.bubble;w=i.globals.seriesZ[c][p],y.zScaling&&(w/=u),y.minBubbleRadius&&w<y.minBubbleRadius&&(w=y.minBubbleRadius),y.maxBubbleRadius&&w>y.maxBubbleRadius&&(w=y.maxBubbleRadius)}var k=h.x[m],A=h.y[m];if(w=w||0,A!==null&&i.globals.series[c][p]!==void 0||(b=!1),b){var S=this.drawPoint(k,A,w,c,p,t);x.add(S)}g.add(x)}}},{key:"drawPoint",value:function(e,t,s,i,o,c){var h=this.w,u=i,g=new or(this.ctx),x=new Zt(this.ctx),m=new Js(this.ctx),p=new ur(this.ctx),b=new me(this.ctx),w=p.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:u,dataPointIndex:o,radius:h.config.chart.type==="bubble"||h.globals.comboCharts&&h.config.series[i]&&h.config.series[i].type==="bubble"?s:null}),y=m.fillPath({seriesNumber:i,dataPointIndex:o,color:w.pointFillColor,patternUnits:"objectBoundingBox",value:h.globals.series[i][c]}),k=b.drawMarker(e,t,w);if(h.config.series[u].data[o]&&h.config.series[u].data[o].fillColor&&(y=h.config.series[u].data[o].fillColor),k.attr({fill:y}),h.config.chart.dropShadow.enabled){var A=h.config.chart.dropShadow;x.dropShadow(k,A,i)}if(!this.initialAnim||h.globals.dataChanged||h.globals.resized)h.globals.animationEnded=!0;else{var S=h.config.chart.animations.speed;g.animateMarker(k,S,h.globals.easing,(function(){window.setTimeout((function(){g.animationCompleted(k)}),100)}))}return k.attr({rel:o,j:o,index:i,"default-marker-size":w.pSize}),x.setSelectionFilter(k,i,o),p.addEvents(k),k.node.classList.add("apexcharts-marker"),k}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),r})(),ar=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"dataLabelsCorrection",value:function(e,t,s,i,o,c,h){var u=this.w,g=!1,x=new me(this.ctx).getTextRects(s,h),m=x.width,p=x.height;t<0&&(t=0),t>u.globals.gridHeight+p&&(t=u.globals.gridHeight+p/2),u.globals.dataLabelsRects[i]===void 0&&(u.globals.dataLabelsRects[i]=[]),u.globals.dataLabelsRects[i].push({x:e,y:t,width:m,height:p});var b=u.globals.dataLabelsRects[i].length-2,w=u.globals.lastDrawnDataLabelsIndexes[i]!==void 0?u.globals.lastDrawnDataLabelsIndexes[i][u.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(u.globals.dataLabelsRects[i][b]!==void 0){var y=u.globals.dataLabelsRects[i][w];(e>y.x+y.width||t>y.y+y.height||t+p<y.y||e+m<y.x)&&(g=!0)}return(o===0||c)&&(g=!0),{x:e,y:t,textRects:x,drawnextLabel:g}}},{key:"drawDataLabel",value:function(e){var t=this,s=e.type,i=e.pos,o=e.i,c=e.j,h=e.isRangeStart,u=e.strokeWidth,g=u===void 0?2:u,x=this.w,m=new me(this.ctx),p=x.config.dataLabels,b=0,w=0,y=c,k=null;if(x.globals.collapsedSeriesIndices.indexOf(o)!==-1||!p.enabled||!Array.isArray(i.x))return k;k=m.group({class:"apexcharts-data-labels"});for(var A=0;A<i.x.length;A++)if(b=i.x[A]+p.offsetX,w=i.y[A]+p.offsetY+g,!isNaN(b)){c===1&&A===0&&(y=0),c===1&&A===1&&(y=1);var S=x.globals.series[o][y];s==="rangeArea"&&(S=h?x.globals.seriesRangeStart[o][y]:x.globals.seriesRangeEnd[o][y]);var T="",C=function(L){return x.config.dataLabels.formatter(L,{ctx:t.ctx,seriesIndex:o,dataPointIndex:y,w:x})};x.config.chart.type==="bubble"?(T=C(S=x.globals.seriesZ[o][y]),w=i.y[A],w=new Zv(this.ctx).centerTextInBubble(w,o,y).y):S!==void 0&&(T=C(S));var E=x.config.dataLabels.textAnchor;x.globals.isSlopeChart&&(E=y===0?"end":y===x.config.series[o].data.length-1?"start":"middle"),this.plotDataLabelsText({x:b,y:w,text:T,i:o,j:y,parent:k,offsetCorrection:!0,dataLabelsConfig:x.config.dataLabels,textAnchor:E})}return k}},{key:"plotDataLabelsText",value:function(e){var t=this.w,s=new me(this.ctx),i=e.x,o=e.y,c=e.i,h=e.j,u=e.text,g=e.textAnchor,x=e.fontSize,m=e.parent,p=e.dataLabelsConfig,b=e.color,w=e.alwaysDrawDataLabel,y=e.offsetCorrection,k=e.className,A=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(c)<0)return A;var S={x:i,y:o,drawnextLabel:!0,textRects:null};y&&(S=this.dataLabelsCorrection(i,o,u,c,h,w,parseInt(p.style.fontSize,10))),t.globals.zoomed||(i=S.x,o=S.y),S.textRects&&(i<-20-S.textRects.width||i>t.globals.gridWidth+S.textRects.width+30)&&(u="");var T=t.globals.dataLabels.style.colors[c];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(T=t.globals.dataLabels.style.colors[h]),typeof T=="function"&&(T=T({series:t.globals.series,seriesIndex:c,dataPointIndex:h,w:t})),b&&(T=b);var C=p.offsetX,E=p.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(C=0,E=0),t.globals.isSlopeChart&&(h!==0&&(C=-2*p.offsetX+5),h!==0&&h!==t.config.series[c].data.length-1&&(C=0)),S.drawnextLabel){if(g==="middle"&&i===t.globals.gridWidth&&(g="end"),(A=s.drawText({width:100,height:parseInt(p.style.fontSize,10),x:i+C,y:o+E,foreColor:T,textAnchor:g||p.textAnchor,text:u,fontSize:x||p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight||"normal"})).attr({class:k||"apexcharts-datalabel",cx:i,cy:o}),p.dropShadow.enabled){var L=p.dropShadow;new Zt(this.ctx).dropShadow(A,L)}m.add(A),t.globals.lastDrawnDataLabelsIndexes[c]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[c]=[]),t.globals.lastDrawnDataLabelsIndexes[c].push(h)}return A}},{key:"addBackgroundToDataLabel",value:function(e,t){var s=this.w,i=s.config.dataLabels.background,o=i.padding,c=i.padding/2,h=t.width,u=t.height,g=new me(this.ctx).drawRect(t.x-o,t.y-c/2,h+2*o,u+c,i.borderRadius,s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new Zt(this.ctx).dropShadow(g,i.dropShadow),g}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<t.length;s++){var i=t[s],o=i.getBBox(),c=null;if(o.width&&o.height&&(c=this.addBackgroundToDataLabel(i,o)),c){i.parentNode.insertBefore(c.node,i);var h=e.config.dataLabels.background.backgroundColor||i.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?c.animate().attr({fill:h}):c.attr({fill:h}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)s&&s.insertBefore(t[i],s.nextSibling)}}]),r})(),Qv=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,Ws=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return we(r,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(J.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),s=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(e,t){var s=this.w;function i(o){for(var c=0;c<o.length;c++)o[c].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(s.globals.collapsedSeries),i(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],i=this.w,o=J.clone(i.globals.initialSeries);i.globals.previousPaths=[],s?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):o=this.emptyCollapsedSeries(o),i.config.series=o,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,s=0;s<e.length;s++)t.globals.collapsedSeriesIndices.indexOf(s)>-1&&(e[s].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,s=this.getSeriesByName(e),i=parseInt(s?.getAttribute("data:realIndex"),10),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),c=null,h=null,u=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){c=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),h=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"));var g=t.globals.seriesYAxisReverseMap[i];u=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(g,"']"))}else c=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']"));else c=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var x=0;x<o.length;x++)o[x].classList.add(this.legendInactiveClass);if(c)t.globals.axisCharts||c.parentNode.classList.remove(this.legendInactiveClass),c.classList.remove(this.legendInactiveClass),h!==null&&h.classList.remove(this.legendInactiveClass),u!==null&&u.classList.remove(this.legendInactiveClass);else for(var m=0;m<o.length;m++)o[m].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var s=this.w;t||(t=e.target);var i=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(s.globals.seriesNames[o])}else if(e.type==="mouseout")for(var c=0;c<i.length;c++)i[c].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var s=this,i=this.w,o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),c=function(g){for(var x=0;x<o.length;x++)o[x].classList[g](s.legendInactiveClass)};if(e.type==="mousemove"){var h=parseInt(t.getAttribute("rel"),10)-1;c("add");var u=i.config.plotOptions.heatmap.colorScale.ranges;(function(g,x){for(var m=0;m<o.length;m++){var p=Number(o[m].getAttribute("val"));p>=g.from&&(p<g.to||g.to===x&&p===x)&&o[m].classList.remove(s.legendInactiveClass)}})(u[h],u.reduce((function(g,x){return Math.max(g,x.to)}),0))}else e.type==="mouseout"&&c("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,i=0;if(s.config.series.length>1){for(var o=s.config.series.map((function(h,u){return h.data&&h.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(u)===-1&&(!s.globals.comboCharts||t.length===0||t.length&&t.indexOf(s.config.series[u].type)>-1)?u:-1})),c=e==="asc"?0:o.length-1;e==="asc"?c<o.length:c>=0;e==="asc"?c++:c--)if(o[c]!==-1){i=o[c];break}}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map((function(e,t){return e.type==="bar"||e.type==="column"?t:-1})).filter((function(e){return e!==-1})):this.w.config.series.map((function(e,t){return t}))}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(c,h,u){for(var g=c[h].childNodes,x={type:u,paths:[],realIndex:c[h].getAttribute("data:realIndex")},m=0;m<g.length;m++)if(g[m].hasAttribute("pathTo")){var p=g[m].getAttribute("pathTo");x.paths.push({d:p})}e.globals.previousPaths.push(x)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach((function(c){for(var h,u=(h=c,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(h,"-series .apexcharts-series"))),g=0;g<u.length;g++)t(u,g,c)}));var s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(s.length>0)for(var i=function(c){for(var h=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(c,"'] rect")),u=[],g=function(m){var p=function(w){return h[m].getAttribute(w)},b={x:parseFloat(p("x")),y:parseFloat(p("y")),width:parseFloat(p("width")),height:parseFloat(p("height"))};u.push({rect:b,color:h[m].getAttribute("color")})},x=0;x<h.length;x++)g(x);e.globals.previousPaths.push(u)},o=0;o<s.length;o++)i(o);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,s=new me(this.ctx),i=e.globals.svgWidth/2,o=e.globals.svgHeight/2,c="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(i=10,c="start"):t.align==="right"&&(i=e.globals.svgWidth-10,c="end"),t.verticalAlign==="top"?o=50:t.verticalAlign==="bottom"&&(o=e.globals.svgHeight-50),i+=t.offsetX,o=o+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var h=s.drawText({x:i,y:o,text:t.text,textAnchor:c,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(h)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,s=0;s<e.length;s++)if(e[s].length===0)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[s].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,s=this.filteredSeriesX(),i=0;i<s.length-1;i++)if(s[i][0]!==s[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map((function(t){return t.length>0?t:[]}));return e}}]),r})(),tf=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Tt(this.ctx)}return we(r,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new Ws(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new Ws(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var s=this.w.config,i=this.w.globals,o=s.chart.type==="boxPlot"||s.series[t].type==="boxPlot",c=0;c<e[t].data.length;c++)if(e[t].data[c][1]!==void 0&&(Array.isArray(e[t].data[c][1])&&e[t].data[c][1].length===4&&!o?this.twoDSeries.push(J.parseNumber(e[t].data[c][1][3])):e[t].data[c].length>=5?this.twoDSeries.push(J.parseNumber(e[t].data[c][4])):this.twoDSeries.push(J.parseNumber(e[t].data[c][1])),i.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var h=new Date(e[t].data[c][0]);h=new Date(h).getTime(),this.twoDSeriesX.push(h)}else this.twoDSeriesX.push(e[t].data[c][0]);for(var u=0;u<e[t].data.length;u++)e[t].data[u][2]!==void 0&&(this.threeDSeries.push(e[t].data[u][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var s=this.w.config,i=this.w.globals,o=new Kt(this.ctx),c=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(c=this.activeSeriesIndex);for(var h=0;h<e[t].data.length;h++)e[t].data[h].y!==void 0&&(Array.isArray(e[t].data[h].y)?this.twoDSeries.push(J.parseNumber(e[t].data[h].y[e[t].data[h].y.length-1])):this.twoDSeries.push(J.parseNumber(e[t].data[h].y))),e[t].data[h].goals!==void 0&&Array.isArray(e[t].data[h].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[h].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var u=0;u<e[c].data.length;u++){var g=typeof e[c].data[u].x=="string",x=Array.isArray(e[c].data[u].x),m=!x&&!!o.isValidDate(e[c].data[u].x);if(g||m)if(g||s.xaxis.convertedCatToNumeric){var p=i.isBarHorizontal&&i.isRangeData;s.xaxis.type!=="datetime"||p?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[c].data[u].x),isNaN(e[c].data[u].x)||this.w.config.xaxis.type==="category"||typeof e[c].data[u].x=="string"||(i.isXNumeric=!0)):this.twoDSeriesX.push(o.parseDate(e[c].data[u].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(o.parseDate(e[c].data[u].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[c].data[u].x)));else x?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[c].data[u].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[c].data[u].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var b=0;b<e[t].data.length;b++)this.threeDSeries.push(e[t].data[b].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var s=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),s.seriesRangeStart[t]=i.start===void 0?[]:i.start,s.seriesRangeEnd[t]=i.end===void 0?[]:i.end,s.seriesRange[t]=i.rangeUniques,s.seriesRange.forEach((function(o,c){o&&o.forEach((function(h,u){h.y.forEach((function(g,x){for(var m=0;m<h.y.length;m++)if(x!==m){var p=g.y1,b=g.y2,w=h.y[m].y1;p<=h.y[m].y2&&w<=b&&(h.overlaps.indexOf(g.rangeName)<0&&h.overlaps.push(g.rangeName),h.overlaps.indexOf(h.y[m].rangeName)<0&&h.overlaps.push(h.y[m].rangeName))}}))}))})),i}},{key:"handleCandleStickBoxData",value:function(e,t){var s=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),s.seriesCandleO[t]=i.o,s.seriesCandleH[t]=i.h,s.seriesCandleM[t]=i.m,s.seriesCandleL[t]=i.l,s.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,s){var i=[],o=[],c=t[s].data.filter((function(x,m,p){return m===p.findIndex((function(b){return b.x===x.x}))})).map((function(x,m){return{x:x.x,overlaps:[],y:[]}}));if(e==="array")for(var h=0;h<t[s].data.length;h++)Array.isArray(t[s].data[h])?(i.push(t[s].data[h][1][0]),o.push(t[s].data[h][1][1])):(i.push(t[s].data[h]),o.push(t[s].data[h]));else if(e==="xy")for(var u=function(x){var m=Array.isArray(t[s].data[x].y),p=J.randomId(),b=t[s].data[x].x,w={y1:m?t[s].data[x].y[0]:t[s].data[x].y,y2:m?t[s].data[x].y[1]:t[s].data[x].y,rangeName:p};t[s].data[x].rangeName=p;var y=c.findIndex((function(k){return k.x===b}));c[y].y.push(w),i.push(w.y1),o.push(w.y2)},g=0;g<t[s].data.length;g++)u(g);return{start:i,end:o,rangeUniques:c}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,s){var i=this.w,o=i.config.chart.type==="boxPlot"||i.config.series[s].type==="boxPlot",c=[],h=[],u=[],g=[],x=[];if(e==="array")if(o&&t[s].data[0].length===6||!o&&t[s].data[0].length===5)for(var m=0;m<t[s].data.length;m++)c.push(t[s].data[m][1]),h.push(t[s].data[m][2]),o?(u.push(t[s].data[m][3]),g.push(t[s].data[m][4]),x.push(t[s].data[m][5])):(g.push(t[s].data[m][3]),x.push(t[s].data[m][4]));else for(var p=0;p<t[s].data.length;p++)Array.isArray(t[s].data[p][1])&&(c.push(t[s].data[p][1][0]),h.push(t[s].data[p][1][1]),o?(u.push(t[s].data[p][1][2]),g.push(t[s].data[p][1][3]),x.push(t[s].data[p][1][4])):(g.push(t[s].data[p][1][2]),x.push(t[s].data[p][1][3])));else if(e==="xy")for(var b=0;b<t[s].data.length;b++)Array.isArray(t[s].data[b].y)&&(c.push(t[s].data[b].y[0]),h.push(t[s].data[b].y[1]),o?(u.push(t[s].data[b].y[2]),g.push(t[s].data[b].y[3]),x.push(t[s].data[b].y[4])):(g.push(t[s].data[b].y[2]),x.push(t[s].data[b].y[3])));return{o:c,h,m:u,l:g,c:x}}},{key:"parseDataAxisCharts",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,i=this.w.config,o=this.w.globals,c=new Kt(s),h=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();o.isRangeBar=i.chart.type==="rangeBar"&&o.isBarHorizontal,o.hasXaxisGroups=i.xaxis.type==="category"&&i.xaxis.group.groups.length>0,o.hasXaxisGroups&&(o.groups=i.xaxis.group.groups),e.forEach((function(b,w){b.name!==void 0?o.seriesNames.push(b.name):o.seriesNames.push("series-"+parseInt(w+1,10))})),this.coreUtils.setSeriesYAxisMappings();var u=[],g=Xt(new Set(i.series.map((function(b){return b.group}))));i.series.forEach((function(b,w){var y=g.indexOf(b.group);u[y]||(u[y]=[]),u[y].push(o.seriesNames[w])})),o.seriesGroups=u;for(var x=function(){for(var b=0;b<h.length;b++)if(typeof h[b]=="string"){if(!c.isValidDate(h[b]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(c.parseDate(h[b]))}else t.twoDSeriesX.push(h[b])},m=0;m<e.length;m++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[m].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(i.chart.type!=="rangeBar"&&i.chart.type!=="rangeArea"&&e[m].type!=="rangeBar"&&e[m].type!=="rangeArea"||(o.isRangeData=!0,this.handleRangeData(e,m)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,m):this.isFormatXY()&&this.handleFormatXY(e,m),i.chart.type!=="candlestick"&&e[m].type!=="candlestick"&&i.chart.type!=="boxPlot"&&e[m].type!=="boxPlot"||this.handleCandleStickBoxData(e,m),o.series.push(this.twoDSeries),o.labels.push(this.twoDSeriesX),o.seriesX.push(this.twoDSeriesX),o.seriesGoals=this.seriesGoals,m!==this.activeSeriesIndex||this.fallbackToCategory||(o.isXNumeric=!0);else{i.xaxis.type==="datetime"?(o.isXNumeric=!0,x(),o.seriesX.push(this.twoDSeriesX)):i.xaxis.type==="numeric"&&(o.isXNumeric=!0,h.length>0&&(this.twoDSeriesX=h,o.seriesX.push(this.twoDSeriesX))),o.labels.push(this.twoDSeriesX);var p=e[m].data.map((function(b){return J.parseNumber(b)}));o.series.push(p)}o.seriesZ.push(this.threeDSeries),e[m].color!==void 0?o.seriesColors.push(e[m].color):o.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,s=this.w.config,i=Array.isArray(e)&&e.every((function(x){return typeof x=="number"}))&&s.labels.length>0,o=Array.isArray(e)&&e.some((function(x){return x&&is(x)==="object"&&x.data||x&&is(x)==="object"&&x.parsing}));if(i&&o&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),i){t.series=e.slice(),t.seriesNames=s.labels.slice();for(var c=0;c<t.series.length;c++)t.seriesNames[c]===void 0&&t.seriesNames.push("series-"+(c+1));return this.w}if(Array.isArray(e)&&e.every((function(x){return typeof x=="number"}))){t.series=e.slice(),t.seriesNames=[];for(var h=0;h<t.series.length;h++)t.seriesNames.push(s.labels[h]||"series-".concat(h+1));return this.w}var u=this.extractPieDataFromSeries(e);t.series=u.values,t.seriesNames=u.labels,s.chart.type==="radialBar"&&(t.series=t.series.map((function(x){var m=J.parseNumber(x);return m>100&&console.warn("ApexCharts: RadialBar value ".concat(m," > 100, consider using percentage values (0-100)")),m})));for(var g=0;g<t.series.length;g++)t.seriesNames[g]===void 0&&t.seriesNames.push("series-"+(g+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach((function(t){t.__apexParsed&&delete t.__apexParsed}))}},{key:"extractPieDataFromSeries",value:function(e){var t=[],s=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var i=e[0];return is(i)==="object"&&i!==null&&i.data?(this.extractPieDataFromSeriesObjects(e,t,s),{values:t,labels:s}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,s){e.forEach((function(i,o){i.data&&Array.isArray(i.data)?i.data.forEach((function(c){is(c)==="object"&&c!==null?c.x!==void 0&&c.y!==void 0?(s.push(String(c.x)),t.push(J.parseNumber(c.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",c):console.warn("ApexCharts: Expected object data point, got:",is(c))})):console.warn("ApexCharts: Series ".concat(o," has no valid data array"))}))}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,s=this.w.globals;t.xaxis.categories.length>0?s.labels=t.xaxis.categories:t.labels.length>0?s.labels=t.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map((function(i){i.forEach((function(o){s.labels.indexOf(o.x)<0&&o.x&&s.labels.push(o.x)}))})),s.labels=Array.from(new Set(s.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new yl(t).convertCatToNumericXaxis(t,this.ctx,s.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,s=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var o=s.series.map((function(m,p){return m.data.filter((function(b,w,y){return y.findIndex((function(k){return k.x===b.x}))===w}))})),c=o.reduce((function(m,p,b,w){return w[m].length>p.length?m:b}),0),h=0;h<o[c].length;h++)i.push(h+1);else for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++)i.push(u+1);t.seriesX=[];for(var g=0;g<e.length;g++)t.seriesX.push(i);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(i.length===0){i=t.axisCharts?[]:t.series.map((function(m,p){return p+1}));for(var x=0;x<e.length;x++)t.seriesX.push(i)}t.labels=i,s.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map((function(m){return s.xaxis.labels.formatter(m)}))),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,s=this.w.config,i=this.w.globals,o=s.parsing;if(i.dataWasParsed||!o&&!e.some((function(h){return h.parsing})))return e;var c=e.map((function(h,u){var g,x,m;if(!h.data||!Array.isArray(h.data)||h.data.length===0)return h;var p={x:((g=h.parsing)===null||g===void 0?void 0:g.x)||o?.x,y:((x=h.parsing)===null||x===void 0?void 0:x.y)||o?.y,z:((m=h.parsing)===null||m===void 0?void 0:m.z)||o?.z};if(!p.x&&!p.y)return h;var b=h.data[0];if(is(b)==="object"&&b!==null&&(b.hasOwnProperty("x")||b.hasOwnProperty("y"))||Array.isArray(b))return h;if(!p.x||!p.y||Array.isArray(p.y)&&p.y.length===0)return console.warn("ApexCharts: Series ".concat(u," has parsing config but missing x or y field specification")),h;var w=h.data.map((function(y,k){if(is(y)!=="object"||y===null)return console.warn("ApexCharts: Series ".concat(u,", data point ").concat(k," is not an object, skipping parsing")),y;var A,S=t.getNestedValue(y,p.x),T=void 0;if(Array.isArray(p.y)){var C=p.y.map((function(_){return t.getNestedValue(y,_)}));A=t.w.config.chart.type==="bubble"&&C.length===2?C[0]:C}else A=t.getNestedValue(y,p.y);p.z&&(T=t.getNestedValue(y,p.z)),S===void 0&&console.warn("ApexCharts: Series ".concat(u,", data point ").concat(k," missing field '").concat(p.x,"'")),A===void 0&&console.warn("ApexCharts: Series ".concat(u,", data point ").concat(k," missing field '").concat(p.y,"'"));var E={x:S,y:A};if(t.w.config.chart.type==="bubble"&&Array.isArray(p.y)&&p.y.length===2){var L=t.getNestedValue(y,p.y[1]);L!==void 0&&(E.z=L)}return T!==void 0&&(E.z=T),E}));return be(be({},h),{},{data:w,__apexParsed:!0})}));return i.dataWasParsed=!0,i.originalSeries||(i.originalSeries=J.clone(e)),c}},{key:"getNestedValue",value:function(e,t){if(e&&is(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var s=t.split("."),i=e,o=0;o<s.length;o++){if(i==null||is(i)!=="object")return;i=i[s[o]]}return i}}},{key:"parseData",value:function(e){var t=this.w,s=t.config,i=t.globals;if(e=this.parseRawDataIfNeeded(e),s.series=e,i.initialSeries=J.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),s.chart.stacked){var o=new Ws(this.ctx);i.series=o.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),i.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var c=this.coreUtils.getCategoryLabels(i.labels),h=0;h<c.length;h++)if(Array.isArray(c[h])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach((function(s,i){var o=0;s.forEach((function(c){e.globals.collapsedSeriesIndices.indexOf(c)!==-1&&o++})),o>0&&o==s.length&&t.push(i)})),e.globals.ignoreYAxisIndexes=t.map((function(s){return s}))}}]),r})(),ul=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var s=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",s*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+s+" "+i)}},{key:"getSvgString",value:function(e){var t=this;return new Promise((function(s){var i=t.w,o=e||i.config.chart.toolbar.export.scale||i.config.chart.toolbar.export.width/i.globals.svgWidth;o||(o=1);var c=i.globals.svgWidth*o,h=i.globals.svgHeight*o,u=i.globals.dom.elWrap.cloneNode(!0);u.style.width=c+"px",u.style.height=h+"px";var g=new XMLSerializer().serializeToString(u),x=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;i.config.legend.show&&i.globals.dom.elLegendWrap&&i.globals.dom.elLegendWrap.children.length>0&&(x+=Qv);var m=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(i.globals.svgWidth,'px" height="').concat(i.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(c,"px; height:").concat(h,`px;">
            <style type="text/css">
              `).concat(x,`
            </style>
              `).concat(g,`
            </div>
          </foreignObject>
        </svg>
      `),p=t.svgStringToNode(m);o!==1&&t.scaleSvgNode(p,o),t.convertImagesToBase64(p).then((function(){m=new XMLSerializer().serializeToString(p),s(m.replace(/&nbsp;/g,"&#160;"))}))}))}},{key:"convertImagesToBase64",value:function(e){var t=this,s=e.getElementsByTagName("image"),i=Array.from(s).map((function(o){var c=o.getAttributeNS("http://www.w3.org/1999/xlink","href");return c&&!c.startsWith("data:")?t.getBase64FromUrl(c).then((function(h){o.setAttributeNS("http://www.w3.org/1999/xlink","href",h)})).catch((function(h){console.error("Error converting image to base64:",h)})):Promise.resolve()}));return Promise.all(i)}},{key:"getBase64FromUrl",value:function(e){return new Promise((function(t,s){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0),t(o.toDataURL())},i.onerror=s,i.src=e}))}},{key:"svgUrl",value:function(){var e=this;return new Promise((function(t){e.getSvgString().then((function(s){var i=new Blob([s],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(i))}))}))}},{key:"dataURI",value:function(e){var t=this;return new Promise((function(s){var i=t.w,o=e?e.scale||e.width/i.globals.svgWidth:1,c=document.createElement("canvas");c.width=i.globals.svgWidth*o,c.height=parseInt(i.globals.dom.elWrap.style.height,10)*o;var h=i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",u=c.getContext("2d");u.fillStyle=h,u.fillRect(0,0,c.width*o,c.height*o),t.getSvgString(o).then((function(g){var x="data:image/svg+xml,"+encodeURIComponent(g),m=new Image;m.crossOrigin="anonymous",m.onload=function(){if(u.drawImage(m,0,0),c.msToBlob){var p=c.msToBlob();s({blob:p})}else{var b=c.toDataURL("image/png");s({imgURI:b})}},m.src=x}))}))}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then((function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")}))}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,s=this.w.config.chart.toolbar.export.width,i=t?{scale:t}:s?{width:s}:void 0;this.dataURI(i).then((function(o){var c=o.imgURI,h=o.blob;h?navigator.msSaveOrOpenBlob(h,e.w.globals.chartID+".png"):e.triggerDownload(c,e.w.config.chart.toolbar.export.png.filename,".png")}))}},{key:"exportToCSV",value:function(e){var t=this,s=e.series,i=e.fileName,o=e.columnDelimiter,c=o===void 0?",":o,h=e.lineDelimiter,u=h===void 0?`
`:h,g=this.w;s||(s=g.config.series);var x=[],m=[],p="",b=g.globals.series.map((function(E,L){return g.globals.collapsedSeriesIndices.indexOf(L)===-1?E:[]})),w=function(E){return typeof g.config.chart.toolbar.export.csv.categoryFormatter=="function"?g.config.chart.toolbar.export.csv.categoryFormatter(E):g.config.xaxis.type==="datetime"&&String(E).length>=10?new Date(E).toDateString():J.isNumber(E)?E:E.split(c).join("")},y=function(E){return typeof g.config.chart.toolbar.export.csv.valueFormatter=="function"?g.config.chart.toolbar.export.csv.valueFormatter(E):E},k=Math.max.apply(Math,Xt(s.map((function(E){return E.data?E.data.length:0})))),A=new tf(this.ctx),S=new wi(this.ctx),T=function(E){var L="";if(g.globals.axisCharts){if(g.config.xaxis.type==="category"||g.config.xaxis.convertedCatToNumeric)if(g.globals.isBarHorizontal){var _=g.globals.yLabelFormatters[0],D=new Ws(t.ctx).getActiveConfigSeriesIndex();L=_(g.globals.labels[E],{seriesIndex:D,dataPointIndex:E,w:g})}else L=S.getLabel(g.globals.labels,g.globals.timescaleLabels,0,E).text;g.config.xaxis.type==="datetime"&&(g.config.xaxis.categories.length?L=g.config.xaxis.categories[E]:g.config.labels.length&&(L=g.config.labels[E]))}else L=g.config.labels[E];return L===null?"nullvalue":(Array.isArray(L)&&(L=L.join(" ")),J.isNumber(L)?L:L.split(c).join(""))},C=function(E,L){if(x.length&&L===0&&m.push(x.join(c)),E.data){E.data=E.data.length&&E.data||Xt(Array(k)).map((function(){return""}));for(var _=0;_<E.data.length;_++){x=[];var D=T(_);if(D!=="nullvalue"){if(D||(A.isFormatXY()?D=s[L].data[_].x:A.isFormat2DArray()&&(D=s[L].data[_]?s[L].data[_][0]:"")),L===0){x.push(w(D));for(var H=0;H<g.globals.series.length;H++){var z,B=A.isFormatXY()?(z=s[H].data[_])===null||z===void 0?void 0:z.y:b[H][_];x.push(y(B))}}(g.config.chart.type==="candlestick"||E.type&&E.type==="candlestick")&&(x.pop(),x.push(g.globals.seriesCandleO[L][_]),x.push(g.globals.seriesCandleH[L][_]),x.push(g.globals.seriesCandleL[L][_]),x.push(g.globals.seriesCandleC[L][_])),(g.config.chart.type==="boxPlot"||E.type&&E.type==="boxPlot")&&(x.pop(),x.push(g.globals.seriesCandleO[L][_]),x.push(g.globals.seriesCandleH[L][_]),x.push(g.globals.seriesCandleM[L][_]),x.push(g.globals.seriesCandleL[L][_]),x.push(g.globals.seriesCandleC[L][_])),g.config.chart.type==="rangeBar"&&(x.pop(),x.push(g.globals.seriesRangeStart[L][_]),x.push(g.globals.seriesRangeEnd[L][_])),x.length&&m.push(x.join(c))}}}};x.push(g.config.chart.toolbar.export.csv.headerCategory),g.config.chart.type==="boxPlot"?(x.push("minimum"),x.push("q1"),x.push("median"),x.push("q3"),x.push("maximum")):g.config.chart.type==="candlestick"?(x.push("open"),x.push("high"),x.push("low"),x.push("close")):g.config.chart.type==="rangeBar"?(x.push("minimum"),x.push("maximum")):s.map((function(E,L){var _=(E.name?E.name:"series-".concat(L))+"";g.globals.axisCharts&&x.push(_.split(c).join("")?_.split(c).join(""):"series-".concat(L))})),g.globals.axisCharts||(x.push(g.config.chart.toolbar.export.csv.headerValue),m.push(x.join(c))),g.globals.allSeriesHasEqualX||!g.globals.axisCharts||g.config.xaxis.categories.length||g.config.labels.length?s.map((function(E,L){g.globals.axisCharts?C(E,L):((x=[]).push(w(g.globals.labels[L])),x.push(y(b[L])),m.push(x.join(c)))})):(function(){var E=new Set,L={};s.forEach((function(_,D){_?.data.forEach((function(H){var z,B;if(A.isFormatXY())z=H.x,B=H.y;else{if(!A.isFormat2DArray())return;z=H[0],B=H[1]}L[z]||(L[z]=Array(s.length).fill("")),L[z][D]=y(B),E.add(z)}))})),x.length&&m.push(x.join(c)),Array.from(E).sort().forEach((function(_){m.push([w(_),L[_].join(c)])}))})(),p+=m.join(u),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+p),i||g.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,s){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+s,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),r})(),jl=(function(){function r(e,t){ye(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.axesUtils=new wi(e),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return we(r,[{key:"drawXaxis",value:function(){var e=this.w,t=new me(this.ctx),s=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});s.add(i);for(var o=[],c=0;c<this.xaxisLabels.length;c++)o.push(this.xaxisLabels[c]);if(this.drawXAxisLabelAndGroup(!0,t,i,o,e.globals.isXNumeric,(function(w,y){return y})),e.globals.hasXaxisGroups){var h=e.globals.groups;o=[];for(var u=0;u<h.length;u++)o.push(h[u].title);var g={};e.config.xaxis.group.style&&(g.xaxisFontSize=e.config.xaxis.group.style.fontSize,g.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,g.xaxisForeColors=e.config.xaxis.group.style.colors,g.fontWeight=e.config.xaxis.group.style.fontWeight,g.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,o,!1,(function(w,y){return h[w].cols*y}),g)}if(e.config.xaxis.title.text!==void 0){var x=t.group({class:"apexcharts-xaxis-title"}),m=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});x.add(m),s.add(x)}if(e.config.xaxis.axisBorder.show){var p=e.globals.barPadForNumericAxis,b=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-p,this.offY,this.xaxisBorderWidth+p,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(b):s.add(b)}return s}},{key:"drawXAxisLabelAndGroup",value:function(e,t,s,i,o,c){var h,u=this,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},x=[],m=[],p=this.w,b=g.xaxisFontSize||this.xaxisFontSize,w=g.xaxisFontFamily||this.xaxisFontFamily,y=g.xaxisForeColors||this.xaxisForeColors,k=g.fontWeight||p.config.xaxis.labels.style.fontWeight,A=g.cssClass||p.config.xaxis.labels.style.cssClass,S=p.globals.padHorizontal,T=i.length,C=p.config.xaxis.type==="category"?p.globals.dataPoints:T;if(C===0&&T>C&&(C=T),o){var E=Math.max(Number(p.config.xaxis.tickAmount)||1,C>1?C-1:C);h=p.globals.gridWidth/Math.min(E,T-1),S=S+c(0,h)/2+p.config.xaxis.labels.offsetX}else h=p.globals.gridWidth/C,S=S+c(0,h)+p.config.xaxis.labels.offsetX;for(var L=function(D){var H=S-c(D,h)/2+p.config.xaxis.labels.offsetX;D===0&&T===1&&h/2===S&&C===1&&(H=p.globals.gridWidth/2);var z=u.axesUtils.getLabel(i,p.globals.timescaleLabels,H,D,x,b,e),B=28;if(p.globals.rotateXLabels&&e&&(B=22),p.config.xaxis.title.text&&p.config.xaxis.position==="top"&&(B+=parseFloat(p.config.xaxis.title.style.fontSize)+2),e||(B=B+parseFloat(b)+(p.globals.xAxisLabelsHeight-p.globals.xAxisGroupLabelsHeight)+(p.globals.rotateXLabels?10:0)),z=p.config.xaxis.tickAmount!==void 0&&p.config.xaxis.tickAmount!=="dataPoints"&&p.config.xaxis.type!=="datetime"?u.axesUtils.checkLabelBasedOnTickamount(D,z,T):u.axesUtils.checkForOverflowingLabels(D,z,T,x,m),p.config.xaxis.labels.show){var P=t.drawText({x:z.x,y:u.offY+p.config.xaxis.labels.offsetY+B-(p.config.xaxis.position==="top"?p.globals.xAxisHeight+p.config.xaxis.axisTicks.height-2:0),text:z.text,textAnchor:"middle",fontWeight:z.isBold?600:k,fontSize:b,fontFamily:w,foreColor:Array.isArray(y)?e&&p.config.xaxis.convertedCatToNumeric?y[p.globals.minX+D-1]:y[D]:y,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+A});if(s.add(P),P.on("click",(function(V){if(typeof p.config.chart.events.xAxisLabelClick=="function"){var Q=Object.assign({},p,{labelIndex:D});p.config.chart.events.xAxisLabelClick(V,u.ctx,Q)}})),e){var W=document.createElementNS(p.globals.SVGNS,"title");W.textContent=Array.isArray(z.text)?z.text.join(" "):z.text,P.node.appendChild(W),z.text!==""&&(x.push(z.text),m.push(z))}}D<T-1&&(S+=c(D+1,h))},_=0;_<=T-1;_++)L(_)}},{key:"drawXaxisInversed",value:function(e){var t,s,i=this,o=this.w,c=new me(this.ctx),h=o.config.yaxis[0].opposite?o.globals.translateYAxisX[e]:0,u=c.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),g=c.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+h+", 0)"});u.add(g);var x=[];if(o.config.yaxis[e].show)for(var m=0;m<this.xaxisLabels.length;m++)x.push(this.xaxisLabels[m]);t=o.globals.gridHeight/x.length,s=-t/2.2;var p=o.globals.yLabelFormatters[0],b=o.config.yaxis[0].labels;if(b.show)for(var w=function(E){var L=x[E]===void 0?"":x[E];L=p(L,{seriesIndex:e,dataPointIndex:E,w:o});var _=i.axesUtils.getYAxisForeColor(b.style.colors,e),D=0;Array.isArray(L)&&(D=L.length/2*parseInt(b.style.fontSize,10));var H=b.offsetX-15,z="end";i.yaxis.opposite&&(z="start"),o.config.yaxis[0].labels.align==="left"?(H=b.offsetX,z="start"):o.config.yaxis[0].labels.align==="center"?(H=b.offsetX,z="middle"):o.config.yaxis[0].labels.align==="right"&&(z="end");var B=c.drawText({x:H,y:s+t+b.offsetY-D,text:L,textAnchor:z,foreColor:Array.isArray(_)?_[E]:_,fontSize:b.style.fontSize,fontFamily:b.style.fontFamily,fontWeight:b.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+b.style.cssClass,maxWidth:b.maxWidth});g.add(B),B.on("click",(function(V){if(typeof o.config.chart.events.xAxisLabelClick=="function"){var Q=Object.assign({},o,{labelIndex:E});o.config.chart.events.xAxisLabelClick(V,i.ctx,Q)}}));var P=document.createElementNS(o.globals.SVGNS,"title");if(P.textContent=Array.isArray(L)?L.join(" "):L,B.node.appendChild(P),o.config.yaxis[e].labels.rotate!==0){var W=c.rotateAroundCenter(B.node);B.node.setAttribute("transform","rotate(".concat(o.config.yaxis[e].labels.rotate," 0 ").concat(W.y,")"))}s+=t},y=0;y<=x.length-1;y++)w(y);if(o.config.yaxis[0].title.text!==void 0){var k=c.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+h+", 0)"}),A=c.drawText({x:o.config.yaxis[0].title.offsetX,y:o.globals.gridHeight/2+o.config.yaxis[0].title.offsetY,text:o.config.yaxis[0].title.text,textAnchor:"middle",foreColor:o.config.yaxis[0].title.style.color,fontSize:o.config.yaxis[0].title.style.fontSize,fontWeight:o.config.yaxis[0].title.style.fontWeight,fontFamily:o.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+o.config.yaxis[0].title.style.cssClass});k.add(A),u.add(k)}var S=0;this.isCategoryBarHorizontal&&o.config.yaxis[0].opposite&&(S=o.globals.gridWidth);var T=o.config.xaxis.axisBorder;if(T.show){var C=c.drawLine(o.globals.padHorizontal+T.offsetX+S,1+T.offsetY,o.globals.padHorizontal+T.offsetX+S,o.globals.gridHeight+T.offsetY,T.color,0);this.elgrid&&this.elgrid.elGridBorders&&o.config.grid.show?this.elgrid.elGridBorders.add(C):u.add(C)}return o.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(S,x.length,o.config.yaxis[0].axisBorder,o.config.yaxis[0].axisTicks,0,t,u),u}},{key:"drawXaxisTicks",value:function(e,t,s){var i=this.w,o=e;if(!(e<0||e-2>i.globals.gridWidth)){var c=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+c+i.config.xaxis.axisTicks.height,i.config.xaxis.position==="top"&&(t=c-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var h=new me(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,c+i.config.xaxis.offsetY,o+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);s.add(h),h.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],s=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var o=0;o<s;o++)i=this.xaxisLabels[o].position,t.push(i);else for(var c=s,h=0;h<c;h++){var u=c;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(u-=1),i+=e.globals.gridWidth/u,t.push(i)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new me(this.ctx),s=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),c=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var h=0;h<i.length;h++){var u=t.rotateAroundCenter(i[h]);u.y=u.y-1,u.x=u.x+1,i[h].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(u.x," ").concat(u.y,")")),i[h].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var g=i[h].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(g,(function(b){t.placeTextWithEllipsis(b,b.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))}))}else(function(){for(var b=e.globals.gridWidth/(e.globals.labels.length+1),w=0;w<i.length;w++){var y=i[w].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(y,(function(k){t.placeTextWithEllipsis(k,k.textContent,b)}))}})();if(o.length>0){var x=o[o.length-1].getBBox(),m=o[0].getBBox();x.x<-20&&o[o.length-1].parentNode.removeChild(o[o.length-1]),m.x+m.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&o[0].parentNode.removeChild(o[0]);for(var p=0;p<c.length;p++)t.placeTextWithEllipsis(c[p],c[p].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),r})(),Jv=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new wi(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return we(r,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,s=new me(this.ctx);e||(e=s.group({class:"apexcharts-grid"}));var i=s.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),o=s.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(o),e.add(i),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,s=new me(this.ctx),i=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Xt(e.config.stroke.width)):e.config.stroke.width,o=function(x){var m=document.createElementNS(t.SVGNS,"clipPath");return m.setAttribute("id",x),m};t.dom.elGridRectMask=o("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=o("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=o("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=o("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=o("nonForecastMask".concat(t.cuid));var c=0,h=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(c=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),h=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=s.drawRect(-i/2-2,-i/2-2,t.gridWidth+i+4,t.gridHeight+i+4,0,"#fff"),t.dom.elGridRectBar=s.drawRect(-i/2-c-2,-i/2-2,t.gridWidth+i+h+c+4,t.gridHeight+i+4,0,"#fff");var u=e.globals.markers.largestSize;t.dom.elGridRectMarker=s.drawRect(Math.min(-i/2-c-2,-u),-u,t.gridWidth+Math.max(i+h+c+4,2*u),t.gridHeight+2*u,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var g=t.dom.baseEl.querySelector("defs");g.appendChild(t.dom.elGridRectMask),g.appendChild(t.dom.elGridRectBarMask),g.appendChild(t.dom.elGridRectMarkerMask),g.appendChild(t.dom.elForecastMask),g.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,s=e.x1,i=e.y1,o=e.x2,c=e.y2,h=e.xCount,u=e.parent,g=this.w;if(!(t===0&&g.globals.skipFirstTimelinelabel||t===h-1&&g.globals.skipLastTimelinelabel&&!g.config.xaxis.labels.formatter||g.config.chart.type==="radar")){g.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:s,y1:i,x2:o,y2:c,xCount:h,parent:u});var x=0;if(g.globals.hasXaxisGroups&&g.config.xaxis.tickPlacement==="between"){var m=g.globals.groups;if(m){for(var p=0,b=0;p<t&&b<m.length;b++)p+=m[b].cols;p===t&&(x=.6*g.globals.xAxisLabelsHeight)}}new jl(this.ctx).drawXaxisTicks(s,x,g.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,s=e.x1,i=e.y1,o=e.x2,c=e.y2,h=e.xCount,u=e.parent,g=this.w,x=u.node.classList.contains("apexcharts-gridlines-horizontal"),m=g.globals.barPadForNumericAxis,p=i===0&&c===0||s===0&&o===0||i===g.globals.gridHeight&&c===g.globals.gridHeight||g.globals.isBarHorizontal&&(t===0||t===h-1),b=new me(this).drawLine(s-(x?m:0),i,o+(x?m:0),c,g.config.grid.borderColor,g.config.grid.strokeDashArray);b.node.classList.add("apexcharts-gridline"),p&&g.config.grid.show?this.elGridBorders.add(b):u.add(b)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,s=e.x1,i=e.y1,o=e.x2,c=e.y2,h=e.type,u=this.w,g=new me(this.ctx),x=u.globals.barPadForNumericAxis,m=u.config.grid[h].colors[t],p=g.drawRect(s-(h==="row"?x:0),i,o+(h==="row"?2*x:0),c,0,m,u.config.grid[h].opacity);this.elg.add(p),p.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),p.node.classList.add("apexcharts-grid-".concat(h))}},{key:"_drawXYLines",value:function(e){var t=this,s=e.xCount,i=e.tickAmount,o=this.w;if(o.config.grid.xaxis.lines.show||o.config.xaxis.axisTicks.show){var c,h=o.globals.padHorizontal,u=o.globals.gridHeight;o.globals.timescaleLabels.length?(function(w){for(var y=w.xC,k=w.x1,A=w.y1,S=w.x2,T=w.y2,C=0;C<y;C++)k=t.xaxisLabels[C].position,S=t.xaxisLabels[C].position,t._drawGridLines({i:C,x1:k,y1:A,x2:S,y2:T,xCount:s,parent:t.elgridLinesV})})({xC:s,x1:h,y1:0,x2:c,y2:u}):(o.globals.isXNumeric&&(s=o.globals.xAxisScale.result.length),(function(w){for(var y=w.xC,k=w.x1,A=w.y1,S=w.x2,T=w.y2,C=0;C<y+(o.globals.isXNumeric?0:1);C++)C===0&&y===1&&o.globals.dataPoints===1&&(S=k=o.globals.gridWidth/2),t._drawGridLines({i:C,x1:k,y1:A,x2:S,y2:T,xCount:s,parent:t.elgridLinesV}),S=k+=o.globals.gridWidth/(o.globals.isXNumeric?y-1:y)})({xC:s,x1:h,y1:0,x2:c,y2:u}))}if(o.config.grid.yaxis.lines.show){var g=0,x=0,m=o.globals.gridWidth,p=i+1;this.isRangeBar&&(p=o.globals.labels.length);for(var b=0;b<p+(this.isRangeBar?1:0);b++)this._drawGridLine({i:b,xCount:p+(this.isRangeBar?1:0),x1:0,y1:g,x2:m,y2:x,parent:this.elgridLinesH}),x=g+=o.globals.gridHeight/(this.isRangeBar?p:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var i,o=s.globals.padHorizontal,c=s.globals.gridHeight,h=0;h<t+1;h++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:h,xCount:t+1,x1:o,y1:0,x2:i,y2:c,parent:this.elgridLinesV}),new jl(this.ctx).drawXaxisTicks(o,0,s.globals.dom.elGraphical),i=o+=s.globals.gridWidth/t;if(s.config.grid.yaxis.lines.show)for(var u=0,g=0,x=s.globals.gridWidth,m=0;m<s.globals.dataPoints+1;m++)this._drawGridLine({i:m,xCount:s.globals.dataPoints+1,x1:0,y1:u,x2:x,y2:g,parent:this.elgridLinesH}),g=u+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,s=new me(this.ctx);this.elg=s.group({class:"apexcharts-grid"}),this.elgridLinesH=s.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=s.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=s.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i=0;i<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(i);)i++;i===t.seriesYAxisMap.length&&(i=0);var o,c=t.yAxisScale[i].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var h,u,g;o=this.xaxisLabels.length,this.isRangeBar&&(c=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(o=e.config.xaxis.tickAmount),((h=t.yAxisScale)===null||h===void 0||(u=h[i])===null||u===void 0||(g=u.result)===null||g===void 0?void 0:g.length)>0&&e.config.xaxis.type!=="datetime"&&(o=t.yAxisScale[i].result.length-1)),this._drawXYLines({xCount:o,tickAmount:c})}else o=c,c=t.xTickAmount,this._drawInvertedXYLines({xCount:o,tickAmount:c});return this.drawGridBands(o,c),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/o}}},{key:"drawGridBands",value:function(e,t){var s,i,o=this,c=this.w;if(((s=c.config.grid.row.colors)===null||s===void 0?void 0:s.length)>0&&(function(w,y,k,A,S,T){for(var C=0,E=0;C<y;C++,E++)E>=c.config.grid[w].colors.length&&(E=0),o._drawGridBandRect({c:E,x1:k,y1:A,x2:S,y2:T,type:w}),A+=c.globals.gridHeight/t})("row",t,0,0,c.globals.gridWidth,c.globals.gridHeight/t),((i=c.config.grid.column.colors)===null||i===void 0?void 0:i.length)>0){var h=c.globals.isBarHorizontal||c.config.xaxis.tickPlacement!=="on"||c.config.xaxis.type!=="category"&&!c.config.xaxis.convertedCatToNumeric?e:e-1;c.globals.isXNumeric&&(h=c.globals.xAxisScale.result.length-1);for(var u=c.globals.padHorizontal,g=c.globals.padHorizontal+c.globals.gridWidth/h,x=c.globals.gridHeight,m=0,p=0;m<e;m++,p++){var b;p>=c.config.grid.column.colors.length&&(p=0),c.config.xaxis.type==="datetime"&&(u=this.xaxisLabels[m].position,g=(((b=this.xaxisLabels[m+1])===null||b===void 0?void 0:b.position)||c.globals.gridWidth)-this.xaxisLabels[m].position),this._drawGridBandRect({c:p,x1:u,y1:0,x2:g,y2:x,type:"column"}),u+=c.globals.gridWidth/h}}}}]),r})(),ey=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.coreUtils=new Tt(this.ctx)}return we(r,[{key:"niceScale",value:function(e,t){var s,i,o,c,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=1e-11,g=this.w,x=g.globals;x.isBarHorizontal?(s=g.config.xaxis,i=Math.max((x.svgWidth-100)/25,2)):(s=g.config.yaxis[h],i=Math.max((x.svgHeight-100)/15,2)),J.isNumber(i)||(i=10),o=s.min!==void 0&&s.min!==null,c=s.max!==void 0&&s.min!==null;var m=s.stepSize!==void 0&&s.stepSize!==null,p=s.tickAmount!==void 0&&s.tickAmount!==null,b=p?s.tickAmount:x.niceScaleDefaultTicks[Math.min(Math.round(i/2),x.niceScaleDefaultTicks.length-1)];if(x.isMultipleYAxis&&!p&&x.multiAxisTickAmount>0&&(b=x.multiAxisTickAmount,p=!0),b=b==="dataPoints"?x.dataPoints-1:Math.abs(Math.round(b)),(e===Number.MIN_VALUE&&t===0||!J.isNumber(e)&&!J.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=J.isNumber(s.min)?s.min:0,t=J.isNumber(s.max)?s.max:e+b,x.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var w=t;t=e,e=w}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var y=[];b<1&&(b=1);var k=b,A=Math.abs(t-e);!o&&e>0&&e/A<.15&&(e=0,o=!0),!c&&t<0&&-t/A<.15&&(t=0,c=!0);var S=(A=Math.abs(t-e))/k,T=S,C=Math.floor(Math.log10(T)),E=Math.pow(10,C),L=Math.ceil(T/E);if(S=T=(L=x.niceScaleAllowedMagMsd[x.yValueDecimal===0?0:1][L])*E,x.isBarHorizontal&&s.stepSize&&s.type!=="datetime"?(S=s.stepSize,m=!0):m&&(S=s.stepSize),m&&s.forceNiceScale){var _=Math.floor(Math.log10(S));S*=Math.pow(10,C-_)}if(o&&c){var D=A/k;if(p)if(m)if(J.mod(A,S)!=0){var H=J.getGCD(S,D);S=D/H<10?H:D}else J.mod(S,D)==0?S=D:(D=S,p=!1);else S=D;else if(m)J.mod(A,S)==0?D=S:S=D;else if(J.mod(A,S)==0)D=S;else{D=A/(k=Math.ceil(A/S));var z=J.getGCD(A,S);A/z<i&&(D=z),S=D}k=Math.round(A/S)}else{if(o||c){if(c)if(p)e=t-S*k;else{var B=e;e=S*Math.floor(e/S),Math.abs(t-e)/J.getGCD(A,S)>i&&(e=t-S*b,e+=S*Math.floor((B-e)/S))}else if(o)if(p)t=e+S*k;else{var P=t;t=S*Math.ceil(t/S),Math.abs(t-e)/J.getGCD(A,S)>i&&(t=e+S*b,t+=S*Math.ceil((P-t)/S))}}else if(x.isMultipleYAxis&&p){var W=S*Math.floor(e/S),V=W+S*k;V<t&&(S*=2),V=t,t=(e=W)+S*k,A=Math.abs(t-e),e>0&&e<Math.abs(V-t)&&(e=0,t=S*k),t<0&&-t<Math.abs(W-e)&&(t=0,e=-S*k)}else e=S*Math.floor(e/S),t=S*Math.ceil(t/S);A=Math.abs(t-e),S=J.getGCD(A,S),k=Math.round(A/S)}if(p||o||c||(k=Math.ceil((A-u)/(S+u)))>16&&J.getPrimeFactors(k).length<2&&k++,!p&&s.forceNiceScale&&x.yValueDecimal===0&&k>A&&(k=A,S=Math.round(A/k)),k>i&&(!p&&!m||s.forceNiceScale)){var Q=J.getPrimeFactors(k),Y=Q.length-1,F=k;e:for(var U=0;U<Y;U++)for(var q=0;q<=Y-U;q++){for(var G=Math.min(q+U,Y),O=F,I=1,ne=q;ne<=G;ne++)I*=Q[ne];if((O/=I)<i){F=O;break e}}S=F===k?A:A/F,k=Math.round(A/S)}x.isMultipleYAxis&&x.multiAxisTickAmount==0&&x.ignoreYAxisIndexes.indexOf(h)<0&&(x.multiAxisTickAmount=k);var K=e-S,ue=S*u;do K+=S,y.push(J.stripNumber(K,7));while(t-K>ue);return{result:y,niceMin:y[0],niceMax:y[y.length-1]}}},{key:"linearScale",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,c=Math.abs(t-e),h=[];if(e===t)return{result:h=[e],niceMin:h[0],niceMax:h[h.length-1]};(s=this._adjustTicksForSmallRange(s,i,c))==="dataPoints"&&(s=this.w.globals.dataPoints-1),o||(o=c/s),o=Math.round(100*(o+Number.EPSILON))/100,s===Number.MAX_VALUE&&(s=5,o=1);for(var u=e;s>=0;)h.push(u),u=J.preciseAddition(u,o),s-=1;return{result:h,niceMin:h[0],niceMax:h[h.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var i=[],o=Math.ceil(Math.log(t)/Math.log(s)+1),c=Math.floor(Math.log(e)/Math.log(s));c<o;c++)i.push(Math.pow(s,c));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,s){t<=0&&(t=Math.max(e,s)),e<=0&&(e=Math.min(t,s));for(var i=[],o=Math.log(t)/Math.log(s),c=Math.log(e)/Math.log(s),h=o-c,u=Math.round(h),g=h/u,x=0,m=c;x<u;x++,m+=g)i.push(Math.pow(s,m));return i.push(Math.pow(s,o)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,s){var i=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var o=Number(this.w.config.yaxis[t].labels.formatter(1));J.isNumber(o)&&this.w.globals.yValueDecimal===0&&(i=Math.ceil(s))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,s){var i=this.w.globals,o=this.w.config,c=i.isBarHorizontal?o.xaxis:o.yaxis[e];i.yAxisScale[e]===void 0&&(i.yAxisScale[e]=[]);var h=Math.abs(s-t);c.logarithmic&&h<=5&&(i.invalidLogScale=!0),c.logarithmic&&h>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=c.forceNiceScale?this.logarithmicScaleNice(t,s,c.logBase):this.logarithmicScale(t,s,c.logBase)):s!==-Number.MAX_VALUE&&J.isNumber(s)&&t!==Number.MAX_VALUE&&J.isNumber(t)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(t,s,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var s=this.w,i=s.globals;if(t!==-Number.MAX_VALUE&&J.isNumber(t)){var o=i.xTickAmount;i.xAxisScale=this.linearScale(e,t,o,0,s.config.xaxis.max===void 0?s.config.xaxis.stepSize:void 0)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,s=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var i=s.seriesYAxisMap,o=s.minYArr,c=s.maxYArr;s.allSeriesCollapsed=!0,s.barGroups=[],i.forEach((function(h,u){var g=[];h.forEach((function(x){var m,p=(m=t.series[x])===null||m===void 0?void 0:m.group;g.indexOf(p)<0&&g.push(p)})),h.length>0?(function(){var x,m,p=Number.MAX_VALUE,b=-Number.MAX_VALUE,w=p,y=b;if(t.chart.stacked)(function(){var S=new Array(s.dataPoints).fill(0),T=[],C=[],E=[];g.forEach((function(){T.push(S.map((function(){return Number.MIN_VALUE}))),C.push(S.map((function(){return Number.MIN_VALUE}))),E.push(S.map((function(){return Number.MIN_VALUE})))}));for(var L=function(D){!x&&t.series[h[D]].type&&(x=t.series[h[D]].type);var H=h[D];m=t.series[H].group?t.series[H].group:"axis-".concat(u),!(s.collapsedSeriesIndices.indexOf(H)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(H)<0)||(s.allSeriesCollapsed=!1,g.forEach((function(z,B){if(t.series[H].group===z)for(var P=0;P<s.series[H].length;P++){var W=s.series[H][P];W>=0?C[B][P]+=W:E[B][P]+=W,T[B][P]+=W,w=Math.min(w,W),y=Math.max(y,W)}}))),x!=="bar"&&x!=="column"||s.barGroups.push(m)},_=0;_<h.length;_++)L(_);x||(x=t.chart.type),x==="bar"||x==="column"?g.forEach((function(D,H){p=Math.min(p,Math.min.apply(null,E[H])),b=Math.max(b,Math.max.apply(null,C[H]))})):(g.forEach((function(D,H){w=Math.min(w,Math.min.apply(null,T[H])),y=Math.max(y,Math.max.apply(null,T[H]))})),p=w,b=y),p===Number.MIN_VALUE&&b===Number.MIN_VALUE&&(b=-Number.MAX_VALUE)})();else for(var k=0;k<h.length;k++){var A=h[k];p=Math.min(p,o[A]),b=Math.max(b,c[A]),!(s.collapsedSeriesIndices.indexOf(A)<0&&s.ancillaryCollapsedSeriesIndices.indexOf(A)<0)||(s.allSeriesCollapsed=!1)}t.yaxis[u].min!==void 0&&(p=typeof t.yaxis[u].min=="function"?t.yaxis[u].min(p):t.yaxis[u].min),t.yaxis[u].max!==void 0&&(b=typeof t.yaxis[u].max=="function"?t.yaxis[u].max(b):t.yaxis[u].max),s.barGroups=s.barGroups.filter((function(S,T,C){return C.indexOf(S)===T})),e.setYScaleForIndex(u,p,b),h.forEach((function(S){o[S]=s.yAxisScale[u].niceMin,c[S]=s.yAxisScale[u].niceMax}))})():e.setYScaleForIndex(u,0,-Number.MAX_VALUE)}))}}]),r})(),mg=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.scales=new ey(e)}return we(r,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.w.config,c=this.w.globals,h=-Number.MAX_VALUE,u=Number.MIN_VALUE;i===null&&(i=e+1);var g=c.series,x=g,m=g;o.chart.type==="candlestick"?(x=c.seriesCandleL,m=c.seriesCandleH):o.chart.type==="boxPlot"?(x=c.seriesCandleO,m=c.seriesCandleC):c.isRangeData&&(x=c.seriesRangeStart,m=c.seriesRangeEnd);var p=!1;if(c.seriesX.length>=i){var b,w=(b=c.brushSource)===null||b===void 0?void 0:b.w.config.chart.brush;(o.chart.zoom.enabled&&o.chart.zoom.autoScaleYaxis||w!=null&&w.enabled&&w!=null&&w.autoScaleYaxis)&&(p=!0)}for(var y=e;y<i;y++){c.dataPoints=Math.max(c.dataPoints,g[y].length);var k=o.series[y].type;c.categoryLabels.length&&(c.dataPoints=c.categoryLabels.filter((function(H){return H!==void 0})).length),c.labels.length&&o.xaxis.type!=="datetime"&&c.series.reduce((function(H,z){return H+z.length}),0)!==0&&(c.dataPoints=Math.max(c.dataPoints,c.labels.length));var A=0,S=g[y].length-1;if(p){if(o.xaxis.min)for(;A<S&&c.seriesX[y][A]<o.xaxis.min;A++);if(o.xaxis.max)for(;S>A&&c.seriesX[y][S]>o.xaxis.max;S--);}for(var T=A;T<=S&&T<c.series[y].length;T++){var C=g[y][T];if(C!==null&&J.isNumber(C)){var E,L,_,D;switch(((E=m[y])===null||E===void 0?void 0:E[T])!==void 0&&(h=Math.max(h,m[y][T]),t=Math.min(t,m[y][T])),((L=x[y])===null||L===void 0?void 0:L[T])!==void 0&&(t=Math.min(t,x[y][T]),s=Math.max(s,x[y][T])),k){case"candlestick":c.seriesCandleC[y][T]!==void 0&&(h=Math.max(h,c.seriesCandleH[y][T]),t=Math.min(t,c.seriesCandleL[y][T]));break;case"boxPlot":c.seriesCandleC[y][T]!==void 0&&(h=Math.max(h,c.seriesCandleC[y][T]),t=Math.min(t,c.seriesCandleO[y][T]))}k&&k!=="candlestick"&&k!=="boxPlot"&&k!=="rangeArea"&&k!=="rangeBar"&&(h=Math.max(h,c.series[y][T]),t=Math.min(t,c.series[y][T])),c.seriesGoals[y]&&c.seriesGoals[y][T]&&Array.isArray(c.seriesGoals[y][T])&&c.seriesGoals[y][T].forEach((function(H){h=Math.max(h,H.value),t=Math.min(t,H.value)})),s=h,C=J.noExponents(C),J.isFloat(C)&&(c.yValueDecimal=Math.max(c.yValueDecimal,C.toString().split(".")[1].length)),u>((_=x[y])===null||_===void 0?void 0:_[T])&&((D=x[y])===null||D===void 0?void 0:D[T])<0&&(u=x[y][T])}else c.hasNullValues=!0}k!=="bar"&&k!=="column"||(u<0&&h<0&&(h=0,s=Math.max(s,0)),u===Number.MIN_VALUE&&(u=0,t=Math.min(t,0)))}return o.chart.type==="rangeBar"&&c.seriesRangeStart.length&&c.isBarHorizontal&&(u=t),o.chart.type==="bar"&&(u<0&&h<0&&(h=0),u===Number.MIN_VALUE&&(u=0)),{minY:u,maxY:h,lowestY:t,highestY:s}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var s,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(var o=0;o<e.series.length;o++)s=this.getMinYMaxY(o),e.minYArr[o]=s.lowestY,e.maxYArr[o]=s.highestY,i=Math.min(i,s.lowestY)}return s=this.getMinYMaxY(0,i,null,e.series.length),t.chart.type==="bar"?(e.minY=s.minY,e.maxY=s.maxY):(e.minY=s.lowestY,e.maxY=s.highestY),i=s.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(s.minY,e.minY):s.minY,t.yaxis.forEach((function(c,h){c.max!==void 0&&(typeof c.max=="number"?e.maxYArr[h]=c.max:typeof c.max=="function"&&(e.maxYArr[h]=c.max(e.isMultipleYAxis?e.maxYArr[h]:e.maxY)),e.maxY=e.maxYArr[h]),c.min!==void 0&&(typeof c.min=="number"?e.minYArr[h]=c.min:typeof c.min=="function"&&(e.minYArr[h]=c.min(e.isMultipleYAxis?e.minYArr[h]===Number.MIN_VALUE?0:e.minYArr[h]:e.minY)),e.minY=e.minYArr[h])})),e.isBarHorizontal&&["min","max"].forEach((function(c){t.xaxis[c]!==void 0&&typeof t.xaxis[c]=="number"&&(c==="min"?e.minY=t.xaxis[c]:e.maxY=t.xaxis[c])})),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach((function(c){switch(c.type||t.chart.type){case"bar":case"column":e.barGroups.push(c.group);break;case"line":e.lineGroups.push(c.group);break;case"area":e.areaGroups.push(c.group)}})),e.barGroups=e.barGroups.filter((function(c,h,u){return u.indexOf(c)===h})),e.lineGroups=e.lineGroups.filter((function(c,h,u){return u.indexOf(c)===h})),e.areaGroups=e.areaGroups.filter((function(c,h,u){return u.indexOf(c)===h})),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,s=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&(function(){for(var u=0;u<e.series.length;u++)if(e.labels[u])for(var g=0;g<e.labels[u].length;g++)e.labels[u][g]!==null&&J.isNumber(e.labels[u][g])&&(e.maxX=Math.max(e.maxX,e.labels[u][g]),e.initialMaxX=Math.max(e.maxX,e.labels[u][g]),e.minX=Math.min(e.minX,e.labels[u][g]),e.initialMinX=Math.min(e.minX,e.labels[u][g]))})(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i=10;if(t.xaxis.tickAmount===void 0)i=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&e.dataPoints!==0&&(i=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var o=Math.round(e.maxX-e.minX);o<30&&(i=o)}}else i=t.xaxis.tickAmount;if(e.xTickAmount=i,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var c=[],h=e.minX-1;h<e.maxX;h++)c.push(h+1);e.xAxisScale={result:c,niceMin:c[0],niceMax:c[c.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());s&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var s=0;s<e.seriesZ[t].length;s++)e.seriesZ[t][s]!==null&&J.isNumber(e.seriesZ[t][s])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][s]),e.minZ=Math.min(e.minZ,e.seriesZ[t][s]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var s=new Kt(this.ctx);if(t.xaxis.type==="datetime"){var i=s.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var o=s.getDate(e.maxX);t.xaxis.labels.datetimeUTC?o.setUTCDate(o.getUTCDate()+2):o.setDate(o.getDate()+2),e.maxX=new Date(o).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach((function(t,s){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort((function(o,c){return o-c})),i.forEach((function(o,c){if(c>0){var h=o-i[c-1];h>0&&(e.minXDiff=Math.min(h,e.minXDiff))}})),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}}))}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var s=t.seriesGroups;s.length||(s=[this.w.globals.seriesNames.map((function(c){return c}))]);var i={},o={};s.forEach((function(c){i[c]=[],o[c]=[],e.w.config.series.map((function(h,u){return c.indexOf(t.seriesNames[u])>-1?u:null})).filter((function(h){return h!==null})).forEach((function(h){for(var u=0;u<t.series[t.maxValsInArrayIndex].length;u++){var g,x,m,p;i[c][u]===void 0&&(i[c][u]=0,o[c][u]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((g=e.w.config.series)===null||g===void 0||(x=g[h])===null||x===void 0?void 0:x.type)==="bar"||((m=e.w.config.series)===null||m===void 0||(p=m[h])===null||p===void 0?void 0:p.type)==="column"))&&t.series[h][u]!==null&&J.isNumber(t.series[h][u])&&(t.series[h][u]>0?i[c][u]+=parseFloat(t.series[h][u])+1e-4:o[c][u]+=parseFloat(t.series[h][u]))}}))})),Object.entries(i).forEach((function(c){var h=wv(c,1)[0];i[h].forEach((function(u,g){t.maxY=Math.max(t.maxY,i[h][g]),t.minY=Math.min(t.minY,o[h][g])}))}))}}}]),r})(),sf=(function(){function r(e,t){ye(this,r),this.ctx=e,this.elgrid=t,this.w=e.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=s.config.xaxis.position==="bottom"?s.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new wi(e)}return we(r,[{key:"drawYaxis",value:function(e){var t=this.w,s=new me(this.ctx),i=t.config.yaxis[e].labels.style,o=i.fontSize,c=i.fontFamily,h=i.fontWeight,u=s.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return u;var g=s.group({class:"apexcharts-yaxis-texts-g"});u.add(g);var x=t.globals.yAxisScale[e].result.length-1,m=t.globals.gridHeight/x,p=t.globals.yLabelFormatters[e],b=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var w=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?w=0:t.config.chart.type==="heatmap"&&(w-=m/2),w+=parseInt(o,10)/3;for(var y=x;y>=0;y--){var k=p(b[y],y,t),A=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(A*=-1);var S=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),T=this.axesUtils.getYAxisForeColor(i.colors,e),C=Array.isArray(T)?T[y]:T,E=J.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map((function(_){return _.textContent})),L=s.drawText({x:A,y:w,text:E.includes(k)&&!t.config.yaxis[e].labels.showDuplicates?"":k,textAnchor:S,fontSize:o,fontFamily:c,fontWeight:h,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:C,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(i.cssClass)});g.add(L),this.addTooltip(L,k),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(s,L,firstLabel,t.config.yaxis[e].labels.rotate),w+=m}}return this.addYAxisTitle(s,u,e),this.addAxisBorder(s,u,e,x,m),u}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var s=document.createElementNS(this.w.globals.SVGNS,"title");s.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(s)}},{key:"rotateLabel",value:function(e,t,s,i){var o=e.rotateAroundCenter(s.node),c=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(i," ").concat(o.x," ").concat(c.y,")"))}},{key:"addYAxisTitle",value:function(e,t,s){var i=this.w;if(i.config.yaxis[s].title.text!==void 0){var o=e.group({class:"apexcharts-yaxis-title"}),c=i.config.yaxis[s].opposite?i.globals.translateYAxisX[s]:0,h=e.drawText({x:c,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[s].title.offsetY,text:i.config.yaxis[s].title.text,textAnchor:"end",foreColor:i.config.yaxis[s].title.style.color,fontSize:i.config.yaxis[s].title.style.fontSize,fontWeight:i.config.yaxis[s].title.style.fontWeight,fontFamily:i.config.yaxis[s].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(i.config.yaxis[s].title.style.cssClass)});o.add(h),t.add(o)}}},{key:"addAxisBorder",value:function(e,t,s,i,o){var c=this.w,h=c.config.yaxis[s].axisBorder,u=31+h.offsetX;if(c.config.yaxis[s].opposite&&(u=-31-h.offsetX),h.show){var g=e.drawLine(u,c.globals.translateY+h.offsetY-2,u,c.globals.gridHeight+c.globals.translateY+h.offsetY+2,h.color,0,h.width);t.add(g)}c.config.yaxis[s].axisTicks.show&&this.axesUtils.drawYAxisTicks(u,i,h,c.config.yaxis[s].axisTicks,s,o,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,s=new me(this.ctx),i=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),o=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(o);var c=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridWidth/c+.1,u=h+t.config.xaxis.labels.offsetX,g=t.globals.xLabelFormatter,x=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),m=t.globals.timescaleLabels;if(m.length>0&&(this.xaxisLabels=m.slice(),c=(x=m.slice()).length),t.config.xaxis.labels.show)for(var p=m.length?0:c;m.length?p<m.length:p>=0;m.length?p++:p--){var b=g(x[p],p,t),w=t.globals.gridWidth+t.globals.padHorizontal-(u-h+t.config.xaxis.labels.offsetX);if(m.length){var y=this.axesUtils.getLabel(x,m,w,p,this.drawnLabels,this.xaxisFontSize);w=y.x,b=y.text,this.drawnLabels.push(y.text),p===0&&t.globals.skipFirstTimelinelabel&&(b=""),p===x.length-1&&t.globals.skipLastTimelinelabel&&(b="")}var k=s.drawText({x:w,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:b,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});o.add(k),k.tspan(b),this.addTooltip(k,b),u+=h}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,s=new me(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var o=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(o-=15);var c=s.drawLine(t.globals.padHorizontal+o+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(c):e.add(c)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,s=new me(this.ctx);if(t.config.xaxis.title.text!==void 0){var i=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),o=s.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});i.add(o),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var s=this.w,i=new me(this.ctx),o=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),c=o?o.getBoundingClientRect():{width:0,height:0},h=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),u=h?h.getBoundingClientRect():{width:0,height:0};if(h){var g=this.xPaddingForYAxisTitle(e,c,u,t);h.setAttribute("x",g.xPos-(t?10:0));var x=i.rotateAroundCenter(h);h.setAttribute("transform","rotate(".concat(t?-1*s.config.yaxis[e].title.rotate:s.config.yaxis[e].title.rotate," ").concat(x.x," ").concat(x.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,s,i){var o=this.w,c=0,h=10;return o.config.yaxis[e].title.text===void 0||e<0?{xPos:c,padd:0}:(i?c=t.width+o.config.yaxis[e].title.offsetX+s.width/2+h/2:(c=-1*t.width+o.config.yaxis[e].title.offsetX+h/2+s.width/2,o.globals.isBarHorizontal&&(h=25,c=-1*t.width-o.config.yaxis[e].title.offsetX-h)),{xPos:c,padd:h})}},{key:"setYAxisXPosition",value:function(e,t){var s=this.w,i=0,o=0,c=18,h=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.forEach((function(u,g){var x=s.globals.ignoreYAxisIndexes.includes(g)||!u.show||u.floating||e[g].width===0,m=e[g].width+t[g].width;u.opposite?s.globals.isBarHorizontal?(o=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[g]=o-u.labels.offsetX):(o=s.globals.gridWidth+s.globals.translateX+h,x||(h+=m+20),s.globals.translateYAxisX[g]=o-u.labels.offsetX+20):(i=s.globals.translateX-c,x||(c+=m+20),s.globals.translateYAxisX[g]=i+u.labels.offsetX)}))}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;J.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach((function(t,s){var i=e.config.yaxis[s];if(i&&!i.floating&&i.labels.align!==void 0){var o=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-texts-g")),c=J.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(s,"'] .apexcharts-yaxis-label"))),h=o.getBoundingClientRect();c.forEach((function(u){u.setAttribute("text-anchor",i.labels.align)})),i.labels.align!=="left"||i.opposite?i.labels.align==="center"?o.setAttribute("transform","translate(".concat(h.width/2*(i.opposite?1:-1),", 0)")):i.labels.align==="right"&&i.opposite&&o.setAttribute("transform","translate(".concat(h.width,", 0)")):o.setAttribute("transform","translate(-".concat(h.width,", 0)"))}}))}}]),r})(),XA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.documentEvent=J.bind(this.documentEvent,this)}return we(r,[{key:"addEventListener",value:function(e,t){var s=this.w;s.globals.events.hasOwnProperty(e)?s.globals.events[e].push(t):s.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){var i=s.globals.events[e].indexOf(t);i!==-1&&s.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var s=this.w;if(s.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=s.globals.events[e],o=i.length,c=0;c<o;c++)i[c].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,s=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach((function(o){i.addEventListener(o,(function(c){var h=c.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:c.target.getAttribute("i"),u=c.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:c.target.getAttribute("j"),g=Object.assign({},t,{seriesIndex:t.globals.axisCharts?h:0,dataPointIndex:u});c.type==="mousemove"||c.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(c,s,g):c.type==="mouseleave"||c.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(c,s,g):(c.type==="mouseup"&&c.which===1||c.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(c,s,g),s.ctx.events.fireEvent("click",[c,s,g]))}),{capture:!1,passive:!0})})),this.ctx.eventList.forEach((function(o){t.globals.dom.baseEl.addEventListener(o,e.documentEvent,{passive:!0})})),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,s=e.target.className;if(e.type==="click"){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),r})(),YA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=t.filter((function(o){return o.name===e}))[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=J.extend($v,s);this.w.globals.locale=i.options}}]),r})(),FA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"drawAxis",value:function(e,t){var s,i,o=this,c=this.w.globals,h=this.w.config,u=new jl(this.ctx,t),g=new sf(this.ctx,t);c.axisCharts&&e!=="radar"&&(c.isBarHorizontal?(i=g.drawYaxisInversed(0),s=u.drawXaxisInversed(0),c.dom.elGraphical.add(s),c.dom.elGraphical.add(i)):(s=u.drawXaxis(),c.dom.elGraphical.add(s),h.yaxis.map((function(x,m){if(c.ignoreYAxisIndexes.indexOf(m)===-1&&(i=g.drawYaxis(m),c.dom.Paper.add(i),o.w.config.grid.position==="back")){var p=c.dom.Paper.children()[1];p.remove(),c.dom.Paper.add(p)}}))))}}]),r})(),pg=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new me(this.ctx),s=new Zt(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,o=e.config.xaxis.crosshairs.dropShadow,c=e.config.xaxis.crosshairs.fill.type,h=i.colorFrom,u=i.colorTo,g=i.opacityFrom,x=i.opacityTo,m=i.stops,p=o.enabled,b=o.left,w=o.top,y=o.blur,k=o.color,A=o.opacity,S=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){c==="gradient"&&(S=t.drawGradient("vertical",h,u,g,x,null,m,null));var T=t.drawRect();e.config.xaxis.crosshairs.width===1&&(T=t.drawLine());var C=e.globals.gridHeight;(!J.isNumber(C)||C<0)&&(C=0);var E=e.config.xaxis.crosshairs.width;(!J.isNumber(E)||E<0)&&(E=0),T.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:C,width:E,height:C,fill:S,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),p&&(T=s.dropShadow(T,{left:b,top:w,blur:y,color:k,opacity:A})),e.globals.dom.elGraphical.add(T)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new me(this.ctx),s=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var o=t.drawLine(-i,0,e.globals.gridWidth+i,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);o.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(o)}var c=t.drawLine(-i,0,e.globals.gridWidth+i,0,s.stroke.color,0,0);c.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(c)}}]),r})(),IA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"checkResponsiveConfig",value:function(e){var t=this,s=this.w,i=s.config;if(i.responsive.length!==0){var o=i.responsive.slice();o.sort((function(g,x){return g.breakpoint>x.breakpoint?1:x.breakpoint>g.breakpoint?-1:0})).reverse();var c=new wl({}),h=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=o[0].breakpoint,m=window.innerWidth>0?window.innerWidth:screen.width;if(m>x){var p=J.clone(s.globals.initialConfig);p.series=J.clone(s.config.series);var b=Tt.extendArrayProps(c,p,s);g=J.extend(b,g),g=J.extend(s.config,g),t.overrideResponsiveOptions(g)}else for(var w=0;w<o.length;w++)m<o[w].breakpoint&&(g=Tt.extendArrayProps(c,o[w].options,s),g=J.extend(s.config,g),t.overrideResponsiveOptions(g))};if(e){var u=Tt.extendArrayProps(c,e,s);u=J.extend(s.config,u),h(u=J.extend(u,e))}else h({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new wl(e).init({responsiveOverride:!0});this.w.config=t}}]),r})(),UA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return we(r,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return t.type==="treemap"&&s.treemap&&s.treemap.distributed||t.type==="heatmap"&&s.heatmap&&s.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,s=e.plotOptions;return s.bar&&s.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new J;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var s=Xt(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(s),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}},{key:"getColors",value:function(e){var t=this,s=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,s.config.series.map((function(i,o){var c=e[o]||e[0];return typeof c=="function"?c({value:s.globals.axisCharts?s.globals.series[o][0]||0:s.globals.series[o],seriesIndex:o,dataPointIndex:o,w:t.w}):c}))):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach((function(s,i){s&&(t[i]=s)}))}},{key:"getMonochromeColors",value:function(e,t,s){var i=e.color,o=e.shadeIntensity,c=e.shadeTo,h=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,u=1/(h/o),g=0;return Array.from({length:h},(function(){var x=c==="dark"?s.shadeColor(-1*g,i):s.shadeColor(g,i);return g+=u,x}))}},{key:"applyColorTypes",value:function(e,t){var s=this,i=this.w;e.forEach((function(o){i.globals[o].colors=i.config[o].colors===void 0?s.isColorFn?i.config.colors:t:i.config[o].colors.slice(),s.pushExtraColors(i.globals[o].colors)}))}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,o=t||i.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||i.config.chart.type==="heatmap"&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),s&&i.globals.series.length&&(o=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<o)for(var c=o-e.length,h=0;h<c;h++)e.push(e[h])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,s=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",i=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=i,e.theme.palette=s,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),r})(),WA=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,s=e==="title"?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,o=s.offsetY,c="middle";if(s.align==="left"?(i=10,c="start"):s.align==="right"&&(i=t.globals.svgWidth-10,c="end"),i+=s.offsetX,o=o+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var h=new me(this.ctx).drawText({x:i,y:o,text:s.text,textAnchor:c,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});h.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(h)}}}]),r})(),VA=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,s=0,i=0,o=e==="title"?t.config.title.floating:t.config.subtitle.floating,c=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(c!==null&&!o){var h=c.getBoundingClientRect();s=h.width,i=t.globals.axisCharts?h.height+5:h.height}return{width:s,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var s=Object.assign({},J.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,s=[];t.config.series.forEach((function(u,g){u.data.forEach((function(x,m){var p;p=t.globals.series[g][m],i=t.config.dataLabels.formatter(p,{ctx:e.dCtx.ctx,seriesIndex:g,dataPointIndex:m,w:t}),s.push(i)}))}));var i=J.getLargestStringFromArr(s),o=new me(this.dCtx.ctx),c=t.config.dataLabels.style,h=o.getTextRects(i,parseInt(c.fontSize),c.fontFamily);return{width:1.05*h.width,height:h.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var s=e;if(this.w.globals.isMultiLineX){var i=t.map((function(c,h){return Array.isArray(c)?c.length:1})),o=Math.max.apply(Math,Xt(i));s=t[i.indexOf(o)]}return s}}]),r})(),qA=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,s=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var o=t.globals.xLabelFormatter,c=J.getLargestStringFromArr(s),h=this.dCtx.dimHelpers.getLargestStringFromMultiArr(c,s);t.globals.isBarHorizontal&&(h=c=t.globals.yAxisScale[0].result.reduce((function(w,y){return w.length>y.length?w:y}),0));var u=new Dl(this.dCtx.ctx),g=c;c=u.xLabelFormat(o,c,g,{i:void 0,dateFormatter:new Kt(this.dCtx.ctx).formatDate,w:t}),h=u.xLabelFormat(o,h,g,{i:void 0,dateFormatter:new Kt(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&c===void 0||String(c).trim()==="")&&(h=c="1");var x=new me(this.dCtx.ctx),m=x.getTextRects(c,t.config.xaxis.labels.style.fontSize),p=m;if(c!==h&&(p=x.getTextRects(h,t.config.xaxis.labels.style.fontSize)),(e={width:m.width>=p.width?m.width:p.width,height:m.height>=p.height?m.height:p.height}).width*s.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var b=function(w){return x.getTextRects(w,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};m=b(c),c!==h&&(p=b(h)),e.height=(m.height>p.height?m.height:p.height)/1.5,e.width=m.width>p.width?m.width:p.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var s,i=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,o=t.globals.groups.map((function(m){return m.title})),c=J.getLargestStringFromArr(o),h=this.dCtx.dimHelpers.getLargestStringFromMultiArr(c,o),u=new me(this.dCtx.ctx),g=u.getTextRects(c,i),x=g;return c!==h&&(x=u.getTextRects(h,i)),s={width:g.width>=x.width?g.width:x.width,height:g.height>=x.height?g.height:x.height},t.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,s=0;if(e.config.xaxis.title.text!==void 0){var i=new me(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,s=i.height}return{width:t,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map((function(o){return o.value})),i=s.reduce((function(o,c){return o===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):o.length>c.length?o:c}),0);return 1.05*(e=new me(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*s.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,s=this.w,i=s.globals,o=s.config,c=o.xaxis.type,h=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var u=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,g=function(x,m){o.yaxis.length>1&&(function(p){return i.collapsedSeriesIndices.indexOf(p)!==-1})(m)||(function(p){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var b=t.dCtx.timescaleLabels[0],w=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+h/1.75-t.dCtx.yAxisWidthRight,y=b.position-h/1.75+t.dCtx.yAxisWidthLeft,k=s.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;w>i.svgWidth-i.translateX-k&&(i.skipLastTimelinelabel=!0),y<-(p.show&&!p.floating||o.chart.type!=="bar"&&o.chart.type!=="candlestick"&&o.chart.type!=="rangeBar"&&o.chart.type!=="boxPlot"?10:h/1.75)&&(i.skipFirstTimelinelabel=!0)}else c==="datetime"?t.dCtx.gridPad.right<h&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):c!=="datetime"&&t.dCtx.gridPad.right<h/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!s.config.xaxis.labels.trim&&(t.dCtx.xPadRight=h/2+1)})(x)};o.yaxis.forEach((function(x,m){u?(t.dCtx.gridPad.left<h&&(t.dCtx.xPadLeft=h/2+1),t.dCtx.xPadRight=h/2+1):g(x,m)}))}}]),r})(),GA=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,s=[],i=10,o=new wi(this.dCtx.ctx);return t.config.yaxis.map((function(c,h){var u={seriesIndex:h,dataPointIndex:-1,w:t},g=t.globals.yAxisScale[h],x=0;if(!o.isYAxisHidden(h)&&c.labels.show&&c.labels.minWidth!==void 0&&(x=c.labels.minWidth),!o.isYAxisHidden(h)&&c.labels.show&&g.result.length){var m=t.globals.yLabelFormatters[h],p=g.niceMin===Number.MIN_VALUE?0:g.niceMin,b=g.result.reduce((function(C,E){var L,_;return((L=String(m(C,u)))===null||L===void 0?void 0:L.length)>((_=String(m(E,u)))===null||_===void 0?void 0:_.length)?C:E}),p),w=b=m(b,u);if(b!==void 0&&b.length!==0||(b=g.niceMax),t.globals.isBarHorizontal){i=0;var y=t.globals.labels.slice();b=J.getLargestStringFromArr(y),b=m(b,{seriesIndex:h,dataPointIndex:-1,w:t}),w=e.dCtx.dimHelpers.getLargestStringFromMultiArr(b,y)}var k=new me(e.dCtx.ctx),A="rotate(".concat(c.labels.rotate," 0 0)"),S=k.getTextRects(b,c.labels.style.fontSize,c.labels.style.fontFamily,A,!1),T=S;b!==w&&(T=k.getTextRects(w,c.labels.style.fontSize,c.labels.style.fontFamily,A,!1)),s.push({width:(x>T.width||x>S.width?x:T.width>S.width?T.width:S.width)+i,height:T.height>S.height?T.height:S.height})}else s.push({width:0,height:0})})),s}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,s=[];return t.config.yaxis.map((function(i,o){if(i.show&&i.title.text!==void 0){var c=new me(e.dCtx.ctx),h="rotate(".concat(i.title.rotate," 0 0)"),u=c.getTextRects(i.title.text,i.title.style.fontSize,i.title.style.fontFamily,h,!1);s.push({width:u.width,height:u.height})}else s.push({width:0,height:0})})),s}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,s=0,i=0,o=e.globals.yAxisScale.length>1?10:0,c=new wi(this.dCtx.ctx),h=function(u,g){var x=e.config.yaxis[g].floating,m=0;u.width>0&&!x?(m=u.width+o,(function(p){return e.globals.ignoreYAxisIndexes.indexOf(p)>-1})(g)&&(m=m-u.width-o)):m=x||c.isYAxisHidden(g)?0:5,e.config.yaxis[g].opposite?i+=m:s+=m,t+=m};return e.globals.yLabelsCoords.map((function(u,g){h(u,g)})),e.globals.yTitleCoords.map((function(u,g){h(u,g)})),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=i,t}}]),r})(),$A=(function(){function r(e){ye(this,r),this.w=e.w,this.dCtx=e}return we(r,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,s=t.config,i=t.globals;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===s.series.length)return 0;var o=function(b){return["bar","rangeBar","candlestick","boxPlot"].includes(b)},c=s.chart.type,h=0,u=o(c)?s.series.length:1;i.comboBarCount>0&&(u=i.comboBarCount),i.collapsedSeries.forEach((function(b){o(b.type)&&(u-=1)})),s.chart.stacked&&(u=1);var g=o(c)||i.comboBarCount>0,x=Math.abs(i.initialMaxX-i.initialMinX);if(g&&i.isXNumeric&&!i.isBarHorizontal&&u>0&&x!==0){x<=3&&(x=i.dataPoints);var m=x/e,p=i.minXDiff&&i.minXDiff/m>0?i.minXDiff/m:0;p>e/2&&(p/=2),(h=p*parseInt(s.plotOptions.bar.columnWidth,10)/100)<1&&(h=1),i.barPadForNumericAxis=h}return h}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,s=t.globals,i=this.dCtx.isSparkline||!s.axisCharts?0:10;["title","subtitle"].forEach((function(h){t.config[h].text!==void 0?i+=t.config[h].margin:i+=e.dCtx.isSparkline||!s.axisCharts?0:5})),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||s.axisCharts||(i+=10);var o=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),c=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight-=o.height+c.height+i,s.translateY+=o.height+c.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var s=this.w,i=new wi(this.dCtx.ctx);s.config.yaxis.forEach((function(o,c){s.globals.ignoreYAxisIndexes.indexOf(c)!==-1||o.floating||i.isYAxisHidden(c)||(o.opposite&&(s.globals.translateX-=t[c].width+e[c].width+parseInt(o.labels.style.fontSize,10)/1.2+12),s.globals.translateX<2&&(s.globals.translateX=2))}))}}]),r})(),Ac=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new VA(this),this.dimYAxis=new GA(this),this.dimXAxis=new qA(this),this.dimGrid=new $A(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return we(r,[{key:"plotCoords",value:function(){var e=this,t=this.w,s=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var i=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Xt(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach((function(c){var h=wv(c,2),u=h[0],g=h[1];e.gridPad[u]=Math.max(g,e.w.globals.markers.largestSize/1.5)})),this.gridPad.top=Math.max(i/2,this.gridPad.top),this.gridPad.bottom=Math.max(i/2,this.gridPad.bottom)),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var o=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*o,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(o>0?o:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,s=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),o=this.dimYAxis.getyAxisTitleCoords();s.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map((function(b,w){t.globals.yLabelsCoords.push({width:i[w].width,index:w}),t.globals.yTitleCoords.push({width:o[w].width,index:w})})),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var c=this.dimXAxis.getxAxisLabelsCoords(),h=this.dimXAxis.getxAxisGroupLabelsCoords(),u=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(c,u,h),s.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+t.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+t.config.xaxis.labels.offsetX;var g=this.yAxisWidth,x=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-u.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-c.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var m=10;(t.config.chart.type==="radar"||this.isSparkline)&&(g=0,x=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(g=0,x=0,m=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(c);var p=function(){s.translateX=g+e.datalabelsCoords.width,s.gridHeight=s.svgHeight-e.lgRect.height-x-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-g-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(m=s.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":s.translateY=m,p();break;case"top":s.translateY=this.lgRect.height+m,p();break;case"left":s.translateY=m,s.translateX=this.lgRect.width+g+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-x-12,s.gridWidth=s.svgWidth-this.lgRect.width-g-2*this.datalabelsCoords.width;break;case"right":s.translateY=m,s.translateX=g+this.datalabelsCoords.width,s.gridHeight=s.svgHeight-x-12,s.gridWidth=s.svgWidth-this.lgRect.width-g-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(o,i),new sf(this.ctx).setYAxisXPosition(i,o)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var o=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",c=s.plotOptions[o].offsetY,h=s.plotOptions[o].offsetX;if(!s.legend.show||s.legend.floating){t.gridHeight=t.svgHeight;var u=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(u,t.gridHeight),t.translateY=c,void(t.translateX=h+(t.svgWidth-t.gridWidth)/2)}switch(s.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=c-10,t.translateX=h+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+c+10,t.translateX=h+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=c,t.translateX=h+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight=s.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=c,t.translateX=h+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,s){var i=this.w,o=i.globals.hasXaxisGroups?2:1,c=s.height+e.height+t.height,h=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,u=i.globals.rotateXLabels?22:10,g=i.globals.rotateXLabels&&i.config.legend.position==="bottom"?10:0;this.xAxisHeight=c*h+o*u+g,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var x=0,m=0;i.config.yaxis.forEach((function(p){x+=p.labels.minWidth,m+=p.labels.maxWidth})),this.yAxisWidth<x&&(this.yAxisWidth=x),this.yAxisWidth>m&&(this.yAxisWidth=m)}}]),r})(),KA=(function(){function r(e){ye(this,r),this.w=e.w,this.lgCtx=e}return we(r,[{key:"getLegendStyles",value:function(){var e,t,s,i=document.createElement("style");i.setAttribute("type","text/css");var o=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(s=t.chart)===null||s===void 0?void 0:s.nonce)||this.w.config.chart.nonce;o&&i.setAttribute("nonce",o);var c=document.createTextNode(Qv);return i.appendChild(c),i}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var s=this,i=this.w;if(i.globals.axisCharts||i.config.chart.type==="radialBar"){i.globals.resized=!0;var o=null,c=null;i.globals.risingSeries=[],i.globals.axisCharts?(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),c=parseInt(o.getAttribute("data:realIndex"),10)):(o=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),c=parseInt(o.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach((function(x){s.riseCollapsedSeries(x.cs,x.csi,c)})):this.hideSeries({seriesEl:o,realIndex:c})}else{var h=i.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),u=i.config.chart.type;if(u==="pie"||u==="polarArea"||u==="donut"){var g=i.config.plotOptions.pie.donut.labels;new me(this.lgCtx.ctx).pathMouseDown(h,null),this.lgCtx.ctx.pie.printDataLabelsInner(h.node,g)}h.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,s=this.w,i=s.globals,o=J.clone(s.config.series);if(i.axisCharts){var c=s.config.yaxis[i.seriesYAxisReverseMap[t]],h={index:t,data:o[t].data.slice(),type:o[t].type||s.config.chart.type};if(c&&c.show&&c.showAlways)i.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(i.ancillaryCollapsedSeries.push(h),i.ancillaryCollapsedSeriesIndices.push(t));else if(i.collapsedSeriesIndices.indexOf(t)<0){i.collapsedSeries.push(h),i.collapsedSeriesIndices.push(t);var u=i.risingSeries.indexOf(t);i.risingSeries.splice(u,1)}}else i.collapsedSeries.push({index:t,data:o[t]}),i.collapsedSeriesIndices.push(t);return i.allSeriesCollapsed=i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===s.config.series.length,this._getSeriesBasedOnCollapsedState(o)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,s=e.realIndex,i=this.w,o=this.getSeriesAfterCollapsing({realIndex:s}),c=t.childNodes,h=0;h<c.length;h++)c[h].classList.contains("apexcharts-series-markers-wrap")&&(c[h].classList.contains("apexcharts-hide")?c[h].classList.remove("apexcharts-hide"):c[h].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,s){var i=this.w,o=J.clone(i.config.series);if(e.length>0){for(var c=0;c<e.length;c++)e[c].index===s&&(i.globals.axisCharts?o[s].data=e[c].data.slice():o[s]=e[c].data,typeof o[s]!="number"&&(o[s].hidden=!1),e.splice(c,1),t.splice(c,1),i.globals.risingSeries.push(s));o=this._getSeriesBasedOnCollapsedState(o),this.lgCtx.ctx.updateHelpers._updateSeries(o,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,s=0;return t.globals.axisCharts?e.forEach((function(i,o){t.globals.collapsedSeriesIndices.indexOf(o)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(o)<0||(e[o].data=[],s++)})):e.forEach((function(i,o){!t.globals.collapsedSeriesIndices.indexOf(o)<0&&(e[o]=0,s++)})),t.globals.allSeriesCollapsed=s===e.length,e}}]),r})(),ty=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new KA(this)}return we(r,[{key:"init",value:function(){var e=this.w,t=e.globals,s=e.config,i=s.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!t.axisCharts)&&s.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,s=e.fillcolor,i=this.w,o=document.createElement("span");o.classList.add("apexcharts-legend-marker");var c=i.config.legend.markers.shape||i.config.markers.shape,h=c;Array.isArray(c)&&(h=c[t]);var u=Array.isArray(i.config.legend.markers.size)?parseFloat(i.config.legend.markers.size[t]):parseFloat(i.config.legend.markers.size),g=Array.isArray(i.config.legend.markers.offsetX)?parseFloat(i.config.legend.markers.offsetX[t]):parseFloat(i.config.legend.markers.offsetX),x=Array.isArray(i.config.legend.markers.offsetY)?parseFloat(i.config.legend.markers.offsetY[t]):parseFloat(i.config.legend.markers.offsetY),m=Array.isArray(i.config.legend.markers.strokeWidth)?parseFloat(i.config.legend.markers.strokeWidth[t]):parseFloat(i.config.legend.markers.strokeWidth),p=o.style;if(p.height=2*(u+m)+"px",p.width=2*(u+m)+"px",p.left=g+"px",p.top=x+"px",i.config.legend.markers.customHTML)p.background="transparent",p.color=s[t],Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[t]&&(o.innerHTML=i.config.legend.markers.customHTML[t]()):o.innerHTML=i.config.legend.markers.customHTML();else{var b=new ur(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(h),seriesIndex:t,strokeWidth:m,size:u}),w=window.SVG().addTo(o).size("100%","100%"),y=new me(this.ctx).drawMarker(0,0,be(be({},b),{},{pointFillColor:Array.isArray(s)?s[t]:b.pointFillColor,shape:h}));i.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach((function(k){k.node.classList.contains("apexcharts-marker-triangle")?k.node.style.transform="translate(50%, 45%)":k.node.style.transform="translate(50%, 50%)"})),w.add(y)}return o}},{key:"drawLegends",value:function(){var e=this,t=this,s=this.w,i=s.config.legend.fontFamily,o=s.globals.seriesNames,c=s.config.legend.markers.fillColors?s.config.legend.markers.fillColors.slice():s.globals.colors.slice();if(s.config.chart.type==="heatmap"){var h=s.config.plotOptions.heatmap.colorScale.ranges;o=h.map((function(b){return b.name?b.name:b.from+" - "+b.to})),c=h.map((function(b){return b.color}))}else this.isBarsDistributed&&(o=s.globals.labels.slice());s.config.legend.customLegendItems.length&&(o=s.config.legend.customLegendItems);var u=s.globals.legendFormatter,g=s.config.legend.inverseOrder,x=[];s.globals.seriesGroups.length>1&&s.config.legend.clusterGroupedSeries&&s.globals.seriesGroups.forEach((function(b,w){x[w]=document.createElement("div"),x[w].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(w)),s.config.legend.clusterGroupedSeriesOrientation==="horizontal"?s.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):x[w].classList.add("apexcharts-legend-group-vertical")}));for(var m=function(b){var w,y=u(o[b],{seriesIndex:b,w:s}),k=!1,A=!1;if(s.globals.collapsedSeries.length>0)for(var S=0;S<s.globals.collapsedSeries.length;S++)s.globals.collapsedSeries[S].index===b&&(k=!0);if(s.globals.ancillaryCollapsedSeriesIndices.length>0)for(var T=0;T<s.globals.ancillaryCollapsedSeriesIndices.length;T++)s.globals.ancillaryCollapsedSeriesIndices[T]===b&&(A=!0);var C=e.createLegendMarker({i:b,fillcolor:c});me.setAttrs(C,{rel:b+1,"data:collapsed":k||A}),(k||A)&&C.classList.add("apexcharts-inactive-legend");var E=document.createElement("div"),L=document.createElement("span");L.classList.add("apexcharts-legend-text"),L.innerHTML=Array.isArray(y)?y.join(" "):y;var _=s.config.legend.labels.useSeriesColors?s.globals.colors[b]:Array.isArray(s.config.legend.labels.colors)?(w=s.config.legend.labels.colors)===null||w===void 0?void 0:w[b]:s.config.legend.labels.colors;_||(_=s.config.chart.foreColor),L.style.color=_,L.style.fontSize=parseFloat(s.config.legend.fontSize)+"px",L.style.fontWeight=s.config.legend.fontWeight,L.style.fontFamily=i||s.config.chart.fontFamily,me.setAttrs(L,{rel:b+1,i:b,"data:default-text":encodeURIComponent(y),"data:collapsed":k||A}),E.appendChild(C),E.appendChild(L);var D=new Tt(e.ctx);s.config.legend.showForZeroSeries||D.getSeriesTotalByIndex(b)===0&&D.seriesHaveSameValues(b)&&!D.isSeriesNull(b)&&s.globals.collapsedSeriesIndices.indexOf(b)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&E.classList.add("apexcharts-hidden-zero-series"),s.config.legend.showForNullSeries||D.isSeriesNull(b)&&s.globals.collapsedSeriesIndices.indexOf(b)===-1&&s.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1&&E.classList.add("apexcharts-hidden-null-series"),x.length?s.globals.seriesGroups.forEach((function(H,z){var B;H.includes((B=s.config.series[b])===null||B===void 0?void 0:B.name)&&(s.globals.dom.elLegendWrap.appendChild(x[z]),x[z].appendChild(E))})):s.globals.dom.elLegendWrap.appendChild(E),s.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(s.config.legend.horizontalAlign)),s.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+s.config.legend.position),E.classList.add("apexcharts-legend-series"),E.style.margin="".concat(s.config.legend.itemMargin.vertical,"px ").concat(s.config.legend.itemMargin.horizontal,"px"),s.globals.dom.elLegendWrap.style.width=s.config.legend.width?s.config.legend.width+"px":"",s.globals.dom.elLegendWrap.style.height=s.config.legend.height?s.config.legend.height+"px":"",me.setAttrs(E,{rel:b+1,seriesName:J.escapeString(o[b]),"data:collapsed":k||A}),(k||A)&&E.classList.add("apexcharts-inactive-legend"),s.config.legend.onItemClick.toggleDataSeries||E.classList.add("apexcharts-no-click")},p=g?o.length-1:0;g?p>=0:p<=o.length-1;g?p--:p++)m(p);s.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),s.config.legend.onItemHover.highlightDataSeries&&s.config.legend.customLegendItems.length===0&&(s.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),s.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var s=this.w,i=s.globals.dom.elLegendWrap,o=i.clientHeight,c=0,h=0;if(s.config.legend.position==="bottom")h=s.globals.svgHeight-Math.min(o,s.globals.svgHeight/2)-5;else if(s.config.legend.position==="top"){var u=new Ac(this.ctx),g=u.dimHelpers.getTitleSubtitleCoords("title").height,x=u.dimHelpers.getTitleSubtitleCoords("subtitle").height;h=(g>0?g-10:0)+(x>0?x-10:0)}i.style.position="absolute",c=c+e+s.config.legend.offsetX,h=h+t+s.config.legend.offsetY,i.style.left=c+"px",i.style.top=h+"px",s.config.legend.position==="right"&&(i.style.left="auto",i.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach((function(m){i.style[m]&&(i.style[m]=parseInt(s.config.legend[m],10)+"px")}))}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Ac(this.ctx),s=t.dimHelpers.getTitleSubtitleCoords("title"),i=t.dimHelpers.getTitleSubtitleCoords("subtitle"),o=0;e.config.legend.position==="top"&&(o=s.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,o)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),s=0;e.config.legend.position==="left"&&(s=20),e.config.legend.position==="right"&&(s=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,s=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new Ws(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&s&&new Ws(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(e.target.getAttribute("rel"),10)-1,i=e.target.getAttribute("data:collapsed")==="true",o=this.w.config.chart.events.legendClick;typeof o=="function"&&o(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var c=this.w.config.legend.markers.onClick;typeof c=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(c(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,i)}}}]),r})(),sy=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return we(r,[{key:"createToolbar",value:function(){var e=this,t=this.w,s=function(){return document.createElement("div")},i=s();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var o=0;o<this.t.customIcons.length;o++)this.elCustomIcons.push(s());var c=[],h=function(m,p,b){var w=m.toLowerCase();e.t[w]&&t.config.chart.zoom.enabled&&c.push({el:p,icon:typeof e.t[w]=="string"?e.t[w]:b,title:e.localeValues[m],class:"apexcharts-".concat(w,"-icon")})};h("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),h("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var u=function(m){e.t[m]&&t.config.chart[m].enabled&&c.push({el:m==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[m]=="string"?e.t[m]:m==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[m==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(m,"-icon")})};u("zoom"),u("selection"),this.t.pan&&t.config.chart.zoom.enabled&&c.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),h("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&c.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var g=0;g<this.elCustomIcons.length;g++)c.push({el:this.elCustomIcons[g],icon:this.t.customIcons[g].icon,title:this.t.customIcons[g].title,index:this.t.customIcons[g].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[g].class});c.forEach((function(m,p){m.index&&J.moveIndexInArray(c,p,m.index)}));for(var x=0;x<c.length;x++)me.setAttrs(c[x].el,{class:c[x].class,title:c[x].title}),c[x].el.innerHTML=c[x].icon,i.appendChild(c[x].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),me.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],s=0;s<t.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=t[s].title,me.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(t[s].name),title:t[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach((function(s){s.classList.contains("exportSVG")?s.addEventListener("click",e.handleDownload.bind(e,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",e.handleDownload.bind(e,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",e.handleDownload.bind(e,"csv"))}));for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){t.ctx.toolbar.toggleOtherControls();var s=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],s.classList.contains(t.ctx.toolbar.selectedClass)?s.classList.remove(t.ctx.toolbar.selectedClass):s.classList.add(t.ctx.toolbar.selectedClass)}))}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,s=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach((function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)}))}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach((function(s){s&&s.classList.remove(e.selectedClass)}))}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,s=(this.minX+t)/2,i=(this.maxX+t)/2,o=this._getNewMinXMaxX(s,i);e.globals.disableZoomIn||this.zoomUpdateOptions(o.minX,o.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,s=this.minX-(t-this.minX),i=this.maxX-(t-this.maxX),o=this._getNewMinXMaxX(s,i);e.globals.disableZoomOut||this.zoomUpdateOptions(o.minX,o.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(e):e,maxX:s?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var s=this.w;if(e!==void 0||t!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=s.globals.dataPoints),t-e<2))){var i={min:e,max:t},o=this.getBeforeZoomRange(i);o&&(i=o.xaxis);var c={xaxis:i},h=J.clone(s.globals.initialConfig.yaxis);s.config.chart.group||(c.yaxis=h),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(c,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,h)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),s}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout((function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")}),0)}},{key:"handleDownload",value:function(e){var t=this.w,s=new ul(this.ctx);switch(e){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach((function(t){var s=t.w;if(s.globals.lastXAxis.min=s.globals.initialConfig.xaxis.min,s.globals.lastXAxis.max=s.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var i=s.config.chart.events.beforeResetZoom(t,s);i&&t.updateHelpers.revertDefaultAxisMinMax(i)}typeof s.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var o=t.ctx.series.emptyCollapsedSeries(J.clone(s.globals.initialSeries));t.updateHelpers._updateSeries(o,s.config.chart.animations.dynamicAnimation.enabled)}))}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),r})(),ZA=(function(r){El(t,sy);var e=_l(t);function t(s){var i;return ye(this,t),(i=e.call(this,s)).ctx=s,i.w=s.w,i.dragged=!1,i.graphics=new me(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i.debounceTimer=null,i.debounceDelay=100,i.wheelDelay=400,i}return we(t,[{key:"init",value:function(s){var i=this,o=s.xyRatios,c=this.w,h=this;this.xyRatios=o,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=c.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new At(0,0,c.globals.gridWidth,c.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),c.globals.dom.Paper.add(this.zoomRect),c.globals.dom.Paper.add(this.selectionRect),c.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:c.globals.gridWidth,maxY:c.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):c.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:c.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=c.globals.dom.baseEl.querySelector("".concat(c.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach((function(u){i.hoverArea.addEventListener(u,h.svgMouseEvents.bind(h,o),{capture:!1,passive:!0})})),c.config.chart.zoom.enabled&&c.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",h.mouseWheelEvent.bind(h),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,i){var o=this.w,c=this.ctx.toolbar,h=o.globals.zoomEnabled?o.config.chart.zoom.type:o.config.chart.selection.type,u=o.config.chart.toolbar.autoSelected;if(i.shiftKey?(this.shiftWasPressed=!0,c.enableZoomPanFromToolbar(u==="pan"?"zoom":"pan")):this.shiftWasPressed&&(c.enableZoomPanFromToolbar(u),this.shiftWasPressed=!1),i.target){var g,x=i.target.classList;if(i.target.parentNode&&i.target.parentNode!==null&&(g=i.target.parentNode.classList),!(x.contains("apexcharts-legend-marker")||x.contains("apexcharts-legend-text")||g&&g.contains("apexcharts-toolbar"))){if(this.clientX=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientX:i.type==="touchend"?i.changedTouches[0].clientX:i.clientX,this.clientY=i.type==="touchmove"||i.type==="touchstart"?i.touches[0].clientY:i.type==="touchend"?i.changedTouches[0].clientY:i.clientY,i.type==="mousedown"&&i.which===1||i.type==="touchstart"){var m=this.gridRect.getBoundingClientRect();this.startX=this.clientX-m.left-o.globals.barPadForNumericAxis,this.startY=this.clientY-m.top,this.dragged=!1,this.w.globals.mousedown=!0}(i.type==="mousemove"&&i.which===1||i.type==="touchmove")&&(this.dragged=!0,o.globals.panEnabled?(o.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:h,xyRatios:s})):(this.w.globals.mousedown&&o.globals.zoomEnabled||this.w.globals.mousedown&&o.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:h}))),i.type!=="mouseup"&&i.type!=="touchend"&&i.type!=="mouseleave"||this.handleMouseUp({zoomtype:h}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(s){var i,o=s.zoomtype,c=s.isResized,h=this.w,u=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();u&&(this.w.globals.mousedown||c)&&(this.endX=this.clientX-u.left-h.globals.barPadForNumericAxis,this.endY=this.clientY-u.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(h.globals.zoomEnabled||h.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:o})),h.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(s){var i=this,o=this.w;s.preventDefault();var c=Date.now();c-o.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(s),o.globals.lastWheelExecution=c),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){c-o.globals.lastWheelExecution>i.wheelDelay&&(i.executeMouseWheelZoom(s),o.globals.lastWheelExecution=c)}),this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(s){var i,o=this.w;this.minX=o.globals.isRangeBar?o.globals.minY:o.globals.minX,this.maxX=o.globals.isRangeBar?o.globals.maxY:o.globals.maxX;var c=(i=this.gridRect)===null||i===void 0?void 0:i.getBoundingClientRect();if(c){var h,u,g,x=(s.clientX-c.left)/c.width,m=this.minX,p=this.maxX,b=p-m;if(s.deltaY<0){var w=m+x*b;u=w-(h=.5*b)/2,g=w+h/2}else u=m-(h=1.5*b)/2,g=p+h/2;if(!o.globals.isRangeBar){u=Math.max(u,o.globals.initialMinX),g=Math.min(g,o.globals.initialMaxX);var y=.01*(o.globals.initialMaxX-o.globals.initialMinX);if(g-u<y){var k=(u+g)/2;u=k-y/2,g=k+y/2}}var A=this._getNewMinXMaxX(u,g);isNaN(A.minX)||isNaN(A.maxX)||this.zoomUpdateOptions(A.minX,A.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var s=this,i=this.w;if(this.selectionRect){var o=this.selectionRect.node.getBoundingClientRect();o.width>0&&o.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(c,h,u,g,x){return x==="l"||x==="r"?c.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):c.circle(0)},updateHandle:function(c,h){return c.center(h[0],h[1])}}).resize().on("resize",(function(){var c=i.globals.zoomEnabled?i.config.chart.zoom.type:i.config.chart.selection.type;s.handleMouseUp({zoomtype:c,isResized:!0})})))}}},{key:"preselectedSelection",value:function(){var s=this.w,i=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(be(be({},s.globals.selection),{},{translateX:s.globals.translateX,translateY:s.globals.translateY}));else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var o=(s.config.chart.selection.xaxis.min-s.globals.minX)/i.xRatio,c=s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/i.xRatio-o;s.globals.isRangeBar&&(o=(s.config.chart.selection.xaxis.min-s.globals.yAxisScale[0].niceMin)/i.invertedYRatio,c=(s.config.chart.selection.xaxis.max-s.config.chart.selection.xaxis.min)/i.invertedYRatio);var h={x:o,y:0,width:c,height:s.globals.gridHeight,translateX:s.globals.translateX,translateY:s.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(h),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var i=s.x,o=s.y,c=s.width,h=s.height,u=s.translateX,g=u===void 0?0:u,x=s.translateY,m=x===void 0?0:x,p=this.w,b=this.zoomRect,w=this.selectionRect;if(this.dragged||p.globals.selection!==null){var y={transform:"translate("+g+", "+m+")"};p.globals.zoomEnabled&&this.dragged&&(c<0&&(c=1),b.attr({x:i,y:o,width:c,height:h,fill:p.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":p.config.chart.zoom.zoomedArea.fill.opacity,stroke:p.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":p.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":p.config.chart.zoom.zoomedArea.stroke.opacity}),me.setAttrs(b.node,y)),p.globals.selectionEnabled&&(w.attr({x:i,y:o,width:c>0?c:0,height:h>0?h:0,fill:p.config.chart.selection.fill.color,"fill-opacity":p.config.chart.selection.fill.opacity,stroke:p.config.chart.selection.stroke.color,"stroke-width":p.config.chart.selection.stroke.width,"stroke-dasharray":p.config.chart.selection.stroke.dashArray,"stroke-opacity":p.config.chart.selection.stroke.opacity}),me.setAttrs(w.node,y))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var i=s.context,o=s.zoomtype,c=this.w,h=i,u=this.gridRect.getBoundingClientRect(),g=h.startX-1,x=h.startY,m=!1,p=!1,b=h.clientX-u.left-c.globals.barPadForNumericAxis,w=h.clientY-u.top,y=b-g,k=w-x,A={translateX:c.globals.translateX,translateY:c.globals.translateY};return Math.abs(y+g)>c.globals.gridWidth?y=c.globals.gridWidth-g:b<0&&(y=g),g>b&&(m=!0,y=Math.abs(y)),x>w&&(p=!0,k=Math.abs(k)),A=be(be({},A=o==="x"?{x:m?g-y:g,y:0,width:y,height:c.globals.gridHeight}:o==="y"?{x:0,y:p?x-k:x,width:c.globals.gridWidth,height:k}:{x:m?g-y:g,y:p?x-k:x,width:y,height:k}),{},{translateX:c.globals.translateX,translateY:c.globals.translateY}),h.drawSelectionRect(A),h.selectionDragging("resizing"),A}},{key:"selectionDragging",value:function(s,i){var o=this,c=this.w;if(i){i.preventDefault();var h=i.detail,u=h.handler,g=h.box,x=g.x,m=g.y;x<this.constraints.x&&(x=this.constraints.x),m<this.constraints.y&&(m=this.constraints.y),g.x2>this.constraints.x2&&(x=this.constraints.x2-g.w),g.y2>this.constraints.y2&&(m=this.constraints.y2-g.h),u.move(x,m);var p=this.xyRatios,b=this.selectionRect,w=0;s==="resizing"&&(w=30);var y=function(A){return parseFloat(b.node.getAttribute(A))},k={x:y("x"),y:y("y"),width:y("width"),height:y("height")};c.globals.selection=k,typeof c.config.chart.events.selection=="function"&&c.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout((function(){var A,S,T,C,E=o.gridRect.getBoundingClientRect(),L=b.node.getBoundingClientRect();c.globals.isRangeBar?(A=c.globals.yAxisScale[0].niceMin+(L.left-E.left)*p.invertedYRatio,S=c.globals.yAxisScale[0].niceMin+(L.right-E.left)*p.invertedYRatio,T=0,C=1):(A=c.globals.xAxisScale.niceMin+(L.left-E.left)*p.xRatio,S=c.globals.xAxisScale.niceMin+(L.right-E.left)*p.xRatio,T=c.globals.yAxisScale[0].niceMin+(E.bottom-L.bottom)*p.yRatio[0],C=c.globals.yAxisScale[0].niceMax-(L.top-E.top)*p.yRatio[0]);var _={xaxis:{min:A,max:S},yaxis:{min:T,max:C}};c.config.chart.events.selection(o.ctx,_),c.config.chart.brush.enabled&&c.config.chart.events.brushScrolled!==void 0&&c.config.chart.events.brushScrolled(o.ctx,_)}),w))}}},{key:"selectionDrawn",value:function(s){var i,o,c=s.context,h=s.zoomtype,u=this.w,g=c,x=this.xyRatios,m=this.ctx.toolbar,p=u.globals.zoomEnabled?g.zoomRect.node.getBoundingClientRect():g.selectionRect.node.getBoundingClientRect(),b=g.gridRect.getBoundingClientRect(),w=p.left-b.left-u.globals.barPadForNumericAxis,y=p.right-b.left-u.globals.barPadForNumericAxis,k=p.top-b.top,A=p.bottom-b.top;u.globals.isRangeBar?(i=u.globals.yAxisScale[0].niceMin+w*x.invertedYRatio,o=u.globals.yAxisScale[0].niceMin+y*x.invertedYRatio):(i=u.globals.xAxisScale.niceMin+w*x.xRatio,o=u.globals.xAxisScale.niceMin+y*x.xRatio);var S=[],T=[];if(u.config.yaxis.forEach((function(z,B){var P=u.globals.seriesYAxisMap[B][0],W=u.globals.yAxisScale[B].niceMax-x.yRatio[P]*k,V=u.globals.yAxisScale[B].niceMax-x.yRatio[P]*A;S.push(W),T.push(V)})),g.dragged&&(g.dragX>10||g.dragY>10)&&i!==o){if(u.globals.zoomEnabled){var C=J.clone(u.globals.initialConfig.yaxis),E=J.clone(u.globals.initialConfig.xaxis);if(u.globals.zoomed=!0,u.config.xaxis.convertedCatToNumeric&&(i=Math.floor(i),o=Math.floor(o),i<1&&(i=1,o=u.globals.dataPoints),o-i<2&&(o=i+1)),h!=="xy"&&h!=="x"||(E={min:i,max:o}),h!=="xy"&&h!=="y"||C.forEach((function(z,B){C[B].min=T[B],C[B].max=S[B]})),m){var L=m.getBeforeZoomRange(E,C);L&&(E=L.xaxis?L.xaxis:E,C=L.yaxis?L.yaxis:C)}var _={xaxis:E};u.config.chart.group||(_.yaxis=C),g.ctx.updateHelpers._updateOptions(_,!1,g.w.config.chart.animations.dynamicAnimation.enabled),typeof u.config.chart.events.zoomed=="function"&&m.zoomCallback(E,C)}else if(u.globals.selectionEnabled){var D,H=null;D={min:i,max:o},h!=="xy"&&h!=="y"||(H=J.clone(u.config.yaxis)).forEach((function(z,B){H[B].min=T[B],H[B].max=S[B]})),u.globals.selection=g.selection,typeof u.config.chart.events.selection=="function"&&u.config.chart.events.selection(g.ctx,{xaxis:D,yaxis:H})}}}},{key:"panDragging",value:function(s){var i=s.context,o=this.w,c=i;if(o.globals.lastClientPosition.x!==void 0){var h=o.globals.lastClientPosition.x-c.clientX,u=o.globals.lastClientPosition.y-c.clientY;Math.abs(h)>Math.abs(u)&&h>0?this.moveDirection="left":Math.abs(h)>Math.abs(u)&&h<0?this.moveDirection="right":Math.abs(u)>Math.abs(h)&&u>0?this.moveDirection="up":Math.abs(u)>Math.abs(h)&&u<0&&(this.moveDirection="down")}o.globals.lastClientPosition={x:c.clientX,y:c.clientY};var g=o.globals.isRangeBar?o.globals.minY:o.globals.minX,x=o.globals.isRangeBar?o.globals.maxY:o.globals.maxX;c.panScrolled(g,x)}},{key:"panScrolled",value:function(s,i){var o=this.w,c=this.xyRatios,h=J.clone(o.globals.initialConfig.yaxis),u=c.xRatio,g=o.globals.minX,x=o.globals.maxX;o.globals.isRangeBar&&(u=c.invertedYRatio,g=o.globals.minY,x=o.globals.maxY),this.moveDirection==="left"?(s=g+o.globals.gridWidth/15*u,i=x+o.globals.gridWidth/15*u):this.moveDirection==="right"&&(s=g-o.globals.gridWidth/15*u,i=x-o.globals.gridWidth/15*u),o.globals.isRangeBar||(s<o.globals.initialMinX||i>o.globals.initialMaxX)&&(s=g,i=x);var m={xaxis:{min:s,max:i}};o.config.chart.group||(m.yaxis=h),this.updateScrolledChart(m,s,i)}},{key:"updateScrolledChart",value:function(s,i,o){var c=this.w;if(this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof c.config.chart.events.scrolled=="function"){var h={xaxis:{min:i,max:o}};c.config.chart.events.scrolled(this.ctx,h),this.ctx.events.fireEvent("scrolled",h)}}}]),t})(),ay=(function(){function r(e){ye(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return we(r,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,s=e.elGrid,i=e.clientX,o=e.clientY,c=this.w,h=s.getBoundingClientRect(),u=h.width,g=h.height,x=u/(c.globals.dataPoints-1),m=g/c.globals.dataPoints,p=this.hasBars();!c.globals.comboCharts&&!p||c.config.xaxis.convertedCatToNumeric||(x=u/c.globals.dataPoints);var b=i-h.left-c.globals.barPadForNumericAxis,w=o-h.top;b<0||w<0||b>u||w>g?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):c.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):c.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var y=Math.round(b/x),k=Math.floor(w/m);p&&!c.config.xaxis.convertedCatToNumeric&&(y=Math.ceil(b/x),y-=1);var A=null,S=null,T=c.globals.seriesXvalues.map((function(D){return D.filter((function(H){return J.isNumber(H)}))})),C=c.globals.seriesYvalues.map((function(D){return D.filter((function(H){return J.isNumber(H)}))}));if(c.globals.isXNumeric){var E=this.ttCtx.getElGrid().getBoundingClientRect(),L=b*(E.width/u),_=w*(E.height/g);A=(S=this.closestInMultiArray(L,_,T,C)).index,y=S.j,A!==null&&c.globals.hasNullValues&&(T=c.globals.seriesXvalues[A],y=(S=this.closestInArray(L,T)).j)}return c.globals.capturedSeriesIndex=A===null?-1:A,(!y||y<1)&&(y=0),c.globals.isBarHorizontal?c.globals.capturedDataPointIndex=k:c.globals.capturedDataPointIndex=y,{capturedSeries:A,j:c.globals.isBarHorizontal?k:y,hoverX:b,hoverY:w}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,s=0,i=e.map((function(c,h){return c.length>0?h:-1})),o=0;o<i.length;o++)if(i[o]!==-1&&t.globals.collapsedSeriesIndices.indexOf(o)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(o)===-1){s=i[o];break}return s}},{key:"closestInMultiArray",value:function(e,t,s,i){for(var o,c=this.w,h=1/0,u=null,g=null,x=0;x<s.length;x++)if(o=x,c.globals.collapsedSeriesIndices.indexOf(o)===-1&&c.globals.ancillaryCollapsedSeriesIndices.indexOf(o)===-1)for(var m=s[x],p=i[x],b=Math.min(m.length,p.length),w=0;w<b;w++){var y=e-m[w],k=Math.sqrt(y*y);if(!c.globals.allSeriesHasEqualX){var A=t-p[w];k=Math.sqrt(y*y+A*A)}k<h&&(h=k,u=x,g=w)}return{index:u,j:g}}},{key:"closestInArray",value:function(e,t){for(var s=t[0],i=null,o=Math.abs(e-s),c=0;c<t.length;c++){var h=Math.abs(e-t[c]);h<o&&(o=h,i=c)}return{j:i}}},{key:"isXoverlap",value:function(e){var t=[],s=this.w.globals.seriesX.filter((function(o){return o[0]!==void 0}));if(s.length>0)for(var i=0;i<s.length-1;i++)s[i][e]!==void 0&&s[i+1][e]!==void 0&&s[i][e]!==s[i+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,s=0;s<t.length-1;s++)if(t[s].data.length!==t[s+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Xt(e).reduce((function(t,s){return t+s.getBBox().height}),0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],s=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");s=Xt(s),t&&(s=s.filter((function(o){var c=Number(o.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(c)===-1}))),s.sort((function(o,c){var h=Number(o.getAttribute("data:realIndex")),u=Number(c.getAttribute("data:realIndex"));return u<h?1:u>h?-1:0}));var i=[];return s.forEach((function(o){i.push(o.querySelector(".apexcharts-marker"))})),i}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var s=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),o=e.getAttribute("shape");return new me(this.ctx).getMarkerPath(s,i,o,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,s=t.config.markers.hover.size;return s===void 0&&(s=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=s.allTooltipSeriesGroups,o=0;o<i.length;o++)e==="enable"?(i[o].classList.add("apexcharts-active"),i[o].style.display=t.config.tooltip.items.display):(i[o].classList.remove("apexcharts-active"),i[o].style.display="none")}}]),r})(),QA=(function(){function r(e){ye(this,r),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new ay(e)}return we(r,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,s=t===void 0||t,i=e.ttItems,o=e.i,c=o===void 0?0:o,h=e.j,u=h===void 0?null:h,g=e.y1,x=e.y2,m=e.e,p=this.w;p.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:c,j:u,y1:g,y2:x,w:p}):this.toggleActiveInactiveSeries(s,c);var b=this.getValuesToPrint({i:c,j:u});this.printLabels({i:c,j:u,values:b,ttItems:i,shared:s,e:m});var w=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=w.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=w.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,s=this,i=e.i,o=e.j,c=e.values,h=e.ttItems,u=e.shared,g=e.e,x=this.w,m=[],p=function(E){return x.globals.seriesGoals[E]&&x.globals.seriesGoals[E][o]&&Array.isArray(x.globals.seriesGoals[E][o])},b=c.xVal,w=c.zVal,y=c.xAxisTTVal,k="",A=x.globals.colors[i];o!==null&&x.config.plotOptions.bar.distributed&&(A=x.globals.colors[o]);for(var S=function(E,L){var _=s.getFormatters(i);k=s.getSeriesName({fn:_.yLbTitleFormatter,index:i,seriesIndex:i,j:o}),x.config.chart.type==="treemap"&&(k=_.yLbTitleFormatter(String(x.config.series[i].data[o].x),{series:x.globals.series,seriesIndex:i,dataPointIndex:o,w:x}));var D=x.config.tooltip.inverseOrder?L:E;if(x.globals.axisCharts){var H=function(P){var W,V,Q,Y;return x.globals.isRangeData?_.yLbFormatter((W=x.globals.seriesRangeStart)===null||W===void 0||(V=W[P])===null||V===void 0?void 0:V[o],{series:x.globals.seriesRangeStart,seriesIndex:P,dataPointIndex:o,w:x})+" - "+_.yLbFormatter((Q=x.globals.seriesRangeEnd)===null||Q===void 0||(Y=Q[P])===null||Y===void 0?void 0:Y[o],{series:x.globals.seriesRangeEnd,seriesIndex:P,dataPointIndex:o,w:x}):_.yLbFormatter(x.globals.series[P][o],{series:x.globals.series,seriesIndex:P,dataPointIndex:o,w:x})};if(u)_=s.getFormatters(D),k=s.getSeriesName({fn:_.yLbTitleFormatter,index:D,seriesIndex:i,j:o}),A=x.globals.colors[D],t=H(D),p(D)&&(m=x.globals.seriesGoals[D][o].map((function(P){return{attrs:P,val:_.yLbFormatter(P.value,{seriesIndex:D,dataPointIndex:o,w:x})}})));else{var z,B=g==null||(z=g.target)===null||z===void 0?void 0:z.getAttribute("fill");B&&(B.indexOf("url")!==-1?B.indexOf("Pattern")!==-1&&(A=x.globals.dom.baseEl.querySelector(B.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):A=B),t=H(i),p(i)&&Array.isArray(x.globals.seriesGoals[i][o])&&(m=x.globals.seriesGoals[i][o].map((function(P){return{attrs:P,val:_.yLbFormatter(P.value,{seriesIndex:i,dataPointIndex:o,w:x})}})))}}o===null&&(t=_.yLbFormatter(x.globals.series[i],be(be({},x),{},{seriesIndex:i,dataPointIndex:i}))),s.DOMHandling({i,t:D,j:o,ttItems:h,values:{val:t,goalVals:m,xVal:b,xAxisTTVal:y,zVal:w},seriesName:k,shared:u,pColor:A})},T=0,C=x.globals.series.length-1;T<x.globals.series.length;T++,C--)S(T,C)}},{key:"getFormatters",value:function(e){var t,s=this.w,i=s.globals.yLabelFormatters[e];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(i=s.globals.ttVal[e]&&s.globals.ttVal[e].formatter,t=s.globals.ttVal[e]&&s.globals.ttVal[e].title&&s.globals.ttVal[e].title.formatter):(i=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(t=s.globals.ttVal.title.formatter)):t=s.config.tooltip.y.title.formatter,typeof i!="function"&&(i=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(o){return o}),typeof t!="function"&&(t=function(o){return o?o+": ":""}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,s=e.index,i=e.seriesIndex,o=e.j,c=this.w;return t(String(c.globals.seriesNames[s]),{series:c.globals.series,seriesIndex:i,dataPointIndex:o,w:c})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,s=e.j,i=e.ttItems,o=e.values,c=e.seriesName,h=e.shared,u=e.pColor,g=this.w,x=this.ttCtx,m=o.val,p=o.goalVals,b=o.xVal,w=o.xAxisTTVal,y=o.zVal,k=null;k=i[t].children,g.config.tooltip.fillSeriesColor&&(i[t].style.backgroundColor=u,k[0].style.display="none"),x.showTooltipTitle&&(x.tooltipTitle===null&&(x.tooltipTitle=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),x.tooltipTitle.innerHTML=b),x.isXAxisTooltipEnabled&&(x.xaxisTooltipText.innerHTML=w!==""?w:b);var A=i[t].querySelector(".apexcharts-tooltip-text-y-label");A&&(A.innerHTML=c||"");var S=i[t].querySelector(".apexcharts-tooltip-text-y-value");S&&(S.innerHTML=m!==void 0?m:""),k[0]&&k[0].classList.contains("apexcharts-tooltip-marker")&&(g.config.tooltip.marker.fillColors&&Array.isArray(g.config.tooltip.marker.fillColors)&&(u=g.config.tooltip.marker.fillColors[t]),g.config.tooltip.fillSeriesColor?k[0].style.backgroundColor=u:k[0].style.color=u),g.config.tooltip.marker.show||(k[0].style.display="none");var T=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),C=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(p.length&&g.globals.seriesGoals[t]){var E=function(){var D="<div>",H="<div>";p.forEach((function(z,B){D+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(z.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(z.attrs.name,"</div>"),H+="<div>".concat(z.val,"</div>")})),T.innerHTML=D+"</div>",C.innerHTML=H+"</div>"};h?g.globals.seriesGoals[t][s]&&Array.isArray(g.globals.seriesGoals[t][s])?E():(T.innerHTML="",C.innerHTML=""):E()}else T.innerHTML="",C.innerHTML="";if(y!==null&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=g.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=y!==void 0?y:""),h&&k[0]){if(g.config.tooltip.hideEmptySeries){var L=i[t].querySelector(".apexcharts-tooltip-marker"),_=i[t].querySelector(".apexcharts-tooltip-text");parseFloat(m)==0?(L.style.display="none",_.style.display="none"):(L.style.display="block",_.style.display="block")}m==null||g.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||g.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(x.tConfig.enabledOnSeries)&&x.tConfig.enabledOnSeries.indexOf(t)===-1?k[0].parentNode.style.display="none":k[0].parentNode.style.display=g.config.tooltip.items.display}else Array.isArray(x.tConfig.enabledOnSeries)&&x.tConfig.enabledOnSeries.indexOf(t)===-1&&(k[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var s=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=s.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));i&&(i.classList.add("apexcharts-active"),i.style.display=s.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,s=e.j,i=this.w,o=this.ctx.series.filteredSeriesX(),c="",h="",u=null,g=null,x={series:i.globals.series,seriesIndex:t,dataPointIndex:s,w:i},m=i.globals.ttZFormatter;s===null?g=i.globals.series[t]:i.globals.isXNumeric&&i.config.chart.type!=="treemap"?(c=o[t][s],o[t].length===0&&(c=o[this.tooltipUtil.getFirstActiveXArray(o)][s])):c=new tf(this.ctx).isFormatXY()?i.config.series[t].data[s]!==void 0?i.config.series[t].data[s].x:"":i.globals.labels[s]!==void 0?i.globals.labels[s]:"";var p=c;return i.globals.isXNumeric&&i.config.xaxis.type==="datetime"?c=new Dl(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,p,p,{i:void 0,dateFormatter:new Kt(this.ctx).formatDate,w:this.w}):c=i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](p,x):i.globals.xLabelFormatter(p,x),i.config.tooltip.x.formatter!==void 0&&(c=i.globals.ttKeyFormatter(p,x)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(u=m(i.globals.seriesZ[t][s],i)),h=typeof i.config.xaxis.tooltip.formatter=="function"?i.globals.xaxisTooltipFormatter(p,x):c,{val:Array.isArray(g)?g.join(" "):g,xVal:Array.isArray(c)?c.join(" "):c,xAxisTTVal:Array.isArray(h)?h.join(" "):h,zVal:u}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,s=e.j,i=e.y1,o=e.y2,c=e.w,h=this.ttCtx.getElTooltip(),u=c.config.tooltip.custom;Array.isArray(u)&&u[t]&&(u=u[t]);var g=u({ctx:this.ctx,series:c.globals.series,seriesIndex:t,dataPointIndex:s,y1:i,y2:o,w:c});typeof g=="string"||typeof g=="number"?h.innerHTML=g:(g instanceof Element||typeof g.nodeName=="string")&&(h.innerHTML="",h.appendChild(g.cloneNode(!0)))}}]),r})(),iy=(function(){function r(e){ye(this,r),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return we(r,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,i=this.w,o=s.getElXCrosshairs(),c=e-s.xcrosshairsWidth/2,h=i.globals.labels.slice().length;if(t!==null&&(c=i.globals.gridWidth/h*t),o===null||i.globals.isBarHorizontal||(o.setAttribute("x",c),o.setAttribute("x1",c),o.setAttribute("x2",c),o.setAttribute("y2",i.globals.gridHeight),o.classList.add("apexcharts-active")),c<0&&(c=0),c>i.globals.gridWidth&&(c=i.globals.gridWidth),s.isXAxisTooltipEnabled){var u=c;i.config.xaxis.crosshairs.width!=="tickWidth"&&i.config.xaxis.crosshairs.width!=="barWidth"||(u=c+s.xcrosshairsWidth/2),this.moveXAxisTooltip(u)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&me.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&me.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var i=s.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var o;o=new me(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=o.width+"px",s.xaxisTooltip.style.left=e+"px",s.xaxisTooltip.style.top=i+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),o=t.globals.translateY+i,c=s.yaxisTTEls[e].getBoundingClientRect(),h=c.height,u=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(u-=c.width),o-=h/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&o>0&&o<t.globals.gridHeight?(s.yaxisTTEls[e].classList.add("apexcharts-active"),s.yaxisTTEls[e].style.top=o+"px",s.yaxisTTEls[e].style.left=u+t.config.yaxis[e].tooltip.offsetX+"px"):s.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=this.w,o=this.ttCtx,c=o.getElTooltip(),h=o.tooltipRect,u=s!==null?parseFloat(s):1,g=parseFloat(e)+u+5,x=parseFloat(t)+u/2;if(g>i.globals.gridWidth/2&&(g=g-h.ttWidth-u-10),g>i.globals.gridWidth-h.ttWidth-10&&(g=i.globals.gridWidth-h.ttWidth),g<-20&&(g=-20),i.config.tooltip.followCursor){var m=o.getElGrid().getBoundingClientRect();(g=o.e.clientX-m.left)>i.globals.gridWidth/2&&(g-=o.tooltipRect.ttWidth),(x=o.e.clientY+i.globals.translateY-m.top)>i.globals.gridHeight/2&&(x-=o.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||h.ttHeight/2+x>i.globals.gridHeight&&(x=i.globals.gridHeight-h.ttHeight+i.globals.translateY);isNaN(g)||(g+=i.globals.translateX,c.style.left=g+"px",c.style.top=x+"px")}},{key:"moveMarkers",value:function(e,t){var s=this.w,i=this.ttCtx;if(s.globals.markers.size[e]>0)for(var o=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),c=0;c<o.length;c++)parseInt(o[c].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,o[c]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var s,i,o,c,h=this.w,u=this.ttCtx,g=new me(this.ctx),x=h.globals.pointsArray,m=u.tooltipUtil.getHoverMarkerSize(t),p=h.config.series[t].type;if(!p||p!=="column"&&p!=="candlestick"&&p!=="boxPlot"){o=(s=x[t][e])===null||s===void 0?void 0:s[0],c=((i=x[t][e])===null||i===void 0?void 0:i[1])||0;var b=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(b&&c<h.globals.gridHeight&&c>0){var w=b.getAttribute("shape"),y=g.getMarkerPath(o,c,w,1.5*m);b.setAttribute("d",y)}this.moveXCrosshairs(o),u.fixedTooltip||this.moveTooltip(o,c,m)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,s=this.ttCtx,i=s.w,o=0,c=0,h=i.globals.pointsArray,u=new Ws(this.ctx),g=new me(this.ctx);t=u.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var x=s.tooltipUtil.getHoverMarkerSize(t);if(h[t]&&(o=h[t][e][0],c=h[t][e][1]),!isNaN(o)){var m=s.tooltipUtil.getAllMarkers();if(m.length)for(var p=0;p<i.globals.series.length;p++){var b=h[p];if(i.globals.comboCharts&&b===void 0&&m.splice(p,0,null),b&&b.length){var w=h[p][e][1],y=void 0;m[p].setAttribute("cx",o);var k=m[p].getAttribute("shape");if(i.config.chart.type==="rangeArea"&&!i.globals.comboCharts){var A=e+i.globals.series[p].length;y=h[p][A][1],w-=Math.abs(w-y)/2}if(w!==null&&!isNaN(w)&&w<i.globals.gridHeight+x&&w+x>0){var S=g.getMarkerPath(o,w,k,x);m[p].setAttribute("d",S)}else m[p].setAttribute("d","")}}this.moveXCrosshairs(o),s.fixedTooltip||this.moveTooltip(o,c||i.globals.gridHeight,x)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var s=this.w,i=this.ttCtx,o=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length;s.config.chart.stacked&&(o=s.globals.barGroups.length);var c=o>=2&&o%2==0?Math.floor(o/2):Math.floor(o/2)+1;s.globals.isBarHorizontal&&(c=new Ws(this.ctx).getActiveConfigSeriesIndex("desc")+1);var h=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(c,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(c,"'] path[j='").concat(e,"']"));h||typeof t!="number"||(h=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var u=h?parseFloat(h.getAttribute("cx")):0,g=h?parseFloat(h.getAttribute("cy")):0,x=h?parseFloat(h.getAttribute("barWidth")):0,m=i.getElGrid().getBoundingClientRect(),p=h&&(h.classList.contains("apexcharts-candlestick-area")||h.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(h&&!p&&(u-=o%2!=0?x/2:0),h&&p&&(u-=x/2)):s.globals.isBarHorizontal||(u=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(u)&&(u=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?g-=i.tooltipRect.ttHeight:s.config.tooltip.followCursor?g=i.e.clientY-m.top-i.tooltipRect.ttHeight/2:g+i.tooltipRect.ttHeight+15>s.globals.gridHeight&&(g=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(u),i.fixedTooltip||this.moveTooltip(u,g||s.globals.gridHeight)}}]),r})(),JA=(function(){function r(e){ye(this,r),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new iy(e)}return we(r,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new me(this.ctx),s=new ur(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=Xt(i),e.config.chart.stacked&&i.sort((function(m,p){return parseFloat(m.getAttribute("data:realIndex"))-parseFloat(p.getAttribute("data:realIndex"))}));for(var o=0;o<i.length;o++){var c=i[o].querySelector(".apexcharts-series-markers-wrap");if(c!==null){var h=void 0,u="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(u+=" no-pointer-events");var g=s.getMarkerConfig({cssClass:u,seriesIndex:Number(c.getAttribute("data:realIndex"))});(h=t.drawMarker(0,0,g)).node.setAttribute("default-marker-size",0);var x=document.createElementNS(e.globals.SVGNS,"g");x.classList.add("apexcharts-series-markers"),x.appendChild(h.node),c.appendChild(x)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=this.w;o.config.chart.type!=="bubble"&&this.newPointSize(e,t);var c=t.getAttribute("cx"),h=t.getAttribute("cy");if(s!==null&&i!==null&&(c=s,h=i),this.tooltipPosition.moveXCrosshairs(c),!this.fixedTooltip){if(o.config.chart.type==="radar"){var u=this.ttCtx.getElGrid().getBoundingClientRect();c=this.ttCtx.e.clientX-u.left}this.tooltipPosition.moveTooltip(c,h,o.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,s=this,i=this.ttCtx,o=e,c=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),h=t.config.markers.hover.size,u=0;u<c.length;u++){var g=c[u].getAttribute("rel"),x=c[u].getAttribute("index");if(h===void 0&&(h=t.globals.markers.size[x]+t.config.markers.hover.sizeOffset),o===parseInt(g,10)){s.newPointSize(o,c[u]);var m=c[u].getAttribute("cx"),p=c[u].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(m),i.fixedTooltip||s.tooltipPosition.moveTooltip(m,p,h)}else s.oldPointSize(c[u])}}},{key:"newPointSize",value:function(e,t){var s=this.w,i=s.config.markers.hover.size,o=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(o.getAttribute("default-marker-size")!=="0"){var c=parseInt(o.getAttribute("index"),10);i===void 0&&(i=s.globals.markers.size[c]+s.config.markers.hover.sizeOffset),i<0&&(i=0);var h=this.ttCtx.tooltipUtil.getPathFromPoint(t,i);t.setAttribute("d",h)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),s=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",s)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var s=parseFloat(e[t].getAttribute("default-marker-size"));if(J.isNumber(s)&&s>0){var i=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],s);e[t].setAttribute("d",i)}else e[t].setAttribute("d","M0,0")}}}]),r})(),e5=(function(){function r(e){ye(this,r),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return we(r,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,s=e.opt,i=e.x,o=e.y,c=e.type,h=this.ttCtx,u=this.w;if(t.target.classList.contains("apexcharts-".concat(c,"-rect"))){var g=this.getAttr(t,"i"),x=this.getAttr(t,"j"),m=this.getAttr(t,"cx"),p=this.getAttr(t,"cy"),b=this.getAttr(t,"width"),w=this.getAttr(t,"height");if(h.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:g,j:x,shared:!1,e:t}),u.globals.capturedSeriesIndex=g,u.globals.capturedDataPointIndex=x,i=m+h.tooltipRect.ttWidth/2+b,o=p+h.tooltipRect.ttHeight/2-w/2,h.tooltipPosition.moveXCrosshairs(m+b/2),i>u.globals.gridWidth/2&&(i=m-h.tooltipRect.ttWidth/2+b),h.w.config.tooltip.followCursor){var y=u.globals.dom.elWrap.getBoundingClientRect();i=u.globals.clientX-y.left-(i>u.globals.gridWidth/2?h.tooltipRect.ttWidth:0),o=u.globals.clientY-y.top-(o>u.globals.gridHeight/2?h.tooltipRect.ttHeight:0)}}return{x:i,y:o}}},{key:"handleMarkerTooltip",value:function(e){var t,s,i=e.e,o=e.opt,c=e.x,h=e.y,u=this.w,g=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var x=parseInt(o.paths.getAttribute("cx"),10),m=parseInt(o.paths.getAttribute("cy"),10),p=parseFloat(o.paths.getAttribute("val"));if(s=parseInt(o.paths.getAttribute("rel"),10),t=parseInt(o.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,g.intersect){var b=J.findAncestor(o.paths,"apexcharts-series");b&&(t=parseInt(b.getAttribute("data:realIndex"),10))}if(g.tooltipLabels.drawSeriesTexts({ttItems:o.ttItems,i:t,j:s,shared:!g.showOnIntersect&&u.config.tooltip.shared,e:i}),i.type==="mouseup"&&g.markerClick(i,t,s),u.globals.capturedSeriesIndex=t,u.globals.capturedDataPointIndex=s,c=x,h=m+u.globals.translateY-1.4*g.tooltipRect.ttHeight,g.w.config.tooltip.followCursor){var w=g.getElGrid().getBoundingClientRect();h=g.e.clientY+u.globals.translateY-w.top}p<0&&(h=m),g.marker.enlargeCurrentPoint(s,o.paths,c,h)}return{x:c,y:h}}},{key:"handleBarTooltip",value:function(e){var t,s,i=e.e,o=e.opt,c=this.w,h=this.ttCtx,u=h.getElTooltip(),g=0,x=0,m=0,p=this.getBarTooltipXY({e:i,opt:o});if(p.j!==null||p.barHeight!==0||p.barWidth!==0){t=p.i;var b=p.j;if(c.globals.capturedSeriesIndex=t,c.globals.capturedDataPointIndex=b,c.globals.isBarHorizontal&&h.tooltipUtil.hasBars()||!c.config.tooltip.shared?(x=p.x,m=p.y,s=Array.isArray(c.config.stroke.width)?c.config.stroke.width[t]:c.config.stroke.width,g=x):c.globals.comboCharts||c.config.tooltip.shared||(g/=2),isNaN(m)&&(m=c.globals.svgHeight-h.tooltipRect.ttHeight),parseInt(o.paths.parentNode.getAttribute("data:realIndex"),10),x+h.tooltipRect.ttWidth>c.globals.gridWidth?x-=h.tooltipRect.ttWidth:x<0&&(x=0),h.w.config.tooltip.followCursor){var w=h.getElGrid().getBoundingClientRect();m=h.e.clientY-w.top}h.tooltip===null&&(h.tooltip=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),c.config.tooltip.shared||(c.globals.comboBarCount>0?h.tooltipPosition.moveXCrosshairs(g+s/2):h.tooltipPosition.moveXCrosshairs(g)),!h.fixedTooltip&&(!c.config.tooltip.shared||c.globals.isBarHorizontal&&h.tooltipUtil.hasBars())&&(m=m+c.globals.translateY-h.tooltipRect.ttHeight/2,u.style.left=x+c.globals.translateX+"px",u.style.top=m+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,s=e.e,i=e.opt,o=this.w,c=null,h=this.ttCtx,u=0,g=0,x=0,m=0,p=0,b=s.target.classList;if(b.contains("apexcharts-bar-area")||b.contains("apexcharts-candlestick-area")||b.contains("apexcharts-boxPlot-area")||b.contains("apexcharts-rangebar-area")){var w=s.target,y=w.getBoundingClientRect(),k=i.elGrid.getBoundingClientRect(),A=y.height;p=y.height;var S=y.width,T=parseInt(w.getAttribute("cx"),10),C=parseInt(w.getAttribute("cy"),10);m=parseFloat(w.getAttribute("barWidth"));var E=s.type==="touchmove"?s.touches[0].clientX:s.clientX;c=parseInt(w.getAttribute("j"),10),u=parseInt(w.parentNode.getAttribute("rel"),10)-1;var L=w.getAttribute("data-range-y1"),_=w.getAttribute("data-range-y2");o.globals.comboCharts&&(u=parseInt(w.parentNode.getAttribute("data:realIndex"),10));var D=function(z){return o.globals.isXNumeric?T-S/2:t.isVerticalGroupedRangeBar?T+S/2:T-h.dataPointsDividedWidth+S/2},H=function(){return C-h.dataPointsDividedHeight+A/2-h.tooltipRect.ttHeight/2};h.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:u,j:c,y1:L?parseInt(L,10):null,y2:_?parseInt(_,10):null,shared:!h.showOnIntersect&&o.config.tooltip.shared,e:s}),o.config.tooltip.followCursor?o.globals.isBarHorizontal?(g=E-k.left+15,x=H()):(g=D(),x=s.clientY-k.top-h.tooltipRect.ttHeight/2-15):o.globals.isBarHorizontal?((g=T)<h.xyRatios.baseLineInvertedY&&(g=T-h.tooltipRect.ttWidth),x=H()):(g=D(),x=C)}return{x:g,y:x,barHeight:p,barWidth:m,i:u,j:c}}}]),r})(),t5=(function(){function r(e){ye(this,r),this.w=e.w,this.ttCtx=e}return we(r,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,s=e.config.xaxis.position==="bottom";t.xaxisOffY=s?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",o=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,s=0;s<e.config.yaxis.length;s++){var i=e.config.yaxis[s].opposite||e.config.yaxis[s].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var o="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),c=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(s))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",o+" apexcharts-theme-"+e.config.tooltip.theme),c.appendChild(t.yaxisTooltip),s===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[s]=document.createElement("div"),t.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[s]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,s=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(i!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var o=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=o}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var c=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/c}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var h=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/h}else if(e.config.xaxis.crosshairs.width==="barWidth"){var u=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(u!==null){var g=parseFloat(u.getAttribute("barWidth"));t.xcrosshairsWidth=g}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),s!==null&&t.xcrosshairsWidth>0&&s.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,s){var i=this.ttCtx,o=this.w,c=o.globals,h=c.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&h.length>0){var u=c.yLabelFormatters[e],g=i.getElGrid().getBoundingClientRect(),x=h[0],m=0;s.yRatio.length>1&&(m=x);var p=(t-g.top)*s.yRatio[m],b=c.maxYArr[x]-c.minYArr[x],w=c.minYArr[x]+(b-p);o.config.yaxis[e].reversed&&(w=c.maxYArr[x]-(b-p)),i.tooltipPosition.moveYCrosshairs(t-g.top),i.yaxisTooltipText[e].innerHTML=u(w),i.tooltipPosition.moveYAxisTooltip(e)}}}]),r})(),eb=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new ay(this),this.tooltipLabels=new QA(this),this.tooltipPosition=new iy(this),this.marker=new JA(this),this.intersect=new e5(this),this.axesTooltip=new t5(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return we(r,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map((function(c,h){return!!(c.show&&c.tooltip.enabled&&t.globals.axisCharts)})),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&s.classList.add(t.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(s),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new jl(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var o=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(o=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(o),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,s=this.w,i=[],o=this.getElTooltip(),c=function(u){var g=document.createElement("div");g.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(u)),g.style.order=s.config.tooltip.inverseOrder?e-u:u+1;var x=document.createElement("span");x.classList.add("apexcharts-tooltip-marker"),s.config.tooltip.fillSeriesColor?x.style.backgroundColor=s.globals.colors[u]:x.style.color=s.globals.colors[u];var m=s.config.markers.shape,p=m;Array.isArray(m)&&(p=m[u]),x.setAttribute("shape",p),g.appendChild(x);var b=document.createElement("div");b.classList.add("apexcharts-tooltip-text"),b.style.fontFamily=t.tConfig.style.fontFamily||s.config.chart.fontFamily,b.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach((function(w){var y=document.createElement("div");y.classList.add("apexcharts-tooltip-".concat(w,"-group"));var k=document.createElement("span");k.classList.add("apexcharts-tooltip-text-".concat(w,"-label")),y.appendChild(k);var A=document.createElement("span");A.classList.add("apexcharts-tooltip-text-".concat(w,"-value")),y.appendChild(A),b.appendChild(y)})),g.appendChild(b),o.appendChild(g),i.push(g)},h=0;h<e;h++)c(h);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,s=this.getElTooltip(),i=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),o=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",c=e.globals.dom.Paper.node,h=this.getElGrid();h&&(this.seriesBound=h.getBoundingClientRect());var u,g=[],x=[],m={hoverArea:c,elGrid:h,tooltipEl:s,tooltipY:g,tooltipX:x,ttItems:this.ttItems};if(e.globals.axisCharts&&(o?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(u=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),u&&u.length))for(var p=0;p<u.length;p++)g.push(u[p].getAttribute("cy")),x.push(u[p].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([c],m);else if(i&&!e.globals.comboCharts||o&&this.showOnIntersect)this.addDatapointEventsListeners(m);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var b=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(b,m)}if(this.showOnIntersect){var w=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");w.length>0&&this.addPathsEventListeners(w,m),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(m)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),s=t.getBoundingClientRect(),i=s.width+10,o=s.height+10,c=this.tConfig.fixed.offsetX,h=this.tConfig.fixed.offsetY,u=this.tConfig.fixed.position.toLowerCase();return u.indexOf("right")>-1&&(c=c+e.globals.svgWidth-i+10),u.indexOf("bottom")>-1&&(h=h+e.globals.svgHeight-o-10),t.style.left=c+"px",t.style.top=h+"px",{x:c,y:h,ttWidth:i,ttHeight:o}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var s=this,i=function(c){var h={paths:e[c],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map((function(u){return e[c].addEventListener(u,s.onSeriesHover.bind(s,h),{capture:!1,passive:!0})}))},o=0;o<e.length;o++)i(o)}},{key:"onSeriesHover",value:function(e,t){var s=this,i=Date.now()-this.lastHoverTime;i>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout((function(){s.seriesHover(e,t)}),20-i))}},{key:"seriesHover",value:function(e,t){var s=this;this.lastHoverTime=Date.now();var i=[],o=this.w;o.config.chart.group&&(i=this.ctx.getGroupedCharts()),o.globals.axisCharts&&(o.globals.minX===-1/0&&o.globals.maxX===1/0||o.globals.dataPoints===0)||(i.length?i.forEach((function(c){var h=s.getElTooltip(c),u={paths:e.paths,tooltipEl:h,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:c.w.globals.tooltip.ttItems};c.w.globals.minX===s.w.globals.minX&&c.w.globals.maxX===s.w.globals.maxX&&c.w.globals.tooltip.seriesHoverByContext({chartCtx:c,ttCtx:c.w.globals.tooltip,opt:u,e:t})})):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,s=e.ttCtx,i=e.opt,o=e.e,c=t.w,h=this.getElTooltip(t);h&&(s.tooltipRect={x:0,y:0,ttWidth:h.getBoundingClientRect().width,ttHeight:h.getBoundingClientRect().height},s.e=o,s.tooltipUtil.hasBars()&&!c.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ws(t).toggleSeriesOnHover(o,o.target.parentNode),c.globals.axisCharts?s.axisChartsTooltips({e:o,opt:i,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:o,opt:i,tooltipRect:s.tooltipRect}),s.fixedTooltip&&s.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,s,i=e.e,o=e.opt,c=this.w,h=o.elGrid.getBoundingClientRect(),u=i.type==="touchmove"?i.touches[0].clientX:i.clientX,g=i.type==="touchmove"?i.touches[0].clientY:i.clientY;if(this.clientY=g,this.clientX=u,c.globals.capturedSeriesIndex=-1,c.globals.capturedDataPointIndex=-1,g<h.top||g>h.top+h.height)this.handleMouseOut(o);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!c.config.tooltip.shared){var x=parseInt(o.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(x)<0)return void this.handleMouseOut(o)}var m=this.getElTooltip(),p=this.getElXCrosshairs(),b=[];c.config.chart.group&&(b=this.ctx.getSyncedCharts());var w=c.globals.xyCharts||c.config.chart.type==="bar"&&!c.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||c.globals.comboCharts&&this.tooltipUtil.hasBars();if(i.type==="mousemove"||i.type==="touchmove"||i.type==="mouseup"){if(c.globals.collapsedSeries.length+c.globals.ancillaryCollapsedSeries.length===c.globals.series.length)return;p!==null&&p.classList.add("apexcharts-active");var y=this.yaxisTooltips.filter((function(S){return S===!0}));if(this.ycrosshairs!==null&&y.length&&this.ycrosshairs.classList.add("apexcharts-active"),w&&!this.showOnIntersect||b.length>1)this.handleStickyTooltip(i,u,g,o);else if(c.config.chart.type==="heatmap"||c.config.chart.type==="treemap"){var k=this.intersect.handleHeatTreeTooltip({e:i,opt:o,x:t,y:s,type:c.config.chart.type});t=k.x,s=k.y,m.style.left=t+"px",m.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:o}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:o,x:t,y:s});if(this.yaxisTooltips.length)for(var A=0;A<c.config.yaxis.length;A++)this.axesTooltip.drawYaxisTooltipText(A,g,this.xyRatios);c.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.tooltipEl.classList.add("apexcharts-active")}else i.type!=="mouseout"&&i.type!=="touchend"||this.handleMouseOut(o)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,s=e.opt,i=e.tooltipRect,o=this.w,c=s.paths.getAttribute("rel"),h=this.getElTooltip(),u=o.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),h.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(c,10)-1,shared:!1});var g=o.globals.clientX-u.left-i.ttWidth/2,x=o.globals.clientY-u.top-i.ttHeight-10;if(h.style.left=g+"px",h.style.top=x+"px",o.config.legend.tooltipHoverFormatter){var m=c-1,p=(0,o.config.legend.tooltipHoverFormatter)(this.legendLabels[m].getAttribute("data:default-text"),{seriesIndex:m,dataPointIndex:m,w:o});this.legendLabels[m].innerHTML=p}}else t.type!=="mouseout"&&t.type!=="touchend"||(h.classList.remove("apexcharts-active"),o.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),o.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(b){var w=b.getAttribute("data:default-text");b.innerHTML=decodeURIComponent(w)})))}},{key:"handleStickyTooltip",value:function(e,t,s,i){var o=this.w,c=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:s}),h=c.j,u=c.capturedSeries;o.globals.collapsedSeriesIndices.includes(u)&&(u=null);var g=i.elGrid.getBoundingClientRect();if(c.hoverX<0||c.hoverX>g.width)this.handleMouseOut(i);else if(u!==null)this.handleStickyCapturedSeries(e,u,i,h);else if(this.tooltipUtil.isXoverlap(h)||o.globals.isBarHorizontal){var x=o.globals.series.findIndex((function(m,p){return!o.globals.collapsedSeriesIndices.includes(p)}));this.create(e,this,x,h,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,s,i){var o=this.w;if(!this.tConfig.shared&&o.globals.series[t][i]===null)return void this.handleMouseOut(s);if(o.globals.series[t][i]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,s.ttItems):this.create(e,this,t,i,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var c=o.globals.series.findIndex((function(h,u){return!o.globals.collapsedSeriesIndices.includes(u)}));this.create(e,this,c,i,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new me(this.ctx),s=e.globals.dom.Paper.find(".apexcharts-bar-area"),i=0;i<s.length;i++)t.pathMouseLeave(s[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,s=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach((function(o){var c=o.getAttribute("data:default-text");o.innerHTML=decodeURIComponent(c)}))}},{key:"markerClick",value:function(e,t,s){var i=this.w;typeof i.config.chart.events.markerClick=="function"&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:s,w:i}])}},{key:"create",value:function(e,t,s,i,o){var c,h,u,g,x,m,p,b,w,y,k,A,S,T,C,E,L=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,_=this.w,D=t;e.type==="mouseup"&&this.markerClick(e,s,i),L===null&&(L=this.tConfig.shared);var H=this.tooltipUtil.hasMarkers(s),z=this.tooltipUtil.getElBars(),B=function(){_.globals.markers.largestSize>0?D.marker.enlargePoints(i):D.tooltipPosition.moveDynamicPointsOnHover(i)};if(_.config.legend.tooltipHoverFormatter){var P=_.config.legend.tooltipHoverFormatter,W=Array.from(this.legendLabels);W.forEach((function(ne){var K=ne.getAttribute("data:default-text");ne.innerHTML=decodeURIComponent(K)}));for(var V=0;V<W.length;V++){var Q=W[V],Y=parseInt(Q.getAttribute("i"),10),F=decodeURIComponent(Q.getAttribute("data:default-text")),U=P(F,{seriesIndex:L?Y:s,dataPointIndex:i,w:_});if(L)Q.innerHTML=_.globals.collapsedSeriesIndices.indexOf(Y)<0?U:F;else if(Q.innerHTML=Y===s?U:F,s===Y)break}}var q=be(be({ttItems:o,i:s,j:i},((c=_.globals.seriesRange)===null||c===void 0||(h=c[s])===null||h===void 0||(u=h[i])===null||u===void 0||(g=u.y[0])===null||g===void 0?void 0:g.y1)!==void 0&&{y1:(x=_.globals.seriesRange)===null||x===void 0||(m=x[s])===null||m===void 0||(p=m[i])===null||p===void 0||(b=p.y[0])===null||b===void 0?void 0:b.y1}),((w=_.globals.seriesRange)===null||w===void 0||(y=w[s])===null||y===void 0||(k=y[i])===null||k===void 0||(A=k.y[0])===null||A===void 0?void 0:A.y2)!==void 0&&{y2:(S=_.globals.seriesRange)===null||S===void 0||(T=S[s])===null||T===void 0||(C=T[i])===null||C===void 0||(E=C.y[0])===null||E===void 0?void 0:E.y2});if(L){if(D.tooltipLabels.drawSeriesTexts(be(be({},q),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),H)B();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(z),this.barSeriesHeight>0)){var G=new me(this.ctx),O=_.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),D.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&B(),D.tooltipPosition.moveStickyTooltipOverBars(i,s);for(var I=0;I<O.length;I++)G.pathMouseEnter(O[I])}}else D.tooltipLabels.drawSeriesTexts(be({shared:!1},q)),this.tooltipUtil.hasBars()&&D.tooltipPosition.moveStickyTooltipOverBars(i,s),H&&D.tooltipPosition.moveMarkers(s,i)}}]),r})(),s5=(function(){function r(e){ye(this,r),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return we(r,[{key:"handleBarDataLabels",value:function(e){var t,s,i=e.x,o=e.y,c=e.y1,h=e.y2,u=e.i,g=e.j,x=e.realIndex,m=e.columnGroupIndex,p=e.series,b=e.barHeight,w=e.barWidth,y=e.barXPosition,k=e.barYPosition,A=e.visibleSeries,S=this.w,T=new me(this.barCtx.ctx),C=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[x]:this.barCtx.strokeWidth;S.globals.isXNumeric&&!S.globals.isBarHorizontal?(t=i+parseFloat(w*(A+1)),s=o+parseFloat(b*(A+1))-C):(t=i+parseFloat(w*A),s=o+parseFloat(b*A));var E,L=null,_=i,D=o,H={},z=S.config.dataLabels,B=this.barCtx.barOptions.dataLabels,P=this.barCtx.barOptions.dataLabels.total;k!==void 0&&this.barCtx.isRangeBar&&(s=k,D=k),y!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=y,_=y);var W=z.offsetX,V=z.offsetY,Q={width:0,height:0};if(S.config.dataLabels.enabled){var Y=S.globals.series[u][g];Q=T.getTextRects(S.config.dataLabels.formatter?S.config.dataLabels.formatter(Y,be(be({},S),{},{seriesIndex:u,dataPointIndex:g,w:S})):S.globals.yLabelFormatters[0](Y),parseFloat(z.style.fontSize))}var F={x:i,y:o,i:u,j:g,realIndex:x,columnGroupIndex:m,bcx:t,bcy:s,barHeight:b,barWidth:w,textRects:Q,strokeWidth:C,dataLabelsX:_,dataLabelsY:D,dataLabelsConfig:z,barDataLabelsConfig:B,barTotalDataLabelsConfig:P,offX:W,offY:V};return H=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(F):this.calculateColumnsDataLabelsPosition(F),E=this.drawCalculatedDataLabels({x:H.dataLabelsX,y:H.dataLabelsY,val:this.barCtx.isRangeBar?[c,h]:S.config.chart.stackType==="100%"?p[x][g]:S.globals.series[x][g],i:x,j:g,barWidth:w,barHeight:b,textRects:Q,dataLabelsConfig:z}),S.config.chart.stacked&&P.enabled&&(L=this.drawTotalDataLabels({x:H.totalDataLabelsX,y:H.totalDataLabelsY,barWidth:w,barHeight:b,realIndex:x,textAnchor:H.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:x,j:g}),dataLabelsConfig:z,barTotalDataLabelsConfig:P})),{dataLabelsPos:H,dataLabels:E,totalDataLabels:L}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,s=e.j,i=this.w,o=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(o=this.totalFormatter(o,be(be({},i),{},{seriesIndex:t,dataPointIndex:s,w:i}))),o}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,s=this.w,i=e.i,o=e.j,c=e.realIndex;e.columnGroupIndex;var h,u,g=e.y,x=e.bcx,m=e.barWidth,p=e.barHeight,b=e.textRects,w=e.dataLabelsX,y=e.dataLabelsY,k=e.dataLabelsConfig,A=e.barDataLabelsConfig,S=e.barTotalDataLabelsConfig,T=e.strokeWidth,C=e.offX,E=e.offY,L=x;p=Math.abs(p);var _=s.config.plotOptions.bar.dataLabels.orientation==="vertical",D=this.barCtx.barHelpers.getZeroValueEncounters({i,j:o}).zeroEncounters;x-=T/2;var H=s.globals.gridWidth/s.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?w+=m/2:(w=s.globals.isXNumeric?x-m/2+C:x-H+m/2+C,!s.config.chart.stacked&&D>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(w-=m*D)),_&&(w=w+b.height/2-T/2-2);var z=s.globals.series[i][o]<0,B=g;switch(this.barCtx.isReversed&&(B=g+(z?p:-p)),A.position){case"center":y=_?z?B-p/2+E:B+p/2-E:z?B-p/2+b.height/2+E:B+p/2+b.height/2-E;break;case"bottom":y=_?z?B-p+E:B+p-E:z?B-p+b.height+T+E:B+p-b.height/2+T-E;break;case"top":y=_?z?B+E:B-E:z?B-b.height/2-E:B+b.height+E}var P=B;if(s.globals.seriesGroups.forEach((function(Q){var Y;(Y=t.barCtx[Q.join(",")])===null||Y===void 0||Y.prevY.forEach((function(F){P=z?Math.max(F[o],P):Math.min(F[o],P)}))})),this.barCtx.lastActiveBarSerieIndex===c&&S.enabled){var W=new me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:c,j:o}),k.fontSize);h=z?P-W.height/2-E-S.offsetY+18:P+W.height+E+S.offsetY-18;var V=H;u=L+(s.globals.isXNumeric?-m*s.globals.barGroups.length/2:s.globals.barGroups.length*m/2-(s.globals.barGroups.length-1)*m-V)+S.offsetX}return s.config.chart.stacked||(y<0?y=0+T:y+b.height/3>s.globals.gridHeight&&(y=s.globals.gridHeight-T)),{bcx:x,bcy:g,dataLabelsX:w,dataLabelsY:y,totalDataLabelsX:u,totalDataLabelsY:h,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,s=this.w,i=e.x,o=e.i,c=e.j,h=e.realIndex,u=e.bcy,g=e.barHeight,x=e.barWidth,m=e.textRects,p=e.dataLabelsX,b=e.strokeWidth,w=e.dataLabelsConfig,y=e.barDataLabelsConfig,k=e.barTotalDataLabelsConfig,A=e.offX,S=e.offY,T=s.globals.gridHeight/s.globals.dataPoints,C=this.barCtx.barHelpers.getZeroValueEncounters({i:o,j:c}).zeroEncounters;x=Math.abs(x);var E,L,_=u-(this.barCtx.isRangeBar?0:T)+g/2+m.height/2+S-3;!s.config.chart.stacked&&C>0&&s.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(_-=g*C);var D="start",H=s.globals.series[o][c]<0,z=i;switch(this.barCtx.isReversed&&(z=i+(H?-x:x),D=H?"start":"end"),y.position){case"center":p=H?z+x/2-A:Math.max(m.width/2,z-x/2)+A;break;case"bottom":p=H?z+x-b-A:z-x+b+A;break;case"top":p=H?z-b-A:z-b+A}var B=z;if(s.globals.seriesGroups.forEach((function(W){var V;(V=t.barCtx[W.join(",")])===null||V===void 0||V.prevX.forEach((function(Q){B=H?Math.min(Q[c],B):Math.max(Q[c],B)}))})),this.barCtx.lastActiveBarSerieIndex===h&&k.enabled){var P=new me(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:h,j:c}),w.fontSize);H?(E=B-b-A-k.offsetX,D="end"):E=B+A+k.offsetX+(this.barCtx.isReversed?-(x+b):b),L=_-m.height/2+P.height/2+k.offsetY+b,s.globals.barGroups.length>1&&(L-=s.globals.barGroups.length/2*(g/2))}return s.config.chart.stacked||(w.textAnchor==="start"?p-m.width<0?p=H?m.width+b:b:p+m.width>s.globals.gridWidth&&(p=H?s.globals.gridWidth-b:s.globals.gridWidth-m.width-b):w.textAnchor==="middle"?p-m.width/2<0?p=m.width/2+b:p+m.width/2>s.globals.gridWidth&&(p=s.globals.gridWidth-m.width/2-b):w.textAnchor==="end"&&(p<1?p=m.width+b:p+1>s.globals.gridWidth&&(p=s.globals.gridWidth-m.width-b))),{bcx:i,bcy:u,dataLabelsX:p,dataLabelsY:_,totalDataLabelsX:E,totalDataLabelsY:L,totalDataLabelsAnchor:D}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,s=e.y,i=e.val,o=e.i,c=e.j,h=e.textRects,u=e.barHeight,g=e.barWidth,x=e.dataLabelsConfig,m=this.w,p="rotate(0)";m.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(p="rotate(-90, ".concat(t,", ").concat(s,")"));var b=new ar(this.barCtx.ctx),w=new me(this.barCtx.ctx),y=x.formatter,k=null,A=m.globals.collapsedSeriesIndices.indexOf(o)>-1;if(x.enabled&&!A){k=w.group({class:"apexcharts-data-labels",transform:p});var S="";i!==void 0&&(S=y(i,be(be({},m),{},{seriesIndex:o,dataPointIndex:c,w:m}))),!i&&m.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(S="");var T=m.globals.series[o][c]<0,C=m.config.plotOptions.bar.dataLabels.position;m.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(C==="top"&&(x.textAnchor=T?"end":"start"),C==="center"&&(x.textAnchor="middle"),C==="bottom"&&(x.textAnchor=T?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&g<w.getTextRects(S,parseFloat(x.style.fontSize)).width&&(S=""),m.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?h.width/1.6>Math.abs(g)&&(S=""):h.height/1.6>Math.abs(u)&&(S=""));var E=be({},x);this.barCtx.isHorizontal&&i<0&&(x.textAnchor==="start"?E.textAnchor="end":x.textAnchor==="end"&&(E.textAnchor="start")),b.plotDataLabelsText({x:t,y:s,text:S,i:o,j:c,parent:k,dataLabelsConfig:E,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return k}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,s=e.y,i=e.val,o=e.realIndex,c=e.textAnchor,h=e.barTotalDataLabelsConfig;this.w;var u,g=new me(this.barCtx.ctx);return h.enabled&&t!==void 0&&s!==void 0&&this.barCtx.lastActiveBarSerieIndex===o&&(u=g.drawText({x:t,y:s,foreColor:h.style.color,text:i,textAnchor:c,fontFamily:h.style.fontFamily,fontSize:h.style.fontSize,fontWeight:h.style.fontWeight})),u}}]),r})(),a5=(function(){function r(e){ye(this,r),this.w=e.w,this.barCtx=e}return we(r,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<e.length;s++)if(e[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[s].length),t.globals.isXNumeric)for(var i=0;i<e[s].length;i++)t.globals.seriesX[s][i]>t.globals.minX&&t.globals.seriesX[s][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),J.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map((function(o){return o.map((function(c){return"none"}))}))),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,s,i,o,c,h,u,g,x=this.w,m=x.globals.dataPoints;this.barCtx.isRangeBar&&(m=x.globals.labels.length);var p=this.barCtx.seriesLen;if(x.config.plotOptions.bar.rangeBarGroupRows&&(p=1),this.barCtx.isHorizontal)c=(i=x.globals.gridHeight/m)/p,x.globals.isXNumeric&&(c=(i=x.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),c=c*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(c=parseInt(this.barCtx.barOptions.barHeight,10)),g=this.barCtx.baseLineInvertedY+x.globals.padHorizontal+(this.barCtx.isReversed?x.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(g=x.globals.gridWidth/2),s=(i-c*this.barCtx.seriesLen)/2;else{if(o=x.globals.gridWidth/this.barCtx.visibleItems,x.config.xaxis.convertedCatToNumeric&&(o=x.globals.gridWidth/x.globals.dataPoints),h=o/p*parseInt(this.barCtx.barOptions.columnWidth,10)/100,x.globals.isXNumeric){var b=this.barCtx.xRatio;x.globals.minXDiff&&x.globals.minXDiff!==.5&&x.globals.minXDiff/b>0&&(o=x.globals.minXDiff/b),(h=o/p*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(h=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.columnWidth,10)),u=x.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?x.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),x.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:h}).x:t=x.globals.padHorizontal+J.noExponents(o-h*this.barCtx.seriesLen)/2}return x.globals.barHeight=c,x.globals.barWidth=h,{x:t,y:s,yDivision:i,xDivision:o,barHeight:c,barWidth:h,zeroH:u,zeroW:g}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]}))}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach((function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]}))}},{key:"getPathFillColor",value:function(e,t,s,i){var o,c,h,u,g=this.w,x=this.barCtx.ctx.fill,m=null,p=this.barCtx.barOptions.distributed?s:t,b=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map((function(w){e[t][s]>=w.from&&e[t][s]<=w.to&&(m=w.color,b=!0)})),{color:x.fillPath({seriesNumber:this.barCtx.barOptions.distributed?p:i,dataPointIndex:s,color:m,value:e[t][s],fillConfig:(o=g.config.series[t].data[s])===null||o===void 0?void 0:o.fill,fillType:(c=g.config.series[t].data[s])!==null&&c!==void 0&&(h=c.fill)!==null&&h!==void 0&&h.type?(u=g.config.series[t].data[s])===null||u===void 0?void 0:u.fill.type:Array.isArray(g.config.fill.type)?g.config.fill.type[i]:g.config.fill.type}),useRangeColor:b}}},{key:"getStrokeWidth",value:function(e,t,s){var i=0,o=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||o.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,o.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),i}},{key:"createBorderRadiusArr",value:function(e){var t,s=this.w,i=!this.w.config.chart.stacked||s.config.plotOptions.bar.borderRadius<=0,o=e.length,c=0|((t=e[0])===null||t===void 0?void 0:t.length),h=Array.from({length:o},(function(){return Array(c).fill(i?"top":"none")}));if(i)return h;for(var u=0;u<c;u++){for(var g=[],x=[],m=0,p=0;p<o;p++){var b=e[p][u];b>0?(g.push(p),m++):b<0&&(x.push(p),m++)}if(g.length>0&&x.length===0)if(g.length===1)h[g[0]][u]="both";else{var w,y=g[0],k=g[g.length-1],A=ll(g);try{for(A.s();!(w=A.n()).done;){var S=w.value;h[S][u]=S===y?"bottom":S===k?"top":"none"}}catch(Y){A.e(Y)}finally{A.f()}}else if(x.length>0&&g.length===0)if(x.length===1)h[x[0]][u]="both";else{var T,C=Math.max.apply(Math,x),E=Math.min.apply(Math,x),L=ll(x);try{for(L.s();!(T=L.n()).done;){var _=T.value;h[_][u]=_===C?"bottom":_===E?"top":"none"}}catch(Y){L.e(Y)}finally{L.f()}}else if(g.length>0&&x.length>0){var D,H=g[g.length-1],z=ll(g);try{for(z.s();!(D=z.n()).done;){var B=D.value;h[B][u]=B===H?"top":"none"}}catch(Y){z.e(Y)}finally{z.f()}var P,W=Math.max.apply(Math,x),V=ll(x);try{for(V.s();!(P=V.n()).done;){var Q=P.value;h[Q][u]=Q===W?"bottom":"none"}}catch(Y){V.e(Y)}finally{V.f()}}else m===1&&(h[g[0]||x[0]][u]="both")}return h}},{key:"barBackground",value:function(e){var t=e.j,s=e.i,i=e.x1,o=e.x2,c=e.y1,h=e.y2,u=e.elSeries,g=this.w,x=new me(this.barCtx.ctx),m=new Ws(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&m===s){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var p=this.barCtx.barOptions.colors.backgroundBarColors[t],b=x.drawRect(i!==void 0?i:0,c!==void 0?c:0,o!==void 0?o:g.globals.gridWidth,h!==void 0?h:g.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,p,this.barCtx.barOptions.colors.backgroundBarOpacity);u.add(b),b.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,s=e.barWidth,i=e.barXPosition,o=e.y1,c=e.y2,h=e.strokeWidth,u=e.isReversed,g=e.series,x=e.seriesGroup,m=e.realIndex,p=e.i,b=e.j,w=e.w,y=new me(this.barCtx.ctx);(h=Array.isArray(h)?h[m]:h)||(h=0);var k=s,A=i;(t=w.config.series[m].data[b])!==null&&t!==void 0&&t.columnWidthOffset&&(A=i-w.config.series[m].data[b].columnWidthOffset/2,k=s+w.config.series[m].data[b].columnWidthOffset);var S=h/2,T=A+S,C=A+k-S,E=(g[p][b]>=0?1:-1)*(u?-1:1);o+=.001-S*E,c+=.001+S*E;var L=y.move(T,o),_=y.move(T,o),D=y.line(C,o);if(w.globals.previousPaths.length>0&&(_=this.barCtx.getPreviousPath(m,b,!1)),L=L+y.line(T,c)+y.line(C,c)+D+(w.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),_=_+y.line(T,o)+D+D+D+D+D+y.line(T,o)+(w.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),this.arrBorderRadius[m][b]!=="none"&&(L=y.roundPathCorners(L,w.config.plotOptions.bar.borderRadius)),w.config.chart.stacked){var H=this.barCtx;(H=this.barCtx[x]).yArrj.push(c-S*E),H.yArrjF.push(Math.abs(o-c+h*E)),H.yArrjVal.push(this.barCtx.series[p][b])}return{pathTo:L,pathFrom:_}}},{key:"getBarpaths",value:function(e){var t,s=e.barYPosition,i=e.barHeight,o=e.x1,c=e.x2,h=e.strokeWidth,u=e.isReversed,g=e.series,x=e.seriesGroup,m=e.realIndex,p=e.i,b=e.j,w=e.w,y=new me(this.barCtx.ctx);(h=Array.isArray(h)?h[m]:h)||(h=0);var k=s,A=i;(t=w.config.series[m].data[b])!==null&&t!==void 0&&t.barHeightOffset&&(k=s-w.config.series[m].data[b].barHeightOffset/2,A=i+w.config.series[m].data[b].barHeightOffset);var S=h/2,T=k+S,C=k+A-S,E=(g[p][b]>=0?1:-1)*(u?-1:1);o+=.001+S*E,c+=.001-S*E;var L=y.move(o,T),_=y.move(o,T);w.globals.previousPaths.length>0&&(_=this.barCtx.getPreviousPath(m,b,!1));var D=y.line(o,C);if(L=L+y.line(c,T)+y.line(c,C)+D+(w.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),_=_+y.line(o,T)+D+D+D+D+D+y.line(o,T)+(w.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[m][b]==="both"?" Z":" z"),this.arrBorderRadius[m][b]!=="none"&&(L=y.roundPathCorners(L,w.config.plotOptions.bar.borderRadius)),w.config.chart.stacked){var H=this.barCtx;(H=this.barCtx[x]).xArrj.push(c+S*E),H.xArrjF.push(Math.abs(o-c-h*E)),H.xArrjVal.push(this.barCtx.series[p][b])}return{pathTo:L,pathFrom:_}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,s=this.w,i=0;i<t.length;i++){for(var o=0,c=0;c<t[s.globals.maxValsInArrayIndex].length;c++)o+=t[i][c];o===0&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,t){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(s=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(e,t,s){var i=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(i=t-e/this.barCtx.yRatio[s]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[s]:0)),i}},{key:"getGoalValues",value:function(e,t,s,i,o,c){var h=this,u=this.w,g=[],x=function(b,w){var y;g.push((Nc(y={},e,e==="x"?h.getXForValue(b,t,!1):h.getYForValue(b,s,c,!1)),Nc(y,"attrs",w),y))};if(u.globals.seriesGoals[i]&&u.globals.seriesGoals[i][o]&&Array.isArray(u.globals.seriesGoals[i][o])&&u.globals.seriesGoals[i][o].forEach((function(b){x(b.value,b)})),this.barCtx.barOptions.isDumbbell&&u.globals.seriesRange.length){var m=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:u.globals.colors,p={strokeHeight:e==="x"?0:u.globals.markers.size[i],strokeWidth:e==="x"?u.globals.markers.size[i]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(m[i])?m[i][0]:m[i]};x(u.globals.seriesRangeStart[i][o],p),x(u.globals.seriesRangeEnd[i][o],be(be({},p),{},{strokeColor:Array.isArray(m[i])?m[i][1]:m[i]}))}return g}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,s=e.barYPosition,i=e.goalX,o=e.goalY,c=e.barWidth,h=e.barHeight,u=new me(this.barCtx.ctx),g=u.group({className:"apexcharts-bar-goals-groups"});g.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:g.node}),g.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var x=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach((function(m){if(m.x>=-1&&m.x<=u.w.globals.gridWidth+1){var p=m.attrs.strokeHeight!==void 0?m.attrs.strokeHeight:h/2,b=s+p+h/2;x=u.drawLine(m.x,b-2*p,m.x,b,m.attrs.strokeColor?m.attrs.strokeColor:void 0,m.attrs.strokeDashArray,m.attrs.strokeWidth?m.attrs.strokeWidth:2,m.attrs.strokeLineCap),g.add(x)}})):Array.isArray(o)&&o.forEach((function(m){if(m.y>=-1&&m.y<=u.w.globals.gridHeight+1){var p=m.attrs.strokeWidth!==void 0?m.attrs.strokeWidth:c/2,b=t+p+c/2;x=u.drawLine(b-2*p,m.y,b,m.y,m.attrs.strokeColor?m.attrs.strokeColor:void 0,m.attrs.strokeDashArray,m.attrs.strokeHeight?m.attrs.strokeHeight:2,m.attrs.strokeLineCap),g.add(x)}})),g}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,s=e.currPaths,i=e.color,o=this.w,c=t.x,h=t.x1,u=t.barYPosition,g=s.x,x=s.x1,m=s.barYPosition,p=u+s.barHeight,b=new me(this.barCtx.ctx),w=new J,y=b.move(h,p)+b.line(c,p)+b.line(g,m)+b.line(x,m)+b.line(h,p)+(o.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return b.drawPath({d:y,fill:w.shadeColor(.5,J.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,s=e.i,i=e.j,o=this.w,c=0,h=0;return(o.config.plotOptions.bar.horizontal?o.globals.series.map((function(u,g){return g})):((t=o.globals.columnSeries)===null||t===void 0?void 0:t.i.map((function(u){return u})))||[]).forEach((function(u){var g=o.globals.seriesPercent[u][i];g&&c++,u<s&&g===0&&h++})),{nonZeroColumns:c,zeroEncounters:h}}},{key:"getGroupIndex",value:function(e){var t=this.w,s=t.globals.seriesGroups.findIndex((function(c){return c.indexOf(t.globals.seriesNames[e])>-1})),i=this.barCtx.columnGroupIndices,o=i.indexOf(s);return o<0&&(i.push(s),o=i.length-1),{groupIndex:s,columnGroupIndex:o}}}]),r})(),ir=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!s.globals.isBarHorizontal&&s.globals.seriesRange.length&&s.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var i=new Ws(this.ctx);this.lastActiveBarSerieIndex=i.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var o=i.getBarSeriesIndices(),c=new Tt(this.ctx);this.stackedSeriesTotals=c.getStackedSeriesTotals(this.w.config.series.map((function(h,u){return o.indexOf(u)===-1?u:-1})).filter((function(h){return h!==-1}))),this.barHelpers=new a5(this)}return we(r,[{key:"draw",value:function(e,t){var s=this.w,i=new me(this.ctx),o=new Tt(this.ctx,s);e=o.getLogSeries(e),this.series=e,this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var c=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var h=0,u=0;h<e.length;h++,u++){var g,x,m,p,b=void 0,w=void 0,y=[],k=[],A=s.globals.comboCharts?t[h]:h,S=this.barHelpers.getGroupIndex(A).columnGroupIndex,T=i.group({class:"apexcharts-series",rel:h+1,seriesName:J.escapeString(s.globals.seriesNames[A]),"data:realIndex":A});this.ctx.series.addCollapsedClassToSeries(T,A),e[h].length>0&&(this.visibleI=this.visibleI+1);var C=0,E=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[A],this.translationsIndex=A);var L=this.translationsIndex;this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var _=this.barHelpers.initialPositions(A);w=_.y,C=_.barHeight,x=_.yDivision,p=_.zeroW,b=_.x,E=_.barWidth,g=_.xDivision,m=_.zeroH,this.isHorizontal||k.push(b+E/2);var D=i.group({class:"apexcharts-datalabels","data:realIndex":A});s.globals.delayedElements.push({el:D.node}),D.node.classList.add("apexcharts-element-hidden");var H=i.group({class:"apexcharts-bar-goals-markers"}),z=i.group({class:"apexcharts-bar-shadows"});s.globals.delayedElements.push({el:z.node}),z.node.classList.add("apexcharts-element-hidden");for(var B=0;B<e[h].length;B++){var P=this.barHelpers.getStrokeWidth(h,B,A),W=null,V={indexes:{i:h,j:B,realIndex:A,translationsIndex:L,bc:u},x:b,y:w,strokeWidth:P,elSeries:T};this.isHorizontal?(W=this.drawBarPaths(be(be({},V),{},{barHeight:C,zeroW:p,yDivision:x})),E=this.series[h][B]/this.invertedYRatio):(W=this.drawColumnPaths(be(be({},V),{},{xDivision:g,barWidth:E,zeroH:m})),C=this.series[h][B]/this.yRatio[L]);var Q=this.barHelpers.getPathFillColor(e,h,B,A);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&B>0){var Y,F=this.barHelpers.drawBarShadow({color:typeof Q.color=="string"&&((Y=Q.color)===null||Y===void 0?void 0:Y.indexOf("url"))===-1?Q.color:J.hexToRgba(s.globals.colors[h]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:W});z.add(F),s.config.chart.dropShadow.enabled&&new Zt(this.ctx).dropShadow(F,s.config.chart.dropShadow,A)}this.pathArr.push(W);var U=this.barHelpers.drawGoalLine({barXPosition:W.barXPosition,barYPosition:W.barYPosition,goalX:W.goalX,goalY:W.goalY,barHeight:C,barWidth:E});U&&H.add(U),w=W.y,b=W.x,B>0&&k.push(b+E/2),y.push(w),this.renderSeries(be(be({realIndex:A,pathFill:Q.color},Q.useRangeColor?{lineFill:Q.color}:{}),{},{j:B,i:h,columnGroupIndex:S,pathFrom:W.pathFrom,pathTo:W.pathTo,strokeWidth:P,elSeries:T,x:b,y:w,series:e,barHeight:Math.abs(W.barHeight?W.barHeight:C),barWidth:Math.abs(W.barWidth?W.barWidth:E),elDataLabelsWrap:D,elGoalsMarkers:H,elBarShadows:z,visibleSeries:this.visibleI,type:"bar"}))}s.globals.seriesXvalues[A]=k,s.globals.seriesYvalues[A]=y,c.add(T)}return c}},{key:"renderSeries",value:function(e){var t=e.realIndex,s=e.pathFill,i=e.lineFill,o=e.j,c=e.i,h=e.columnGroupIndex,u=e.pathFrom,g=e.pathTo,x=e.strokeWidth,m=e.elSeries,p=e.x,b=e.y,w=e.y1,y=e.y2,k=e.series,A=e.barHeight,S=e.barWidth,T=e.barXPosition,C=e.barYPosition,E=e.elDataLabelsWrap,L=e.elGoalsMarkers,_=e.elBarShadows,D=e.visibleSeries,H=e.type,z=e.classes,B=this.w,P=new me(this.ctx),W=!1;if(!i){var V=typeof B.globals.stroke.colors[t]=="function"?(function(q){var G,O=B.config.stroke.colors;return Array.isArray(O)&&O.length>0&&((G=O[q])||(G=""),typeof G=="function")?G({value:B.globals.series[q][o],dataPointIndex:o,w:B}):G})(t):B.globals.stroke.colors[t];i=this.barOptions.distributed?B.globals.stroke.colors[o]:V}var Q=new s5(this).handleBarDataLabels({x:p,y:b,y1:w,y2:y,i:c,j:o,series:k,realIndex:t,columnGroupIndex:h,barHeight:A,barWidth:S,barXPosition:T,barYPosition:C,visibleSeries:D});B.globals.isBarHorizontal||(Q.dataLabelsPos.dataLabelsX+Math.max(S,B.globals.barPadForNumericAxis)<0||Q.dataLabelsPos.dataLabelsX-Math.max(S,B.globals.barPadForNumericAxis)>B.globals.gridWidth)&&(W=!0),B.config.series[c].data[o]&&B.config.series[c].data[o].strokeColor&&(i=B.config.series[c].data[o].strokeColor),this.isNullValue&&(s="none");var Y=o/B.config.chart.animations.animateGradually.delay*(B.config.chart.animations.speed/B.globals.dataPoints)/2.4;if(!W){var F=P.renderPaths({i:c,j:o,realIndex:t,pathFrom:u,pathTo:g,stroke:i,strokeWidth:x,strokeLineCap:B.config.stroke.lineCap,fill:s,animationDelay:Y,initialSpeed:B.config.chart.animations.speed,dataChangeSpeed:B.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(H,"-area ").concat(z),chartType:H});F.attr("clip-path","url(#gridRectBarMask".concat(B.globals.cuid,")"));var U=B.config.forecastDataPoints;U.count>0&&o>=B.globals.dataPoints-U.count&&(F.node.setAttribute("stroke-dasharray",U.dashArray),F.node.setAttribute("stroke-width",U.strokeWidth),F.node.setAttribute("fill-opacity",U.fillOpacity)),w!==void 0&&y!==void 0&&(F.attr("data-range-y1",w),F.attr("data-range-y2",y)),new Zt(this.ctx).setSelectionFilter(F,t,o),m.add(F),F.attr({cy:Q.dataLabelsPos.bcy,cx:Q.dataLabelsPos.bcx,j:o,val:B.globals.series[c][o],barHeight:A,barWidth:S}),Q.dataLabels!==null&&E.add(Q.dataLabels),Q.totalDataLabels&&E.add(Q.totalDataLabels),m.add(E),L&&m.add(L),_&&m.add(_)}return m}},{key:"drawBarPaths",value:function(e){var t,s=e.indexes,i=e.barHeight,o=e.strokeWidth,c=e.zeroW,h=e.x,u=e.y,g=e.yDivision,x=e.elSeries,m=this.w,p=s.i,b=s.j;if(m.globals.isXNumeric)t=(u=(m.globals.seriesX[p][b]-m.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(m.config.plotOptions.bar.hideZeroBarsWhenGrouped){var w=this.barHelpers.getZeroValueEncounters({i:p,j:b}),y=w.nonZeroColumns,k=w.zeroEncounters;y>0&&(i=this.seriesLen*i/y),t=u+i*this.visibleI,t-=i*k}else t=u+i*this.visibleI;this.isFunnel&&(c-=(this.barHelpers.getXForValue(this.series[p][b],c)-c)/2),h=this.barHelpers.getXForValue(this.series[p][b],c);var A=this.barHelpers.getBarpaths({barYPosition:t,barHeight:i,x1:c,x2:h,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,i:p,j:b,w:m});return m.globals.isXNumeric||(u+=g),this.barHelpers.barBackground({j:b,i:p,y1:t-i*this.visibleI,y2:i*this.seriesLen,elSeries:x}),{pathTo:A.pathTo,pathFrom:A.pathFrom,x1:c,x:h,y:u,goalX:this.barHelpers.getGoalValues("x",c,null,p,b),barYPosition:t,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var t,s=e.indexes,i=e.x,o=e.y,c=e.xDivision,h=e.barWidth,u=e.zeroH,g=e.strokeWidth,x=e.elSeries,m=this.w,p=s.realIndex,b=s.translationsIndex,w=s.i,y=s.j,k=s.bc;if(m.globals.isXNumeric){var A=this.getBarXForNumericXAxis({x:i,j:y,realIndex:p,barWidth:h});i=A.x,t=A.barXPosition}else if(m.config.plotOptions.bar.hideZeroBarsWhenGrouped){var S=this.barHelpers.getZeroValueEncounters({i:w,j:y}),T=S.nonZeroColumns,C=S.zeroEncounters;T>0&&(h=this.seriesLen*h/T),t=i+h*this.visibleI,t-=h*C}else t=i+h*this.visibleI;o=this.barHelpers.getYForValue(this.series[w][y],u,b);var E=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:h,y1:u,y2:o,strokeWidth:g,isReversed:this.isReversed,series:this.series,realIndex:p,i:w,j:y,w:m});return m.globals.isXNumeric||(i+=c),this.barHelpers.barBackground({bc:k,j:y,i:w,x1:t-g/2-h*this.visibleI,x2:h*this.seriesLen+g/2,elSeries:x}),{pathTo:E.pathTo,pathFrom:E.pathFrom,x:i,y:o,goalY:this.barHelpers.getGoalValues("y",null,u,w,y,b),barXPosition:t,barWidth:h}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,s=e.barWidth,i=e.realIndex,o=e.j,c=this.w,h=i;return c.globals.seriesX[i].length||(h=c.globals.maxValsInArrayIndex),J.isNumber(c.globals.seriesX[h][o])&&(t=(c.globals.seriesX[h][o]-c.globals.minX)/this.xRatio-s*this.seriesLen/2),{barXPosition:t+s*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var s=this.w,i="M 0 0",o=0;o<s.globals.previousPaths.length;o++){var c=s.globals.previousPaths[o];c.paths&&c.paths.length>0&&parseInt(c.realIndex,10)===parseInt(e,10)&&s.globals.previousPaths[o].paths[t]!==void 0&&(i=s.globals.previousPaths[o].paths[t].d)}return i}}]),r})(),tb=(function(r){El(t,ir);var e=_l(t);function t(){return ye(this,t),e.apply(this,arguments)}return we(t,[{key:"draw",value:function(s,i){var o=this,c=this.w;this.graphics=new me(this.ctx),this.bar=new ir(this.ctx,this.xyRatios);var h=new Tt(this.ctx,c);s=h.getLogSeries(s),this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),c.config.chart.stackType==="100%"&&(s=c.globals.comboCharts?i.map((function(w){return c.globals.seriesPercent[w]})):c.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var u=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),g=0,x=0,m=function(w,y){var k=void 0,A=void 0,S=void 0,T=void 0,C=c.globals.comboCharts?i[w]:w,E=o.barHelpers.getGroupIndex(C),L=E.groupIndex,_=E.columnGroupIndex;o.groupCtx=o[c.globals.seriesGroups[L]];var D=[],H=[],z=0;o.yRatio.length>1&&(o.yaxisIndex=c.globals.seriesYAxisReverseMap[C][0],z=C),o.isReversed=c.config.yaxis[o.yaxisIndex]&&c.config.yaxis[o.yaxisIndex].reversed;var B=o.graphics.group({class:"apexcharts-series",seriesName:J.escapeString(c.globals.seriesNames[C]),rel:w+1,"data:realIndex":C});o.ctx.series.addCollapsedClassToSeries(B,C);var P=o.graphics.group({class:"apexcharts-datalabels","data:realIndex":C}),W=o.graphics.group({class:"apexcharts-bar-goals-markers"}),V=0,Q=0,Y=o.initialPositions(g,x,k,A,S,T,z);x=Y.y,V=Y.barHeight,A=Y.yDivision,T=Y.zeroW,g=Y.x,Q=Y.barWidth,k=Y.xDivision,S=Y.zeroH,c.globals.barHeight=V,c.globals.barWidth=Q,o.barHelpers.initializeStackedXYVars(o),o.groupCtx.prevY.length===1&&o.groupCtx.prevY[0].every((function(ue){return isNaN(ue)}))&&(o.groupCtx.prevY[0]=o.groupCtx.prevY[0].map((function(){return S})),o.groupCtx.prevYF[0]=o.groupCtx.prevYF[0].map((function(){return 0})));for(var F=0;F<c.globals.dataPoints;F++){var U=o.barHelpers.getStrokeWidth(w,F,C),q={indexes:{i:w,j:F,realIndex:C,translationsIndex:z,bc:y},strokeWidth:U,x:g,y:x,elSeries:B,columnGroupIndex:_,seriesGroup:c.globals.seriesGroups[L]},G=null;o.isHorizontal?(G=o.drawStackedBarPaths(be(be({},q),{},{zeroW:T,barHeight:V,yDivision:A})),Q=o.series[w][F]/o.invertedYRatio):(G=o.drawStackedColumnPaths(be(be({},q),{},{xDivision:k,barWidth:Q,zeroH:S})),V=o.series[w][F]/o.yRatio[z]);var O=o.barHelpers.drawGoalLine({barXPosition:G.barXPosition,barYPosition:G.barYPosition,goalX:G.goalX,goalY:G.goalY,barHeight:V,barWidth:Q});O&&W.add(O),x=G.y,g=G.x,D.push(g),H.push(x);var I=o.barHelpers.getPathFillColor(s,w,F,C),ne="",K=c.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(o.barHelpers.arrBorderRadius[C][F]==="bottom"&&c.globals.series[C][F]>0||o.barHelpers.arrBorderRadius[C][F]==="top"&&c.globals.series[C][F]<0)&&(ne=K),B=o.renderSeries(be(be({realIndex:C,pathFill:I.color},I.useRangeColor?{lineFill:I.color}:{}),{},{j:F,i:w,columnGroupIndex:_,pathFrom:G.pathFrom,pathTo:G.pathTo,strokeWidth:U,elSeries:B,x:g,y:x,series:s,barHeight:V,barWidth:Q,elDataLabelsWrap:P,elGoalsMarkers:W,type:"bar",visibleSeries:_,classes:ne}))}c.globals.seriesXvalues[C]=D,c.globals.seriesYvalues[C]=H,o.groupCtx.prevY.push(o.groupCtx.yArrj),o.groupCtx.prevYF.push(o.groupCtx.yArrjF),o.groupCtx.prevYVal.push(o.groupCtx.yArrjVal),o.groupCtx.prevX.push(o.groupCtx.xArrj),o.groupCtx.prevXF.push(o.groupCtx.xArrjF),o.groupCtx.prevXVal.push(o.groupCtx.xArrjVal),u.add(B)},p=0,b=0;p<s.length;p++,b++)m(p,b);return u}},{key:"initialPositions",value:function(s,i,o,c,h,u,g){var x,m,p=this.w;if(this.isHorizontal){c=p.globals.gridHeight/p.globals.dataPoints;var b=p.config.plotOptions.bar.barHeight;x=String(b).indexOf("%")===-1?parseInt(b,10):c*parseInt(b,10)/100,u=p.globals.padHorizontal+(this.isReversed?p.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),i=(c-x)/2}else{m=o=p.globals.gridWidth/p.globals.dataPoints;var w=p.config.plotOptions.bar.columnWidth;p.globals.isXNumeric&&p.globals.dataPoints>1?m=(o=p.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(w).indexOf("%")===-1?m=parseInt(w,10):m*=parseInt(w,10)/100,h=this.isReversed?this.baseLineY[g]:p.globals.gridHeight-this.baseLineY[g],s=p.globals.padHorizontal+(o-m)/2}var y=p.globals.barGroups.length||1;return{x:s,y:i,yDivision:c,xDivision:o,barHeight:x/y,barWidth:m/y,zeroH:h,zeroW:u}}},{key:"drawStackedBarPaths",value:function(s){for(var i,o=s.indexes,c=s.barHeight,h=s.strokeWidth,u=s.zeroW,g=s.x,x=s.y,m=s.columnGroupIndex,p=s.seriesGroup,b=s.yDivision,w=s.elSeries,y=this.w,k=x+m*c,A=o.i,S=o.j,T=o.realIndex,C=o.translationsIndex,E=0,L=0;L<this.groupCtx.prevXF.length;L++)E+=this.groupCtx.prevXF[L][S];var _=A;if(y.config.series[T].name&&(_=p.indexOf(y.config.series[T].name)),_>0){var D=u;this.groupCtx.prevXVal[_-1][S]<0?D=this.series[A][S]>=0?this.groupCtx.prevX[_-1][S]+E-2*(this.isReversed?E:0):this.groupCtx.prevX[_-1][S]:this.groupCtx.prevXVal[_-1][S]>=0&&(D=this.series[A][S]>=0?this.groupCtx.prevX[_-1][S]:this.groupCtx.prevX[_-1][S]-E+2*(this.isReversed?E:0)),i=D}else i=u;g=this.series[A][S]===null?i:i+this.series[A][S]/this.invertedYRatio-2*(this.isReversed?this.series[A][S]/this.invertedYRatio:0);var H=this.barHelpers.getBarpaths({barYPosition:k,barHeight:c,x1:i,x2:g,strokeWidth:h,isReversed:this.isReversed,series:this.series,realIndex:o.realIndex,seriesGroup:p,i:A,j:S,w:y});return this.barHelpers.barBackground({j:S,i:A,y1:k,y2:c,elSeries:w}),x+=b,{pathTo:H.pathTo,pathFrom:H.pathFrom,goalX:this.barHelpers.getGoalValues("x",u,null,A,S,C),barXPosition:i,barYPosition:k,x:g,y:x}}},{key:"drawStackedColumnPaths",value:function(s){var i=s.indexes,o=s.x,c=s.y,h=s.xDivision,u=s.barWidth,g=s.zeroH,x=s.columnGroupIndex,m=s.seriesGroup,p=s.elSeries,b=this.w,w=i.i,y=i.j,k=i.bc,A=i.realIndex,S=i.translationsIndex;if(b.globals.isXNumeric){var T=b.globals.seriesX[A][y];T||(T=0),o=(T-b.globals.minX)/this.xRatio-u/2*b.globals.barGroups.length}for(var C,E=o+x*u,L=0,_=0;_<this.groupCtx.prevYF.length;_++)L+=isNaN(this.groupCtx.prevYF[_][y])?0:this.groupCtx.prevYF[_][y];var D=w;if(m&&(D=m.indexOf(b.globals.seriesNames[A])),D>0&&!b.globals.isXNumeric||D>0&&b.globals.isXNumeric&&b.globals.seriesX[A-1][y]===b.globals.seriesX[A][y]){var H,z,B,P=Math.min(this.yRatio.length+1,A+1);if(this.groupCtx.prevY[D-1]!==void 0&&this.groupCtx.prevY[D-1].length)for(var W=1;W<P;W++){var V;if(!isNaN((V=this.groupCtx.prevY[D-W])===null||V===void 0?void 0:V[y])){B=this.groupCtx.prevY[D-W][y];break}}for(var Q=1;Q<P;Q++){var Y,F;if(((Y=this.groupCtx.prevYVal[D-Q])===null||Y===void 0?void 0:Y[y])<0){z=this.series[w][y]>=0?B-L+2*(this.isReversed?L:0):B;break}if(((F=this.groupCtx.prevYVal[D-Q])===null||F===void 0?void 0:F[y])>=0){z=this.series[w][y]>=0?B:B+L-2*(this.isReversed?L:0);break}}z===void 0&&(z=b.globals.gridHeight),C=(H=this.groupCtx.prevYF[0])!==null&&H!==void 0&&H.every((function(q){return q===0}))&&this.groupCtx.prevYF.slice(1,D).every((function(q){return q.every((function(G){return isNaN(G)}))}))?g:z}else C=g;c=this.series[w][y]?C-this.series[w][y]/this.yRatio[S]+2*(this.isReversed?this.series[w][y]/this.yRatio[S]:0):C;var U=this.barHelpers.getColumnPaths({barXPosition:E,barWidth:u,y1:C,y2:c,yRatio:this.yRatio[S],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:m,realIndex:i.realIndex,i:w,j:y,w:b});return this.barHelpers.barBackground({bc:k,j:y,i:w,x1:E,x2:u,elSeries:p}),{pathTo:U.pathTo,pathFrom:U.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,g,w,y),barXPosition:E,x:b.globals.isXNumeric?o:o+h,y:c}}}]),t})(),Ru=(function(r){El(t,ir);var e=_l(t);function t(){return ye(this,t),e.apply(this,arguments)}return we(t,[{key:"draw",value:function(s,i,o){var c=this,h=this.w,u=new me(this.ctx),g=h.globals.comboCharts?i:h.config.chart.type,x=new Js(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=h.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var m=new Tt(this.ctx,h);s=m.getLogSeries(s),this.series=s,this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var p=u.group({class:"apexcharts-".concat(g,"-series apexcharts-plot-series")}),b=function(y){c.isBoxPlot=h.config.chart.type==="boxPlot"||h.config.series[y].type==="boxPlot";var k,A,S,T,C=void 0,E=void 0,L=[],_=[],D=h.globals.comboCharts?o[y]:y,H=c.barHelpers.getGroupIndex(D).columnGroupIndex,z=u.group({class:"apexcharts-series",seriesName:J.escapeString(h.globals.seriesNames[D]),rel:y+1,"data:realIndex":D});c.ctx.series.addCollapsedClassToSeries(z,D),s[y].length>0&&(c.visibleI=c.visibleI+1);var B,P,W=0;c.yRatio.length>1&&(c.yaxisIndex=h.globals.seriesYAxisReverseMap[D][0],W=D);var V=c.barHelpers.initialPositions(D);E=V.y,B=V.barHeight,A=V.yDivision,T=V.zeroW,C=V.x,P=V.barWidth,k=V.xDivision,S=V.zeroH,_.push(C+P/2);for(var Q=u.group({class:"apexcharts-datalabels","data:realIndex":D}),Y=u.group({class:"apexcharts-bar-goals-markers"}),F=function(q){var G=c.barHelpers.getStrokeWidth(y,q,D),O=null,I={indexes:{i:y,j:q,realIndex:D,translationsIndex:W},x:C,y:E,strokeWidth:G,elSeries:z};O=c.isHorizontal?c.drawHorizontalBoxPaths(be(be({},I),{},{yDivision:A,barHeight:B,zeroW:T})):c.drawVerticalBoxPaths(be(be({},I),{},{xDivision:k,barWidth:P,zeroH:S})),E=O.y,C=O.x;var ne=c.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:B,barWidth:P});ne&&Y.add(ne),q>0&&_.push(C+P/2),L.push(E),O.pathTo.forEach((function(K,ue){var ae=!c.isBoxPlot&&c.candlestickOptions.wick.useFillColor?O.color[ue]:h.globals.stroke.colors[y],te=x.fillPath({seriesNumber:D,dataPointIndex:q,color:O.color[ue],value:s[y][q]});c.renderSeries({realIndex:D,pathFill:te,lineFill:ae,j:q,i:y,pathFrom:O.pathFrom,pathTo:K,strokeWidth:G,elSeries:z,x:C,y:E,series:s,columnGroupIndex:H,barHeight:B,barWidth:P,elDataLabelsWrap:Q,elGoalsMarkers:Y,visibleSeries:c.visibleI,type:h.config.chart.type})}))},U=0;U<h.globals.dataPoints;U++)F(U);h.globals.seriesXvalues[D]=_,h.globals.seriesYvalues[D]=L,p.add(z)},w=0;w<s.length;w++)b(w);return p}},{key:"drawVerticalBoxPaths",value:function(s){var i=s.indexes,o=s.x;s.y;var c=s.xDivision,h=s.barWidth,u=s.zeroH,g=s.strokeWidth,x=this.w,m=new me(this.ctx),p=i.i,b=i.j,w=x.config.plotOptions.candlestick.colors,y=this.boxOptions.colors,k=i.realIndex,A=function(U){return Array.isArray(U)?U[k]:U},S=A(w.upward),T=A(w.downward),C=this.yRatio[i.translationsIndex],E=this.getOHLCValue(k,b),L=u,_=u,D=E.o<E.c?[S]:[T];this.isBoxPlot&&(D=[A(y.lower),A(y.upper)]);var H=Math.min(E.o,E.c),z=Math.max(E.o,E.c),B=E.m;x.globals.isXNumeric&&(o=(x.globals.seriesX[k][b]-x.globals.minX)/this.xRatio-h/2);var P=o+h*this.visibleI;this.series[p][b]===void 0||this.series[p][b]===null?(H=u,z=u):(H=u-H/C,z=u-z/C,L=u-E.h/C,_=u-E.l/C,B=u-E.m/C);var W=m.move(P,u),V=m.move(P+h/2,H);if(x.globals.previousPaths.length>0&&(V=this.getPreviousPath(k,b,!0)),this.isOHLC){var Q=P+h/2,Y=u-E.o/C,F=u-E.c/C;W=[m.move(Q,L)+m.line(Q,_)+m.move(Q,Y)+m.line(P,Y)+m.move(Q,F)+m.line(P+h,F)]}else W=this.isBoxPlot?[m.move(P,H)+m.line(P+h/2,H)+m.line(P+h/2,L)+m.line(P+h/4,L)+m.line(P+h-h/4,L)+m.line(P+h/2,L)+m.line(P+h/2,H)+m.line(P+h,H)+m.line(P+h,B)+m.line(P,B)+m.line(P,H+g/2),m.move(P,B)+m.line(P+h,B)+m.line(P+h,z)+m.line(P+h/2,z)+m.line(P+h/2,_)+m.line(P+h-h/4,_)+m.line(P+h/4,_)+m.line(P+h/2,_)+m.line(P+h/2,z)+m.line(P,z)+m.line(P,B)+"z"]:[m.move(P,z)+m.line(P+h/2,z)+m.line(P+h/2,L)+m.line(P+h/2,z)+m.line(P+h,z)+m.line(P+h,H)+m.line(P+h/2,H)+m.line(P+h/2,_)+m.line(P+h/2,H)+m.line(P,H)+m.line(P,z-g/2)];return V+=m.move(P,H),x.globals.isXNumeric||(o+=c),{pathTo:W,pathFrom:V,x:o,y:z,goalY:this.barHelpers.getGoalValues("y",null,u,p,b,i.translationsIndex),barXPosition:P,color:D}}},{key:"drawHorizontalBoxPaths",value:function(s){var i=s.indexes;s.x;var o=s.y,c=s.yDivision,h=s.barHeight,u=s.zeroW,g=s.strokeWidth,x=this.w,m=new me(this.ctx),p=i.i,b=i.j,w=this.boxOptions.colors.lower;this.isBoxPlot&&(w=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var y=this.invertedYRatio,k=i.realIndex,A=this.getOHLCValue(k,b),S=u,T=u,C=Math.min(A.o,A.c),E=Math.max(A.o,A.c),L=A.m;x.globals.isXNumeric&&(o=(x.globals.seriesX[k][b]-x.globals.minX)/this.invertedXRatio-h/2);var _=o+h*this.visibleI;this.series[p][b]===void 0||this.series[p][b]===null?(C=u,E=u):(C=u+C/y,E=u+E/y,S=u+A.h/y,T=u+A.l/y,L=u+A.m/y);var D=m.move(u,_),H=m.move(C,_+h/2);return x.globals.previousPaths.length>0&&(H=this.getPreviousPath(k,b,!0)),D=[m.move(C,_)+m.line(C,_+h/2)+m.line(S,_+h/2)+m.line(S,_+h/2-h/4)+m.line(S,_+h/2+h/4)+m.line(S,_+h/2)+m.line(C,_+h/2)+m.line(C,_+h)+m.line(L,_+h)+m.line(L,_)+m.line(C+g/2,_),m.move(L,_)+m.line(L,_+h)+m.line(E,_+h)+m.line(E,_+h/2)+m.line(T,_+h/2)+m.line(T,_+h-h/4)+m.line(T,_+h/4)+m.line(T,_+h/2)+m.line(E,_+h/2)+m.line(E,_)+m.line(L,_)+"z"],H+=m.move(C,_),x.globals.isXNumeric||(o+=c),{pathTo:D,pathFrom:H,x:E,y:o,goalX:this.barHelpers.getGoalValues("x",u,null,p,b),barYPosition:_,color:w}}},{key:"getOHLCValue",value:function(s,i){var o=this.w,c=new Tt(this.ctx,o),h=c.getLogValAtSeriesIndex(o.globals.seriesCandleH[s][i],s),u=c.getLogValAtSeriesIndex(o.globals.seriesCandleO[s][i],s),g=c.getLogValAtSeriesIndex(o.globals.seriesCandleM[s][i],s),x=c.getLogValAtSeriesIndex(o.globals.seriesCandleC[s][i],s),m=c.getLogValAtSeriesIndex(o.globals.seriesCandleL[s][i],s);return{o:this.isBoxPlot?h:u,h:this.isBoxPlot?u:h,m:g,l:this.isBoxPlot?x:m,c:this.isBoxPlot?m:x}}}]),t})(),ny=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,s=e.config.plotOptions[e.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map((function(i,o){i.from<=0&&(t=!0)})),t}},{key:"getShadeColor",value:function(e,t,s,i){var o=this.w,c=1,h=o.config.plotOptions[e].shadeIntensity,u=this.determineColor(e,t,s);o.globals.hasNegs||i?c=o.config.plotOptions[e].reverseNegativeShade?u.percent<0?u.percent/100*(1.25*h):(1-u.percent/100)*(1.25*h):u.percent<=0?1-(1+u.percent/100)*h:(1-u.percent/100)*h:(c=1-u.percent/100,e==="treemap"&&(c=(1-u.percent/100)*(1.25*h)));var g=u.color,x=new J;if(o.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var m=x.shadeColor(-1*c,u.color);g=J.hexToRgba(J.isColorHex(m)?m:J.rgb2hex(m),o.config.fill.opacity)}else{var p=x.shadeColor(c,u.color);g=J.hexToRgba(J.isColorHex(p)?p:J.rgb2hex(p),o.config.fill.opacity)}return{color:g,colorProps:u}}},{key:"determineColor",value:function(e,t,s){var i=this.w,o=i.globals.series[t][s],c=i.config.plotOptions[e],h=c.colorScale.inverse?s:t;c.distributed&&i.config.chart.type==="treemap"&&(h=s);var u=i.globals.colors[h],g=null,x=Math.min.apply(Math,Xt(i.globals.series[t])),m=Math.max.apply(Math,Xt(i.globals.series[t]));c.distributed||e!=="heatmap"||(x=i.globals.minY,m=i.globals.maxY),c.colorScale.min!==void 0&&(x=c.colorScale.min<i.globals.minY?c.colorScale.min:i.globals.minY,m=c.colorScale.max>i.globals.maxY?c.colorScale.max:i.globals.maxY);var p=Math.abs(m)+Math.abs(x),b=100*o/(p===0?p-1e-6:p);return c.colorScale.ranges.length>0&&c.colorScale.ranges.map((function(w,y){if(o>=w.from&&o<=w.to){u=w.color,g=w.foreColor?w.foreColor:null,x=w.from,m=w.to;var k=Math.abs(m)+Math.abs(x);b=100*o/(k===0?k-1e-6:k)}})),{color:u,foreColor:g,percent:b}}},{key:"calculateDataLabels",value:function(e){var t=e.text,s=e.x,i=e.y,o=e.i,c=e.j,h=e.colorProps,u=e.fontSize,g=this.w.config.dataLabels,x=new me(this.ctx),m=new ar(this.ctx),p=null;if(g.enabled){p=x.group({class:"apexcharts-data-labels"});var b=g.offsetX,w=g.offsetY,y=s+b,k=i+parseFloat(g.style.fontSize)/3+w;m.plotDataLabelsText({x:y,y:k,text:t,i:o,j:c,color:h.foreColor,parent:p,fontSize:u,dataLabelsConfig:g})}return p}},{key:"addListeners",value:function(e){var t=new me(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),r})(),i5=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new ny(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return we(r,[{key:"draw",value:function(e){var t=this.w,s=new me(this.ctx),i=s.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var o=t.globals.gridWidth/t.globals.dataPoints,c=t.globals.gridHeight/t.globals.series.length,h=0,u=!1;this.negRange=this.helpers.checkColorRange();var g=e.slice();t.config.yaxis[0].reversed&&(u=!0,g.reverse());for(var x=u?0:g.length-1;u?x<g.length:x>=0;u?x++:x--){var m=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:J.escapeString(t.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});if(this.ctx.series.addCollapsedClassToSeries(m,x),t.config.chart.dropShadow.enabled){var p=t.config.chart.dropShadow;new Zt(this.ctx).dropShadow(m,p,x)}for(var b=0,w=t.config.plotOptions.heatmap.shadeIntensity,y=0,k=0;k<t.globals.dataPoints;k++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*k<t.globals.seriesX[x][y])b+=o;else{if(y>=g[x].length)break;var A=this.helpers.getShadeColor(t.config.chart.type,x,y,this.negRange),S=A.color,T=A.colorProps;t.config.fill.type==="image"&&(S=new Js(this.ctx).fillPath({seriesNumber:x,dataPointIndex:y,opacity:t.globals.hasNegs?T.percent<0?1-(1+T.percent/100):w+T.percent/100:T.percent/100,patternID:J.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:o,height:t.config.fill.image.height?t.config.fill.image.height:c}));var C=this.rectRadius,E=s.drawRect(b,h,o,c,C);if(E.attr({cx:b,cy:h}),E.node.classList.add("apexcharts-heatmap-rect"),m.add(E),E.attr({fill:S,i:x,index:x,j:y,val:e[x][y],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?S:t.globals.stroke.colors[0],color:S}),this.helpers.addListeners(E),t.config.chart.animations.enabled&&!t.globals.dataChanged){var L=1;t.globals.resized||(L=t.config.chart.animations.speed),this.animateHeatMap(E,b,h,o,c,L)}if(t.globals.dataChanged){var _=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){_=this.dynamicAnim.speed;var D=t.globals.previousPaths[x]&&t.globals.previousPaths[x][y]&&t.globals.previousPaths[x][y].color;D||(D="rgba(255, 255, 255, 0)"),this.animateHeatColor(E,J.isColorHex(D)?D:J.rgb2hex(D),J.isColorHex(S)?S:J.rgb2hex(S),_)}}var H=(0,t.config.dataLabels.formatter)(t.globals.series[x][y],{value:t.globals.series[x][y],seriesIndex:x,dataPointIndex:y,w:t}),z=this.helpers.calculateDataLabels({text:H,x:b+o/2,y:h+c/2,i:x,j:y,colorProps:T,series:g});z!==null&&m.add(z),b+=o,y++}h+=c,i.add(m)}var B=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?B.unshift(""):B.push(""),t.globals.yAxisScale[0].result=B,i}},{key:"animateHeatMap",value:function(e,t,s,i,o,c){var h=new or(this.ctx);h.animateRect(e,{x:t+i/2,y:s+o/2,width:0,height:0},{x:t,y:s,width:i,height:o},c,(function(){h.animationCompleted(e)}))}},{key:"animateHeatColor",value:function(e,t,s,i){e.attr({fill:t}).animate(i).attr({fill:s})}}]),r})(),ry=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"drawYAxisTexts",value:function(e,t,s,i){var o=this.w,c=o.config.yaxis[0],h=o.globals.yLabelFormatters[0];return new me(this.ctx).drawText({x:e+c.labels.offsetX,y:t+c.labels.offsetY,text:h(i,s),textAnchor:"middle",fontSize:c.labels.style.fontSize,fontFamily:c.labels.style.fontFamily,foreColor:Array.isArray(c.labels.style.colors)?c.labels.style.colors[s]:c.labels.style.colors})}}]),r})(),ly=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var s=t.config.plotOptions.pie.customScale,i=t.globals.gridWidth/2,o=t.globals.gridHeight/2;this.translateX=i-i*s,this.translateY=o-o*s,this.dataLabelsGroup=new me(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return we(r,[{key:"draw",value:function(e){var t=this,s=this.w,i=new me(this.ctx),o=i.group({class:"apexcharts-pie"});if(s.globals.noData)return o;for(var c=0,h=0;h<e.length;h++)c+=J.negToZero(e[h]);var u=[],g=i.group();c===0&&(c=1e-5),e.forEach((function(T){t.maxY=Math.max(t.maxY,T)})),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(o);for(var x=0;x<e.length;x++){var m=this.fullAngle*J.negToZero(e[x])/c;u.push(m),this.chartType==="polarArea"?(u[x]=this.fullAngle/e.length,this.sliceSizes.push(s.globals.radialSize*e[x]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var p,b=0,w=0;w<s.globals.previousPaths.length;w++)b+=J.negToZero(s.globals.previousPaths[w]);for(var y=0;y<s.globals.previousPaths.length;y++)p=this.fullAngle*J.negToZero(s.globals.previousPaths[y])/b,this.prevSectorAngleArr.push(p)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var k=i.drawCircle(this.donutSize);k.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),g.add(k)}var A=this.drawArcs(u,e);if(this.sliceLabels.forEach((function(T){A.add(T)})),g.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),g.add(A),o.add(g),this.donutDataLabels.show){var S=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});o.add(S)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(o),o}},{key:"drawArcs",value:function(e,t){var s=this.w,i=new Zt(this.ctx),o=new me(this.ctx),c=new Js(this.ctx),h=o.group({class:"apexcharts-slices"}),u=this.initialAngle,g=this.initialAngle,x=this.initialAngle,m=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var p=0;p<e.length;p++){var b=o.group({class:"apexcharts-series apexcharts-pie-series",seriesName:J.escapeString(s.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});h.add(b),g=m,x=(u=x)+e[p],m=g+this.prevSectorAngleArr[p];var w=x<u?this.fullAngle+x-u:x-u,y=c.fillPath({seriesNumber:p,size:this.sliceSizes[p],value:t[p]}),k=this.getChangedPath(g,m),A=o.drawPath({d:k,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[p]:this.lineColorArr,strokeWidth:0,fill:y,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(p)});if(A.attr({index:0,j:p}),i.setSelectionFilter(A,0,p),s.config.chart.dropShadow.enabled){var S=s.config.chart.dropShadow;i.dropShadow(A,S,p)}this.addListeners(A,this.donutDataLabels),me.setAttrs(A.node,{"data:angle":w,"data:startAngle":u,"data:strokeWidth":this.strokeWidth,"data:value":t[p]});var T={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?T=J.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(u+w/2)%this.fullAngle):this.chartType==="donut"&&(T=J.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(u+w/2)%this.fullAngle)),b.add(A);var C=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((C=w/this.fullAngle*s.config.chart.animations.speed)===0&&(C=1),this.animDur=C+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths(A,{size:this.sliceSizes[p],endAngle:x,startAngle:u,prevStartAngle:g,prevEndAngle:m,animateStartingPos:!0,i:p,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(A,{size:this.sliceSizes[p],endAngle:x,startAngle:u,i:p,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:C}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&A.node.addEventListener("mouseup",this.pieClicked.bind(this,p)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(p)>-1&&this.pieClicked(p),s.config.dataLabels.enabled){var E=T.x,L=T.y,_=100*w/this.fullAngle+"%";if(w!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[p]){var D=s.config.dataLabels.formatter;D!==void 0&&(_=D(s.globals.seriesPercent[p][0],{seriesIndex:p,w:s}));var H=s.globals.dataLabels.style.colors[p],z=o.group({class:"apexcharts-datalabels"}),B=o.drawText({x:E,y:L,text:_,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:H});if(z.add(B),s.config.dataLabels.dropShadow.enabled){var P=s.config.dataLabels.dropShadow;i.dropShadow(B,P)}B.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(B.node.classList.add("apexcharts-pie-label-delay"),B.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(z)}}}return h}},{key:"addListeners",value:function(e,t){var s=new me(this.ctx);e.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",s.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var s=this.w,i=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,o=i,c=t.startAngle,h=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(c=t.prevEndAngle,o=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===s.config.series.length-1&&(i+h>this.fullAngle?t.endAngle=t.endAngle-(i+h):i+h<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(i+h)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,c,h,i,o,t)}},{key:"animateArc",value:function(e,t,s,i,o,c){var h,u=this,g=this.w,x=new or(this.ctx),m=c.size;(isNaN(t)||isNaN(o))&&(t=s,o=i,c.dur=0);var p=i,b=s,w=t<s?this.fullAngle+t-s:t-s;g.globals.dataChanged&&c.shouldSetPrevPaths&&c.prevEndAngle&&(h=u.getPiePath({me:u,startAngle:c.prevStartAngle,angle:c.prevEndAngle<c.prevStartAngle?this.fullAngle+c.prevEndAngle-c.prevStartAngle:c.prevEndAngle-c.prevStartAngle,size:m}),e.attr({d:h})),c.dur!==0?e.animate(c.dur,c.animBeginArr[c.i]).after((function(){u.chartType!=="pie"&&u.chartType!=="donut"&&u.chartType!=="polarArea"||this.animate(g.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":u.strokeWidth}),c.i===g.config.series.length-1&&x.animationCompleted(e)})).during((function(y){p=w+(i-w)*y,c.animateStartingPos&&(p=o+(i-o)*y,b=t-o+(s-(t-o))*y),h=u.getPiePath({me:u,startAngle:b,angle:p,size:m}),e.node.setAttribute("data:pathOrig",h),e.attr({d:h})})):(h=u.getPiePath({me:u,startAngle:b,angle:i,size:m}),c.isTrack||(g.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",h),e.attr({d:h,"stroke-width":u.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,s=this.w,i=this,o=i.sliceSizes[e]+(s.config.plotOptions.pie.expandOnClick?4:0),c=s.globals.dom.Paper.findOne(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e));if(c.attr("data:pieClicked")!=="true"){var h=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(h,(function(m){m.setAttribute("data:pieClicked","false");var p=m.getAttribute("data:pathOrig");p&&m.setAttribute("d",p)})),s.globals.capturedDataPointIndex=e,c.attr("data:pieClicked","true");var u=parseInt(c.attr("data:startAngle"),10),g=parseInt(c.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:u,angle:g,size:o}),g!==360&&c.plot(t)}else{c.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(c.node,this.donutDataLabels);var x=c.attr("data:pathOrig");c.attr({d:x})}}},{key:"getChangedPath",value:function(e,t){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),s}},{key:"getPiePath",value:function(e){var t,s=e.me,i=e.startAngle,o=e.angle,c=e.size,h=new me(this.ctx),u=i,g=Math.PI*(u-90)/180,x=o+i;Math.ceil(x)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(x=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(x)>this.fullAngle&&(x-=this.fullAngle);var m=Math.PI*(x-90)/180,p=s.centerX+c*Math.cos(g),b=s.centerY+c*Math.sin(g),w=s.centerX+c*Math.cos(m),y=s.centerY+c*Math.sin(m),k=J.polarToCartesian(s.centerX,s.centerY,s.donutSize,x),A=J.polarToCartesian(s.centerX,s.centerY,s.donutSize,u),S=o>180?1:0,T=["M",p,b,"A",c,c,0,S,1,w,y];return t=s.chartType==="donut"?[].concat(T,["L",k.x,k.y,"A",s.donutSize,s.donutSize,0,S,0,A.x,A.y,"L",p,b,"z"]).join(" "):s.chartType==="pie"||s.chartType==="polarArea"?[].concat(T,["L",s.centerX,s.centerY,"L",p,b]).join(" "):[].concat(T).join(" "),h.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,s=new ey(this.ctx),i=new me(this.ctx),o=new ry(this.ctx),c=i.group(),h=i.group(),u=s.niceScale(0,Math.ceil(this.maxY),0),g=u.result.reverse(),x=u.result.length;this.maxY=u.niceMax;for(var m=t.globals.radialSize,p=m/(x-1),b=0;b<x-1;b++){var w=i.drawCircle(m);if(w.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var y=o.drawYAxisTexts(this.centerX,this.centerY-m+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,b,g[b]);h.add(y)}c.add(w),m-=p}this.drawSpokes(e),e.add(c),e.add(h)}},{key:"renderInnerDataLabels",value:function(e,t,s){var i=this.w,o=new me(this.ctx),c=t.total.show;e.node.innerHTML="",e.node.style.opacity=s.opacity;var h,u,g=s.centerX,x=this.donutDataLabels.total.label?s.centerY:s.centerY-s.centerY/6;h=t.name.color===void 0?i.globals.colors[0]:t.name.color;var m=t.name.fontSize,p=t.name.fontFamily,b=t.name.fontWeight;u=t.value.color===void 0?i.config.chart.foreColor:t.value.color;var w=t.value.formatter,y="",k="";if(c?(h=t.total.color,m=t.total.fontSize,p=t.total.fontFamily,b=t.total.fontWeight,k=this.donutDataLabels.total.label?t.total.label:"",y=t.total.formatter(i)):i.globals.series.length===1&&(y=w(i.globals.series[0],i),k=i.globals.seriesNames[0]),k&&(k=t.name.formatter(k,t.total.show,i)),t.name.show){var A=o.drawText({x:g,y:x+parseFloat(t.name.offsetY),text:k,textAnchor:"middle",foreColor:h,fontSize:m,fontWeight:b,fontFamily:p});A.node.classList.add("apexcharts-datalabel-label"),e.add(A)}if(t.value.show){var S=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,T=o.drawText({x:g,y:x+S,text:y,textAnchor:"middle",foreColor:u,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});T.node.classList.add("apexcharts-datalabel-value"),e.add(T)}return e}},{key:"printInnerLabels",value:function(e,t,s,i){var o,c=this.w;i?o=e.name.color===void 0?c.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:c.globals.series.length>1&&e.total.show&&(o=e.total.color);var h=c.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),u=c.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,e.value.formatter)(s,c),i||typeof e.total.formatter!="function"||(s=e.total.formatter(c));var g=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,g,c):"",h!==null&&(h.textContent=t),u!==null&&(u.textContent=s),h!==null&&(h.style.fill=o)}},{key:"printDataLabelsInner",value:function(e,t){var s=this.w,i=e.getAttribute("data:value"),o=s.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(t,o,i,e);var c=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");c!==null&&(c.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,s=this.w,i=new me(this.ctx),o=s.config.plotOptions.polarArea.spokes;if(o.strokeWidth!==0){for(var c=[],h=360/s.globals.series.length,u=0;u<s.globals.series.length;u++)c.push(J.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+h*u));c.forEach((function(g,x){var m=i.drawLine(g.x,g.y,t.centerX,t.centerY,Array.isArray(o.connectorColors)?o.connectorColors[x]:o.connectorColors);e.add(m)}))}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),s=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(s)}}}]),r})(),n5=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new me(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Tt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return we(r,[{key:"draw",value:function(e){var t=this,s=this.w,i=new Js(this.ctx),o=[],c=new ar(this.ctx);e.length&&(this.dataPointsLen=e[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var h=s.globals.gridWidth/2,u=s.globals.gridHeight/2,g=h+s.config.plotOptions.radar.offsetX,x=u+s.config.plotOptions.radar.offsetY,m=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(g||0,", ").concat(x||0,")")}),p=[],b=null,w=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach((function(k,A){var S=k.length===s.globals.dataPoints,T=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":S,seriesName:J.escapeString(s.globals.seriesNames[A]),rel:A+1,"data:realIndex":A});t.dataRadiusOfPercent[A]=[],t.dataRadius[A]=[],t.angleArr[A]=[],k.forEach((function(W,V){var Q=Math.abs(t.maxValue-t.minValue);W-=t.minValue,t.isLog&&(W=t.coreUtils.getLogVal(t.logBase,W,0)),t.dataRadiusOfPercent[A][V]=W/Q,t.dataRadius[A][V]=t.dataRadiusOfPercent[A][V]*t.size,t.angleArr[A][V]=V*t.disAngle})),p=t.getDataPointsPos(t.dataRadius[A],t.angleArr[A]);var C=t.createPaths(p,{x:0,y:0});b=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),w=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":A}),s.globals.delayedElements.push({el:b.node,index:A});var E={i:A,realIndex:A,animationDelay:A,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[A],strokeLineCap:s.config.stroke.lineCap},L=null;s.globals.previousPaths.length>0&&(L=t.getPreviousPath(A));for(var _=0;_<C.linePathsTo.length;_++){var D=t.graphics.renderPaths(be(be({},E),{},{pathFrom:L===null?C.linePathsFrom[_]:L,pathTo:C.linePathsTo[_],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[A]:t.strokeWidth,fill:"none",drawShadow:!1}));T.add(D);var H=i.fillPath({seriesNumber:A}),z=t.graphics.renderPaths(be(be({},E),{},{pathFrom:L===null?C.areaPathsFrom[_]:L,pathTo:C.areaPathsTo[_],strokeWidth:0,fill:H,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var B=new Zt(t.ctx),P=s.config.chart.dropShadow;B.dropShadow(z,Object.assign({},P,{noUserSpaceOnUse:!0}),A)}T.add(z)}k.forEach((function(W,V){var Q=new ur(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:A,dataPointIndex:V}),Y=t.graphics.drawMarker(p[V].x,p[V].y,Q);Y.attr("rel",V),Y.attr("j",V),Y.attr("index",A),Y.node.setAttribute("default-marker-size",Q.pSize);var F=t.graphics.group({class:"apexcharts-series-markers"});F&&F.add(Y),b.add(F),T.add(b);var U=s.config.dataLabels;if(U.enabled){var q=U.formatter(s.globals.series[A][V],{seriesIndex:A,dataPointIndex:V,w:s});c.plotDataLabelsText({x:p[V].x,y:p[V].y,text:q,textAnchor:"middle",i:A,j:A,parent:w,offsetCorrection:!1,dataLabelsConfig:be({},U)})}T.add(w)})),o.push(T)})),this.drawPolygons({parent:m}),s.config.xaxis.labels.show){var y=this.drawXAxisTexts();m.add(y)}return o.forEach((function(k){m.add(k)})),m.add(this.yaxisLabels),m}},{key:"drawPolygons",value:function(e){for(var t=this,s=this.w,i=e.parent,o=new ry(this.ctx),c=s.globals.yAxisScale[0].result.reverse(),h=c.length,u=[],g=this.size/(h-1),x=0;x<h;x++)u[x]=g*x;u.reverse();var m=[],p=[];u.forEach((function(b,w){var y=J.getPolygonPos(b,t.dataPointsLen),k="";y.forEach((function(A,S){if(w===0){var T=t.graphics.drawLine(A.x,A.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[S]:t.polygons.connectorColors);p.push(T)}S===0&&t.yaxisLabelsTextsPos.push({x:A.x,y:A.y}),k+=A.x+","+A.y+" "})),m.push(k)})),m.forEach((function(b,w){var y=t.polygons.strokeColors,k=t.polygons.strokeWidth,A=t.graphics.drawPolygon(b,Array.isArray(y)?y[w]:y,Array.isArray(k)?k[w]:k,s.globals.radarPolygons.fill.colors[w]);i.add(A)})),p.forEach((function(b){i.add(b)})),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach((function(b,w){var y=o.drawYAxisTexts(b.x,b.y,w,c[w]);t.yaxisLabels.add(y)}))}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,s=t.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),o=J.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach((function(c,h){var u=t.config.xaxis.labels.formatter,g=new ar(e.ctx);if(o[h]){var x=e.getTextPos(o[h],e.size),m=u(c,{seriesIndex:-1,dataPointIndex:h,w:t});g.plotDataLabelsText({x:x.newX,y:x.newY,text:m,textAnchor:x.textAnchor,i:h,j:h,parent:i,className:"apexcharts-xaxis-label",color:Array.isArray(s.style.colors)&&s.style.colors[h]?s.style.colors[h]:"#a8a8a8",dataLabelsConfig:be({textAnchor:x.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1}).on("click",(function(p){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var b=Object.assign({},t,{labelIndex:h});t.config.chart.events.xAxisLabelClick(p,e.ctx,b)}}))}})),i}},{key:"createPaths",value:function(e,t){var s=this,i=[],o=[],c=[],h=[];if(e.length){o=[this.graphics.move(t.x,t.y)],h=[this.graphics.move(t.x,t.y)];var u=this.graphics.move(e[0].x,e[0].y),g=this.graphics.move(e[0].x,e[0].y);e.forEach((function(x,m){u+=s.graphics.line(x.x,x.y),g+=s.graphics.line(x.x,x.y),m===e.length-1&&(u+="Z",g+="Z")})),i.push(u),c.push(g)}return{linePathsFrom:o,linePathsTo:i,areaPathsFrom:h,areaPathsTo:c}}},{key:"getTextPos",value:function(e,t){var s="middle",i=e.x,o=e.y;return Math.abs(e.x)>=10?e.x>0?(s="start",i+=10):e.x<0&&(s="end",i-=10):s="middle",Math.abs(e.y)>=t-10&&(e.y<0?o-=10:e.y>0&&(o+=10)),{textAnchor:s,newX:i,newY:o}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,s=null,i=0;i<t.globals.previousPaths.length;i++){var o=t.globals.previousPaths[i];o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[i].paths[0]!==void 0&&(s=t.globals.previousPaths[i].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],o=0;o<s;o++){var c={};c.x=e[o]*Math.sin(t[o]),c.y=-e[o]*Math.cos(t[o]),i.push(c)}return i}}]),r})(),r5=(function(r){El(t,ly);var e=_l(t);function t(s){var i;ye(this,t),(i=e.call(this,s)).ctx=s,i.w=s.w,i.animBeginArr=[0],i.animDur=0;var o=i.w;return i.startAngle=o.config.plotOptions.radialBar.startAngle,i.endAngle=o.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(o.config.plotOptions.radialBar.endAngle-o.config.plotOptions.radialBar.startAngle),i.trackStartAngle=o.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=o.config.plotOptions.radialBar.track.endAngle,i.barLabels=i.w.config.plotOptions.radialBar.barLabels,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),i.endAngle===360&&(i.endAngle=359.99),i.margin=parseInt(o.config.plotOptions.radialBar.track.margin,10),i.onBarLabelClick=i.onBarLabelClick.bind(vv(i)),i}return we(t,[{key:"draw",value:function(s){var i=this.w,o=new me(this.ctx),c=o.group({class:"apexcharts-radialbar"});if(i.globals.noData)return c;var h=o.group(),u=this.defaultSize/2,g=i.globals.gridWidth/2,x=this.defaultSize/2.05;i.config.chart.sparkline.enabled||(x=x-i.config.stroke.width-i.config.chart.dropShadow.blur);var m=i.globals.fill.colors;if(i.config.plotOptions.radialBar.track.show){var p=this.drawTracks({size:x,centerX:g,centerY:u,colorArr:m,series:s});h.add(p)}var b=this.drawArcs({size:x,centerX:g,centerY:u,colorArr:m,series:s}),w=360;i.config.plotOptions.radialBar.startAngle<0&&(w=this.totalAngle);var y=(360-w)/360;if(i.globals.radialSize=x-x*y,this.radialDataLabels.value.show){var k=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);i.globals.radialSize+=k*y}return h.add(b.g),i.config.plotOptions.radialBar.hollow.position==="front"&&(b.g.add(b.elHollow),b.dataLabels&&b.g.add(b.dataLabels)),c.add(h),c}},{key:"drawTracks",value:function(s){var i=this.w,o=new me(this.ctx),c=o.group({class:"apexcharts-tracks"}),h=new Zt(this.ctx),u=new Js(this.ctx),g=this.getStrokeWidth(s);s.size=s.size-g/2;for(var x=0;x<s.series.length;x++){var m=o.group({class:"apexcharts-radialbar-track apexcharts-track"});c.add(m),m.attr({rel:x+1}),s.size=s.size-g-this.margin;var p=i.config.plotOptions.radialBar.track,b=u.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(p.background)?p.background[x]:p.background,solid:!0}),w=this.trackStartAngle,y=this.trackEndAngle;Math.abs(y)+Math.abs(w)>=360&&(y=360-Math.abs(this.startAngle)-.1);var k=o.drawPath({d:"",stroke:b,strokeWidth:g*parseInt(p.strokeWidth,10)/100,fill:"none",strokeOpacity:p.opacity,classes:"apexcharts-radialbar-area"});if(p.dropShadow.enabled){var A=p.dropShadow;h.dropShadow(k,A)}m.add(k),k.attr("id","apexcharts-radialbarTrack-"+x),this.animatePaths(k,{centerX:s.centerX,centerY:s.centerY,endAngle:y,startAngle:w,size:s.size,i:x,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return c}},{key:"drawArcs",value:function(s){var i=this.w,o=new me(this.ctx),c=new Js(this.ctx),h=new Zt(this.ctx),u=o.group(),g=this.getStrokeWidth(s);s.size=s.size-g/2;var x=i.config.plotOptions.radialBar.hollow.background,m=s.size-g*s.series.length-this.margin*s.series.length-g*parseInt(i.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,p=m-i.config.plotOptions.radialBar.hollow.margin;i.config.plotOptions.radialBar.hollow.image!==void 0&&(x=this.drawHollowImage(s,u,m,x));var b=this.drawHollow({size:p,centerX:s.centerX,centerY:s.centerY,fill:x||"transparent"});if(i.config.plotOptions.radialBar.hollow.dropShadow.enabled){var w=i.config.plotOptions.radialBar.hollow.dropShadow;h.dropShadow(b,w)}var y=1;!this.radialDataLabels.total.show&&i.globals.series.length>1&&(y=0);var k=null;if(this.radialDataLabels.show){var A=i.globals.dom.Paper.findOne(".apexcharts-datalabels-group");k=this.renderInnerDataLabels(A,this.radialDataLabels,{hollowSize:m,centerX:s.centerX,centerY:s.centerY,opacity:y})}i.config.plotOptions.radialBar.hollow.position==="back"&&(u.add(b),k&&u.add(k));var S=!1;i.config.plotOptions.radialBar.inverseOrder&&(S=!0);for(var T=S?s.series.length-1:0;S?T>=0:T<s.series.length;S?T--:T++){var C=o.group({class:"apexcharts-series apexcharts-radial-series",seriesName:J.escapeString(i.globals.seriesNames[T])});u.add(C),C.attr({rel:T+1,"data:realIndex":T}),this.ctx.series.addCollapsedClassToSeries(C,T),s.size=s.size-g-this.margin;var E=c.fillPath({seriesNumber:T,size:s.size,value:s.series[T]}),L=this.startAngle,_=void 0,D=J.negToZero(s.series[T]>100?100:s.series[T])/100,H=Math.round(this.totalAngle*D)+this.startAngle,z=void 0;i.globals.dataChanged&&(_=this.startAngle,z=Math.round(this.totalAngle*J.negToZero(i.globals.previousPaths[T])/100)+_),Math.abs(H)+Math.abs(L)>360&&(H-=.01),Math.abs(z)+Math.abs(_)>360&&(z-=.01);var B=H-L,P=Array.isArray(i.config.stroke.dashArray)?i.config.stroke.dashArray[T]:i.config.stroke.dashArray,W=o.drawPath({d:"",stroke:E,strokeWidth:g,fill:"none",fillOpacity:i.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+T,strokeDashArray:P});if(me.setAttrs(W.node,{"data:angle":B,"data:value":s.series[T]}),i.config.chart.dropShadow.enabled){var V=i.config.chart.dropShadow;h.dropShadow(W,V,T)}if(h.setSelectionFilter(W,0,T),this.addListeners(W,this.radialDataLabels),C.add(W),W.attr({index:0,j:T}),this.barLabels.enabled){var Q=J.polarToCartesian(s.centerX,s.centerY,s.size,L),Y=this.barLabels.formatter(i.globals.seriesNames[T],{seriesIndex:T,w:i}),F=["apexcharts-radialbar-label"];this.barLabels.onClick||F.push("apexcharts-no-click");var U=this.barLabels.useSeriesColors?i.globals.colors[T]:i.config.chart.foreColor;U||(U=i.config.chart.foreColor);var q=Q.x+this.barLabels.offsetX,G=Q.y+this.barLabels.offsetY,O=o.drawText({x:q,y:G,text:Y,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:U,cssClass:F.join(" ")});O.on("click",this.onBarLabelClick),O.attr({rel:T+1}),L!==0&&O.attr({"transform-origin":"".concat(q," ").concat(G),transform:"rotate(".concat(L," 0 0)")}),C.add(O)}var I=0;!this.initialAnim||i.globals.resized||i.globals.dataChanged||(I=i.config.chart.animations.speed),i.globals.dataChanged&&(I=i.config.chart.animations.dynamicAnimation.speed),this.animDur=I/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(W,{centerX:s.centerX,centerY:s.centerY,endAngle:H,startAngle:L,prevEndAngle:z,prevStartAngle:_,size:s.size,i:T,totalItems:2,animBeginArr:this.animBeginArr,dur:I,shouldSetPrevPaths:!0})}return{g:u,elHollow:b,dataLabels:k}}},{key:"drawHollow",value:function(s){var i=new me(this.ctx).drawCircle(2*s.size);return i.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),i}},{key:"drawHollowImage",value:function(s,i,o,c){var h=this.w,u=new Js(this.ctx),g=J.randomId(),x=h.config.plotOptions.radialBar.hollow.image;if(h.config.plotOptions.radialBar.hollow.imageClipped)u.clippedImgArea({width:o,height:o,image:x,patternID:"pattern".concat(h.globals.cuid).concat(g)}),c="url(#pattern".concat(h.globals.cuid).concat(g,")");else{var m=h.config.plotOptions.radialBar.hollow.imageWidth,p=h.config.plotOptions.radialBar.hollow.imageHeight;if(m===void 0&&p===void 0){var b=h.globals.dom.Paper.image(x,(function(y){this.move(s.centerX-y.width/2+h.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-y.height/2+h.config.plotOptions.radialBar.hollow.imageOffsetY)}));i.add(b)}else{var w=h.globals.dom.Paper.image(x,(function(y){this.move(s.centerX-m/2+h.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-p/2+h.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(m,p)}));i.add(w)}}return c}},{key:"getStrokeWidth",value:function(s){var i=this.w;return s.size*(100-parseInt(i.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(s){var i=parseInt(s.target.getAttribute("rel"),10)-1,o=this.barLabels.onClick,c=this.w;o&&o(c.globals.seriesNames[i],{w:c,seriesIndex:i})}}]),t})(),l5=(function(r){El(t,ir);var e=_l(t);function t(){return ye(this,t),e.apply(this,arguments)}return we(t,[{key:"draw",value:function(s,i){var o=this.w,c=new me(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=o.globals.seriesRangeStart,this.seriesRangeEnd=o.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var h=c.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),u=0;u<s.length;u++){var g,x,m,p,b=void 0,w=void 0,y=o.globals.comboCharts?i[u]:u,k=this.barHelpers.getGroupIndex(y).columnGroupIndex,A=c.group({class:"apexcharts-series",seriesName:J.escapeString(o.globals.seriesNames[y]),rel:u+1,"data:realIndex":y});this.ctx.series.addCollapsedClassToSeries(A,y),s[u].length>0&&(this.visibleI=this.visibleI+1);var S=0,T=0,C=0;this.yRatio.length>1&&(this.yaxisIndex=o.globals.seriesYAxisReverseMap[y][0],C=y);var E=this.barHelpers.initialPositions(y);w=E.y,p=E.zeroW,b=E.x,T=E.barWidth,S=E.barHeight,g=E.xDivision,x=E.yDivision,m=E.zeroH;for(var L=c.group({class:"apexcharts-datalabels","data:realIndex":y}),_=c.group({class:"apexcharts-rangebar-goals-markers"}),D=0;D<o.globals.dataPoints;D++){var H=this.barHelpers.getStrokeWidth(u,D,y),z=this.seriesRangeStart[u][D],B=this.seriesRangeEnd[u][D],P=null,W=null,V=null,Q={x:b,y:w,strokeWidth:H,elSeries:A},Y=this.seriesLen;if(o.config.plotOptions.bar.rangeBarGroupRows&&(Y=1),o.config.series[u].data[D]===void 0)break;if(this.isHorizontal){V=w+S*this.visibleI;var F=(x-S*Y)/2;if(o.config.series[u].data[D].x){var U=this.detectOverlappingBars({i:u,j:D,barYPosition:V,srty:F,barHeight:S,yDivision:x,initPositions:E});S=U.barHeight,V=U.barYPosition}T=(P=this.drawRangeBarPaths(be({indexes:{i:u,j:D,realIndex:y},barHeight:S,barYPosition:V,zeroW:p,yDivision:x,y1:z,y2:B},Q))).barWidth}else{o.globals.isXNumeric&&(b=(o.globals.seriesX[u][D]-o.globals.minX)/this.xRatio-T/2),W=b+T*this.visibleI;var q=(g-T*Y)/2;if(o.config.series[u].data[D].x){var G=this.detectOverlappingBars({i:u,j:D,barXPosition:W,srtx:q,barWidth:T,xDivision:g,initPositions:E});T=G.barWidth,W=G.barXPosition}S=(P=this.drawRangeColumnPaths(be({indexes:{i:u,j:D,realIndex:y,translationsIndex:C},barWidth:T,barXPosition:W,zeroH:m,xDivision:g},Q))).barHeight}var O=this.barHelpers.drawGoalLine({barXPosition:P.barXPosition,barYPosition:V,goalX:P.goalX,goalY:P.goalY,barHeight:S,barWidth:T});O&&_.add(O),w=P.y,b=P.x;var I=this.barHelpers.getPathFillColor(s,u,D,y);this.renderSeries({realIndex:y,pathFill:I.color,lineFill:I.useRangeColor?I.color:o.globals.stroke.colors[y],j:D,i:u,x:b,y:w,y1:z,y2:B,pathFrom:P.pathFrom,pathTo:P.pathTo,strokeWidth:H,elSeries:A,series:s,barHeight:S,barWidth:T,barXPosition:W,barYPosition:V,columnGroupIndex:k,elDataLabelsWrap:L,elGoalsMarkers:_,visibleSeries:this.visibleI,type:"rangebar"})}h.add(A)}return h}},{key:"detectOverlappingBars",value:function(s){var i=s.i,o=s.j,c=s.barYPosition,h=s.barXPosition,u=s.srty,g=s.srtx,x=s.barHeight,m=s.barWidth,p=s.yDivision,b=s.xDivision,w=s.initPositions,y=this.w,k=[],A=y.config.series[i].data[o].rangeName,S=y.config.series[i].data[o].x,T=Array.isArray(S)?S.join(" "):S,C=y.globals.labels.map((function(L){return Array.isArray(L)?L.join(" "):L})).indexOf(T),E=y.globals.seriesRange[i].findIndex((function(L){return L.x===T&&L.overlaps.length>0}));return this.isHorizontal?(c=y.config.plotOptions.bar.rangeBarGroupRows?u+p*C:u+x*this.visibleI+p*C,E>-1&&!y.config.plotOptions.bar.rangeBarOverlap&&(k=y.globals.seriesRange[i][E].overlaps).indexOf(A)>-1&&(c=(x=w.barHeight/k.length)*this.visibleI+p*(100-parseInt(this.barOptions.barHeight,10))/100/2+x*(this.visibleI+k.indexOf(A))+p*C)):(C>-1&&!y.globals.timescaleLabels.length&&(h=y.config.plotOptions.bar.rangeBarGroupRows?g+b*C:g+m*this.visibleI+b*C),E>-1&&!y.config.plotOptions.bar.rangeBarOverlap&&(k=y.globals.seriesRange[i][E].overlaps).indexOf(A)>-1&&(h=(m=w.barWidth/k.length)*this.visibleI+b*(100-parseInt(this.barOptions.barWidth,10))/100/2+m*(this.visibleI+k.indexOf(A))+b*C)),{barYPosition:c,barXPosition:h,barHeight:x,barWidth:m}}},{key:"drawRangeColumnPaths",value:function(s){var i=s.indexes,o=s.x,c=s.xDivision,h=s.barWidth,u=s.barXPosition,g=s.zeroH,x=this.w,m=i.i,p=i.j,b=i.realIndex,w=i.translationsIndex,y=this.yRatio[w],k=this.getRangeValue(b,p),A=Math.min(k.start,k.end),S=Math.max(k.start,k.end);this.series[m][p]===void 0||this.series[m][p]===null?A=g:(A=g-A/y,S=g-S/y);var T=Math.abs(S-A),C=this.barHelpers.getColumnPaths({barXPosition:u,barWidth:h,y1:A,y2:S,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:b,i:b,j:p,w:x});if(x.globals.isXNumeric){var E=this.getBarXForNumericXAxis({x:o,j:p,realIndex:b,barWidth:h});o=E.x,u=E.barXPosition}else o+=c;return{pathTo:C.pathTo,pathFrom:C.pathFrom,barHeight:T,x:o,y:k.start<0&&k.end<0?A:S,goalY:this.barHelpers.getGoalValues("y",null,g,m,p,w),barXPosition:u}}},{key:"preventBarOverflow",value:function(s){var i=this.w;return s<0&&(s=0),s>i.globals.gridWidth&&(s=i.globals.gridWidth),s}},{key:"drawRangeBarPaths",value:function(s){var i=s.indexes,o=s.y,c=s.y1,h=s.y2,u=s.yDivision,g=s.barHeight,x=s.barYPosition,m=s.zeroW,p=this.w,b=i.realIndex,w=i.j,y=this.preventBarOverflow(m+c/this.invertedYRatio),k=this.preventBarOverflow(m+h/this.invertedYRatio),A=this.getRangeValue(b,w),S=Math.abs(k-y),T=this.barHelpers.getBarpaths({barYPosition:x,barHeight:g,x1:y,x2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:b,realIndex:b,j:w,w:p});return p.globals.isXNumeric||(o+=u),{pathTo:T.pathTo,pathFrom:T.pathFrom,barWidth:S,x:A.start<0&&A.end<0?y:k,goalX:this.barHelpers.getGoalValues("x",m,null,b,w),y:o}}},{key:"getRangeValue",value:function(s,i){var o=this.w;return{start:o.globals.seriesRangeStart[s][i],end:o.globals.seriesRangeEnd[s][i]}}}]),t})(),o5=(function(){function r(e){ye(this,r),this.w=e.w,this.lineCtx=e}return we(r,[{key:"sameValueSeriesFix",value:function(e,t){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[e]==="gradient")&&new Tt(this.lineCtx.ctx,s).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,s=e.realIndex,i=e.x,o=e.y,c=e.i,h=e.j,u=e.prevY,g=this.w,x=[],m=[],p=this.lineCtx.categoryAxisCorrection+g.config.markers.offsetX;return g.globals.isXNumeric&&(p=(g.globals.seriesX[s][0]-g.globals.minX)/this.lineCtx.xRatio+g.config.markers.offsetX),h===0&&(x.push(p),m.push(J.isNumber(t[c][0])?u+g.config.markers.offsetY:null)),x.push(i+g.config.markers.offsetX),m.push(J.isNumber(t[c][h+1])?o+g.config.markers.offsetY:null),{x,y:m}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,s=e.pathFromArea,i=e.realIndex,o=this.w,c=0;c<o.globals.previousPaths.length;c++){var h=o.globals.previousPaths[c];(h.type==="line"||h.type==="area")&&h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(i,10)&&(h.type==="line"?(this.lineCtx.appendPathFrom=!1,t=o.globals.previousPaths[c].paths[0].d):h.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=o.globals.previousPaths[c].paths[0].d,o.config.stroke.show&&o.globals.previousPaths[c].paths[1]&&(t=o.globals.previousPaths[c].paths[1].d)))}return{pathFromLine:t,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(e){var t,s,i,o=e.i,c=e.realIndex,h=e.series,u=e.prevY,g=e.lineYPosition,x=e.translationsIndex,m=this.w,p=m.config.chart.stacked&&!m.globals.comboCharts||m.config.chart.stacked&&m.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[c])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[c])===null||s===void 0?void 0:s.type)==="column");if(((i=h[o])===null||i===void 0?void 0:i[0])!==void 0)u=(g=p&&o>0?this.lineCtx.prevSeriesY[o-1][0]:this.lineCtx.zeroY)-h[o][0]/this.lineCtx.yRatio[x]+2*(this.lineCtx.isReversed?h[o][0]/this.lineCtx.yRatio[x]:0);else if(p&&o>0&&h[o][0]===void 0){for(var b=o-1;b>=0;b--)if(h[b][0]!==null&&h[b][0]!==void 0){u=g=this.lineCtx.prevSeriesY[b][0];break}}return{prevY:u,lineYPosition:g}}}]),r})(),c5=function(r){for(var e,t,s,i,o=(function(x){for(var m=[],p=x[0],b=x[1],w=m[0]=Ou(p,b),y=1,k=x.length-1;y<k;y++)p=b,b=x[y+1],m[y]=.5*(w+(w=Ou(p,b)));return m[y]=w,m})(r),c=r.length-1,h=[],u=0;u<c;u++)s=Ou(r[u],r[u+1]),Math.abs(s)<1e-6?o[u]=o[u+1]=0:(i=(e=o[u]/s)*e+(t=o[u+1]/s)*t)>9&&(i=3*s/Math.sqrt(i),o[u]=i*e,o[u+1]=i*t);for(var g=0;g<=c;g++)i=(r[Math.min(c,g+1)][0]-r[Math.max(0,g-1)][0])/(6*(1+o[g]*o[g])),h.push([i||0,o[g]*i||0]);return h},d5=function(r){var e=c5(r),t=r[1],s=r[0],i=[],o=e[1],c=e[0];i.push(s,[s[0]+c[0],s[1]+c[1],t[0]-o[0],t[1]-o[1],t[0],t[1]]);for(var h=2,u=e.length;h<u;h++){var g=r[h],x=e[h];i.push([g[0]-x[0],g[1]-x[1],g[0],g[1]])}return i},h5=function(r,e,t){var s=r.slice(e,t);if(e){if(t-e>1&&s[1].length<6){var i=s[0].length;s[1]=[2*s[0][i-2]-s[0][i-4],2*s[0][i-1]-s[0][i-3]].concat(s[1])}s[0]=s[0].slice(-2)}return s};function Ou(r,e){return(e[1]-r[1])/(e[0]-r[0])}var Hu=(function(){function r(e,t,s){ye(this,r),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new Zv(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new o5(this),this.markers=new ur(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return we(r,[{key:"draw",value:function(e,t,s,i){var o,c=this.w,h=new me(this.ctx),u=c.globals.comboCharts?t:c.config.chart.type,g=h.group({class:"apexcharts-".concat(u,"-series apexcharts-plot-series")}),x=new Tt(this.ctx,c);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=x.getLogSeries(e),this.yRatio=x.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var m=[],p=0;p<e.length;p++){e=this.lineHelpers.sameValueSeriesFix(p,e);var b=c.globals.comboCharts?s[p]:p,w=this.yRatio.length>1?b:0;this._initSerieVariables(e,p,b);var y=[],k=[],A=[],S=c.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,b),c.globals.isXNumeric&&c.globals.seriesX.length>0&&(S=(c.globals.seriesX[b][0]-c.globals.minX)/this.xRatio),A.push(S);var T,C=S,E=void 0,L=C,_=this.zeroY,D=this.zeroY;_=this.lineHelpers.determineFirstPrevY({i:p,realIndex:b,series:e,prevY:_,lineYPosition:0,translationsIndex:w}).prevY,c.config.stroke.curve==="monotoneCubic"&&e[p][0]===null?y.push(null):y.push(_),T=_,u==="rangeArea"&&(E=D=this.lineHelpers.determineFirstPrevY({i:p,realIndex:b,series:i,prevY:D,lineYPosition:0,translationsIndex:w}).prevY,k.push(y[0]!==null?D:null));var H=this._calculatePathsFrom({type:u,series:e,i:p,realIndex:b,translationsIndex:w,prevX:L,prevY:_,prevY2:D}),z=[y[0]],B=[k[0]],P={type:u,series:e,realIndex:b,translationsIndex:w,i:p,x:S,y:1,pX:C,pY:T,pathsFrom:H,linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:A,yArrj:y,y2Arrj:k,seriesRangeEnd:i},W=this._iterateOverDataPoints(be(be({},P),{},{iterations:u==="rangeArea"?e[p].length-1:void 0,isRangeStart:!0}));if(u==="rangeArea"){for(var V=this._calculatePathsFrom({series:i,i:p,realIndex:b,prevX:L,prevY:D}),Q=this._iterateOverDataPoints(be(be({},P),{},{series:i,xArrj:[S],yArrj:z,y2Arrj:B,pY:E,areaPaths:W.areaPaths,pathsFrom:V,iterations:i[p].length-1,isRangeStart:!1})),Y=W.linePaths.length/2,F=0;F<Y;F++)W.linePaths[F]=Q.linePaths[F+Y]+W.linePaths[F];W.linePaths.splice(Y),W.pathFromLine=Q.pathFromLine+W.pathFromLine}else W.pathFromArea+="z";this._handlePaths({type:u,realIndex:b,i:p,paths:W}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),m.push(this.elSeries)}if(((o=c.config.series[0])===null||o===void 0?void 0:o.zIndex)!==void 0&&m.sort((function(G,O){return Number(G.node.getAttribute("zIndex"))-Number(O.node.getAttribute("zIndex"))})),c.config.chart.stacked)for(var U=m.length-1;U>=0;U--)g.add(m[U]);else for(var q=0;q<m.length;q++)g.add(m[q]);return g}},{key:"_initSerieVariables",value:function(e,t,s){var i=this.w,o=new me(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-(i.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[s]:i.config.stroke.width;var c=0;if(this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[s],c=s),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[c]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[c]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||i.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=o.group({class:"apexcharts-series",zIndex:i.config.series[s].zIndex!==void 0?i.config.series[s].zIndex:s,seriesName:J.escapeString(i.globals.seriesNames[s])}),this.elPointsMain=o.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),i.globals.hasNullValues){var h=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[i.globals.gridHeight+i.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});h!==null&&this.elPointsMain.add(h)}this.elDataLabelsWrap=o.group({class:"apexcharts-datalabels","data:realIndex":s});var u=e[t].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":u,rel:t+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,s,i,o,c=e.type,h=e.series,u=e.i,g=e.realIndex,x=e.translationsIndex,m=e.prevX,p=e.prevY,b=e.prevY2,w=this.w,y=new me(this.ctx);if(h[u][0]===null){for(var k=0;k<h[u].length;k++)if(h[u][k]!==null){m=this.xDivision*k,p=this.zeroY-h[u][k]/this.yRatio[x],t=y.move(m,p),s=y.move(m,this.areaBottomY);break}}else t=y.move(m,p),c==="rangeArea"&&(t=y.move(m,b)+y.line(m,p)),s=y.move(m,this.areaBottomY)+y.line(m,p);if(i=y.move(0,this.areaBottomY)+y.line(0,this.areaBottomY),o=y.move(0,this.areaBottomY)+y.line(0,this.areaBottomY),w.globals.previousPaths.length>0){var A=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:o,realIndex:g});i=A.pathFromLine,o=A.pathFromArea}return{prevX:m,prevY:p,linePath:t,areaPath:s,pathFromLine:i,pathFromArea:o}}},{key:"_handlePaths",value:function(e){var t=e.type,s=e.realIndex,i=e.i,o=e.paths,c=this.w,h=new me(this.ctx),u=new Js(this.ctx);this.prevSeriesY.push(o.yArrj),c.globals.seriesXvalues[s]=o.xArrj,c.globals.seriesYvalues[s]=o.yArrj;var g=c.config.forecastDataPoints;if(g.count>0&&t!=="rangeArea"){var x=c.globals.seriesXvalues[s][c.globals.seriesXvalues[s].length-g.count-1],m=h.drawRect(x,0,c.globals.gridWidth,c.globals.gridHeight,0);c.globals.dom.elForecastMask.appendChild(m.node);var p=h.drawRect(0,0,x,c.globals.gridHeight,0);c.globals.dom.elNonForecastMask.appendChild(p.node)}this.pointsChart||c.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var b={i,realIndex:s,animationDelay:i,initialSpeed:c.config.chart.animations.speed,dataChangeSpeed:c.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var w=u.fillPath({seriesNumber:s}),y=0;y<o.areaPaths.length;y++){var k=h.renderPaths(be(be({},b),{},{pathFrom:o.pathFromArea,pathTo:o.areaPaths[y],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:w}));this.elSeries.add(k)}if(c.config.stroke.show&&!this.pointsChart){var A=null;if(t==="line")A=u.fillPath({seriesNumber:s,i});else if(c.config.stroke.fill.type==="solid")A=c.globals.stroke.colors[s];else{var S=c.config.fill;c.config.fill=c.config.stroke.fill,A=u.fillPath({seriesNumber:s,i}),c.config.fill=S}for(var T=0;T<o.linePaths.length;T++){var C=A;t==="rangeArea"&&(C=u.fillPath({seriesNumber:s}));var E=be(be({},b),{},{pathFrom:o.pathFromLine,pathTo:o.linePaths[T],stroke:A,strokeWidth:this.strokeWidth,strokeLineCap:c.config.stroke.lineCap,fill:t==="rangeArea"?C:"none"}),L=h.renderPaths(E);if(this.elSeries.add(L),L.attr("fill-rule","evenodd"),g.count>0&&t!=="rangeArea"){var _=h.renderPaths(E);_.node.setAttribute("stroke-dasharray",g.dashArray),g.strokeWidth&&_.node.setAttribute("stroke-width",g.strokeWidth),this.elSeries.add(_),_.attr("clip-path","url(#forecastMask".concat(c.globals.cuid,")")),L.attr("clip-path","url(#nonForecastMask".concat(c.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,s,i=this,o=e.type,c=e.series,h=e.iterations,u=e.realIndex,g=e.translationsIndex,x=e.i,m=e.x,p=e.y,b=e.pX,w=e.pY,y=e.pathsFrom,k=e.linePaths,A=e.areaPaths,S=e.seriesIndex,T=e.lineYPosition,C=e.xArrj,E=e.yArrj,L=e.y2Arrj,_=e.isRangeStart,D=e.seriesRangeEnd,H=this.w,z=new me(this.ctx),B=this.yRatio,P=y.prevY,W=y.linePath,V=y.areaPath,Q=y.pathFromLine,Y=y.pathFromArea,F=J.isNumber(H.globals.minYArr[u])?H.globals.minYArr[u]:H.globals.minY;h||(h=H.globals.dataPoints>1?H.globals.dataPoints-1:H.globals.dataPoints);var U=function(ie,je){return je-ie/B[g]+2*(i.isReversed?ie/B[g]:0)},q=p,G=H.config.chart.stacked&&!H.globals.comboCharts||H.config.chart.stacked&&H.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[u])===null||t===void 0?void 0:t.type)==="bar"||((s=this.w.config.series[u])===null||s===void 0?void 0:s.type)==="column"),O=H.config.stroke.curve;Array.isArray(O)&&(O=Array.isArray(S)?O[S[x]]:O[x]);for(var I,ne=0,K=0;K<h&&c[x].length!==0;K++){var ue=c[x][K+1]===void 0||c[x][K+1]===null;if(H.globals.isXNumeric){var ae=H.globals.seriesX[u][K+1];H.globals.seriesX[u][K+1]===void 0&&(ae=H.globals.seriesX[u][h-1]),m=(ae-H.globals.minX)/this.xRatio}else m+=this.xDivision;G?x>0&&H.globals.collapsedSeries.length<H.config.series.length-1?T=this.prevSeriesY[(function(ie){for(var je=ie;je>0;je--){if(!(H.globals.collapsedSeriesIndices.indexOf(S?.[je]||je)>-1))return je;je--}return 0})(x-1)][K+1]:T=this.zeroY:T=this.zeroY,ue?p=U(F,T):(p=U(c[x][K+1],T),o==="rangeArea"&&(q=U(D[x][K+1],T))),C.push(c[x][K+1]===null?null:m),!ue||H.config.stroke.curve!=="smooth"&&H.config.stroke.curve!=="monotoneCubic"?(E.push(p),L.push(q)):(E.push(null),L.push(null));var te=this.lineHelpers.calculatePoints({series:c,x:m,y:p,realIndex:u,i:x,j:K,prevY:P}),ve=this._createPaths({type:o,series:c,i:x,realIndex:u,j:K,x:m,y:p,y2:q,xArrj:C,yArrj:E,y2Arrj:L,pX:b,pY:w,pathState:ne,segmentStartX:I,linePath:W,areaPath:V,linePaths:k,areaPaths:A,curve:O,isRangeStart:_});A=ve.areaPaths,k=ve.linePaths,b=ve.pX,w=ve.pY,ne=ve.pathState,I=ve.segmentStartX,V=ve.areaPath,W=ve.linePath,!this.appendPathFrom||H.globals.hasNullValues||O==="monotoneCubic"&&o==="rangeArea"||(Q+=z.line(m,this.areaBottomY),Y+=z.line(m,this.areaBottomY)),this.handleNullDataPoints(c,te,x,K,u),this._handleMarkersAndLabels({type:o,pointsPos:te,i:x,j:K,realIndex:u,isRangeStart:_})}return{yArrj:E,xArrj:C,pathFromArea:Y,areaPaths:A,pathFromLine:Q,linePaths:k,linePath:W,areaPath:V}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,s=e.pointsPos,i=e.isRangeStart,o=e.i,c=e.j,h=e.realIndex,u=this.w,g=new ar(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,c,{realIndex:h,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{u.globals.series[o].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var x=this.markers.plotChartMarkers({pointsPos:s,seriesIndex:h,j:c+1});x!==null&&this.elPointsMain.add(x)}var m=g.drawDataLabel({type:t,isRangeStart:i,pos:s,i:h,j:c+1});m!==null&&this.elDataLabelsWrap.add(m)}},{key:"_createPaths",value:function(e){var t=e.type,s=e.series,i=e.i;e.realIndex;var o,c=e.j,h=e.x,u=e.y,g=e.xArrj,x=e.yArrj,m=e.y2,p=e.y2Arrj,b=e.pX,w=e.pY,y=e.pathState,k=e.segmentStartX,A=e.linePath,S=e.areaPath,T=e.linePaths,C=e.areaPaths,E=e.curve,L=e.isRangeStart,_=new me(this.ctx),D=this.areaBottomY,H=t==="rangeArea",z=t==="rangeArea"&&L;switch(E){case"monotoneCubic":var B=L?x:p;switch(y){case 0:if(B[c+1]===null)break;y=1;case 1:if(!(H?g.length===s[i].length:c===s[i].length-2))break;case 2:var P=L?g:g.slice().reverse(),W=L?B:B.slice().reverse(),V=(o=W,P.map((function(ae,te){return[ae,o[te]]})).filter((function(ae){return ae[1]!==null}))),Q=V.length>1?d5(V):V,Y=[];H&&(z?C=V:Y=C.reverse());var F=0,U=0;if((function(ae,te){for(var ve=(function(Ce){var mt=[],We=0;return Ce.forEach((function(Ts){Ts!==null?We++:We>0&&(mt.push(We),We=0)})),We>0&&mt.push(We),mt})(ae),ie=[],je=0,Le=0;je<ve.length;Le+=ve[je++])ie[je]=h5(te,Le,Le+ve[je]);return ie})(W,Q).forEach((function(ae){F++;var te=(function(je){for(var Le="",Ce=0;Ce<je.length;Ce++){var mt=je[Ce],We=mt.length;We>4?(Le+="C".concat(mt[0],", ").concat(mt[1]),Le+=", ".concat(mt[2],", ").concat(mt[3]),Le+=", ".concat(mt[4],", ").concat(mt[5])):We>2&&(Le+="S".concat(mt[0],", ").concat(mt[1]),Le+=", ".concat(mt[2],", ").concat(mt[3]))}return Le})(ae),ve=U,ie=(U+=ae.length)-1;z?A=_.move(V[ve][0],V[ve][1])+te:H?A=_.move(Y[ve][0],Y[ve][1])+_.line(V[ve][0],V[ve][1])+te+_.line(Y[ie][0],Y[ie][1]):(A=_.move(V[ve][0],V[ve][1])+te,S=A+_.line(V[ie][0],D)+_.line(V[ve][0],D)+"z",C.push(S)),T.push(A)})),H&&F>1&&!z){var q=T.slice(F).reverse();T.splice(F),q.forEach((function(ae){return T.push(ae)}))}y=0}break;case"smooth":var G=.35*(h-b);if(s[i][c]===null)y=0;else switch(y){case 0:if(k=b,A=z?_.move(b,p[c])+_.line(b,w):_.move(b,w),S=_.move(b,w),s[i][c+1]===null||s[i][c+1]===void 0){T.push(A),C.push(S);break}if(y=1,c<s[i].length-2){var O=_.curve(b+G,w,h-G,u,h,u);A+=O,S+=O;break}case 1:if(s[i][c+1]===null)A+=z?_.line(b,m):_.move(b,w),S+=_.line(b,D)+_.line(k,D)+"z",T.push(A),C.push(S),y=-1;else{var I=_.curve(b+G,w,h-G,u,h,u);A+=I,S+=I,c>=s[i].length-2&&(z&&(A+=_.curve(h,u,h,u,h,m)+_.move(h,m)),S+=_.curve(h,u,h,u,h,D)+_.line(k,D)+"z",T.push(A),C.push(S),y=-1)}}b=h,w=u;break;default:var ne=function(ae,te,ve){var ie=[];switch(ae){case"stepline":ie=_.line(te,null,"H")+_.line(null,ve,"V");break;case"linestep":ie=_.line(null,ve,"V")+_.line(te,null,"H");break;case"straight":ie=_.line(te,ve)}return ie};if(s[i][c]===null)y=0;else switch(y){case 0:if(k=b,A=z?_.move(b,p[c])+_.line(b,w):_.move(b,w),S=_.move(b,w),s[i][c+1]===null||s[i][c+1]===void 0){T.push(A),C.push(S);break}if(y=1,c<s[i].length-2){var K=ne(E,h,u);A+=K,S+=K;break}case 1:if(s[i][c+1]===null)A+=z?_.line(b,m):_.move(b,w),S+=_.line(b,D)+_.line(k,D)+"z",T.push(A),C.push(S),y=-1;else{var ue=ne(E,h,u);A+=ue,S+=ue,c>=s[i].length-2&&(z&&(A+=_.line(h,m)),S+=_.line(h,D)+_.line(k,D)+"z",T.push(A),C.push(S),y=-1)}}b=h,w=u}return{linePaths:T,areaPaths:C,pX:b,pY:w,pathState:y,segmentStartX:k,linePath:A,areaPath:S}}},{key:"handleNullDataPoints",value:function(e,t,s,i,o){var c=this.w;if(e[s][i]===null&&c.config.markers.showNullDataPoints||e[s].length===1){var h=this.strokeWidth-c.config.markers.strokeWidth/2;h>0||(h=0);var u=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:o,j:i+1,pSize:h,alwaysDrawMarker:!0});u!==null&&this.elPointsMain.add(u)}}}]),r})();window.TreemapSquared={},window.TreemapSquared.generate=(function(){function r(h,u,g,x){this.xoffset=h,this.yoffset=u,this.height=x,this.width=g,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(m){var p,b=[],w=this.xoffset,y=this.yoffset,k=o(m)/this.height,A=o(m)/this.width;if(this.width>=this.height)for(p=0;p<m.length;p++)b.push([w,y,w+k,y+m[p]/k]),y+=m[p]/k;else for(p=0;p<m.length;p++)b.push([w,y,w+m[p]/A,y+A]),w+=m[p]/A;return b},this.cutArea=function(m){var p;if(this.width>=this.height){var b=m/this.height,w=this.width-b;p=new r(this.xoffset+b,this.yoffset,w,this.height)}else{var y=m/this.width,k=this.height-y;p=new r(this.xoffset,this.yoffset+y,this.width,k)}return p}}function e(h,u,g,x,m){x=x===void 0?0:x,m=m===void 0?0:m;var p=t((function(b,w){var y,k=[],A=w/o(b);for(y=0;y<b.length;y++)k[y]=b[y]*A;return k})(h,u*g),[],new r(x,m,u,g),[]);return(function(b){var w,y,k=[];for(w=0;w<b.length;w++)for(y=0;y<b[w].length;y++)k.push(b[w][y]);return k})(p)}function t(h,u,g,x){var m,p,b;if(h.length!==0)return m=g.shortestEdge(),(function(w,y,k){var A;if(w.length===0)return!0;(A=w.slice()).push(y);var S=s(w,k),T=s(A,k);return S>=T})(u,p=h[0],m)?(u.push(p),t(h.slice(1),u,g,x)):(b=g.cutArea(o(u),x),x.push(g.getCoordinates(u)),t(h,[],b,x)),x;x.push(g.getCoordinates(u))}function s(h,u){var g=Math.min.apply(Math,h),x=Math.max.apply(Math,h),m=o(h);return Math.max(Math.pow(u,2)*x/Math.pow(m,2),Math.pow(m,2)/(Math.pow(u,2)*g))}function i(h){return h&&h.constructor===Array}function o(h){var u,g=0;for(u=0;u<h.length;u++)g+=h[u];return g}function c(h){var u,g=0;if(i(h[0]))for(u=0;u<h.length;u++)g+=c(h[u]);else g=o(h);return g}return function h(u,g,x,m,p){m=m===void 0?0:m,p=p===void 0?0:p;var b,w,y=[],k=[];if(i(u[0])){for(w=0;w<u.length;w++)y[w]=c(u[w]);for(b=e(y,g,x,m,p),w=0;w<u.length;w++)k.push(h(u[w],b[w][2]-b[w][0],b[w][3]-b[w][1],b[w][0],b[w][1]))}else k=e(u,g,x,m,p);return k}})();var u5=(function(){function r(e,t){ye(this,r),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new ny(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return we(r,[{key:"draw",value:function(e){var t=this,s=this.w,i=new me(this.ctx),o=new Js(this.ctx),c=i.group({class:"apexcharts-treemap"});if(s.globals.noData)return c;var h=[];return e.forEach((function(u){var g=u.map((function(x){return Math.abs(x)}));h.push(g)})),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach((function(u,g){u.data.forEach((function(x){Array.isArray(t.labels[g])||(t.labels[g]=[]),t.labels[g].push(x.x)}))})),window.TreemapSquared.generate(h,s.globals.gridWidth,s.globals.gridHeight).forEach((function(u,g){var x=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:J.escapeString(s.globals.seriesNames[g]),rel:g+1,"data:realIndex":g});if(s.config.chart.dropShadow.enabled){var m=s.config.chart.dropShadow;new Zt(t.ctx).dropShadow(c,m,g)}var p=i.group({class:"apexcharts-data-labels"}),b={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};u.forEach((function(Q,Y){var F=Q[0],U=Q[1],q=Q[2],G=Q[3];b.xMin=Math.min(b.xMin,F),b.yMin=Math.min(b.yMin,U),b.xMax=Math.max(b.xMax,q),b.yMax=Math.max(b.yMax,G);var O=t.helpers.getShadeColor(s.config.chart.type,g,Y,t.negRange),I=O.color,ne=o.fillPath({color:I,seriesNumber:g,dataPointIndex:Y}),K=i.drawRect(F,U,q-F,G-U,s.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?I:s.globals.stroke.colors[g]);K.attr({cx:F,cy:U,index:g,i:g,j:Y,width:q-F,height:G-U,fill:ne}),K.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(K);var ue={x:F+(q-F)/2,y:U+(G-U)/2,width:0,height:0},ae={x:F,y:U,width:q-F,height:G-U};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var te=1;s.globals.resized||(te=s.config.chart.animations.speed),t.animateTreemap(K,ue,ae,te)}if(s.globals.dataChanged){var ve=1;t.dynamicAnim.enabled&&s.globals.shouldAnimate&&(ve=t.dynamicAnim.speed,s.globals.previousPaths[g]&&s.globals.previousPaths[g][Y]&&s.globals.previousPaths[g][Y].rect&&(ue=s.globals.previousPaths[g][Y].rect),t.animateTreemap(K,ue,ae,ve))}var ie=t.getFontSize(Q),je=s.config.dataLabels.formatter(t.labels[g][Y],{value:s.globals.series[g][Y],seriesIndex:g,dataPointIndex:Y,w:s});s.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ie=parseInt(s.config.dataLabels.style.fontSize,10),je=t.truncateLabels(je,ie,F,U,q,G));var Le=null;s.globals.series[g][Y]&&(Le=t.helpers.calculateDataLabels({text:je,x:(F+q)/2,y:(U+G)/2+t.strokeWidth/2+ie/3,i:g,j:Y,colorProps:O,fontSize:ie,series:e})),s.config.dataLabels.enabled&&Le&&t.rotateToFitLabel(Le,ie,je,F,U,q,G),x.add(K),Le!==null&&x.add(Le)}));var w=s.config.plotOptions.treemap.seriesTitle;if(s.config.series.length>1&&w&&w.show){var y=s.config.series[g].name||"";if(y&&b.xMin<1/0&&b.yMin<1/0){var k=w.offsetX,A=w.offsetY,S=w.borderColor,T=w.borderWidth,C=w.borderRadius,E=w.style,L=E.color||s.config.chart.foreColor,_={left:E.padding.left,right:E.padding.right,top:E.padding.top,bottom:E.padding.bottom},D=i.getTextRects(y,E.fontSize,E.fontFamily),H=D.width+_.left+_.right,z=D.height+_.top+_.bottom,B=b.xMin+(k||0),P=b.yMin+(A||0),W=i.drawRect(B,P,H,z,C,E.background,1,T,S),V=i.drawText({x:B+_.left,y:P+_.top+.75*D.height,text:y,fontSize:E.fontSize,fontFamily:E.fontFamily,fontWeight:E.fontWeight,foreColor:L,cssClass:E.cssClass||""});x.add(W),x.add(V)}}x.add(p),c.add(x)})),c}},{key:"getFontSize",value:function(e){var t=this.w,s=(function i(o){var c,h=0;if(Array.isArray(o[0]))for(c=0;c<o.length;c++)h+=i(o[c]);else for(c=0;c<o.length;c++)h+=o[c].length;return h})(this.labels)/(function i(o){var c,h=0;if(Array.isArray(o[0]))for(c=0;c<o.length;c++)h+=i(o[c]);else for(c=0;c<o.length;c++)h+=1;return h})(this.labels);return(function(i,o){var c=i*o,h=Math.pow(c,.5);return Math.min(h/s,parseInt(t.config.dataLabels.style.fontSize,10))})(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,s,i,o,c,h){var u=new me(this.ctx),g=u.getTextRects(s,t);if(g.width+this.w.config.stroke.width+5>c-i&&g.width<=h-o){var x=u.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(x.x," ").concat(x.y,") translate(").concat(g.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,s,i,o,c){var h=new me(this.ctx),u=h.getTextRects(e,t).width+this.w.config.stroke.width+5>o-s&&c-i>o-s?c-i:o-s,g=h.getTextBasedOnMaxWidth({text:e,maxWidth:u,fontSize:t});return e.length!==g.length&&u/t<5?"":g}},{key:"animateTreemap",value:function(e,t,s,i){var o=new or(this.ctx);o.animateRect(e,t,s,i,(function(){o.animationCompleted(e)}))}}]),r})(),oy=86400,g5=10/oy,f5=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return we(r,[{key:"calculateTimeScaleTicks",value:function(e,t){var s=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var o=new Kt(this.ctx),c=(t-e)/864e5;this.determineInterval(c),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,c<g5?i.globals.disableZoomIn=!0:c>5e4&&(i.globals.disableZoomOut=!0);var h=o.getTimeUnitsfromTimestamp(e,t,this.utc),u=i.globals.gridWidth/c,g=u/24,x=g/60,m=x/60,p=Math.floor(24*c),b=Math.floor(1440*c),w=Math.floor(c*oy),y=Math.floor(c),k=Math.floor(c/30),A=Math.floor(c/365),S={minMillisecond:h.minMillisecond,minSecond:h.minSecond,minMinute:h.minMinute,minHour:h.minHour,minDate:h.minDate,minMonth:h.minMonth,minYear:h.minYear},T={firstVal:S,currentMillisecond:S.minMillisecond,currentSecond:S.minSecond,currentMinute:S.minMinute,currentHour:S.minHour,currentMonthDate:S.minDate,currentDate:S.minDate,currentMonth:S.minMonth,currentYear:S.minYear,daysWidthOnXAxis:u,hoursWidthOnXAxis:g,minutesWidthOnXAxis:x,secondsWidthOnXAxis:m,numberOfSeconds:w,numberOfMinutes:b,numberOfHours:p,numberOfDays:y,numberOfMonths:k,numberOfYears:A};switch(this.tickInterval){case"years":this.generateYearScale(T);break;case"months":case"half_year":this.generateMonthScale(T);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(T);break;case"hours":this.generateHourScale(T);break;case"minutes_fives":case"minutes":this.generateMinuteScale(T);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(T)}var C=this.timeScaleArray.map((function(E){var L={position:E.position,unit:E.unit,year:E.year,day:E.day?E.day:1,hour:E.hour?E.hour:0,month:E.month+1};return E.unit==="month"?be(be({},L),{},{day:1,value:E.value+1}):E.unit==="day"||E.unit==="hour"?be(be({},L),{},{value:E.value}):E.unit==="minute"?be(be({},L),{},{value:E.value,minute:E.value}):E.unit==="second"?be(be({},L),{},{value:E.value,minute:E.minute,second:E.second}):E}));return C.filter((function(E){var L=1,_=Math.ceil(i.globals.gridWidth/120),D=E.value;i.config.xaxis.tickAmount!==void 0&&(_=i.config.xaxis.tickAmount),C.length>_&&(L=Math.floor(C.length/_));var H=!1,z=!1;switch(s.tickInterval){case"years":E.unit==="year"&&(H=!0);break;case"half_year":L=7,E.unit==="year"&&(H=!0);break;case"months":L=1,E.unit==="year"&&(H=!0);break;case"months_fortnight":L=15,E.unit!=="year"&&E.unit!=="month"||(H=!0),D===30&&(z=!0);break;case"months_days":L=10,E.unit==="month"&&(H=!0),D===30&&(z=!0);break;case"week_days":L=8,E.unit==="month"&&(H=!0);break;case"days":L=1,E.unit==="month"&&(H=!0);break;case"hours":E.unit==="day"&&(H=!0);break;case"minutes_fives":case"seconds_fives":D%5!=0&&(z=!0);break;case"seconds_tens":D%10!=0&&(z=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!z)return!0}else if((D%L==0||H)&&!z)return!0}))}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var s=this.w,i=this.formatDates(e),o=this.removeOverlappingTS(i);s.globals.timescaleLabels=o.slice(),new Ac(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,s=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,s=e.currentMonth,i=e.currentYear,o=e.daysWidthOnXAxis,c=e.numberOfYears,h=t.minYear,u=0,g=new Kt(this.ctx),x="year";if(t.minDate>1||t.minMonth>0){var m=g.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);u=(g.determineDaysOfYear(t.minYear)-m+1)*o,h=t.minYear+1,this.timeScaleArray.push({position:u,value:h,unit:x,year:h,month:J.monthMod(s+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:u,value:h,unit:x,year:i,month:J.monthMod(s+1)});for(var p=h,b=u,w=0;w<c;w++)p++,b=g.determineDaysOfYear(p-1)*o+b,this.timeScaleArray.push({position:b,value:p,unit:x,year:p,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,s=e.currentMonthDate,i=e.currentMonth,o=e.currentYear,c=e.daysWidthOnXAxis,h=e.numberOfMonths,u=i,g=0,x=new Kt(this.ctx),m="month",p=0;if(t.minDate>1){g=(x.determineDaysOfMonths(i+1,t.minYear)-s+1)*c,u=J.monthMod(i+1);var b=o+p,w=J.monthMod(u),y=u;u===0&&(m="year",y=b,w=1,b+=p+=1),this.timeScaleArray.push({position:g,value:y,unit:m,year:b,month:w})}else this.timeScaleArray.push({position:g,value:u,unit:m,year:o,month:J.monthMod(i)});for(var k=u+1,A=g,S=0,T=1;S<h;S++,T++){(k=J.monthMod(k))===0?(m="year",p+=1):m="month";var C=this._getYear(o,k,p);A=x.determineDaysOfMonths(k,C)*c+A;var E=k===0?C:k;this.timeScaleArray.push({position:A,value:E,unit:m,year:C,month:k===0?1:k}),k++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,s=e.currentMonth,i=e.currentYear,o=e.hoursWidthOnXAxis,c=e.numberOfDays,h=new Kt(this.ctx),u="day",g=t.minDate+1,x=g,m=function(T,C,E){return T>h.determineDaysOfMonths(C+1,E)&&(x=1,u="month",b=C+=1),C},p=(24-t.minHour)*o,b=g,w=m(x,s,i);t.minHour===0&&t.minDate===1?(p=0,b=J.monthMod(t.minMonth),u="month",x=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(p=0,g=t.minDate,b=g,w=m(x=g,s,i),b!==1&&(u="day")),this.timeScaleArray.push({position:p,value:b,unit:u,year:this._getYear(i,w,0),month:J.monthMod(w),day:x});for(var y=p,k=0;k<c;k++){u="day",w=m(x+=1,w,this._getYear(i,w,0));var A=this._getYear(i,w,0);y=24*o+y;var S=x===1?J.monthMod(w):x;this.timeScaleArray.push({position:y,value:S,unit:u,year:A,month:J.monthMod(w),day:S})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,s=e.currentDate,i=e.currentMonth,o=e.currentYear,c=e.minutesWidthOnXAxis,h=e.numberOfHours,u=new Kt(this.ctx),g="hour",x=function(L,_){return L>u.determineDaysOfMonths(_+1,o)&&(k=1,_+=1),{month:_,date:k}},m=function(L,_){return L>u.determineDaysOfMonths(_+1,o)?_+=1:_},p=60-(t.minMinute+t.minSecond/60),b=p*c,w=t.minHour+1,y=w;p===60&&(b=0,y=w=t.minHour);var k=s;y>=24&&(y=0,g="day",w=k+=1);var A=x(k,i).month;A=m(k,A),w>31&&(w=k=1),this.timeScaleArray.push({position:b,value:w,unit:g,day:k,hour:y,year:o,month:J.monthMod(A)}),y++;for(var S=b,T=0;T<h;T++){g="hour",y>=24&&(y=0,g="day",A=x(k+=1,A).month,A=m(k,A));var C=this._getYear(o,A,0);S=60*c+S;var E=y===0?k:y;this.timeScaleArray.push({position:S,value:E,unit:g,hour:y,day:k,year:C,month:J.monthMod(A)}),y++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,i=e.currentMinute,o=e.currentHour,c=e.currentDate,h=e.currentMonth,u=e.currentYear,g=e.minutesWidthOnXAxis,x=e.secondsWidthOnXAxis,m=e.numberOfMinutes,p=i+1,b=c,w=h,y=u,k=o,A=(60-s-t/1e3)*x,S=0;S<m;S++)p>=60&&(p=0,(k+=1)===24&&(k=0)),this.timeScaleArray.push({position:A,value:p,unit:"minute",hour:k,minute:p,day:b,year:this._getYear(y,w,0),month:J.monthMod(w)}),A+=g,p++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,s=e.currentSecond,i=e.currentMinute,o=e.currentHour,c=e.currentDate,h=e.currentMonth,u=e.currentYear,g=e.secondsWidthOnXAxis,x=e.numberOfSeconds,m=s+1,p=i,b=c,w=h,y=u,k=o,A=(1e3-t)/1e3*g,S=0;S<x;S++)m>=60&&(m=0,++p>=60&&(p=0,++k===24&&(k=0))),this.timeScaleArray.push({position:A,value:m,unit:"second",hour:k,minute:p,second:m,day:b,year:this._getYear(y,w,0),month:J.monthMod(w)}),A+=g,m++}},{key:"createRawDateString",value:function(e,t){var s=e.year;return e.month===0&&(e.month=1),s+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?s+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":s+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?s+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":s+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?s+=":"+("0"+t).slice(-2):s+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?s+=":"+("0"+t).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(e){var t=this,s=this.w;return e.map((function(i){var o=i.value.toString(),c=new Kt(t.ctx),h=t.createRawDateString(i,o),u=c.getDate(c.parseDate(h));if(t.utc||(u=c.getDate(c.parseDateWithTimezone(h))),s.config.xaxis.labels.format===void 0){var g="dd MMM",x=s.config.xaxis.labels.datetimeFormatter;i.unit==="year"&&(g=x.year),i.unit==="month"&&(g=x.month),i.unit==="day"&&(g=x.day),i.unit==="hour"&&(g=x.hour),i.unit==="minute"&&(g=x.minute),i.unit==="second"&&(g=x.second),o=c.formatDate(u,g)}else o=c.formatDate(u,s.config.xaxis.labels.format);return{dateString:h,position:i.position,value:o,unit:i.unit,year:i.year,month:i.month}}))}},{key:"removeOverlappingTS",value:function(e){var t,s=this,i=new me(this.ctx),o=!1;e.length>0&&e[0].value&&e.every((function(u){return u.value.length===e[0].value.length}))&&(o=!0,t=i.getTextRects(e[0].value).width);var c=0,h=e.map((function(u,g){if(g>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var x=o?t:i.getTextRects(e[c].value).width,m=e[c].position;return u.position>m+x+10?(c=g,u):null}return u}));return h=h.filter((function(u){return u!==null}))}},{key:"_getYear",value:function(e,t,s){return e+Math.floor(t/12)+s}}]),r})(),x5=(function(){function r(e,t){ye(this,r),this.ctx=t,this.w=t.w,this.el=e}return we(r,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,s=e.config,i=s.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(i),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(i),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(i)&&s.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),me.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(s.chart.offsetX,", ").concat(s.chart.offsetY,")")}),t.dom.Paper.node.style.background=s.theme.mode!=="dark"||s.chart.background?s.theme.mode!=="light"||s.chart.background?s.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),me.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var s=this.w,i=this.ctx,o=s.config,c=s.globals,h={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},u=o.chart.type||"line",g=null,x=0;c.series.forEach((function(L,_){var D,H,z=((D=e[_])===null||D===void 0?void 0:D.type)==="column"?"bar":((H=e[_])===null||H===void 0?void 0:H.type)||(u==="column"?"bar":u);h[z]?(z==="rangeArea"?(h[z].series.push(c.seriesRangeStart[_]),h[z].seriesRangeEnd.push(c.seriesRangeEnd[_])):h[z].series.push(L),h[z].i.push(_),z==="bar"&&(s.globals.columnSeries=h.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(z)?g=z:console.warn("You have specified an unrecognized series type (".concat(z,").")),u!==z&&z!=="scatter"&&x++})),x>0&&(g&&console.warn("Chart or series type ".concat(g," cannot appear with other chart or series types.")),h.bar.series.length>0&&o.plotOptions.bar.horizontal&&(x-=h.bar.series.length,h.bar={series:[],i:[]},s.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),c.comboCharts||(c.comboCharts=x>0);var m=new Hu(i,t),p=new Ru(i,t);i.pie=new ly(i);var b=new r5(i);i.rangeBar=new l5(i,t);var w=new n5(i),y=[];if(c.comboCharts){var k,A,S=new Tt(i);if(h.area.series.length>0&&(k=y).push.apply(k,Xt(S.drawSeriesByGroup(h.area,c.areaGroups,"area",m))),h.bar.series.length>0)if(o.chart.stacked){var T=new tb(i,t);y.push(T.draw(h.bar.series,h.bar.i))}else i.bar=new ir(i,t),y.push(i.bar.draw(h.bar.series,h.bar.i));if(h.rangeArea.series.length>0&&y.push(m.draw(h.rangeArea.series,"rangeArea",h.rangeArea.i,h.rangeArea.seriesRangeEnd)),h.line.series.length>0&&(A=y).push.apply(A,Xt(S.drawSeriesByGroup(h.line,c.lineGroups,"line",m))),h.candlestick.series.length>0&&y.push(p.draw(h.candlestick.series,"candlestick",h.candlestick.i)),h.boxPlot.series.length>0&&y.push(p.draw(h.boxPlot.series,"boxPlot",h.boxPlot.i)),h.rangeBar.series.length>0&&y.push(i.rangeBar.draw(h.rangeBar.series,h.rangeBar.i)),h.scatter.series.length>0){var C=new Hu(i,t,!0);y.push(C.draw(h.scatter.series,"scatter",h.scatter.i))}if(h.bubble.series.length>0){var E=new Hu(i,t,!0);y.push(E.draw(h.bubble.series,"bubble",h.bubble.i))}}else switch(o.chart.type){case"line":y=m.draw(c.series,"line");break;case"area":y=m.draw(c.series,"area");break;case"bar":o.chart.stacked?y=new tb(i,t).draw(c.series):(i.bar=new ir(i,t),y=i.bar.draw(c.series));break;case"candlestick":y=new Ru(i,t).draw(c.series,"candlestick");break;case"boxPlot":y=new Ru(i,t).draw(c.series,o.chart.type);break;case"rangeBar":y=i.rangeBar.draw(c.series);break;case"rangeArea":y=m.draw(c.seriesRangeStart,"rangeArea",void 0,c.seriesRangeEnd);break;case"heatmap":y=new i5(i,t).draw(c.series);break;case"treemap":y=new u5(i,t).draw(c.series);break;case"pie":case"donut":case"polarArea":y=i.pie.draw(c.series);break;case"radialBar":y=b.draw(c.series);break;case"radar":y=w.draw(c.series);break;default:y=m.draw(c.series)}return y}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,s=e.config;s.chart.width=s.chart.width||"100%",s.chart.height=s.chart.height||"auto",t.svgWidth=s.chart.width,t.svgHeight=s.chart.height;var i=J.getDimensions(this.el),o=s.chart.width.toString().split(/[0-9]+/g).pop();o==="%"?J.isNumber(i[0])&&(i[0].width===0&&(i=J.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(s.chart.width,10)/100):o!=="px"&&o!==""||(t.svgWidth=parseInt(s.chart.width,10));var c=String(s.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(c==="%"){var h=J.getDimensions(this.el.parentNode);t.svgHeight=h[1]*parseInt(s.chart.height,10)/100}else t.svgHeight=parseInt(s.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),me.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),c!=="%"){var u=s.chart.sparkline.enabled?0:t.axisCharts?s.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+u,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,s=e.translateX;me.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(s,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,s=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(s=new ty(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var o=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),c=2.05*e.globals.radialSize;if(o&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var h=J.getBoundingClientRect(o);c=h.bottom;var u=h.bottom-h.top;c=Math.max(2.05*e.globals.radialSize,u)}var g=Math.ceil(c+t.translateY+s+i);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",g),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(g,"px"),me.setAttrs(t.dom.Paper.node,{height:g}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(g,"px"))}},{key:"coreCalculations",value:function(){new mg(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map((function(){return[]}))},s=new Kv,i=this.w.globals,o={dataWasParsed:i.dataWasParsed,originalSeries:i.originalSeries};s.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t(),o.dataWasParsed&&(i.dataWasParsed=o.dataWasParsed,i.originalSeries=o.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new pg(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new pg(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new f5(this.ctx);var s=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}t=new Tt(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,s=this.w;if(s.config.chart.brush.enabled&&typeof s.config.chart.events.selection!="function"){var i=Array.isArray(s.config.chart.brush.targets)?s.config.chart.brush.targets:[s.config.chart.brush.target];i.forEach((function(o){var c=t.constructor.getChartByID(o);c.w.globals.brushSource=e.ctx,typeof c.w.config.chart.events.zoomed!="function"&&(c.w.config.chart.events.zoomed=function(){return e.updateSourceChart(c)}),typeof c.w.config.chart.events.scrolled!="function"&&(c.w.config.chart.events.scrolled=function(){return e.updateSourceChart(c)})})),s.config.chart.events.selection=function(o,c){i.forEach((function(h){t.constructor.getChartByID(h).ctx.updateHelpers._updateOptions({xaxis:{min:c.xaxis.min,max:c.xaxis.max}},!1,!1,!1,!1)}))}}}}]),r})(),m5=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"_updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],c=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise((function(h){var u=[t.ctx];o&&(u=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(u=[t.ctx],t.ctx.w.globals.isExecCalled=!1),u.forEach((function(g,x){var m=g.w;if(m.globals.shouldAnimate=i,s||(m.globals.resized=!0,m.globals.dataChanged=!0,i&&g.series.getPreviousPaths()),e&&is(e)==="object"&&(g.config=new wl(e),e=Tt.extendArrayProps(g.config,e,m),g.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,m.config=J.extend(m.config,e),c&&(m.globals.lastXAxis=e.xaxis?J.clone(e.xaxis):[],m.globals.lastYAxis=e.yaxis?J.clone(e.yaxis):[],m.globals.initialConfig=J.extend({},m.config),m.globals.initialSeries=J.clone(m.config.series),e.series))){for(var p=0;p<m.globals.collapsedSeriesIndices.length;p++){var b=m.config.series[m.globals.collapsedSeriesIndices[p]];m.globals.collapsedSeries[p].data=m.globals.axisCharts?b.data.slice():b}for(var w=0;w<m.globals.ancillaryCollapsedSeriesIndices.length;w++){var y=m.config.series[m.globals.ancillaryCollapsedSeriesIndices[w]];m.globals.ancillaryCollapsedSeries[w].data=m.globals.axisCharts?y.data.slice():y}g.series.emptyCollapsedSeries(m.config.series)}return g.update(e).then((function(){x===u.length-1&&h(g)}))}))}))}},{key:"_updateSeries",value:function(e,t){var s=this,i=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise((function(o){var c=s.w;return c.globals.shouldAnimate=t,c.globals.dataChanged=!0,t&&s.ctx.series.getPreviousPaths(),s.ctx.data.resetParsingFlags(),s.ctx.data.parseData(e),i&&(c.globals.initialConfig.series=J.clone(c.config.series),c.globals.initialSeries=J.clone(c.config.series)),s.ctx.update().then((function(){o(s.ctx)}))}))}},{key:"_extendSeries",value:function(e,t){var s=this.w,i=s.config.series[t];return be(be({},s.config.series[t]),{},{name:e.name?e.name:i?.name,color:e.color?e.color:i?.color,type:e.type?e.type:i?.type,group:e.group?e.group:i?.group,hidden:e.hidden!==void 0?e.hidden:i?.hidden,data:e.data?e.data:i?.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var s=this.w,i=null,o=".apexcharts-series[data\\:realIndex='".concat(e,"']");return s.globals.axisCharts?i=s.globals.dom.Paper.findOne("".concat(o," path[j='").concat(t,"'], ").concat(o," circle[j='").concat(t,"'], ").concat(o," rect[j='").concat(t,"']")):t===void 0&&(i=s.globals.dom.Paper.findOne("".concat(o," path[j='").concat(e,"']")),s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),i?(new me(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach((function(i){e.xaxis[i]!==void 0&&(t.config.xaxis[i]=e.xaxis[i],t.globals.lastXAxis[i]=e.xaxis[i])})),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var s=new yl(e);e=s.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach((function(t,s){e.yaxis[s].min=0,e.yaxis[s].max=100})):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,s=this.w,i=s.globals.lastXAxis,o=s.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(o=e.yaxis),s.config.xaxis.min=i.min,s.config.xaxis.max=i.max;var c=function(h){o[h]!==void 0&&(s.config.yaxis[h].min=o[h].min,s.config.yaxis[h].max=o[h].max)};s.config.yaxis.map((function(h,u){s.globals.zoomed||o[u]!==void 0?c(u):t.ctx.opts.yaxis[u]!==void 0&&(h.min=t.ctx.opts.yaxis[u].min,h.max=t.ctx.opts.yaxis[u].max)}))}}]),r})();(function(){function r(){for(var o=arguments.length>0&&arguments[0]!==m?arguments[0]:[],c=arguments.length>1?arguments[1]:m,h=arguments.length>2?arguments[2]:m,u=arguments.length>3?arguments[3]:m,g=arguments.length>4?arguments[4]:m,x=arguments.length>5?arguments[5]:m,m=arguments.length>6?arguments[6]:m,p=o.slice(c,h||m),b=u.slice(g,x||m),w=0,y={pos:[0,0],start:[0,0]},k={pos:[0,0],start:[0,0]};p[w]=e.call(y,p[w]),b[w]=e.call(k,b[w]),p[w][0]!=b[w][0]||p[w][0]=="M"||p[w][0]=="A"&&(p[w][4]!=b[w][4]||p[w][5]!=b[w][5])?(Array.prototype.splice.apply(p,[w,1].concat(s.call(y,p[w]))),Array.prototype.splice.apply(b,[w,1].concat(s.call(k,b[w])))):(p[w]=t.call(y,p[w]),b[w]=t.call(k,b[w])),!(++w==p.length&&w==b.length);)w==p.length&&p.push(["C",y.pos[0],y.pos[1],y.pos[0],y.pos[1],y.pos[0],y.pos[1]]),w==b.length&&b.push(["C",k.pos[0],k.pos[1],k.pos[0],k.pos[1],k.pos[0],k.pos[1]]);return{start:p,dest:b}}function e(o){switch(o[0]){case"z":case"Z":o[0]="L",o[1]=this.start[0],o[2]=this.start[1];break;case"H":o[0]="L",o[2]=this.pos[1];break;case"V":o[0]="L",o[2]=o[1],o[1]=this.pos[0];break;case"T":o[0]="Q",o[3]=o[1],o[4]=o[2],o[1]=this.reflection[1],o[2]=this.reflection[0];break;case"S":o[0]="C",o[6]=o[4],o[5]=o[3],o[4]=o[2],o[3]=o[1],o[2]=this.reflection[1],o[1]=this.reflection[0]}return o}function t(o){var c=o.length;return this.pos=[o[c-2],o[c-1]],"SCQT".indexOf(o[0])!=-1&&(this.reflection=[2*this.pos[0]-o[c-4],2*this.pos[1]-o[c-3]]),o}function s(o){var c=[o];switch(o[0]){case"M":return this.pos=this.start=[o[1],o[2]],c;case"L":o[5]=o[3]=o[1],o[6]=o[4]=o[2],o[1]=this.pos[0],o[2]=this.pos[1];break;case"Q":o[6]=o[4],o[5]=o[3],o[4]=1*o[4]/3+2*o[2]/3,o[3]=1*o[3]/3+2*o[1]/3,o[2]=1*this.pos[1]/3+2*o[2]/3,o[1]=1*this.pos[0]/3+2*o[1]/3;break;case"A":c=(function(h,u){var g,x,m,p,b,w,y,k,A,S,T,C,E,L,_,D,H,z,B,P,W,V,Q,Y,F,U,q=Math.abs(u[1]),G=Math.abs(u[2]),O=u[3]%360,I=u[4],ne=u[5],K=u[6],ue=u[7],ae=new it(h),te=new it(K,ue),ve=[];if(q===0||G===0||ae.x===te.x&&ae.y===te.y)return[["C",ae.x,ae.y,te.x,te.y,te.x,te.y]];for(g=new it((ae.x-te.x)/2,(ae.y-te.y)/2).transform(new Te().rotate(O)),x=g.x*g.x/(q*q)+g.y*g.y/(G*G),x>1&&(q*=x=Math.sqrt(x),G*=x),m=new Te().rotate(O).scale(1/q,1/G).rotate(-O),ae=ae.transform(m),te=te.transform(m),p=[te.x-ae.x,te.y-ae.y],w=p[0]*p[0]+p[1]*p[1],b=Math.sqrt(w),p[0]/=b,p[1]/=b,y=w<4?Math.sqrt(1-w/4):0,I===ne&&(y*=-1),k=new it((te.x+ae.x)/2+y*-p[1],(te.y+ae.y)/2+y*p[0]),A=new it(ae.x-k.x,ae.y-k.y),S=new it(te.x-k.x,te.y-k.y),T=Math.acos(A.x/Math.sqrt(A.x*A.x+A.y*A.y)),A.y<0&&(T*=-1),C=Math.acos(S.x/Math.sqrt(S.x*S.x+S.y*S.y)),S.y<0&&(C*=-1),ne&&T>C&&(C+=2*Math.PI),!ne&&T<C&&(C-=2*Math.PI),L=Math.ceil(2*Math.abs(T-C)/Math.PI),D=[],H=T,E=(C-T)/L,_=4*Math.tan(E/4)/3,W=0;W<=L;W++)B=Math.cos(H),z=Math.sin(H),P=new it(k.x+B,k.y+z),D[W]=[new it(P.x+_*z,P.y-_*B),P,new it(P.x-_*z,P.y+_*B)],H+=E;for(D[0][0]=D[0][1].clone(),D[D.length-1][2]=D[D.length-1][1].clone(),m=new Te().rotate(O).scale(q,G).rotate(-O),W=0,V=D.length;W<V;W++)D[W][0]=D[W][0].transform(m),D[W][1]=D[W][1].transform(m),D[W][2]=D[W][2].transform(m);for(W=1,V=D.length;W<V;W++)Q=(P=D[W-1][2]).x,Y=P.y,F=(P=D[W][0]).x,U=P.y,K=(P=D[W][1]).x,ue=P.y,ve.push(["C",Q,Y,F,U,K,ue]);return ve})(this.pos,o),o=c[0]}return o[0]="C",this.pos=[o[5],o[6]],this.reflection=[2*o[5]-o[3],2*o[6]-o[4]],c}function i(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1?arguments[1]:void 0;if(c===!1)return!1;for(var h=c,u=o.length;h<u;++h)if(o[h][0]=="M")return h;return!1}Ee(Zs,{morph:function(o,c,h,u,g){for(var x=this.parse(o),m=this.parse(c),p=0,b=0,w=!1,y=!1;p!==!1||b!==!1;){var k;w=i(x,p!==!1&&p+1),y=i(m,b!==!1&&b+1),p===!1&&(p=(k=new Zs(A.start).bbox()).height==0||k.width==0?x.push(x[0])-1:x.push(["M",k.x+k.width/2,k.y+k.height/2])-1),b===!1&&(b=(k=new Zs(A.dest).bbox()).height==0||k.width==0?m.push(m[0])-1:m.push(["M",k.x+k.width/2,k.y+k.height/2])-1);var A=r(x,p,w,m,b,y);x=x.slice(0,p).concat(A.start,w===!1?[]:x.slice(w)),m=m.slice(0,b).concat(A.dest,y===!1?[]:m.slice(y)),p=w!==!1&&p+A.start.length,b=y!==!1&&b+A.dest.length}this._array=x,this.destination=new Zs,this.destination._array=m;var S=this.fromArray(x.map((function(T,C){var E=m[C].map((function(L,_){return _===0?L:u.step(T[_],m[C][_],h,g[C],g)}));return E})));return S}})})();const sb=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY});class p5{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(sb(e));const s=(t?"mouseup":"touchend")+".drag";Da(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Da(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:s}=this,i=this.el.point(sb(e)),o=i.x-s.x,c=i.y-s.y;if(!o&&!c)return t;const h=t.x+o,u=t.y+c;this.box=new At(h,u,t.w,t.h),this.lastClick=i,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(h,u)}move(e,t){this.el.type==="svg"?mi.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Is(window,"mousemove.drag"),Is(window,"touchmove.drag"),Is(window,"mouseup.drag"),Is(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function bg(r,e,t,s=null){return function(i){i.preventDefault(),i.stopPropagation();var o=i.pageX||i.touches[0].pageX,c=i.pageY||i.touches[0].pageY;e.fire(r,{x:o,y:c,event:i,index:s,points:t})}}function vg([r,e],{a:t,b:s,c:i,d:o,e:c,f:h}){return[r*t+e*i+c,r*s+e*o+h]}Ee(Qt,{draggable(r=!0){return(this.remember("_draggable")||new p5(this)).init(r),this}});let cy=class{constructor(r){this.el=r,r.remember("_selectHandler",this),this.selection=new mi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ml();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.createRot=r.createRot||this.createRotFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.updateRot=r.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const s=this.order[e];this.createHandle.call(this,this.selection,r,e,t,s),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",bg(s,this.el,this.handlePoints,e))}))}createHandleFn(r){r.polyline()}updateHandleFn(r,e,t,s){const i=s.at(t-1),o=s[(t+1)%s.length],c=e,h=[c[0]-i[0],c[1]-i[1]],u=[c[0]-o[0],c[1]-o[1]],g=Math.sqrt(h[0]*h[0]+h[1]*h[1]),x=Math.sqrt(u[0]*u[0]+u[1]*u[1]),m=[h[0]/g,h[1]/g],p=[u[0]/x,u[1]/x],b=[c[0]-10*m[0],c[1]-10*m[1]],w=[c[0]-10*p[0],c[1]-10*p[1]];r.plot([b,c,w])}updateResizeHandles(){this.handlePoints.forEach(((r,e,t)=>{const s=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),r,e,t,s)}))}createRotFn(r){r.line(),r.circle(5)}getPoint(r){return this.handlePoints[this.order.indexOf(r)]}getPointHandle(r){return this.selection.get(this.order.indexOf(r)+1)}updateRotFn(r,e){const t=this.getPoint("t");r.get(0).plot(t[0],t[1],e[0],e[1]),r.get(1).center(e[0],e[1])}createRotationHandle(){const r=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",bg("rot",this.el,this.handlePoints));this.createRot.call(this,r)}updateRotationHandle(){const r=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(r,this.rotationPoint,this.handlePoints)}updatePoints(){const r=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(r).map((t=>vg(t,e))),this.rotationPoint=vg(this.getRotationPoint(r),e)}getHandlePoints({x:r,x2:e,y:t,y2:s,cx:i,cy:o}=this.el.bbox()){return[[r,t],[i,t],[e,t],[e,o],[e,s],[i,s],[r,s],[r,o]]}getRotationPoint({y:r,cx:e}=this.el.bbox()){return[e,r-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const ab=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof cy?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function yg(r,e,t,s=null){return function(i){i.preventDefault(),i.stopPropagation();var o=i.pageX||i.touches[0].pageX,c=i.pageY||i.touches[0].pageY;e.fire(r,{x:o,y:c,event:i,index:s,points:t})}}function wg([r,e],{a:t,b:s,c:i,d:o,e:c,f:h}){return[r*t+e*i+c,r*s+e*o+h]}Ee(Qt,{select:ab(cy)}),Ee([qi,Gi,Vi],{pointSelect:ab(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new mi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ml();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",bg("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>vg(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class dy{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new mi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=Ml();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach(((e,t,s)=>{const i=this.order[t];this.createHandle.call(this,this.selection,e,t,s,i),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",yg(i,this.el,this.handlePoints,t))}))}createHandleFn(e){e.polyline()}updateHandleFn(e,t,s,i){const o=i.at(s-1),c=i[(s+1)%i.length],h=t,u=[h[0]-o[0],h[1]-o[1]],g=[h[0]-c[0],h[1]-c[1]],x=Math.sqrt(u[0]*u[0]+u[1]*u[1]),m=Math.sqrt(g[0]*g[0]+g[1]*g[1]),p=[u[0]/x,u[1]/x],b=[g[0]/m,g[1]/m],w=[h[0]-10*p[0],h[1]-10*p[1]],y=[h[0]-10*b[0],h[1]-10*b[1]];e.plot([w,h,y])}updateResizeHandles(){this.handlePoints.forEach(((e,t,s)=>{const i=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,s,i)}))}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const s=this.getPoint("t");e.get(0).plot(s[0],s[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",yg("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map((s=>wg(s,t))),this.rotationPoint=wg(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:s,y2:i,cx:o,cy:c}=this.el.bbox()){return[[e,s],[o,s],[t,s],[t,c],[t,i],[o,i],[e,i],[e,c]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const ib=r=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let s=this.remember("_"+r.name);return s||(e.prototype instanceof dy?(s=new e(this),e=!0):s=new r(this),this.remember("_"+r.name,s)),s.active(e,t),this};Ee(Qt,{select:ib(dy)}),Ee([qi,Gi,Vi],{pointSelect:ib(class{constructor(r){this.el=r,r.remember("_pointSelectHandler",this),this.selection=new mi,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=Ml();this.observer=new e.MutationObserver(this.mutationHandler)}init(r){this.createHandle=r.createHandle||this.createHandleFn,this.updateHandle=r.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(r,e){if(!r)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach(((r,e,t)=>{this.createHandle.call(this,this.selection,r,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",yg("point",this.el,this.points,e))}))}createHandleFn(r){r.circle(5)}updateHandleFn(r,e){r.center(e[0],e[1])}updatePointHandles(){this.points.forEach(((r,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),r,e,t)}))}updatePoints(){const r=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map((e=>wg(e,r)))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const nc=r=>(r.changedTouches&&(r=r.changedTouches[0]),{x:r.clientX,y:r.clientY}),nb=r=>{let e=1/0,t=1/0,s=-1/0,i=-1/0;for(let o=0;o<r.length;o++){const c=r[o];e=Math.min(e,c[0]),t=Math.min(t,c[1]),s=Math.max(s,c[0]),i=Math.max(i,c[1])}return new At(e,t,s-e,i-t)};class rb{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:s,points:i}=e.detail,o=!t.type.indexOf("mouse");if(o&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(nc(t)),this.index=s,this.points=i.slice();const c=(o?"mousemove":"touchmove")+".resize",h=(o?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Da(window,c,this.movePoint):e.type==="rot"?Da(window,c,this.rotate):Da(window,c,this.resize),Da(window,h,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(nc(e)));let s=t.x-this.startPoint.x,i=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(s*=2,i*=2);const o=this.box.x+s,c=this.box.y+i,h=this.box.x2+s,u=this.box.y2+i;let g=new At(this.box);if(this.eventType.includes("l")&&(g.x=Math.min(o,this.box.x2),g.x2=Math.max(o,this.box.x2)),this.eventType.includes("r")&&(g.x=Math.min(h,this.box.x),g.x2=Math.max(h,this.box.x)),this.eventType.includes("t")&&(g.y=Math.min(c,this.box.y2),g.y2=Math.max(c,this.box.y2)),this.eventType.includes("b")&&(g.y=Math.min(u,this.box.y),g.y2=Math.max(u,this.box.y)),g.width=g.x2-g.x,g.height=g.y2-g.y,this.preserveAspectRatio){const x=g.width/this.box.width,m=g.height/this.box.height,p=["lt","t","rt","r","rb","b","lb","l"],b=(p.indexOf(this.eventType)+4)%p.length,w=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[b];let y=this.eventType.includes("t")||this.eventType.includes("b")?m:x;y=this.eventType.length===2?Math.max(x,m):y,g=(function(k,A,S){const T=[[k.x,k.y],[k.x+k.width,k.y],[k.x+k.width,k.y+k.height],[k.x,k.y+k.height]].map((([C,E])=>{const L=C-A[0],_=(E-A[1])*S;return[L*S+A[0],_+A[1]]}));return nb(T)})(this.box,w,y)}this.el.dispatch("resize",{box:new At(g),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(g.width,g.height).move(g.x,g.y)}movePoint(e){this.lastEvent=e;const{x:t,y:s}=this.snapToGrid(this.el.point(nc(e))),i=this.el.array().slice();i[this.index]=[t,s],this.el.dispatch("resize",{box:nb(i),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(i)}rotate(e){this.lastEvent=e;const t=this.startPoint,s=this.el.point(nc(e)),{cx:i,cy:o}=this.box,c=t.x-i,h=t.y-o,u=s.x-i,g=s.y-o,x=Math.sqrt(c*c+h*h)*Math.sqrt(u*u+g*g);if(x===0)return;let m=Math.acos((c*u+h*g)/x)/Math.PI*180;if(!m)return;s.x<t.x&&(m=-m);const p=new Te(this.el),{x:b,y:w}=new it(i,o).transformO(p),{rotate:y}=p.decompose(),k=this.snapToAngle(y+m)-y;this.el.dispatch("resize",{box:this.box,angle:k,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(p.rotateO(k,b,w))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Is(window,"mousemove.resize touchmove.resize"),Is(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Ee(Qt,{resize:function(r=!0,e={}){typeof r=="object"&&(e=r,r=!0);let t=this.remember("_ResizeHandler");return t||(r.prototype instanceof rb?(t=new r(this),r=!0):t=new rb(this),this.remember("_resizeHandler",t)),t.active(r,e),this}}),window.SVG===void 0&&(window.SVG=LA),window.Apex===void 0&&(window.Apex={});var lb=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new or(this.ctx),this.ctx.axes=new FA(this.ctx),this.ctx.core=new x5(this.ctx.el,this.ctx),this.ctx.config=new wl({}),this.ctx.data=new tf(this.ctx),this.ctx.grid=new Jv(this.ctx),this.ctx.graphics=new me(this.ctx),this.ctx.coreUtils=new Tt(this.ctx),this.ctx.crosshairs=new pg(this.ctx),this.ctx.events=new XA(this.ctx),this.ctx.exports=new ul(this.ctx),this.ctx.fill=new Js(this.ctx),this.ctx.localization=new YA(this.ctx),this.ctx.options=new Wi,this.ctx.responsive=new IA(this.ctx),this.ctx.series=new Ws(this.ctx),this.ctx.theme=new UA(this.ctx),this.ctx.formatters=new Dl(this.ctx),this.ctx.titleSubtitle=new WA(this.ctx),this.ctx.legend=new ty(this.ctx),this.ctx.toolbar=new sy(this.ctx),this.ctx.tooltip=new eb(this.ctx),this.ctx.dimensions=new Ac(this.ctx),this.ctx.updateHelpers=new m5(this.ctx),this.ctx.zoomPanSelection=new ZA(this.ctx),this.ctx.w.globals.tooltip=new eb(this.ctx)}}]),r})(),ob=(function(){function r(e){ye(this,r),this.ctx=e,this.w=e.w}return we(r,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each((function(){this.removeClass("*"),this.off()}),!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,s=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!s&&(i.parentNode.parentNode.style.minHeight="unset");var o=this.w.globals.dom.baseEl;o&&this.ctx.eventList.forEach((function(h){o.removeEventListener(h,t.ctx.events.documentEvent)}));var c=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(c.Paper),c.Paper.remove(),c.elWrap=null,c.elGraphical=null,c.elLegendWrap=null,c.elLegendForeign=null,c.baseEl=null,c.elGridRect=null,c.elGridRectMask=null,c.elGridRectBarMask=null,c.elGridRectMarkerMask=null,c.elForecastMask=null,c.elNonForecastMask=null,c.elDefs=null}}]),r})(),Pu=new WeakMap,b5=(function(){function r(e,t){ye(this,r),this.opts=t,this.ctx=this,this.w=new BA(t).init(),this.el=e,this.w.globals.cuid=J.randomId(),this.w.globals.chartID=this.w.config.chart.id?J.escapeString(this.w.config.chart.id):this.w.globals.cuid,new lb(this).initModules(),this.lastUpdateOptions=null,this.create=J.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return we(r,[{key:"render",value:function(){var e=this;return new Promise((function(t,s){if(J.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;typeof i=="function"&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),(function(p,b){var w=!1;if(p.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var y=p.getBoundingClientRect();p.style.display!=="none"&&y.width!==0||(w=!0)}var k=new ResizeObserver((function(A){w&&b.call(p,A),w=!0}));p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(p.children).forEach((function(A){return k.observe(A)})):k.observe(p),Pu.set(b,k)})(e.el.parentNode,e.parentResizeHandler);var o=e.el.getRootNode&&e.el.getRootNode(),c=J.is("ShadowRoot",o),h=e.el.ownerDocument,u=c?o.getElementById("apexcharts-css"):h.getElementById("apexcharts-css");if(!u){var g;(u=document.createElement("style")).id="apexcharts-css",u.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var x=((g=e.opts.chart)===null||g===void 0?void 0:g.nonce)||e.w.config.chart.nonce;x&&u.setAttribute("nonce",x),c?o.prepend(u):e.w.config.chart.injectStyleSheet!==!1&&h.head.appendChild(u)}var m=e.create(e.w.config.series,{});if(!m)return t(e);e.mount(m).then((function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(m)})).catch((function(p){s(p)}))}else s(new Error("Element not found"))}))}},{key:"create",value:function(e,t){var s=this,i=this.w;new lb(this).initModules();var o=this.w.globals;if(o.noData=!1,o.animationEnded=!1,!J.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),i.config.xaxis.convertedCatToNumeric&&new yl(i.config).convertCatToNumericXaxis(i.config,this.ctx),this.core.setupElements(),i.config.chart.type==="treemap"&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),o.svgWidth===0))return o.animationEnded=!0,null;var c=e;e.forEach((function(p,b){p.hidden&&(c=s.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:b}))}));var h=Tt.checkComboSeries(c,i.config.chart.type);o.comboCharts=h.comboCharts,o.comboBarCount=h.comboBarCount;var u=c.every((function(p){return p.data&&p.data.length===0}));(c.length===0||u&&o.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(c),this.theme.init(),new ur(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),o.noData&&o.collapsedSeries.length!==o.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),o.axisCharts&&(this.core.coreCalculations(),i.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new Tt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var g=this.core.xySettings();this.grid.createGridMask();var x=this.core.plotChartType(c,g),m=new ar(this);return m.bringForward(),i.config.dataLabels.background.enabled&&m.dataLabelsBackground(),this.core.shiftGraphPosition(),i.globals.dataPoints>50&&i.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:x,xyRatios:g,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,i=s.w;return new Promise((function(o,c){if(s.el===null)return c(new Error("Not enough data to display or target element not found"));(t===null||i.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new Jv(s);var h,u,g=s.grid.drawGrid();if(s.annotations=new PA(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),i.config.grid.position==="back"&&(g&&i.globals.dom.elGraphical.add(g.el),g!=null&&(h=g.elGridBorders)!==null&&h!==void 0&&h.node&&i.globals.dom.elGraphical.add(g.elGridBorders)),Array.isArray(t.elGraph))for(var x=0;x<t.elGraph.length;x++)i.globals.dom.elGraphical.add(t.elGraph[x]);else i.globals.dom.elGraphical.add(t.elGraph);i.config.grid.position==="front"&&(g&&i.globals.dom.elGraphical.add(g.el),g!=null&&(u=g.elGridBorders)!==null&&u!==void 0&&u.node&&i.globals.dom.elGraphical.add(g.elGridBorders)),i.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),i.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),i.config.chart.type!=="treemap"&&s.axes.drawAxis(i.config.chart.type,g);var m=new jl(e.ctx,g),p=new sf(e.ctx,g);if(g!==null&&(m.xAxisLabelCorrections(g.xAxisTickWidth),p.setYAxisTextAlignments(),i.config.yaxis.map((function(w,y){i.globals.ignoreYAxisIndexes.indexOf(y)===-1&&p.yAxisTitleRotate(y,w.opposite)}))),s.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&s.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:t.xyRatios});else{var b=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach((function(w){b[w]=!1}))}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach((function(w){w.method(w.params,!1,w.context)})),i.globals.axisCharts||i.globals.noData||s.core.resizeNonAxisCharts(),o(s)}))}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),(function(t,s){var i=Pu.get(s);i&&(i.disconnect(),Pu.delete(s))})(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach((function(t,s){t.id===J.escapeString(e)&&Apex._chartInstances.splice(s,1)})),new ob(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],o=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],c=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],h=this.w;return h.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map((function(u,g){return t.updateHelpers._extendSeries(u,g)}))),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),h.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,s,i,o,c))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,s)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,s)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.data.resetParsingFlags(),s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var i=s.w.config.series.slice(),o=0;o<i.length;o++)if(e[o]!==null&&e[o]!==void 0)for(var c=0;c<e[o].data.length;c++)i[o].data.push(e[o].data[c]);return s.w.config.series=i,t&&(s.w.globals.initialSeries=J.clone(s.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise((function(s,i){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return s(t);t.lastUpdateOptions=J.clone(e),new ob(t.ctx).clear({isUpdating:!0});var o=t.create(t.w.config.series,e);if(!o)return s(t);t.mount(o).then((function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,s(t)})).catch((function(c){i(c)}))}))}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach((function(s){t.push(s)}))),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter((function(t){if(t.group)return!0})).map((function(t){return e.w.config.chart.group===t.group?t.chart:e}))}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,i=this;s&&(i=s),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;t&&(s=t),s.annotations.removeAnnotation(s,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new mg(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new mg(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new ul(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new ul(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ul(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout((function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()}),150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=J.escapeString(e);if(Apex._chartInstances){var s=Apex._chartInstances.filter((function(i){return i.id===t}))[0];return s&&s.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new r(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var s=this.getChartByID(e);if(s){s.w.globals.isExecCalled=!0;var i=null;if(s.publicMethods.indexOf(t)!==-1){for(var o=arguments.length,c=new Array(o>2?o-2:0),h=2;h<o;h++)c[h-2]=arguments[h];i=s[t].apply(s,c)}return i}}},{key:"merge",value:function(e,t){return J.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),r})(),Bu={exports:{}},Xu,cb;function v5(){if(cb)return Xu;cb=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xu=r,Xu}var Yu,db;function y5(){if(db)return Yu;db=1;var r=v5();function e(){}function t(){}return t.resetWarningCache=e,Yu=function(){function s(c,h,u,g,x,m){if(m!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}s.isRequired=s;function i(){return s}var o={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Yu}var hb;function w5(){return hb||(hb=1,Bu.exports=y5()()),Bu.exports}var j5=w5();const Ks=Sg(j5);function N5(r,e,t){return(e=(function(s){var i=(function(o,c){if(typeof o!="object"||!o)return o;var h=o[Symbol.toPrimitive];if(h!==void 0){var u=h.call(o,c);if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(o)})(s,"string");return typeof i=="symbol"?i:i+""})(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jg(){return jg=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},jg.apply(null,arguments)}function ub(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),t.push.apply(t,s)}return t}function hy(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(t),!0).forEach((function(s){N5(r,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ub(Object(t)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))}))}return r}function Nl(r){return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(r)}var S5=["type","width","height","series","options","chartRef"];function Fu(r){return r&&Nl(r)==="object"&&!Array.isArray(r)}function uy(r,e){var t=hy({},r);return Fu(r)&&Fu(e)&&Object.keys(e).forEach((function(s){Fu(e[s])?t[s]=s in r?uy(r[s],e[s]):e[s]:t[s]=e[s]})),t}function Ng(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(r===e)return!0;if(Nl(r)!=="object"||r===null||Nl(e)!=="object"||e===null)return!1;if(t.has(r)||t.has(e))return!0;t.add(r),t.add(e);var s=Object.keys(r),i=Object.keys(e);if(s.length!==i.length)return!1;for(var o=0,c=s;o<c.length;o++){var h=c[o];if(!i.includes(h)||!Ng(r[h],e[h],t))return!1}return!0}var k5=["type","series","options","width","height","chartRef"];function gy(r){var e=r.type,t=e===void 0?"line":e,s=r.width,i=s===void 0?"100%":s,o=r.height,c=o===void 0?"auto":o,h=r.series,u=r.options,g=r.chartRef,x=(function(T,C){if(T==null)return{};var E,L,_=(function(H,z){if(H==null)return{};var B={};for(var P in H)if({}.hasOwnProperty.call(H,P)){if(z.includes(P))continue;B[P]=H[P]}return B})(T,C);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(T);for(L=0;L<D.length;L++)E=D[L],C.includes(E)||{}.propertyIsEnumerable.call(T,E)&&(_[E]=T[E])}return _})(r,S5),m=M.useRef(null),p=M.useRef(null),b=M.useRef(null),w=g||b,y=function(){return uy(u,{chart:{type:t,height:c,width:i},series:h})};M.useEffect((function(){return w.current=new b5(m.current,y()),w.current.render(),p.current=u,function(){w.current&&typeof w.current.destroy=="function"&&w.current.destroy()}}),[]),M.useEffect((function(){if(w.current&&w.current.w){var T=!Ng(w.current.w.config.series,h),C=!Ng(p.current,u)||c!==w.current.opts.chart.height||i!==w.current.opts.chart.width;(T||C)&&(T?C?w.current.updateOptions(y()):w.current.updateSeries(h):w.current.updateOptions(y())),p.current=u}}),[u,h,c,i]);var k,A,S=(k=k5,A=hy({},x),k.forEach((function(T){delete A[T]})),A);return Ue.createElement("div",jg({ref:m},S))}gy.propTypes={type:Ks.string.isRequired,series:Ks.array.isRequired,options:Ks.object.isRequired,width:Ks.oneOfType([Ks.string,Ks.number]),height:Ks.oneOfType([Ks.string,Ks.number]),chartRef:Ks.shape({current:Ks.any})};const fy=({data:r=[],categories:e=[],loading:t=!1})=>{const s=r,i={legend:{show:!0,position:"top",horizontalAlign:"left",fontSize:"14px",fontFamily:"inherit",markers:{width:12,height:12,radius:3},itemMargin:{horizontal:12,vertical:8}},colors:["#3B82F6","#8B5CF6","#10B981"],chart:{fontFamily:"inherit",type:"area",height:310,toolbar:{show:!1},zoom:{enabled:!1}},fill:{type:"gradient",gradient:{enabled:!0,opacityFrom:.55,opacityTo:0,stops:[0,90,100]}},stroke:{curve:"smooth",width:[2.5,2.5,2.5]},markers:{size:0,strokeWidth:0,hover:{size:5}},grid:{borderColor:"#e2e8f0",strokeDashArray:4,xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},padding:{top:0,right:10,bottom:0,left:10}},dataLabels:{enabled:!1},tooltip:{enabled:!0,shared:!0,intersect:!1,theme:"light",x:{format:"dd/MM/yyyy"},y:{formatter:function(o){return o.toFixed(0)}}},xaxis:{type:"category",categories:e,labels:{style:{colors:"#64748b",fontSize:"12px"},rotate:-45,rotateAlways:!1},axisBorder:{show:!1},axisTicks:{show:!1},tooltip:{enabled:!1}},yaxis:{labels:{style:{colors:"#64748b",fontSize:"12px"},formatter:function(o){return o.toFixed(0)}},title:{style:{fontSize:"0px"}}},responsive:[{breakpoint:768,options:{legend:{position:"bottom"},xaxis:{labels:{rotate:-45}}}}]};return t?a.jsx("div",{className:"flex items-center justify-center h-[310px]",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):!r||r.length===0?a.jsx("div",{className:"flex items-center justify-center h-[310px] text-slate-500",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{children:"Khng c d liu  hin th"}),a.jsx("p",{className:"text-sm mt-2",children:"Vui lng th li sau"})]})}):a.jsx("div",{className:"max-w-full overflow-x-auto",children:a.jsx("div",{className:"min-w-[600px]",children:a.jsx(gy,{type:"area",height:450,options:i,series:s})})})};function C5(){const[r,e]=M.useState(!0),[t,s]=M.useState(null);ga(()=>{i()},[]);const i=async()=>{try{e(!0);const w=await Nt.getDashboardOverview();w.success&&s(w.data)}catch(w){console.error("Error loading dashboard:",w),$.error("Khng th ti d liu dashboard")}finally{e(!1)}};if(r)return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-slate-600",children:"ang ti d liu..."})]})});const o=t?.summary||{},c=t?.popularExams||[],h=t?.charts?.dailyStats||[],u=o.totalExams||0,g=o.freeExams||0,x=o.paidExams||u-g,m=h.map(w=>new Date(w.date).toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit"})),p=[{name:"Ngi dng mi",data:h.map(w=>w.newUsers||0)},{name:" thi mi",data:h.map(w=>w.newExams||0)},{name:"Lt thi",data:h.map(w=>w.examSessions||0)}],b=[{label:"Tng ngi dng",value:o.totalUsers||0,icon:Bt,color:"bg-blue-500",detail:`${o.totalStudents||0} Hc sinh, ${o.totalTeachers||0} Gio vin`},{label:"Doanh thu",value:Rt(o.totalRevenue||0),icon:Ji,color:"bg-yellow-500",detail:`${o.totalPurchases||0} Giao dch`},{label:"Tng  thi",value:u,icon:vc,color:"bg-indigo-500",detail:`${g} Min ph, ${x} Tr ph`},{label:"Phin hot ng",value:o.activeSessions||0,icon:Eb,color:"bg-pink-500",detail:"ang online"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard Qun tr"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Tng quan h thng PTIT Quiz"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:b.map((w,y)=>{const k=w.icon;return a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:w.label}),a.jsx("p",{className:"text-2xl font-bold text-slate-800 mt-2",children:w.value}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:w.detail})]}),a.jsx("div",{className:`${w.color} rounded-lg p-3 text-white flex items-center justify-center`,children:a.jsx(k,{className:"h-6 w-6"})})]})},y)})}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Thng k 30 ngy gn nht"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Biu  theo di ngi dng mi,  thi mi v lt thi theo ngy"})]}),a.jsx(fy,{data:p,categories:m,loading:r})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h2",{className:"text-lg font-bold text-slate-800",children:" thi ph bin"})}),c.length===0?a.jsx("p",{className:"text-center text-slate-500 py-8",children:"Cha c d liu  thi"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-200",children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tn  thi"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"Ph"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"Lt mua"})]})}),a.jsx("tbody",{children:c.map(w=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"font-medium text-slate-800",children:w.title})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:w.creator?.fullName}),a.jsx("p",{className:"text-xs text-slate-500",children:w.creator?.email})]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("span",{className:"text-sm font-medium text-green-600",children:Rt(w.fee)})}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("span",{className:"text-sm font-semibold text-slate-800",children:w.purchase_count})})]},w.id))})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Ct,{to:"/dashboard/admin/users",className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[a.jsx(Bt,{className:"h-8 w-8 text-red-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-slate-800",children:"Qun l ngi dng"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Thm, sa, xa ngi dng"})]}),a.jsxs(Ct,{to:"/dashboard/admin/withdrawals",className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[a.jsx(Ji,{className:"h-8 w-8 text-red-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-slate-800",children:"Qun l rt tin"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"X l yu cu rt tin"})]}),a.jsxs(Ct,{to:"/dashboard/admin/reports",className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[a.jsx(zg,{className:"h-8 w-8 text-red-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-slate-800",children:"Bo co thng k"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Xem bo co h thng"})]}),a.jsxs(Ct,{className:"bg-white rounded-lg border border-slate-200 p-4 hover:border-red-300 hover:shadow-md transition",children:[a.jsx(vc,{className:"h-8 w-8 text-red-600 mb-3"}),a.jsx("h3",{className:"font-semibold text-slate-800",children:"Phn tch s liu"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Phn tch d liu chi tit"})]})]})]})}function A5(){const[r,e]=M.useState([]),[t,s]=M.useState(!1),[i,o]=M.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=M.useState(""),[u,g]=M.useState(""),[x,m]=M.useState("created_at"),[p,b]=M.useState("DESC"),[w,y]=M.useState(!1),[k,A]=M.useState(!1),[S,T]=M.useState(!1),[C,E]=M.useState(!1),[L,_]=M.useState(null),[D,H]=M.useState(null),[z,B]=M.useState({fullName:"",email:"",password:"",role:"student",balance:0}),[P,W]=M.useState({amount:0,reason:""});M.useEffect(()=>{V()},[i.page,u,x,p]);const V=async()=>{try{s(!0);const ae={page:i.page,limit:i.limit,...u&&{role:u},...c&&{search:c},sortBy:x,order:p},te=await Nt.getAllUsers(ae);te.success&&(e(te.data.users),o(te.data.pagination))}catch(ae){console.error("Error loading users:",ae),ae.message.includes("Not Found")||ae.status===404?(e([{id:1,fullName:"Nguyn Minh Tun",email:"tuannm@ptit.edu.vn",role:"student",status:"active",balance:525e4,created_at:"2024-01-15T10:30:00Z"},{id:2,fullName:"Trn Th Hng",email:"huongtt@ptit.edu.vn",role:"teacher",status:"active",balance:875e4,created_at:"2024-01-20T14:20:00Z"},{id:3,fullName:"L Quang Huy",email:"huylq@ptit.edu.vn",role:"student",status:"active",balance:21e5,created_at:"2024-02-01T09:15:00Z"},{id:4,fullName:"Phm Thu Trang",email:"trangpt@ptit.edu.vn",role:"teacher",status:"active",balance:68e5,created_at:"2024-02-10T11:45:00Z"},{id:5,fullName:"Hong c Nam",email:"namhd@ptit.edu.vn",role:"student",status:"inactive",balance:5e5,created_at:"2024-03-05T16:30:00Z"},{id:6,fullName:"V Th Mai Anh",email:"anhvtm@ptit.edu.vn",role:"teacher",status:"active",balance:1e7,created_at:"2024-01-01T08:00:00Z"},{id:7,fullName:"ng Vn Khoa",email:"khoadv@ptit.edu.vn",role:"student",status:"active",balance:345e4,created_at:"2024-03-15T13:20:00Z"},{id:8,fullName:"Bi Th Lan Anh",email:"anhbtl@ptit.edu.vn",role:"teacher",status:"active",balance:72e5,created_at:"2024-03-20T10:00:00Z"},{id:9,fullName:"Ng Tun Anh",email:"anhnt@ptit.edu.vn",role:"student",status:"banned",balance:0,created_at:"2024-04-01T15:30:00Z"},{id:10,fullName:"V Th Ngc Linh",email:"linhvtn@ptit.edu.vn",role:"student",status:"active",balance:46e5,created_at:"2024-04-10T12:15:00Z"}]),o({page:1,limit:10,total:10,totalPages:1}),$.info("ang s dng d liu mu. Backend cn kim tra endpoint.",{autoClose:5e3})):$.error("Khng th ti danh sch ngi dng")}finally{s(!1)}},Q=ae=>{ae.preventDefault(),o({...i,page:1}),V()},Y=async ae=>{ae.preventDefault();try{(await Nt.createUser(z)).success&&($.success("To ngi dng thnh cng"),y(!1),ne(),V())}catch(te){console.error("Error creating user:",te),$.error(te.body?.message||"Khng th to ngi dng")}},F=async ae=>{ae.preventDefault();try{const{password:te,...ve}=z;(await Nt.updateUser(L.id,ve)).success&&($.success("Cp nht ngi dng thnh cng"),A(!1),ne(),V())}catch(te){console.error("Error updating user:",te),$.error(te.body?.message||"Khng th cp nht ngi dng")}},U=async ae=>{if(window.confirm(`Bn c chc chn mun xa ngi dng "${ae.fullName}"?`))try{(await Nt.deleteUser(ae.id)).success&&($.success("Xa ngi dng thnh cng"),V())}catch(te){console.error("Error deleting user:",te),$.error(te.body?.message||"Khng th xa ngi dng")}},q=async ae=>{ae.preventDefault();try{(await Nt.adjustUserBalance(L.id,P)).success&&($.success("iu chnh s d thnh cng"),T(!1),W({amount:0,reason:""}),V())}catch(te){console.error("Error adjusting balance:",te),$.error(te.body?.message||"Khng th iu chnh s d")}},G=async ae=>{try{const te=await Nt.getUserById(ae.id);te.success&&(H(te.data),E(!0))}catch(te){console.error("Error loading user detail:",te),$.error("Khng th ti thng tin chi tit")}},O=ae=>{_(ae),B({fullName:ae.fullName,email:ae.email,role:ae.role,balance:parseFloat(ae.balance)||0}),A(!0)},I=ae=>{_(ae),W({amount:0,reason:""}),T(!0)},ne=()=>{B({fullName:"",email:"",password:"",role:"student",balance:0}),_(null)},K=ae=>{switch(ae){case"admin":return"bg-red-100 text-red-700";case"teacher":return"bg-blue-100 text-blue-700";case"student":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},ue=ae=>{switch(ae){case"admin":return"Qun tr vin";case"teacher":return"Gio vin";case"student":return"Hc sinh";default:return ae}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l ngi dng"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Qun l tt c ngi dng trong h thng"})]}),a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition",children:[a.jsx(pi,{className:"h-5 w-5"}),a.jsx("span",{children:"Thm ngi dng"})]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:a.jsxs("form",{onSubmit:Q,className:"flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:c,onChange:ae=>h(ae.target.value),placeholder:"Tm kim theo tn hoc email...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})}),a.jsxs("select",{value:u,onChange:ae=>{g(ae.target.value),o({...i,page:1})},className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"",children:"Tt c vai tr"}),a.jsx("option",{value:"student",children:"Hc sinh"}),a.jsx("option",{value:"teacher",children:"Gio vin"}),a.jsx("option",{value:"admin",children:"Qun tr vin"})]}),a.jsxs("select",{value:x,onChange:ae=>m(ae.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"created_at",children:"Ngy to"}),a.jsx("option",{value:"last_login",children:"ng nhp gn nht"}),a.jsx("option",{value:"balance",children:"S d"})]}),a.jsxs("select",{value:p,onChange:ae=>b(ae.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"DESC",children:"Gim dn"}),a.jsx("option",{value:"ASC",children:"Tng dn"})]}),a.jsx("button",{type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition",children:"Tm kim"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-slate-500",children:"Khng tm thy ngi dng no"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"H v tn"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Vai tr"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"S d"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),a.jsx("tbody",{children:r.map(ae=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",ae.id]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"font-medium text-slate-800",children:ae.fullName})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:ae.email}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${K(ae.role)}`,children:ue(ae.role)})}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("span",{className:"font-medium text-green-600",children:Rt(ae.balance)})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:jt(ae.created_at)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>G(ae),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Xem chi tit",children:a.jsx(Us,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>I(ae),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition",title:"iu chnh s d",children:a.jsx(Ji,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>O(ae),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",title:"Chnh sa",children:a.jsx(fi,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>U(ae),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:a.jsx(bs,{className:"h-4 w-4"})})]})})]},ae.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," ngi dng"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),a.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),w&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Thm ngi dng mi"}),a.jsx("button",{onClick:()=>{y(!1),ne()},className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["H v tn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:z.fullName,onChange:ae=>B({...z,fullName:ae.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",required:!0,value:z.email,onChange:ae=>B({...z,email:ae.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Mt khu ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"password",required:!0,value:z.password,onChange:ae=>B({...z,password:ae.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Vai tr ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:z.role,onChange:ae=>B({...z,role:ae.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"student",children:"Hc sinh"}),a.jsx("option",{value:"teacher",children:"Gio vin"}),a.jsx("option",{value:"admin",children:"Qun tr vin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"S d ban u"}),a.jsx("input",{type:"number",value:z.balance,onChange:ae=>B({...z,balance:parseFloat(ae.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{y(!1),ne()},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"To ngi dng"})]})]})]})}),k&&L&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chnh sa ngi dng"}),a.jsx("button",{onClick:()=>{A(!1),ne()},className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["H v tn ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:z.fullName,onChange:ae=>B({...z,fullName:ae.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",required:!0,value:z.email,onChange:ae=>B({...z,email:ae.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Vai tr ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:z.role,onChange:ae=>B({...z,role:ae.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"student",children:"Hc sinh"}),a.jsx("option",{value:"teacher",children:"Gio vin"}),a.jsx("option",{value:"admin",children:"Qun tr vin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"S d"}),a.jsx("input",{type:"number",value:z.balance,onChange:ae=>B({...z,balance:parseFloat(ae.target.value)||0}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{A(!1),ne()},className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Cp nht"})]})]})]})}),S&&L&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"iu chnh s d"}),a.jsx("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Ngi dng:"}),a.jsx("p",{className:"font-semibold text-slate-800",children:L.fullName}),a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"S d hin ti:"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:Rt(L.balance)})]}),a.jsxs("form",{onSubmit:q,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["S tin iu chnh ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",required:!0,value:P.amount,onChange:ae=>W({...P,amount:parseFloat(ae.target.value)||0}),placeholder:"Nhp s dng  cng, s m  tr",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"V d: 100  cng thm, -50  tr i"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["L do ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{required:!0,value:P.reason,onChange:ae=>W({...P,reason:ae.target.value}),rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Nhp l do iu chnh s d..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>T(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Xc nhn"})]})]})]})}),C&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chi tit ngi dng"}),a.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"ID"}),a.jsxs("p",{className:"font-semibold",children:["#",D.user.id]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Vai tr"}),a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${K(D.user.role)}`,children:ue(D.user.role)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"H v tn"}),a.jsx("p",{className:"font-semibold",children:D.user.fullName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Email"}),a.jsx("p",{className:"font-semibold",children:D.user.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"S d"}),a.jsx("p",{className:"font-semibold text-green-600",children:Rt(D.user.balance)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Ngy to"}),a.jsx("p",{className:"font-semibold",children:jt(D.user.created_at)})]})]}),D.statistics&&a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-4",children:"Thng k"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-600",children:"S ln mua"}),a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:D.statistics.purchaseCount})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600",children:"Tng chi tiu"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:Rt(D.statistics.totalSpent)})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-purple-600",children:"S bi  lm"}),a.jsx("p",{className:"text-2xl font-bold text-purple-700",children:D.statistics.examsTaken})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-yellow-600",children:"im trung bnh"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:D.statistics.avgScore})]})]})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:()=>E(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})})]})}function T5(){const[r,e]=M.useState([]),[t,s]=M.useState(!1),[i,o]=M.useState(""),[c,h]=M.useState({page:1,limit:10,total:0,totalPages:0}),[u,g]=M.useState(""),[x,m]=M.useState(!1),[p,b]=M.useState(null),[w,y]=M.useState([]);M.useEffect(()=>{try{const C=localStorage.getItem("currentUser");if(C){const E=JSON.parse(C);o(E.role||"")}}catch(C){console.error("Error reading user from localStorage:",C)}},[]),M.useEffect(()=>{k()},[c.page]);const k=async()=>{try{s(!0);const C={page:c.page,limit:c.limit,...u&&{search:u}},E=await Nt.getAllClasses(C);E.success&&(e(E.data.classes),h(E.data.pagination))}catch(C){console.error("Error loading classes:",C),$.error("Khng th ti danh sch lp hc")}finally{s(!1)}},A=C=>{C.preventDefault(),h({...c,page:1}),k()},S=async C=>{try{const E=await Nt.getClassById(C.id);E.success&&(b(E.data),y(E.data.students||[]),m(!0))}catch(E){console.error("Error loading class detail:",E),$.error("Khng th ti thng tin chi tit")}},T=async C=>{if(window.confirm(`Bn c chc chn mun xa lp "${C.className}"?`))try{(await Nt.deleteClass(C.id)).success&&($.success("Xa lp hc thnh cng"),k())}catch(E){console.error("Error deleting class:",E),$.error(E.body?.message||"Khng th xa lp hc")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l lp hc"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Xem v qun l tt c lp hc trong h thng"})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:a.jsxs("form",{onSubmit:A,className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:u,onChange:C=>g(C.target.value),placeholder:"Tm kim theo tn lp...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsx("button",{type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition",children:"Tm kim"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-slate-500",children:"Khng tm thy lp hc no"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tn lp"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"M lp"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"S hc sinh"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),a.jsx("tbody",{children:r.map(C=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",C.id]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"font-medium text-slate-800",children:C.className})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("code",{className:"text-sm bg-slate-100 px-2 py-1 rounded",children:C.classCode})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:C.teacher?.fullName}),a.jsx("p",{className:"text-xs text-slate-500",children:C.teacher?.email})]}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsxs("span",{className:"inline-flex items-center gap-1 text-sm font-semibold text-slate-800",children:[a.jsx(Bt,{className:"h-4 w-4"}),C.studentCount||0]})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:jt(C.created_at)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>S(C),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Xem chi tit",children:a.jsx(Us,{className:"h-4 w-4"})}),i==="superadmin"&&a.jsx("button",{onClick:()=>T(C),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:a.jsx(bs,{className:"h-4 w-4"})})]})})]},C.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(c.page-1)*c.limit+1," -"," ",Math.min(c.page*c.limit,c.total)," ","trong tng s ",c.total," lp hc"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>h({...c,page:c.page-1}),disabled:c.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),a.jsx("button",{onClick:()=>h({...c,page:c.page+1}),disabled:c.page>=c.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),x&&p&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chi tit lp hc"}),a.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Tn lp"}),a.jsx("p",{className:"font-semibold",children:p.className})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"M lp"}),a.jsx("code",{className:"text-sm bg-slate-100 px-2 py-1 rounded",children:p.classCode})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Gio vin"}),a.jsx("p",{className:"font-semibold",children:p.teacher?.fullName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Ngy to"}),a.jsx("p",{className:"font-semibold",children:jt(p.created_at)})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsxs("h3",{className:"font-semibold text-slate-800 mb-4",children:["Danh sch hc sinh (",w.length,")"]}),w.length===0?a.jsx("p",{className:"text-center text-slate-500 py-4",children:"Cha c hc sinh no"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-600",children:"H v tn"}),a.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-600",children:"Email"}),a.jsx("th",{className:"text-left py-2 px-3 text-sm font-semibold text-slate-600",children:"Ngy tham gia"})]})}),a.jsx("tbody",{children:w.map(C=>a.jsxs("tr",{className:"border-b border-slate-100",children:[a.jsx("td",{className:"py-2 px-3 text-sm",children:C.fullName}),a.jsx("td",{className:"py-2 px-3 text-sm text-slate-600",children:C.email}),a.jsx("td",{className:"py-2 px-3 text-sm text-slate-600",children:jt(C.Class_student?.joined_at)})]},C.id))})]})})]})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:()=>m(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})})]})}function _5(){const[r,e]=M.useState([]),[t,s]=M.useState(!1),[i,o]=M.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=M.useState(null),[u,g]=M.useState(""),[x,m]=M.useState(""),[p,b]=M.useState("created_at"),[w,y]=M.useState("DESC"),[k,A]=M.useState(""),[S,T]=M.useState(""),[C,E]=M.useState(!1),[L,_]=M.useState(!1),[D,H]=M.useState(null),[z,B]=M.useState(null),[P,W]=M.useState({status:"",note:""});M.useEffect(()=>{V()},[i.page,x,p,w,k,S]);const V=async()=>{try{s(!0);const O={page:i.page,limit:i.limit,...x&&{status:x},...u&&{search:u},sortBy:p,order:w,...k&&{fromDate:k},...S&&{toDate:S}},I=await Nt.getWithdrawals(O);I.success?(e(I.data.withdrawals||[]),o(I.data.pagination||i),h(I.data.summary||null)):$.error(I.message||"Khng th ti danh sch rt tin")}catch(O){console.error("Error loading withdrawals:",O);const I=O.body?.message||O.message||"Khng th ti danh sch rt tin";$.error(I),e([]),h(null)}finally{s(!1)}},Q=O=>{O.preventDefault(),o({...i,page:1}),V()},Y=O=>{H(O),W({status:O.status==="pending"?"approved":O.status,note:""}),E(!0)},F=async O=>{if(O.preventDefault(),P.status==="rejected"&&!P.note.trim()){$.error("Vui lng nhp l do t chi");return}try{let I;P.status==="approved"?I=await Nt.approveWithdrawal(D.id,{admin_note:P.note}):P.status==="rejected"&&(I=await Nt.rejectWithdrawal(D.id,{reject_reason:P.note})),I.success&&($.success(P.status==="approved"?" duyt yu cu rt tin thnh cng":" t chi yu cu rt tin"),E(!1),W({status:"",note:""}),V())}catch(I){console.error("Error updating withdrawal:",I),$.error(I.body?.message||"Khng th cp nht yu cu rt tin")}},U=async O=>{try{const I=await Nt.getWithdrawalById(O.id);I.success&&(B(I.data),_(!0))}catch(I){console.error("Error loading withdrawal detail:",I),$.error("Khng th ti thng tin chi tit")}},q=()=>{g(""),m(""),A(""),T(""),b("created_at"),y("DESC"),o({...i,page:1})},G=O=>{const I={pending:{label:"Ch x l",badge:"bg-yellow-50 text-yellow-600",dot:"bg-yellow-500"},approved:{label:" chuyn tin",badge:"bg-green-50 text-green-600",dot:"bg-green-500"},rejected:{label:"T chi",badge:"bg-red-50 text-red-600",dot:"bg-red-500"}};return I[O]||I.pending};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l rt tin"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Xem v x l cc yu cu rt tin t gio vin"})]}),c&&a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Ch x l"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-2",children:c.totalPending||0}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:Rt(c.totalAmountPending||0)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:" chuyn tin"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:c.totalApproved||0}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:Rt(c.totalAmountApproved||0)})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"T chi"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 mt-2",children:c.totalRejected||0})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(fl,{className:"h-5 w-5 text-slate-600"}),a.jsx("h3",{className:"font-semibold text-slate-800",children:"B lc"})]}),a.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tm kim"}),a.jsxs("div",{className:"relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:u,onChange:O=>g(O.target.value),placeholder:"Nhp email gio vin...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Trng thi"}),a.jsxs("select",{value:x,onChange:O=>{m(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"",children:"Tt c"}),a.jsx("option",{value:"pending",children:"Ch x l"}),a.jsx("option",{value:"approved",children:" chuyn tin"}),a.jsx("option",{value:"rejected",children:"T chi"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",value:k,max:S||void 0,onChange:O=>{A(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",value:S,min:k||void 0,onChange:O=>{T(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Sp xp theo"}),a.jsxs("select",{value:p,onChange:O=>{b(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"created_at",children:"Ngy to"}),a.jsx("option",{value:"amount",children:"S tin"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Th t"}),a.jsxs("select",{value:w,onChange:O=>{y(O.target.value),o({...i,page:1})},className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"DESC",children:"Tng dn"}),a.jsx("option",{value:"ASC",children:"Gim dn"})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[a.jsx(ha,{className:"h-4 w-4"}),"Tm kim"]}),a.jsx("button",{type:"button",onClick:q,className:"px-6 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"t li"})]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-slate-500",children:"Khng c yu cu rt tin no"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Gio vin"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"S tin"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Thng tin ngn hng"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Trng thi"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy yu cu"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Hnh ng"})]})}),a.jsx("tbody",{children:r.map(O=>{const I=G(O.status);return a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-3 px-4 font-medium text-slate-800",children:["#",O.id]}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-slate-800",children:O.user?.fullName}),a.jsx("p",{className:"text-xs text-slate-500",children:O.user?.email})]}),a.jsx("td",{className:"py-3 px-4 text-right",children:a.jsx("p",{className:"font-bold text-green-600",children:Rt(O.amount)})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsxs("p",{className:"text-sm font-medium text-slate-800",children:[O.bankName," - ",O.bankAccountNumber]}),a.jsx("p",{className:"text-xs text-slate-500",children:O.bankAccountName})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${I.badge}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${I.dot}`}),I.label]})})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:jt(O.created_at)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>Y(O),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition",title:"Chnh sa",children:a.jsx(Rb,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>U(O),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition",title:"Xem chi tit",children:a.jsx(Us,{className:"h-4 w-4"})})]})})]},O.id)})})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," yu cu"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Trc"}),a.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Sau"})]})]})]})}),C&&D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chnh sa yu cu rt tin"}),a.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"H tn:"}),a.jsx("p",{className:"font-semibold text-slate-800",children:D.user?.fullName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Gmail:"}),a.jsx("p",{className:"font-medium text-slate-800",children:D.user?.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"S ti khon ngn hng:"}),a.jsxs("p",{className:"font-medium text-slate-800",children:[D.bankName," - ",D.bankAccountNumber]}),a.jsx("p",{className:"text-sm text-slate-500",children:D.bankAccountName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"S tin rt:"}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:Rt(D.amount)})]})]}),a.jsxs("form",{onSubmit:F,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Trng thi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{required:!0,value:P.status,onChange:O=>W({...P,status:O.target.value,note:""}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"approved",children:"Duyt"}),a.jsx("option",{value:"rejected",children:"T chi"})]})]}),P.status==="approved"&&a.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-green-800 mb-2",children:'Ch xc nhn "Duyt" khi  CHUYN TIN THNH CNG'})}),P.status&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[P.status==="approved"?"Ghi ch (ty chn)":"L do t chi",P.status==="rejected"&&a.jsx("span",{className:"text-red-500",children:" *"})]}),a.jsx("textarea",{required:P.status==="rejected",value:P.note,onChange:O=>W({...P,note:O.target.value}),rows:"3",className:`w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 ${P.status==="approved"?"focus:ring-green-500":"focus:ring-red-500"}`,placeholder:P.status==="approved"?"VD:  chuyn lc 10:30 ngy 25/12/2025...":"VD: Thng tin ngn hng khng chnh xc..."})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),a.jsx("button",{type:"submit",disabled:!P.status,className:`flex-1 px-4 py-2 rounded-lg transition font-medium text-white ${P.status?P.status==="approved"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700":"bg-slate-400 cursor-not-allowed"}`,children:"Xc nhn"})]})]})]})}),L&&z&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Chi tit yu cu rt tin"}),a.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"ID yu cu"}),a.jsxs("p",{className:"font-semibold text-slate-800",children:["#",z.id]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Trng thi"}),a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${G(z.status).badge}`,children:[a.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${G(z.status).dot}`}),G(z.status).label]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Thng tin gio vin"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"H tn"}),a.jsx("p",{className:"font-medium text-slate-800",children:z.user?.fullName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Email"}),a.jsx("p",{className:"font-medium text-slate-800",children:z.user?.email})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Thng tin rt tin"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"S tin"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:Rt(z.amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Ngn hng"}),a.jsx("p",{className:"font-medium text-slate-800",children:z.bankName})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"S ti khon"}),a.jsx("p",{className:"font-medium text-slate-800",children:z.bankAccountNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Tn ch ti khon"}),a.jsx("p",{className:"font-medium text-slate-800",children:z.bankAccountName})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-3",children:"Thng tin x l"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Ngy yu cu"}),a.jsx("p",{className:"font-medium text-slate-800",children:jt(z.created_at)})]}),z.processed_at&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Cp nht gn nht"}),a.jsx("p",{className:"font-medium text-slate-800",children:jt(z.processed_at)})]}),z.processedBy&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Ngi x l"}),a.jsxs("p",{className:"font-medium text-slate-800",children:[z.processedBy.fullName," (",z.processedBy.email,")"]})]})]}),z.admin_note&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Ghi ch admin"}),a.jsx("p",{className:"font-medium text-slate-800",children:z.admin_note})]}),z.reject_reason&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"L do t chi"}),a.jsx("p",{className:"font-medium text-red-600",children:z.reject_reason})]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:a.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition",children:"ng"})})]})})]})}const E5=({data:r=[],categories:e=[],color:t="#465fff",title:s="Bar Chart",height:i=240,showTrend:o=!1,trendColor:c="#ef4444"})=>{const u=i-40,g="min(36px, 90%)",x="4px",m=r.map(C=>Number(C)||0),p=Math.max(...m,0),w=(C=>{if(C===0)return 0;const E=Math.pow(10,Math.floor(Math.log10(C)));return Math.ceil(C/E)*E})(p),y=()=>{const C=[];for(let E=0;E<5;E++)C.push(w-w/4*E);return C},k=C=>{if(C>=1e6){const E=C/1e6;return E%1===0?`${E}M`:`${E.toFixed(1)}M`}if(C>=1e3){const E=C/1e3;return E%1===0?`${E}K`:`${E.toFixed(1)}K`}return Math.round(C).toString()},A=y(),T=(()=>{if(!o||m.length<2)return[];const C=[],E=100/m.length;return m.forEach((L,_)=>{const D=w>0?L/w*100:0,H=(_+.5)*E,z=100-D;C.push({x:H,y:z,value:L})}),C})();return a.jsxs("div",{className:"w-full bg-white rounded-lg p-4",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-6",children:s}),a.jsxs("div",{className:"relative",style:{height:`${i}px`},children:[a.jsx("div",{className:"absolute left-0 top-0 w-12",style:{height:`${u}px`},children:A.map((C,E)=>a.jsx("div",{className:"absolute right-2 text-xs text-slate-500",style:{top:`${E/4*100}%`,transform:"translateY(-50%)"},children:k(C)},E))}),a.jsx("div",{className:"absolute left-12 right-0 top-0",style:{height:`${u}px`},children:A.map((C,E)=>a.jsx("div",{className:"absolute left-0 right-0 h-px bg-slate-200",style:{top:`${E/4*100}%`}},E))}),a.jsx("div",{className:"absolute left-12 right-0 top-0 flex items-end gap-2",style:{height:`${u}px`},children:m.map((C,E)=>{const L=w>0?C/w*100:0;return a.jsx("div",{className:"flex-1 relative group flex justify-center",style:{height:"100%"},children:a.jsx("div",{className:"absolute bottom-0 rounded-t transition-all hover:opacity-80 cursor-pointer",style:{height:`${L}%`,backgroundColor:t,minHeight:C>0?x:"0",width:g},children:a.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-2 py-1 rounded text-xs font-semibold opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-10",children:C.toLocaleString()})})},E)})}),o&&T.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"absolute left-12 right-0 top-0 pointer-events-none",style:{height:`${u}px`,width:"calc(100% - 48px)"},preserveAspectRatio:"none",viewBox:"0 0 100 100",children:T.map((C,E)=>{if(E===T.length-1)return null;const L=T[E+1];return a.jsx("line",{x1:C.x,y1:C.y,x2:L.x,y2:L.y,stroke:c,strokeWidth:"0.8",strokeLinecap:"round"},`line-${E}`)})}),a.jsx("div",{className:"absolute left-12 right-0 top-0 pointer-events-none",style:{height:`${u}px`},children:T.map((C,E)=>a.jsx("div",{className:"absolute rounded-full",style:{left:`${C.x}%`,top:`${C.y}%`,width:"6px",height:"6px",backgroundColor:c,border:"1.5px solid white",transform:"translate(-50%, -50%)",boxShadow:"0 0 0 1px rgba(0,0,0,0.1)"}},`dot-${E}`))})]}),a.jsx("div",{className:"absolute left-12 right-0 flex gap-2",style:{top:`${u+8}px`},children:e.map((C,E)=>a.jsx("div",{className:"flex-1 text-center",children:a.jsx("span",{className:"text-xs text-slate-600",children:C})},E))})]})]})},M5=[{value:"today",label:"Hm nay"},{value:"7days",label:"7 ngy qua"},{value:"30days",label:"30 ngy qua"}],L5={green:"text-green-600",red:"text-red-600",purple:"text-purple-600",blue:"text-blue-600"},z5=r=>L5[r]||"text-slate-600",Tc={DEPOSIT:"deposit",WITHDRAW:"withdraw"},D5={[Tc.DEPOSIT]:{label:"Np Tin",badge:"bg-green-50 text-green-600"},[Tc.WITHDRAW]:{label:"Rt Tin",badge:"bg-red-50 text-red-600"}};function R5(){const[r,e]=M.useState("revenue"),[t,s]=M.useState(!1),[i,o]=M.useState("30days"),[c,h]=M.useState(2025),[u,g]=M.useState(!1),[x,m]=M.useState(""),[p,b]=M.useState(null),[w,y]=M.useState(null),[k,A]=M.useState(!1),[S,T]=M.useState({searchAccount:"",typeFilter:"all",dateFrom:"",dateTo:"",page:1,limit:10}),C=M.useRef(null),E=M.useRef(null);M.useEffect(()=>{const z=B=>{C.current&&!C.current.contains(B.target)&&g(!1)};return u&&document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[u]),M.useEffect(()=>{u&&E.current&&E.current.scrollIntoView({block:"nearest",behavior:"smooth"}),u&&m("")},[u]);const L=async()=>{try{s(!0);const z={group_by:"month",year:c,period:i},B=await Nt.getRevenueReport(z);B.success?b(B.data):$.error(B.message||"Khng th ti bo co doanh thu")}catch(z){console.error("Error loading revenue report:",z),$.error(z.body?.message||"Khng th ti bo co doanh thu")}finally{s(!1)}},_=async()=>{try{A(!0);const z={page:S.page,limit:S.limit};S.searchAccount&&(z.search=S.searchAccount),S.typeFilter!=="all"&&(z.type=S.typeFilter),S.dateFrom&&(z.dateFrom=S.dateFrom),S.dateTo&&(z.dateTo=S.dateTo);const B=await Nt.getTransactionHistory(z);B.success?y(B.data):$.error(B.message||"Khng th ti lch s giao dch")}catch(z){console.error("Error loading transaction history:",z),$.error(z.body?.message||"Khng th ti lch s giao dch")}finally{A(!1)}},D=M.useRef(!0);M.useEffect(()=>{r==="revenue"?L():r==="transactions"&&_()},[r]),M.useEffect(()=>{if(D.current){D.current=!1;return}r==="revenue"&&L()},[i,c]),M.useEffect(()=>{if(r==="transactions"){const z=setTimeout(()=>{_()},S.searchAccount?500:0);return()=>clearTimeout(z)}},[S,r]);const H=[{id:"revenue",label:"Bo co doanh thu",icon:vc},{id:"transactions",label:"Lch s giao dch",icon:ms}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Bo co thng k"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Xem cc bo co v thng k chi tit"})]}),a.jsx("div",{className:"border-b border-slate-200",children:a.jsx("div",{className:"flex gap-4",children:H.map(z=>{const B=z.icon;return a.jsxs("button",{onClick:()=>e(z.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition ${r===z.id?"border-red-600 text-red-600":"border-transparent text-slate-600 hover:text-slate-800"}`,children:[a.jsx(B,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:z.label})]},z.id)})})}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):a.jsxs(a.Fragment,{children:[r==="revenue"&&p&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Khong thi gian:"}),a.jsx("div",{className:"flex gap-4",children:M5.map(z=>a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"period",value:z.value,checked:i===z.value,onChange:B=>o(B.target.value),className:"w-4 h-4 text-red-600 border-slate-300 focus:ring-red-500"}),a.jsx("span",{className:"text-sm text-slate-700",children:z.label})]},z.value))})]})}),(()=>{const z=p.summary[i];return a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-4",children:[{label:"Tng tin np",value:z.current.deposit,color:"green",percent:z.percentChange.deposit},{label:"Tng tin rt",value:z.current.withdrawal,color:"red",percent:z.percentChange.withdrawal},{label:"Tin mua ",value:z.current.purchase,color:"purple",percent:z.percentChange.purchase},{label:"Doanh thu",value:z.current.revenue,color:"blue",percent:z.percentChange.revenue}].map((B,P)=>a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:B.label}),a.jsx("p",{className:`text-2xl font-bold mt-2 ${z5(B.color)}`,children:Rt(B.value)}),a.jsxs("div",{className:`flex items-center gap-1 mt-2 text-sm font-medium ${B.percent>=0?"text-green-600":"text-red-600"}`,children:[B.percent>=0?a.jsx(Lb,{className:"h-4 w-4"}):a.jsx(Mb,{className:"h-4 w-4"}),a.jsxs("span",{children:[Math.abs(B.percent).toFixed(1),"%"]}),a.jsx("span",{className:"text-slate-500 font-normal ml-1",children:"so vi cng k"})]})]},P))})})(),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-base font-semibold text-slate-900",children:["Bin ng doanh thu theo thng (",c,")"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"text-sm text-slate-600",children:"Nm:"}),a.jsxs("div",{className:"relative",ref:C,children:[a.jsxs("button",{type:"button",onClick:()=>g(!u),className:"flex items-center justify-between gap-2 px-3 py-1.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent bg-white hover:bg-slate-50 transition-colors min-w-[80px]",children:[a.jsx("span",{children:c}),a.jsx(Dg,{className:`h-4 w-4 transition-transform ${u?"rotate-180":""}`})]}),u&&a.jsxs("div",{className:"absolute right-0 mt-1 bg-white border border-slate-300 rounded-lg shadow-lg overflow-hidden z-50 w-[200px]",children:[a.jsx("div",{className:"p-2 border-b border-slate-200",children:a.jsx("input",{type:"text",value:x,onChange:z=>m(z.target.value),placeholder:"Tm nm...",className:"w-full px-3 py-1.5 text-sm border border-slate-300 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",autoFocus:!0})}),a.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"140px"},children:Array.from({length:111},(z,B)=>1990+B).filter(z=>x===""||z.toString().includes(x)).map(z=>a.jsx("button",{type:"button",ref:z===c?E:null,onClick:()=>{h(z),g(!1),m("")},className:`w-full text-left px-3 py-2 text-sm hover:bg-red-50 transition-colors ${z===c?"bg-red-100 text-red-600 font-medium":"text-slate-700"}`,children:z},z))})]})]})]})]}),a.jsx(E5,{data:p.monthly.map(z=>z.revenue),categories:["T1","T2","T3","T4","T5","T6","T7","T8","T9","T10","T11","T12"],color:"#3b82f6",title:"",height:450,showTrend:!0,trendColor:"#ef4444"})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-6",children:"Bin ng 30 ngy gn nht"}),a.jsx(fy,{data:[{name:"Tin np",data:p.daily.map(z=>z.deposit)},{name:"Tin rt",data:p.daily.map(z=>z.withdrawal)},{name:"Tin mua ",data:p.daily.map(z=>z.purchase)}],categories:p.daily.map((z,B)=>`${B+1}/12`)})]})]}),r==="transactions"&&w&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"md:w-[40%]",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Ti khon giao dch"}),a.jsxs("div",{className:"relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:S.searchAccount,onChange:z=>T({...S,searchAccount:z.target.value}),placeholder:"Tm kim theo tn hoc email...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"md:w-[20%]",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Loi giao dch"}),a.jsxs("select",{value:S.typeFilter,onChange:z=>T({...S,typeFilter:z.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"Tt c"}),a.jsx("option",{value:Tc.DEPOSIT,children:"Np tin"}),a.jsx("option",{value:Tc.WITHDRAW,children:"Rt tin"})]})]}),a.jsxs("div",{className:"md:w-[20%]",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"T ngy"}),a.jsx("input",{type:"date",value:S.dateFrom,onChange:z=>{const B=z.target.value,P={dateFrom:B};S.dateTo&&B>S.dateTo&&(P.dateTo="",$.warning("Ngy bt u khng th ln hn ngy kt thc")),T({...S,...P})},max:S.dateTo||void 0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),a.jsxs("div",{className:"md:w-[20%]",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"n ngy"}),a.jsx("input",{type:"date",value:S.dateTo,onChange:z=>{const B=z.target.value;if(S.dateFrom&&B<S.dateFrom){$.error("Ngy kt thc khng th nh hn ngy bt u");return}T({...S,dateTo:B})},min:S.dateFrom||void 0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{T(z=>({...z,page:1}))},className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition font-medium",children:"Tm kim"}),a.jsx("button",{onClick:()=>T({searchAccount:"",typeFilter:"all",dateFrom:"",dateTo:"",page:1,limit:10}),className:"bg-slate-100 text-slate-700 px-6 py-2 rounded-lg hover:bg-slate-200 transition font-medium",children:"t li"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngi dng"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"S ti khon"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tn ti khon"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngn hng"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Loi GD"}),a.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-600",children:"S tin"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Thi gian"})]})}),a.jsx("tbody",{children:k?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center py-12",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})})})}):w.transactions.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"text-center py-12 text-slate-500",children:"Khng c giao dch no"})}):w.transactions.map(z=>{const B=D5[z.transactionType]||{label:z.transactionType,badge:"bg-slate-50 text-slate-600"};return a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-slate-900",children:z.user?.fullName}),a.jsx("p",{className:"text-xs text-slate-500",children:z.user?.email})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm text-slate-700 font-mono",children:z.user?.bankAccount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm text-slate-700",children:z.user?.bankAccountName})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm text-slate-700",children:z.user?.bankName})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full text-xs font-medium ${B.badge}`,children:B.label})}),a.jsxs("td",{className:`py-3 px-4 text-right font-semibold ${z.transferType==="in"?"text-green-600":"text-red-600"}`,children:[z.transferType==="in"?"+":"-",Rt(z.amount)]}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:new Date(z.created_at).toLocaleString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},z.id)})})]})}),w.pagination.totalPages>1&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-200",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Hin th ",(S.page-1)*S.limit+1," - ",Math.min(S.page*S.limit,w.pagination.total)," trong tng s ",w.pagination.total," giao dch"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>T({...S,page:S.page-1}),disabled:S.page===1,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(zc,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-slate-600",children:["Trang ",S.page," / ",w.pagination.totalPages]}),a.jsx("button",{onClick:()=>T({...S,page:S.page+1}),disabled:S.page===w.pagination.totalPages,className:"p-2 rounded-lg border border-slate-300 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:a.jsx(Dc,{className:"h-4 w-4"})})]})]})]})]})]})]})}function O5(){const[r,e]=M.useState([]),[t,s]=M.useState(!1),[i,o]=M.useState({page:1,limit:10,total:0,totalPages:0}),[c,h]=M.useState(!1),[u,g]=M.useState({title:"",message:"",target_type:"all",target_role:"",user_ids:"",priority:"medium",link:""});M.useEffect(()=>{x()},[i.page]);const x=async()=>{try{s(!0);const w={page:i.page,limit:i.limit},y=await Nt.getNotificationHistory(w);y.success&&(e(y.data.notifications),o(y.data.pagination))}catch(w){console.error("Error loading notifications:",w),$.error("Khng th ti lch s thng bo")}finally{s(!1)}},m=async w=>{w.preventDefault();try{const y={...u,...u.target_type==="specific_users"&&{user_ids:u.user_ids.split(",").map(A=>parseInt(A.trim()))}},k=await Nt.broadcastNotification(y);k.success&&($.success(` gi thng bo n ${k.data.notificationsSent} ngi dng`),h(!1),g({title:"",message:"",target_type:"all",target_role:"",user_ids:"",priority:"medium",link:""}),x())}catch(y){console.error("Error broadcasting notification:",y),$.error(y.body?.message||"Khng th gi thng bo")}},p=w=>{switch(w){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},b=w=>{switch(w){case"high":return"Cao";case"medium":return"Trung bnh";case"low":return"Thp";default:return w}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Qun l thng bo"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Gi thng bo h thng v xem lch s"})]}),a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition",children:[a.jsx(Tj,{className:"h-5 w-5"}),a.jsx("span",{children:"Gi thng bo"})]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-slate-500",children:"Cha c thng bo no"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngi nhn"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tiu "}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ni dung"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:" u tin"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:" c"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Thi gian"})]})}),a.jsx("tbody",{children:r.map(w=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",w.id]}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-slate-800",children:w.recipient?.fullName}),a.jsx("p",{className:"text-xs text-slate-500",children:w.recipient?.email})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"text-sm font-medium text-slate-800",children:w.title})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:w.message})}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded ${p(w.priority)}`,children:b(w.priority)})}),a.jsx("td",{className:"py-3 px-4 text-center",children:w.is_read?a.jsx("span",{className:"text-green-600",children:""}):a.jsx("span",{className:"text-slate-400",children:""})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:jt(w.created_at)})]},w.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(i.page-1)*i.limit+1," -"," ",Math.min(i.page*i.limit,i.total)," ","trong tng s ",i.total," thng bo"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>o({...i,page:i.page-1}),disabled:i.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),a.jsx("button",{onClick:()=>o({...i,page:i.page+1}),disabled:i.page>=i.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Gi thng bo h thng"}),a.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600",children:a.jsx(ps,{className:"h-6 w-6"})})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Tiu  ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:u.title,onChange:w=>g({...u,title:w.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Ni dung ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{required:!0,value:u.message,onChange:w=>g({...u,message:w.target.value}),rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Gi n ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:u.target_type,onChange:w=>g({...u,target_type:w.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"all",children:"Tt c ngi dng"}),a.jsx("option",{value:"role",children:"Theo vai tr"}),a.jsx("option",{value:"specific_users",children:"Ngi dng c th"})]})]}),u.target_type==="role"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Vai tr ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:u.target_role,onChange:w=>g({...u,target_role:w.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"",children:"Chn vai tr"}),a.jsx("option",{value:"student",children:"Hc sinh"}),a.jsx("option",{value:"teacher",children:"Gio vin"}),a.jsx("option",{value:"admin",children:"Qun tr vin"})]})]}),u.target_type==="specific_users"&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["User IDs (phn cch bng du phy)"," ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:u.user_ids,onChange:w=>g({...u,user_ids:w.target.value}),placeholder:"V d: 1, 5, 10",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[" u tin ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:u.priority,onChange:w=>g({...u,priority:w.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:[a.jsx("option",{value:"low",children:"Thp"}),a.jsx("option",{value:"medium",children:"Trung bnh"}),a.jsx("option",{value:"high",children:"Cao"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Link (ty chn)"}),a.jsx("input",{type:"text",value:u.link,onChange:w=>g({...u,link:w.target.value}),placeholder:"/path/to/page",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition",children:"Hy"}),a.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"Gi thng bo"})]})]})]})})]})}function H5(){const[r,e]=M.useState("posts"),[t,s]=M.useState([]),[i,o]=M.useState([]),[c,h]=M.useState(!1),[u,g]=M.useState({page:1,limit:10,total:0,totalPages:0}),[x,m]=M.useState("");M.useEffect(()=>{r==="posts"?p():b()},[r,u.page]);const p=async()=>{try{h(!0);const S={page:u.page,limit:u.limit,...x&&{search:x}},T=await Nt.getAllPosts(S);T.success&&(s(T.data.posts),g(T.data.pagination))}catch(S){console.error("Error loading posts:",S),$.error("Khng th ti danh sch bi ng")}finally{h(!1)}},b=async()=>{try{h(!0);const S={page:u.page,limit:u.limit,...x&&{search:x}},T=await Nt.getAllComments(S);T.success&&(o(T.data.comments),g(T.data.pagination))}catch(S){console.error("Error loading comments:",S),$.error("Khng th ti danh sch bnh lun")}finally{h(!1)}},w=S=>{S.preventDefault(),g({...u,page:1}),r==="posts"?p():b()},y=async S=>{const T=prompt("Nhp l do n bi ng:");if(T)try{(await Nt.hidePost(S.id,{reason:T})).success&&($.success(" n bi ng"),p())}catch(C){console.error("Error hiding post:",C),$.error(C.body?.message||"Khng th n bi ng")}},k=async S=>{if(window.confirm(`Bn c chc chn mun xa bi ng "${S.title}"?`))try{(await Nt.deletePost(S.id)).success&&($.success(" xa bi ng"),p())}catch(T){console.error("Error deleting post:",T),$.error(T.body?.message||"Khng th xa bi ng")}},A=async S=>{if(window.confirm("Bn c chc chn mun xa bnh lun ny?"))try{(await Nt.deleteComment(S.id)).success&&($.success(" xa bnh lun"),b())}catch(T){console.error("Error deleting comment:",T),$.error(T.body?.message||"Khng th xa bnh lun")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Kim duyt ni dung"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Qun l v kim duyt bi ng, bnh lun"})]}),a.jsx("div",{className:"border-b border-slate-200",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{e("posts"),g({...u,page:1})},className:`px-4 py-3 border-b-2 transition ${r==="posts"?"border-red-600 text-red-600":"border-transparent text-slate-600 hover:text-slate-800"}`,children:a.jsx("span",{className:"font-medium",children:"Bi ng"})}),a.jsx("button",{onClick:()=>{e("comments"),g({...u,page:1})},className:`px-4 py-3 border-b-2 transition ${r==="comments"?"border-red-600 text-red-600":"border-transparent text-slate-600 hover:text-slate-800"}`,children:a.jsx("span",{className:"font-medium",children:"Bnh lun"})})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4",children:a.jsxs("form",{onSubmit:w,className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:x,onChange:S=>m(S.target.value),placeholder:r==="posts"?"Tm kim bi ng...":"Tm kim bnh lun...",className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),a.jsx("button",{type:"submit",className:"bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition",children:"Tm kim"})]})}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:c?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"})}):r==="posts"?t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-slate-500",children:"Khng c bi ng no"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tiu "}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tc gi"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Lp hc"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Bnh lun"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),a.jsx("tbody",{children:t.map(S=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",S.id]}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-slate-800 line-clamp-1",children:S.title}),a.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mt-1",children:S.content})]}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:S.author?.fullName}),a.jsx("p",{className:"text-xs text-slate-500",children:S.author?.email})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"text-sm text-slate-600",children:S.Classes?.className||""})}),a.jsx("td",{className:"py-3 px-4 text-center",children:a.jsxs("span",{className:"inline-flex items-center gap-1 text-sm font-semibold text-slate-800",children:[a.jsx(tr,{className:"h-4 w-4"}),S.commentCount||0]})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:jt(S.created_at)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>y(S),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded-lg transition",title:"n bi ng",children:a.jsx(Oa,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>k(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:a.jsx(bs,{className:"h-4 w-4"})})]})})]},S.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(u.page-1)*u.limit+1," -"," ",Math.min(u.page*u.limit,u.total)," ","trong tng s ",u.total," bi ng"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>g({...u,page:u.page-1}),disabled:u.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),a.jsx("button",{onClick:()=>g({...u,page:u.page+1}),disabled:u.page>=u.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]}):i.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-slate-500",children:"Khng c bnh lun no"})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"ID"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ni dung"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Tc gi"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Bi ng"}),a.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-600",children:"Ngy to"}),a.jsx("th",{className:"text-center py-3 px-4 text-sm font-semibold text-slate-600",children:"Thao tc"})]})}),a.jsx("tbody",{children:i.map(S=>a.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-3 px-4 text-sm text-slate-600",children:["#",S.id]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"text-sm text-slate-800 line-clamp-3",children:S.content})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:S.author?.fullName}),a.jsx("p",{className:"text-xs text-slate-500",children:S.author?.email})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("p",{className:"text-sm text-slate-600 line-clamp-1",children:S.PostClasses?.title||""})}),a.jsx("td",{className:"py-3 px-4 text-sm text-slate-600",children:jt(S.created_at)}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("div",{className:"flex items-center justify-center gap-2",children:a.jsx("button",{onClick:()=>A(S),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition",title:"Xa",children:a.jsx(bs,{className:"h-4 w-4"})})})})]},S.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200",children:[a.jsxs("p",{className:"text-sm text-slate-600",children:["Hin th ",(u.page-1)*u.limit+1," -"," ",Math.min(u.page*u.limit,u.total)," ","trong tng s ",u.total," bnh lun"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>g({...u,page:u.page-1}),disabled:u.page===1,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),a.jsx("button",{onClick:()=>g({...u,page:u.page+1}),disabled:u.page>=u.totalPages,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]})]})]})})]})}function P5(){const r=localStorage.getItem("currentUser"),e=r?JSON.parse(r):null;return e?.role==="teacher"?a.jsx(gi,{to:"/dashboard/teacher/payment",replace:!0}):e?.role==="student"?a.jsx(gi,{to:"/dashboard/student/payment",replace:!0}):a.jsx(gi,{to:"/auth/login",replace:!0})}function B5(){return a.jsx(oj,{children:a.jsxs(_2,{children:[a.jsx(De,{path:"/auth/login",element:a.jsx(Pj,{})}),a.jsx(De,{path:"/auth/register",element:a.jsx(Xj,{})}),a.jsx(De,{path:"/auth/forgot-password",element:a.jsx(Fj,{})}),a.jsx(De,{path:"/dashboard/teacher",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(TS,{})})}),a.jsx(De,{path:"/dashboard/teacher/classes",element:a.jsx(gi,{to:"/teacher/classes",replace:!0})}),a.jsx(De,{path:"/teacher/classes",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(BS,{})})}),a.jsx(De,{path:"/dashboard/teacher/classes/create",element:a.jsx(gi,{to:"/teacher/classes/create",replace:!0})}),a.jsx(De,{path:"/teacher/classes/create",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(XS,{})})}),a.jsx(De,{path:"/dashboard/teacher/classes/:classId",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(S0,{})})}),a.jsx(De,{path:"/teacher/classes/:classId",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(S0,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(tk,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams/create",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(rk,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams/:examId/questions",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(uk,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams/:examId/questions/text",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(jk,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams/:examId/questions/editor",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(Ck,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams/:examId/edit",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(_k,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams/:examId/results",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(Dk,{})})}),a.jsx(De,{path:"/dashboard/teacher/exams/:examId/monitoring",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(Pk,{})})}),a.jsx(De,{path:"/dashboard/teacher/notifications",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(Xk,{})})}),a.jsx(De,{path:"/dashboard/teacher/exam-purchases",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(Yk,{})})}),a.jsx(De,{path:"/dashboard/teacher/transactions",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(B0,{role:"teacher"})})}),a.jsx(De,{path:"/dashboard/teacher/payment",element:a.jsx(tt,{allowedRoles:["teacher"],children:a.jsx(vC,{})})}),a.jsx(De,{path:"/dashboard/student",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(zS,{})})}),a.jsx(De,{path:"/dashboard/profile",element:a.jsx(tt,{allowedRoles:["teacher","student"],children:a.jsx(DS,{})})}),a.jsx(De,{path:"/dashboard/wallet",element:a.jsx(tt,{allowedRoles:["teacher","student"],children:a.jsx(P5,{})})}),a.jsx(De,{path:"/dashboard/student/classes",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(Uk,{})})}),a.jsx(De,{path:"/dashboard/student/classes/:classId",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(Wk,{})})}),a.jsx(De,{path:"/dashboard/student/payment",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(xC,{})})}),a.jsx(De,{path:"/dashboard/student/transactions",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(B0,{role:"student"})})}),a.jsx(De,{path:"/dashboard/student/exams",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(Vk,{})})}),a.jsx(De,{path:"/dashboard/student/exams/:examId",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(Qk,{})})}),a.jsx(De,{path:"/student/exams/:examId/take",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(lC,{})})}),a.jsx(De,{path:"/student/exams/:examId/result/:sessionId",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(oC,{})})}),a.jsx(De,{path:"/dashboard/student/recent",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(cC,{})})}),a.jsx(De,{path:"/dashboard/student/favorite",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(dC,{})})}),a.jsx(De,{path:"/dashboard/student/notifications",element:a.jsx(tt,{allowedRoles:["student"],children:a.jsx(mC,{})})}),a.jsxs(De,{path:"/dashboard/admin",element:a.jsx(tt,{allowedRoles:["admin","superadmin"],children:a.jsx(yC,{})}),children:[a.jsx(De,{index:!0,element:a.jsx(C5,{})}),a.jsx(De,{path:"users",element:a.jsx(A5,{})}),a.jsx(De,{path:"classes",element:a.jsx(T5,{})}),a.jsx(De,{path:"withdrawals",element:a.jsx(_5,{})}),a.jsx(De,{path:"reports",element:a.jsx(R5,{})}),"// ...existing code...",a.jsx(De,{path:"notifications",element:a.jsx(O5,{})}),a.jsx(De,{path:"moderation",element:a.jsx(H5,{})})]}),a.jsx(De,{path:"/",element:a.jsx(Wj,{})}),a.jsx(De,{path:"*",element:a.jsx("h1",{className:"mt-10 text-center text-red-500",children:"404 - Not Found"})})]})})}O1.createRoot(document.getElementById("root")).render(a.jsx(Ue.StrictMode,{children:a.jsxs(Q2,{children:[a.jsx(B5,{}),a.jsx(AS,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}));
